function _mergeNamespaces(u,a){for(var d=0;d<a.length;d++){const m=a[d];if(typeof m!="string"&&!Array.isArray(m)){for(const $ in m)if($!=="default"&&!($ in u)){const ee=Object.getOwnPropertyDescriptor(m,$);ee&&Object.defineProperty(u,$,ee.get?ee:{enumerable:!0,get:()=>m[$]})}}}return Object.freeze(Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}))}const p$2=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))m($);new MutationObserver($=>{for(const ee of $)if(ee.type==="childList")for(const te of ee.addedNodes)te.tagName==="LINK"&&te.rel==="modulepreload"&&m(te)}).observe(document,{childList:!0,subtree:!0});function d($){const ee={};return $.integrity&&(ee.integrity=$.integrity),$.referrerpolicy&&(ee.referrerPolicy=$.referrerpolicy),$.crossorigin==="use-credentials"?ee.credentials="include":$.crossorigin==="anonymous"?ee.credentials="omit":ee.credentials="same-origin",ee}function m($){if($.ep)return;$.ep=!0;const ee=d($);fetch($.href,ee)}};p$2();function makeMap(u,a){const d=Object.create(null),m=u.split(",");for(let $=0;$<m.length;$++)d[m[$]]=!0;return a?$=>!!d[$.toLowerCase()]:$=>!!d[$]}const GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED),specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(u){return!!u||u===""}function normalizeStyle(u){if(isArray$4(u)){const a={};for(let d=0;d<u.length;d++){const m=u[d],$=isString$2(m)?parseStringStyle(m):normalizeStyle(m);if($)for(const ee in $)a[ee]=$[ee]}return a}else{if(isString$2(u))return u;if(isObject$5(u))return u}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(u){const a={};return u.split(listDelimiterRE).forEach(d=>{if(d){const m=d.split(propertyDelimiterRE);m.length>1&&(a[m[0].trim()]=m[1].trim())}}),a}function normalizeClass(u){let a="";if(isString$2(u))a=u;else if(isArray$4(u))for(let d=0;d<u.length;d++){const m=normalizeClass(u[d]);m&&(a+=m+" ")}else if(isObject$5(u))for(const d in u)u[d]&&(a+=d+" ");return a.trim()}function normalizeProps(u){if(!u)return null;let{class:a,style:d}=u;return a&&!isString$2(a)&&(u.class=normalizeClass(a)),d&&(u.style=normalizeStyle(d)),u}function looseCompareArrays(u,a){if(u.length!==a.length)return!1;let d=!0;for(let m=0;d&&m<u.length;m++)d=looseEqual(u[m],a[m]);return d}function looseEqual(u,a){if(u===a)return!0;let d=isDate$1(u),m=isDate$1(a);if(d||m)return d&&m?u.getTime()===a.getTime():!1;if(d=isSymbol$2(u),m=isSymbol$2(a),d||m)return u===a;if(d=isArray$4(u),m=isArray$4(a),d||m)return d&&m?looseCompareArrays(u,a):!1;if(d=isObject$5(u),m=isObject$5(a),d||m){if(!d||!m)return!1;const $=Object.keys(u).length,ee=Object.keys(a).length;if($!==ee)return!1;for(const te in u){const b=u.hasOwnProperty(te),re=a.hasOwnProperty(te);if(b&&!re||!b&&re||!looseEqual(u[te],a[te]))return!1}}return String(u)===String(a)}function looseIndexOf(u,a){return u.findIndex(d=>looseEqual(d,a))}const toDisplayString=u=>isString$2(u)?u:u==null?"":isArray$4(u)||isObject$5(u)&&(u.toString===objectToString$1||!isFunction$4(u.toString))?JSON.stringify(u,replacer,2):String(u),replacer=(u,a)=>a&&a.__v_isRef?replacer(u,a.value):isMap$1(a)?{[`Map(${a.size})`]:[...a.entries()].reduce((d,[m,$])=>(d[`${m} =>`]=$,d),{})}:isSet$1(a)?{[`Set(${a.size})`]:[...a.values()]}:isObject$5(a)&&!isArray$4(a)&&!isPlainObject$2(a)?String(a):a,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=u=>onRE.test(u),isModelListener=u=>u.startsWith("onUpdate:"),extend$1=Object.assign,remove=(u,a)=>{const d=u.indexOf(a);d>-1&&u.splice(d,1)},hasOwnProperty$b=Object.prototype.hasOwnProperty,hasOwn=(u,a)=>hasOwnProperty$b.call(u,a),isArray$4=Array.isArray,isMap$1=u=>toTypeString$1(u)==="[object Map]",isSet$1=u=>toTypeString$1(u)==="[object Set]",isDate$1=u=>toTypeString$1(u)==="[object Date]",isFunction$4=u=>typeof u=="function",isString$2=u=>typeof u=="string",isSymbol$2=u=>typeof u=="symbol",isObject$5=u=>u!==null&&typeof u=="object",isPromise=u=>isObject$5(u)&&isFunction$4(u.then)&&isFunction$4(u.catch),objectToString$1=Object.prototype.toString,toTypeString$1=u=>objectToString$1.call(u),toRawType=u=>toTypeString$1(u).slice(8,-1),isPlainObject$2=u=>toTypeString$1(u)==="[object Object]",isIntegerKey=u=>isString$2(u)&&u!=="NaN"&&u[0]!=="-"&&""+parseInt(u,10)===u,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=u=>{const a=Object.create(null);return d=>a[d]||(a[d]=u(d))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(u=>u.replace(camelizeRE,(a,d)=>d?d.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(u=>u.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(u=>u.charAt(0).toUpperCase()+u.slice(1)),toHandlerKey=cacheStringFunction(u=>u?`on${capitalize$1(u)}`:""),hasChanged=(u,a)=>!Object.is(u,a),invokeArrayFns=(u,a)=>{for(let d=0;d<u.length;d++)u[d](a)},def=(u,a,d)=>{Object.defineProperty(u,a,{configurable:!0,enumerable:!1,value:d})},toNumber$1=u=>{const a=parseFloat(u);return isNaN(a)?u:a};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(a=!1){this.active=!0,this.effects=[],this.cleanups=[],!a&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(a){if(this.active){const d=activeEffectScope;try{return activeEffectScope=this,a()}finally{activeEffectScope=d}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(a){if(this.active){let d,m;for(d=0,m=this.effects.length;d<m;d++)this.effects[d].stop();for(d=0,m=this.cleanups.length;d<m;d++)this.cleanups[d]();if(this.scopes)for(d=0,m=this.scopes.length;d<m;d++)this.scopes[d].stop(!0);if(this.parent&&!a){const $=this.parent.scopes.pop();$&&$!==this&&(this.parent.scopes[this.index]=$,$.index=this.index)}this.active=!1}}}function effectScope(u){return new EffectScope(u)}function recordEffectScope(u,a=activeEffectScope){a&&a.active&&a.effects.push(u)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(u){activeEffectScope&&activeEffectScope.cleanups.push(u)}const createDep=u=>{const a=new Set(u);return a.w=0,a.n=0,a},wasTracked=u=>(u.w&trackOpBit)>0,newTracked=u=>(u.n&trackOpBit)>0,initDepMarkers=({deps:u})=>{if(u.length)for(let a=0;a<u.length;a++)u[a].w|=trackOpBit},finalizeDepMarkers=u=>{const{deps:a}=u;if(a.length){let d=0;for(let m=0;m<a.length;m++){const $=a[m];wasTracked($)&&!newTracked($)?$.delete(u):a[d++]=$,$.w&=~trackOpBit,$.n&=~trackOpBit}a.length=d}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(a,d=null,m){this.fn=a,this.scheduler=d,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,m)}run(){if(!this.active)return this.fn();let a=activeEffect,d=shouldTrack;for(;a;){if(a===this)return;a=a.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=d,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(u){const{deps:a}=u;if(a.length){for(let d=0;d<a.length;d++)a[d].delete(u);a.length=0}}function effect$3(u,a){u.effect&&(u=u.effect.fn);const d=new ReactiveEffect(u);a&&(extend$1(d,a),a.scope&&recordEffectScope(d,a.scope)),(!a||!a.lazy)&&d.run();const m=d.run.bind(d);return m.effect=d,m}function stop$1(u){u.effect.stop()}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const u=trackStack.pop();shouldTrack=u===void 0?!0:u}function track(u,a,d){if(shouldTrack&&activeEffect){let m=targetMap.get(u);m||targetMap.set(u,m=new Map);let $=m.get(d);$||m.set(d,$=createDep()),trackEffects($)}}function trackEffects(u,a){let d=!1;effectTrackDepth<=maxMarkerBits?newTracked(u)||(u.n|=trackOpBit,d=!wasTracked(u)):d=!u.has(activeEffect),d&&(u.add(activeEffect),activeEffect.deps.push(u))}function trigger$1(u,a,d,m,$,ee){const te=targetMap.get(u);if(!te)return;let b=[];if(a==="clear")b=[...te.values()];else if(d==="length"&&isArray$4(u))te.forEach((re,ne)=>{(ne==="length"||ne>=m)&&b.push(re)});else switch(d!==void 0&&b.push(te.get(d)),a){case"add":isArray$4(u)?isIntegerKey(d)&&b.push(te.get("length")):(b.push(te.get(ITERATE_KEY)),isMap$1(u)&&b.push(te.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$4(u)||(b.push(te.get(ITERATE_KEY)),isMap$1(u)&&b.push(te.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(u)&&b.push(te.get(ITERATE_KEY));break}if(b.length===1)b[0]&&triggerEffects(b[0]);else{const re=[];for(const ne of b)ne&&re.push(...ne);triggerEffects(createDep(re))}}function triggerEffects(u,a){const d=isArray$4(u)?u:[...u];for(const m of d)m.computed&&triggerEffect(m);for(const m of d)m.computed||triggerEffect(m)}function triggerEffect(u,a){(u!==activeEffect||u.allowRecurse)&&(u.scheduler?u.scheduler():u.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(u=>u!=="arguments"&&u!=="caller").map(u=>Symbol[u]).filter(isSymbol$2)),get$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const u={};return["includes","indexOf","lastIndexOf"].forEach(a=>{u[a]=function(...d){const m=toRaw(this);for(let ee=0,te=this.length;ee<te;ee++)track(m,"get",ee+"");const $=m[a](...d);return $===-1||$===!1?m[a](...d.map(toRaw)):$}}),["push","pop","shift","unshift","splice"].forEach(a=>{u[a]=function(...d){pauseTracking();const m=toRaw(this)[a].apply(this,d);return resetTracking(),m}}),u}function createGetter(u=!1,a=!1){return function(m,$,ee){if($==="__v_isReactive")return!u;if($==="__v_isReadonly")return u;if($==="__v_isShallow")return a;if($==="__v_raw"&&ee===(u?a?shallowReadonlyMap:readonlyMap:a?shallowReactiveMap:reactiveMap).get(m))return m;const te=isArray$4(m);if(!u&&te&&hasOwn(arrayInstrumentations,$))return Reflect.get(arrayInstrumentations,$,ee);const b=Reflect.get(m,$,ee);return(isSymbol$2($)?builtInSymbols.has($):isNonTrackableKeys($))||(u||track(m,"get",$),a)?b:isRef(b)?te&&isIntegerKey($)?b:b.value:isObject$5(b)?u?readonly(b):reactive(b):b}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(u=!1){return function(d,m,$,ee){let te=d[m];if(isReadonly(te)&&isRef(te)&&!isRef($))return!1;if(!u&&!isReadonly($)&&(isShallow($)||($=toRaw($),te=toRaw(te)),!isArray$4(d)&&isRef(te)&&!isRef($)))return te.value=$,!0;const b=isArray$4(d)&&isIntegerKey(m)?Number(m)<d.length:hasOwn(d,m),re=Reflect.set(d,m,$,ee);return d===toRaw(ee)&&(b?hasChanged($,te)&&trigger$1(d,"set",m,$):trigger$1(d,"add",m,$)),re}}function deleteProperty(u,a){const d=hasOwn(u,a);u[a];const m=Reflect.deleteProperty(u,a);return m&&d&&trigger$1(u,"delete",a,void 0),m}function has$2(u,a){const d=Reflect.has(u,a);return(!isSymbol$2(a)||!builtInSymbols.has(a))&&track(u,"has",a),d}function ownKeys(u){return track(u,"iterate",isArray$4(u)?"length":ITERATE_KEY),Reflect.ownKeys(u)}const mutableHandlers={get:get$1,set,deleteProperty,has:has$2,ownKeys},readonlyHandlers={get:readonlyGet,set(u,a){return!0},deleteProperty(u,a){return!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),shallowReadonlyHandlers=extend$1({},readonlyHandlers,{get:shallowReadonlyGet}),toShallow=u=>u,getProto$1=u=>Reflect.getPrototypeOf(u);function get$1$1(u,a,d=!1,m=!1){u=u.__v_raw;const $=toRaw(u),ee=toRaw(a);d||(a!==ee&&track($,"get",a),track($,"get",ee));const{has:te}=getProto$1($),b=m?toShallow:d?toReadonly:toReactive;if(te.call($,a))return b(u.get(a));if(te.call($,ee))return b(u.get(ee));u!==$&&u.get(a)}function has$1$1(u,a=!1){const d=this.__v_raw,m=toRaw(d),$=toRaw(u);return a||(u!==$&&track(m,"has",u),track(m,"has",$)),u===$?d.has(u):d.has(u)||d.has($)}function size$2(u,a=!1){return u=u.__v_raw,!a&&track(toRaw(u),"iterate",ITERATE_KEY),Reflect.get(u,"size",u)}function add(u){u=toRaw(u);const a=toRaw(this);return getProto$1(a).has.call(a,u)||(a.add(u),trigger$1(a,"add",u,u)),this}function set$1(u,a){a=toRaw(a);const d=toRaw(this),{has:m,get:$}=getProto$1(d);let ee=m.call(d,u);ee||(u=toRaw(u),ee=m.call(d,u));const te=$.call(d,u);return d.set(u,a),ee?hasChanged(a,te)&&trigger$1(d,"set",u,a):trigger$1(d,"add",u,a),this}function deleteEntry(u){const a=toRaw(this),{has:d,get:m}=getProto$1(a);let $=d.call(a,u);$||(u=toRaw(u),$=d.call(a,u)),m&&m.call(a,u);const ee=a.delete(u);return $&&trigger$1(a,"delete",u,void 0),ee}function clear(){const u=toRaw(this),a=u.size!==0,d=u.clear();return a&&trigger$1(u,"clear",void 0,void 0),d}function createForEach(u,a){return function(m,$){const ee=this,te=ee.__v_raw,b=toRaw(te),re=a?toShallow:u?toReadonly:toReactive;return!u&&track(b,"iterate",ITERATE_KEY),te.forEach((ne,ie)=>m.call($,re(ne),re(ie),ee))}}function createIterableMethod(u,a,d){return function(...m){const $=this.__v_raw,ee=toRaw($),te=isMap$1(ee),b=u==="entries"||u===Symbol.iterator&&te,re=u==="keys"&&te,ne=$[u](...m),ie=d?toShallow:a?toReadonly:toReactive;return!a&&track(ee,"iterate",re?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:se,done:fe}=ne.next();return fe?{value:se,done:fe}:{value:b?[ie(se[0]),ie(se[1])]:ie(se),done:fe}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(u){return function(...a){return u==="delete"?!1:this}}function createInstrumentations(){const u={get(ee){return get$1$1(this,ee)},get size(){return size$2(this)},has:has$1$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},a={get(ee){return get$1$1(this,ee,!1,!0)},get size(){return size$2(this)},has:has$1$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},d={get(ee){return get$1$1(this,ee,!0)},get size(){return size$2(this,!0)},has(ee){return has$1$1.call(this,ee,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},m={get(ee){return get$1$1(this,ee,!0,!0)},get size(){return size$2(this,!0)},has(ee){return has$1$1.call(this,ee,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(ee=>{u[ee]=createIterableMethod(ee,!1,!1),d[ee]=createIterableMethod(ee,!0,!1),a[ee]=createIterableMethod(ee,!1,!0),m[ee]=createIterableMethod(ee,!0,!0)}),[u,d,a,m]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(u,a){const d=a?u?shallowReadonlyInstrumentations:shallowInstrumentations:u?readonlyInstrumentations:mutableInstrumentations;return(m,$,ee)=>$==="__v_isReactive"?!u:$==="__v_isReadonly"?u:$==="__v_raw"?m:Reflect.get(hasOwn(d,$)&&$ in m?d:m,$,ee)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(u){switch(u){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(u){return u.__v_skip||!Object.isExtensible(u)?0:targetTypeMap(toRawType(u))}function reactive(u){return isReadonly(u)?u:createReactiveObject(u,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(u){return createReactiveObject(u,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(u){return createReactiveObject(u,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(u){return createReactiveObject(u,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(u,a,d,m,$){if(!isObject$5(u)||u.__v_raw&&!(a&&u.__v_isReactive))return u;const ee=$.get(u);if(ee)return ee;const te=getTargetType(u);if(te===0)return u;const b=new Proxy(u,te===2?m:d);return $.set(u,b),b}function isReactive(u){return isReadonly(u)?isReactive(u.__v_raw):!!(u&&u.__v_isReactive)}function isReadonly(u){return!!(u&&u.__v_isReadonly)}function isShallow(u){return!!(u&&u.__v_isShallow)}function isProxy(u){return isReactive(u)||isReadonly(u)}function toRaw(u){const a=u&&u.__v_raw;return a?toRaw(a):u}function markRaw(u){return def(u,"__v_skip",!0),u}const toReactive=u=>isObject$5(u)?reactive(u):u,toReadonly=u=>isObject$5(u)?readonly(u):u;function trackRefValue(u){shouldTrack&&activeEffect&&(u=toRaw(u),trackEffects(u.dep||(u.dep=createDep())))}function triggerRefValue(u,a){u=toRaw(u),u.dep&&triggerEffects(u.dep)}function isRef(u){return!!(u&&u.__v_isRef===!0)}function ref(u){return createRef(u,!1)}function shallowRef(u){return createRef(u,!0)}function createRef(u,a){return isRef(u)?u:new RefImpl(u,a)}class RefImpl{constructor(a,d){this.__v_isShallow=d,this.dep=void 0,this.__v_isRef=!0,this._rawValue=d?a:toRaw(a),this._value=d?a:toReactive(a)}get value(){return trackRefValue(this),this._value}set value(a){a=this.__v_isShallow?a:toRaw(a),hasChanged(a,this._rawValue)&&(this._rawValue=a,this._value=this.__v_isShallow?a:toReactive(a),triggerRefValue(this))}}function triggerRef(u){triggerRefValue(u)}function unref(u){return isRef(u)?u.value:u}const shallowUnwrapHandlers={get:(u,a,d)=>unref(Reflect.get(u,a,d)),set:(u,a,d,m)=>{const $=u[a];return isRef($)&&!isRef(d)?($.value=d,!0):Reflect.set(u,a,d,m)}};function proxyRefs(u){return isReactive(u)?u:new Proxy(u,shallowUnwrapHandlers)}class CustomRefImpl{constructor(a){this.dep=void 0,this.__v_isRef=!0;const{get:d,set:m}=a(()=>trackRefValue(this),()=>triggerRefValue(this));this._get=d,this._set=m}get value(){return this._get()}set value(a){this._set(a)}}function customRef(u){return new CustomRefImpl(u)}function toRefs(u){const a=isArray$4(u)?new Array(u.length):{};for(const d in u)a[d]=toRef(u,d);return a}class ObjectRefImpl{constructor(a,d,m){this._object=a,this._key=d,this._defaultValue=m,this.__v_isRef=!0}get value(){const a=this._object[this._key];return a===void 0?this._defaultValue:a}set value(a){this._object[this._key]=a}}function toRef(u,a,d){const m=u[a];return isRef(m)?m:new ObjectRefImpl(u,a,d)}class ComputedRefImpl{constructor(a,d,m,$){this._setter=d,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(a,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!$,this.__v_isReadonly=m}get value(){const a=toRaw(this);return trackRefValue(a),(a._dirty||!a._cacheable)&&(a._dirty=!1,a._value=a.effect.run()),a._value}set value(a){this._setter(a)}}function computed$1(u,a,d=!1){let m,$;const ee=isFunction$4(u);return ee?(m=u,$=NOOP):(m=u.get,$=u.set),new ComputedRefImpl(m,$,ee||!$,d)}const stack$1=[];function warn$4(u,...a){pauseTracking();const d=stack$1.length?stack$1[stack$1.length-1].component:null,m=d&&d.appContext.config.warnHandler,$=getComponentTrace();if(m)callWithErrorHandling(m,d,11,[u+a.join(""),d&&d.proxy,$.map(({vnode:ee})=>`at <${formatComponentName(d,ee.type)}>`).join(`
`),$]);else{const ee=[`[Vue warn]: ${u}`,...a];$.length&&ee.push(`
`,...formatTrace($)),console.warn(...ee)}resetTracking()}function getComponentTrace(){let u=stack$1[stack$1.length-1];if(!u)return[];const a=[];for(;u;){const d=a[0];d&&d.vnode===u?d.recurseCount++:a.push({vnode:u,recurseCount:0});const m=u.component&&u.component.parent;u=m&&m.vnode}return a}function formatTrace(u){const a=[];return u.forEach((d,m)=>{a.push(...m===0?[]:[`
`],...formatTraceEntry(d))}),a}function formatTraceEntry({vnode:u,recurseCount:a}){const d=a>0?`... (${a} recursive calls)`:"",m=u.component?u.component.parent==null:!1,$=` at <${formatComponentName(u.component,u.type,m)}`,ee=">"+d;return u.props?[$,...formatProps(u.props),ee]:[$+ee]}function formatProps(u){const a=[],d=Object.keys(u);return d.slice(0,3).forEach(m=>{a.push(...formatProp(m,u[m]))}),d.length>3&&a.push(" ..."),a}function formatProp(u,a,d){return isString$2(a)?(a=JSON.stringify(a),d?a:[`${u}=${a}`]):typeof a=="number"||typeof a=="boolean"||a==null?d?a:[`${u}=${a}`]:isRef(a)?(a=formatProp(u,toRaw(a.value),!0),d?a:[`${u}=Ref<`,a,">"]):isFunction$4(a)?[`${u}=fn${a.name?`<${a.name}>`:""}`]:(a=toRaw(a),d?a:[`${u}=`,a])}function callWithErrorHandling(u,a,d,m){let $;try{$=m?u(...m):u()}catch(ee){handleError(ee,a,d)}return $}function callWithAsyncErrorHandling(u,a,d,m){if(isFunction$4(u)){const ee=callWithErrorHandling(u,a,d,m);return ee&&isPromise(ee)&&ee.catch(te=>{handleError(te,a,d)}),ee}const $=[];for(let ee=0;ee<u.length;ee++)$.push(callWithAsyncErrorHandling(u[ee],a,d,m));return $}function handleError(u,a,d,m=!0){const $=a?a.vnode:null;if(a){let ee=a.parent;const te=a.proxy,b=d;for(;ee;){const ne=ee.ec;if(ne){for(let ie=0;ie<ne.length;ie++)if(ne[ie](u,te,b)===!1)return}ee=ee.parent}const re=a.appContext.config.errorHandler;if(re){callWithErrorHandling(re,null,10,[u,te,b]);return}}logError(u,d,$,m)}function logError(u,a,d,m=!0){console.error(u)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(u){const a=currentFlushPromise||resolvedPromise;return u?a.then(this?u.bind(this):u):a}function findInsertionIndex(u){let a=flushIndex+1,d=queue.length;for(;a<d;){const m=a+d>>>1;getId(queue[m])<u?a=m+1:d=m}return a}function queueJob(u){(!queue.length||!queue.includes(u,isFlushing&&u.allowRecurse?flushIndex+1:flushIndex))&&u!==currentPreFlushParentJob&&(u.id==null?queue.push(u):queue.splice(findInsertionIndex(u.id),0,u),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(u){const a=queue.indexOf(u);a>flushIndex&&queue.splice(a,1)}function queueCb(u,a,d,m){isArray$4(u)?d.push(...u):(!a||!a.includes(u,u.allowRecurse?m+1:m))&&d.push(u),queueFlush()}function queuePreFlushCb(u){queueCb(u,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(u){queueCb(u,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(u,a=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=a,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(u,a)}}function flushPostFlushCbs(u){if(flushPreFlushCbs(),pendingPostFlushCbs.length){const a=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...a);return}for(activePostFlushCbs=a,activePostFlushCbs.sort((d,m)=>getId(d)-getId(m)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=u=>u.id==null?1/0:u.id;function flushJobs(u){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(u),queue.sort((d,m)=>getId(d)-getId(m));const a=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const d=queue[flushIndex];d&&d.active!==!1&&callWithErrorHandling(d,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(u)}}let devtools,buffer$2=[];function setDevtoolsHook(u,a){var d,m;devtools=u,devtools?(devtools.enabled=!0,buffer$2.forEach(({event:$,args:ee})=>devtools.emit($,...ee)),buffer$2=[]):typeof window<"u"&&window.HTMLElement&&!(!((m=(d=window.navigator)===null||d===void 0?void 0:d.userAgent)===null||m===void 0)&&m.includes("jsdom"))?((a.__VUE_DEVTOOLS_HOOK_REPLAY__=a.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(ee=>{setDevtoolsHook(ee,a)}),setTimeout(()=>{devtools||(a.__VUE_DEVTOOLS_HOOK_REPLAY__=null,buffer$2=[])},3e3)):buffer$2=[]}function emit$1(u,a,...d){if(u.isUnmounted)return;const m=u.vnode.props||EMPTY_OBJ;let $=d;const ee=a.startsWith("update:"),te=ee&&a.slice(7);if(te&&te in m){const ie=`${te==="modelValue"?"model":te}Modifiers`,{number:se,trim:fe}=m[ie]||EMPTY_OBJ;fe&&($=d.map(ce=>ce.trim())),se&&($=d.map(toNumber$1))}let b,re=m[b=toHandlerKey(a)]||m[b=toHandlerKey(camelize(a))];!re&&ee&&(re=m[b=toHandlerKey(hyphenate(a))]),re&&callWithAsyncErrorHandling(re,u,6,$);const ne=m[b+"Once"];if(ne){if(!u.emitted)u.emitted={};else if(u.emitted[b])return;u.emitted[b]=!0,callWithAsyncErrorHandling(ne,u,6,$)}}function normalizeEmitsOptions(u,a,d=!1){const m=a.emitsCache,$=m.get(u);if($!==void 0)return $;const ee=u.emits;let te={},b=!1;if(!isFunction$4(u)){const re=ne=>{const ie=normalizeEmitsOptions(ne,a,!0);ie&&(b=!0,extend$1(te,ie))};!d&&a.mixins.length&&a.mixins.forEach(re),u.extends&&re(u.extends),u.mixins&&u.mixins.forEach(re)}return!ee&&!b?(m.set(u,null),null):(isArray$4(ee)?ee.forEach(re=>te[re]=null):extend$1(te,ee),m.set(u,te),te)}function isEmitListener(u,a){return!u||!isOn(a)?!1:(a=a.slice(2).replace(/Once$/,""),hasOwn(u,a[0].toLowerCase()+a.slice(1))||hasOwn(u,hyphenate(a))||hasOwn(u,a))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(u){const a=currentRenderingInstance;return currentRenderingInstance=u,currentScopeId=u&&u.type.__scopeId||null,a}function pushScopeId(u){currentScopeId=u}function popScopeId(){currentScopeId=null}const withScopeId=u=>withCtx;function withCtx(u,a=currentRenderingInstance,d){if(!a||u._n)return u;const m=(...$)=>{m._d&&setBlockTracking(-1);const ee=setCurrentRenderingInstance(a),te=u(...$);return setCurrentRenderingInstance(ee),m._d&&setBlockTracking(1),te};return m._n=!0,m._c=!0,m._d=!0,m}function markAttrsAccessed(){}function renderComponentRoot(u){const{type:a,vnode:d,proxy:m,withProxy:$,props:ee,propsOptions:[te],slots:b,attrs:re,emit:ne,render:ie,renderCache:se,data:fe,setupState:ce,ctx:de,inheritAttrs:ye}=u;let ge,_e;const Ee=setCurrentRenderingInstance(u);try{if(d.shapeFlag&4){const we=$||m;ge=normalizeVNode(ie.call(we,we,se,ee,ce,fe,de)),_e=re}else{const we=a;ge=normalizeVNode(we.length>1?we(ee,{attrs:re,slots:b,emit:ne}):we(ee,null)),_e=a.props?re:getFunctionalFallthrough(re)}}catch(we){blockStack.length=0,handleError(we,u,1),ge=createVNode(Comment)}let Ae=ge;if(_e&&ye!==!1){const we=Object.keys(_e),{shapeFlag:Me}=Ae;we.length&&Me&7&&(te&&we.some(isModelListener)&&(_e=filterModelListeners(_e,te)),Ae=cloneVNode(Ae,_e))}return d.dirs&&(Ae=cloneVNode(Ae),Ae.dirs=Ae.dirs?Ae.dirs.concat(d.dirs):d.dirs),d.transition&&(Ae.transition=d.transition),ge=Ae,setCurrentRenderingInstance(Ee),ge}function filterSingleRoot(u){let a;for(let d=0;d<u.length;d++){const m=u[d];if(isVNode(m)){if(m.type!==Comment||m.children==="v-if"){if(a)return;a=m}}else return}return a}const getFunctionalFallthrough=u=>{let a;for(const d in u)(d==="class"||d==="style"||isOn(d))&&((a||(a={}))[d]=u[d]);return a},filterModelListeners=(u,a)=>{const d={};for(const m in u)(!isModelListener(m)||!(m.slice(9)in a))&&(d[m]=u[m]);return d};function shouldUpdateComponent(u,a,d){const{props:m,children:$,component:ee}=u,{props:te,children:b,patchFlag:re}=a,ne=ee.emitsOptions;if(a.dirs||a.transition)return!0;if(d&&re>=0){if(re&1024)return!0;if(re&16)return m?hasPropsChanged(m,te,ne):!!te;if(re&8){const ie=a.dynamicProps;for(let se=0;se<ie.length;se++){const fe=ie[se];if(te[fe]!==m[fe]&&!isEmitListener(ne,fe))return!0}}}else return($||b)&&(!b||!b.$stable)?!0:m===te?!1:m?te?hasPropsChanged(m,te,ne):!0:!!te;return!1}function hasPropsChanged(u,a,d){const m=Object.keys(a);if(m.length!==Object.keys(u).length)return!0;for(let $=0;$<m.length;$++){const ee=m[$];if(a[ee]!==u[ee]&&!isEmitListener(d,ee))return!0}return!1}function updateHOCHostEl({vnode:u,parent:a},d){for(;a&&a.subTree===u;)(u=a.vnode).el=d,a=a.parent}const isSuspense=u=>u.__isSuspense,SuspenseImpl={name:"Suspense",__isSuspense:!0,process(u,a,d,m,$,ee,te,b,re,ne){u==null?mountSuspense(a,d,m,$,ee,te,b,re,ne):patchSuspense(u,a,d,m,$,te,b,re,ne)},hydrate:hydrateSuspense,create:createSuspenseBoundary,normalize:normalizeSuspenseChildren},Suspense=SuspenseImpl;function triggerEvent(u,a){const d=u.props&&u.props[a];isFunction$4(d)&&d()}function mountSuspense(u,a,d,m,$,ee,te,b,re){const{p:ne,o:{createElement:ie}}=re,se=ie("div"),fe=u.suspense=createSuspenseBoundary(u,$,m,a,se,d,ee,te,b,re);ne(null,fe.pendingBranch=u.ssContent,se,null,m,fe,ee,te),fe.deps>0?(triggerEvent(u,"onPending"),triggerEvent(u,"onFallback"),ne(null,u.ssFallback,a,d,m,null,ee,te),setActiveBranch(fe,u.ssFallback)):fe.resolve()}function patchSuspense(u,a,d,m,$,ee,te,b,{p:re,um:ne,o:{createElement:ie}}){const se=a.suspense=u.suspense;se.vnode=a,a.el=u.el;const fe=a.ssContent,ce=a.ssFallback,{activeBranch:de,pendingBranch:ye,isInFallback:ge,isHydrating:_e}=se;if(ye)se.pendingBranch=fe,isSameVNodeType(fe,ye)?(re(ye,fe,se.hiddenContainer,null,$,se,ee,te,b),se.deps<=0?se.resolve():ge&&(re(de,ce,d,m,$,null,ee,te,b),setActiveBranch(se,ce))):(se.pendingId++,_e?(se.isHydrating=!1,se.activeBranch=ye):ne(ye,$,se),se.deps=0,se.effects.length=0,se.hiddenContainer=ie("div"),ge?(re(null,fe,se.hiddenContainer,null,$,se,ee,te,b),se.deps<=0?se.resolve():(re(de,ce,d,m,$,null,ee,te,b),setActiveBranch(se,ce))):de&&isSameVNodeType(fe,de)?(re(de,fe,d,m,$,se,ee,te,b),se.resolve(!0)):(re(null,fe,se.hiddenContainer,null,$,se,ee,te,b),se.deps<=0&&se.resolve()));else if(de&&isSameVNodeType(fe,de))re(de,fe,d,m,$,se,ee,te,b),setActiveBranch(se,fe);else if(triggerEvent(a,"onPending"),se.pendingBranch=fe,se.pendingId++,re(null,fe,se.hiddenContainer,null,$,se,ee,te,b),se.deps<=0)se.resolve();else{const{timeout:Ee,pendingId:Ae}=se;Ee>0?setTimeout(()=>{se.pendingId===Ae&&se.fallback(ce)},Ee):Ee===0&&se.fallback(ce)}}function createSuspenseBoundary(u,a,d,m,$,ee,te,b,re,ne,ie=!1){const{p:se,m:fe,um:ce,n:de,o:{parentNode:ye,remove:ge}}=ne,_e=toNumber$1(u.props&&u.props.timeout),Ee={vnode:u,parent:a,parentComponent:d,isSVG:te,container:m,hiddenContainer:$,anchor:ee,deps:0,pendingId:0,timeout:typeof _e=="number"?_e:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:ie,isUnmounted:!1,effects:[],resolve(Ae=!1){const{vnode:we,activeBranch:Me,pendingBranch:ke,pendingId:Re,effects:ze,parentComponent:Je,container:et}=Ee;if(Ee.isHydrating)Ee.isHydrating=!1;else if(!Ae){const le=Me&&ke.transition&&ke.transition.mode==="out-in";le&&(Me.transition.afterLeave=()=>{Re===Ee.pendingId&&fe(ke,et,ae,0)});let{anchor:ae}=Ee;Me&&(ae=de(Me),ce(Me,Je,Ee,!0)),le||fe(ke,et,ae,0)}setActiveBranch(Ee,ke),Ee.pendingBranch=null,Ee.isInFallback=!1;let Pe=Ee.parent,ve=!1;for(;Pe;){if(Pe.pendingBranch){Pe.effects.push(...ze),ve=!0;break}Pe=Pe.parent}ve||queuePostFlushCb(ze),Ee.effects=[],triggerEvent(we,"onResolve")},fallback(Ae){if(!Ee.pendingBranch)return;const{vnode:we,activeBranch:Me,parentComponent:ke,container:Re,isSVG:ze}=Ee;triggerEvent(we,"onFallback");const Je=de(Me),et=()=>{!Ee.isInFallback||(se(null,Ae,Re,Je,ke,null,ze,b,re),setActiveBranch(Ee,Ae))},Pe=Ae.transition&&Ae.transition.mode==="out-in";Pe&&(Me.transition.afterLeave=et),Ee.isInFallback=!0,ce(Me,ke,null,!0),Pe||et()},move(Ae,we,Me){Ee.activeBranch&&fe(Ee.activeBranch,Ae,we,Me),Ee.container=Ae},next(){return Ee.activeBranch&&de(Ee.activeBranch)},registerDep(Ae,we){const Me=!!Ee.pendingBranch;Me&&Ee.deps++;const ke=Ae.vnode.el;Ae.asyncDep.catch(Re=>{handleError(Re,Ae,0)}).then(Re=>{if(Ae.isUnmounted||Ee.isUnmounted||Ee.pendingId!==Ae.suspenseId)return;Ae.asyncResolved=!0;const{vnode:ze}=Ae;handleSetupResult(Ae,Re,!1),ke&&(ze.el=ke);const Je=!ke&&Ae.subTree.el;we(Ae,ze,ye(ke||Ae.subTree.el),ke?null:de(Ae.subTree),Ee,te,re),Je&&ge(Je),updateHOCHostEl(Ae,ze.el),Me&&--Ee.deps===0&&Ee.resolve()})},unmount(Ae,we){Ee.isUnmounted=!0,Ee.activeBranch&&ce(Ee.activeBranch,d,Ae,we),Ee.pendingBranch&&ce(Ee.pendingBranch,d,Ae,we)}};return Ee}function hydrateSuspense(u,a,d,m,$,ee,te,b,re){const ne=a.suspense=createSuspenseBoundary(a,m,d,u.parentNode,document.createElement("div"),null,$,ee,te,b,!0),ie=re(u,ne.pendingBranch=a.ssContent,d,ne,ee,te);return ne.deps===0&&ne.resolve(),ie}function normalizeSuspenseChildren(u){const{shapeFlag:a,children:d}=u,m=a&32;u.ssContent=normalizeSuspenseSlot(m?d.default:d),u.ssFallback=m?normalizeSuspenseSlot(d.fallback):createVNode(Comment)}function normalizeSuspenseSlot(u){let a;if(isFunction$4(u)){const d=isBlockTreeEnabled&&u._c;d&&(u._d=!1,openBlock()),u=u(),d&&(u._d=!0,a=currentBlock,closeBlock())}return isArray$4(u)&&(u=filterSingleRoot(u)),u=normalizeVNode(u),a&&!u.dynamicChildren&&(u.dynamicChildren=a.filter(d=>d!==u)),u}function queueEffectWithSuspense(u,a){a&&a.pendingBranch?isArray$4(u)?a.effects.push(...u):a.effects.push(u):queuePostFlushCb(u)}function setActiveBranch(u,a){u.activeBranch=a;const{vnode:d,parentComponent:m}=u,$=d.el=a.el;m&&m.subTree===d&&(m.vnode.el=$,updateHOCHostEl(m,$))}function provide(u,a){if(currentInstance){let d=currentInstance.provides;const m=currentInstance.parent&&currentInstance.parent.provides;m===d&&(d=currentInstance.provides=Object.create(m)),d[u]=a}}function inject(u,a,d=!1){const m=currentInstance||currentRenderingInstance;if(m){const $=m.parent==null?m.vnode.appContext&&m.vnode.appContext.provides:m.parent.provides;if($&&u in $)return $[u];if(arguments.length>1)return d&&isFunction$4(a)?a.call(m.proxy):a}}function watchEffect(u,a){return doWatch(u,null,a)}function watchPostEffect(u,a){return doWatch(u,null,{flush:"post"})}function watchSyncEffect(u,a){return doWatch(u,null,{flush:"sync"})}const INITIAL_WATCHER_VALUE={};function watch(u,a,d){return doWatch(u,a,d)}function doWatch(u,a,{immediate:d,deep:m,flush:$,onTrack:ee,onTrigger:te}=EMPTY_OBJ){const b=currentInstance;let re,ne=!1,ie=!1;if(isRef(u)?(re=()=>u.value,ne=isShallow(u)):isReactive(u)?(re=()=>u,m=!0):isArray$4(u)?(ie=!0,ne=u.some(_e=>isReactive(_e)||isShallow(_e)),re=()=>u.map(_e=>{if(isRef(_e))return _e.value;if(isReactive(_e))return traverse(_e);if(isFunction$4(_e))return callWithErrorHandling(_e,b,2)})):isFunction$4(u)?a?re=()=>callWithErrorHandling(u,b,2):re=()=>{if(!(b&&b.isUnmounted))return se&&se(),callWithAsyncErrorHandling(u,b,3,[fe])}:re=NOOP,a&&m){const _e=re;re=()=>traverse(_e())}let se,fe=_e=>{se=ge.onStop=()=>{callWithErrorHandling(_e,b,4)}};if(isInSSRComponentSetup)return fe=NOOP,a?d&&callWithAsyncErrorHandling(a,b,3,[re(),ie?[]:void 0,fe]):re(),NOOP;let ce=ie?[]:INITIAL_WATCHER_VALUE;const de=()=>{if(!!ge.active)if(a){const _e=ge.run();(m||ne||(ie?_e.some((Ee,Ae)=>hasChanged(Ee,ce[Ae])):hasChanged(_e,ce)))&&(se&&se(),callWithAsyncErrorHandling(a,b,3,[_e,ce===INITIAL_WATCHER_VALUE?void 0:ce,fe]),ce=_e)}else ge.run()};de.allowRecurse=!!a;let ye;$==="sync"?ye=de:$==="post"?ye=()=>queuePostRenderEffect(de,b&&b.suspense):ye=()=>queuePreFlushCb(de);const ge=new ReactiveEffect(re,ye);return a?d?de():ce=ge.run():$==="post"?queuePostRenderEffect(ge.run.bind(ge),b&&b.suspense):ge.run(),()=>{ge.stop(),b&&b.scope&&remove(b.scope.effects,ge)}}function instanceWatch(u,a,d){const m=this.proxy,$=isString$2(u)?u.includes(".")?createPathGetter(m,u):()=>m[u]:u.bind(m,m);let ee;isFunction$4(a)?ee=a:(ee=a.handler,d=a);const te=currentInstance;setCurrentInstance(this);const b=doWatch($,ee.bind(m),d);return te?setCurrentInstance(te):unsetCurrentInstance(),b}function createPathGetter(u,a){const d=a.split(".");return()=>{let m=u;for(let $=0;$<d.length&&m;$++)m=m[d[$]];return m}}function traverse(u,a){if(!isObject$5(u)||u.__v_skip||(a=a||new Set,a.has(u)))return u;if(a.add(u),isRef(u))traverse(u.value,a);else if(isArray$4(u))for(let d=0;d<u.length;d++)traverse(u[d],a);else if(isSet$1(u)||isMap$1(u))u.forEach(d=>{traverse(d,a)});else if(isPlainObject$2(u))for(const d in u)traverse(u[d],a);return u}function useTransitionState(){const u={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{u.isMounted=!0}),onBeforeUnmount(()=>{u.isUnmounting=!0}),u}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(u,{slots:a}){const d=getCurrentInstance(),m=useTransitionState();let $;return()=>{const ee=a.default&&getTransitionRawChildren(a.default(),!0);if(!ee||!ee.length)return;let te=ee[0];if(ee.length>1){for(const ye of ee)if(ye.type!==Comment){te=ye;break}}const b=toRaw(u),{mode:re}=b;if(m.isLeaving)return emptyPlaceholder(te);const ne=getKeepAliveChild(te);if(!ne)return emptyPlaceholder(te);const ie=resolveTransitionHooks(ne,b,m,d);setTransitionHooks(ne,ie);const se=d.subTree,fe=se&&getKeepAliveChild(se);let ce=!1;const{getTransitionKey:de}=ne.type;if(de){const ye=de();$===void 0?$=ye:ye!==$&&($=ye,ce=!0)}if(fe&&fe.type!==Comment&&(!isSameVNodeType(ne,fe)||ce)){const ye=resolveTransitionHooks(fe,b,m,d);if(setTransitionHooks(fe,ye),re==="out-in")return m.isLeaving=!0,ye.afterLeave=()=>{m.isLeaving=!1,d.update()},emptyPlaceholder(te);re==="in-out"&&ne.type!==Comment&&(ye.delayLeave=(ge,_e,Ee)=>{const Ae=getLeavingNodesForType(m,fe);Ae[String(fe.key)]=fe,ge._leaveCb=()=>{_e(),ge._leaveCb=void 0,delete ie.delayedLeave},ie.delayedLeave=Ee})}return te}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(u,a){const{leavingVNodes:d}=u;let m=d.get(a.type);return m||(m=Object.create(null),d.set(a.type,m)),m}function resolveTransitionHooks(u,a,d,m){const{appear:$,mode:ee,persisted:te=!1,onBeforeEnter:b,onEnter:re,onAfterEnter:ne,onEnterCancelled:ie,onBeforeLeave:se,onLeave:fe,onAfterLeave:ce,onLeaveCancelled:de,onBeforeAppear:ye,onAppear:ge,onAfterAppear:_e,onAppearCancelled:Ee}=a,Ae=String(u.key),we=getLeavingNodesForType(d,u),Me=(ze,Je)=>{ze&&callWithAsyncErrorHandling(ze,m,9,Je)},ke=(ze,Je)=>{const et=Je[1];Me(ze,Je),isArray$4(ze)?ze.every(Pe=>Pe.length<=1)&&et():ze.length<=1&&et()},Re={mode:ee,persisted:te,beforeEnter(ze){let Je=b;if(!d.isMounted)if($)Je=ye||b;else return;ze._leaveCb&&ze._leaveCb(!0);const et=we[Ae];et&&isSameVNodeType(u,et)&&et.el._leaveCb&&et.el._leaveCb(),Me(Je,[ze])},enter(ze){let Je=re,et=ne,Pe=ie;if(!d.isMounted)if($)Je=ge||re,et=_e||ne,Pe=Ee||ie;else return;let ve=!1;const le=ze._enterCb=ae=>{ve||(ve=!0,ae?Me(Pe,[ze]):Me(et,[ze]),Re.delayedLeave&&Re.delayedLeave(),ze._enterCb=void 0)};Je?ke(Je,[ze,le]):le()},leave(ze,Je){const et=String(u.key);if(ze._enterCb&&ze._enterCb(!0),d.isUnmounting)return Je();Me(se,[ze]);let Pe=!1;const ve=ze._leaveCb=le=>{Pe||(Pe=!0,Je(),le?Me(de,[ze]):Me(ce,[ze]),ze._leaveCb=void 0,we[et]===u&&delete we[et])};we[et]=u,fe?ke(fe,[ze,ve]):ve()},clone(ze){return resolveTransitionHooks(ze,a,d,m)}};return Re}function emptyPlaceholder(u){if(isKeepAlive(u))return u=cloneVNode(u),u.children=null,u}function getKeepAliveChild(u){return isKeepAlive(u)?u.children?u.children[0]:void 0:u}function setTransitionHooks(u,a){u.shapeFlag&6&&u.component?setTransitionHooks(u.component.subTree,a):u.shapeFlag&128?(u.ssContent.transition=a.clone(u.ssContent),u.ssFallback.transition=a.clone(u.ssFallback)):u.transition=a}function getTransitionRawChildren(u,a=!1,d){let m=[],$=0;for(let ee=0;ee<u.length;ee++){let te=u[ee];const b=d==null?te.key:String(d)+String(te.key!=null?te.key:ee);te.type===Fragment?(te.patchFlag&128&&$++,m=m.concat(getTransitionRawChildren(te.children,a,b))):(a||te.type!==Comment)&&m.push(b!=null?cloneVNode(te,{key:b}):te)}if($>1)for(let ee=0;ee<m.length;ee++)m[ee].patchFlag=-2;return m}function defineComponent(u){return isFunction$4(u)?{setup:u,name:u.name}:u}const isAsyncWrapper=u=>!!u.type.__asyncLoader;function defineAsyncComponent(u){isFunction$4(u)&&(u={loader:u});const{loader:a,loadingComponent:d,errorComponent:m,delay:$=200,timeout:ee,suspensible:te=!0,onError:b}=u;let re=null,ne,ie=0;const se=()=>(ie++,re=null,fe()),fe=()=>{let ce;return re||(ce=re=a().catch(de=>{if(de=de instanceof Error?de:new Error(String(de)),b)return new Promise((ye,ge)=>{b(de,()=>ye(se()),()=>ge(de),ie+1)});throw de}).then(de=>ce!==re&&re?re:(de&&(de.__esModule||de[Symbol.toStringTag]==="Module")&&(de=de.default),ne=de,de)))};return defineComponent({name:"AsyncComponentWrapper",__asyncLoader:fe,get __asyncResolved(){return ne},setup(){const ce=currentInstance;if(ne)return()=>createInnerComp(ne,ce);const de=Ee=>{re=null,handleError(Ee,ce,13,!m)};if(te&&ce.suspense||isInSSRComponentSetup)return fe().then(Ee=>()=>createInnerComp(Ee,ce)).catch(Ee=>(de(Ee),()=>m?createVNode(m,{error:Ee}):null));const ye=ref(!1),ge=ref(),_e=ref(!!$);return $&&setTimeout(()=>{_e.value=!1},$),ee!=null&&setTimeout(()=>{if(!ye.value&&!ge.value){const Ee=new Error(`Async component timed out after ${ee}ms.`);de(Ee),ge.value=Ee}},ee),fe().then(()=>{ye.value=!0,ce.parent&&isKeepAlive(ce.parent.vnode)&&queueJob(ce.parent.update)}).catch(Ee=>{de(Ee),ge.value=Ee}),()=>{if(ye.value&&ne)return createInnerComp(ne,ce);if(ge.value&&m)return createVNode(m,{error:ge.value});if(d&&!_e.value)return createVNode(d)}}})}function createInnerComp(u,{vnode:{ref:a,props:d,children:m,shapeFlag:$},parent:ee}){const te=createVNode(u,d,m);return te.ref=a,te}const isKeepAlive=u=>u.type.__isKeepAlive,KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(u,{slots:a}){const d=getCurrentInstance(),m=d.ctx;if(!m.renderer)return()=>{const Ee=a.default&&a.default();return Ee&&Ee.length===1?Ee[0]:Ee};const $=new Map,ee=new Set;let te=null;const b=d.suspense,{renderer:{p:re,m:ne,um:ie,o:{createElement:se}}}=m,fe=se("div");m.activate=(Ee,Ae,we,Me,ke)=>{const Re=Ee.component;ne(Ee,Ae,we,0,b),re(Re.vnode,Ee,Ae,we,Re,b,Me,Ee.slotScopeIds,ke),queuePostRenderEffect(()=>{Re.isDeactivated=!1,Re.a&&invokeArrayFns(Re.a);const ze=Ee.props&&Ee.props.onVnodeMounted;ze&&invokeVNodeHook(ze,Re.parent,Ee)},b)},m.deactivate=Ee=>{const Ae=Ee.component;ne(Ee,fe,null,1,b),queuePostRenderEffect(()=>{Ae.da&&invokeArrayFns(Ae.da);const we=Ee.props&&Ee.props.onVnodeUnmounted;we&&invokeVNodeHook(we,Ae.parent,Ee),Ae.isDeactivated=!0},b)};function ce(Ee){resetShapeFlag(Ee),ie(Ee,d,b,!0)}function de(Ee){$.forEach((Ae,we)=>{const Me=getComponentName(Ae.type);Me&&(!Ee||!Ee(Me))&&ye(we)})}function ye(Ee){const Ae=$.get(Ee);!te||Ae.type!==te.type?ce(Ae):te&&resetShapeFlag(te),$.delete(Ee),ee.delete(Ee)}watch(()=>[u.include,u.exclude],([Ee,Ae])=>{Ee&&de(we=>matches(Ee,we)),Ae&&de(we=>!matches(Ae,we))},{flush:"post",deep:!0});let ge=null;const _e=()=>{ge!=null&&$.set(ge,getInnerChild(d.subTree))};return onMounted(_e),onUpdated(_e),onBeforeUnmount(()=>{$.forEach(Ee=>{const{subTree:Ae,suspense:we}=d,Me=getInnerChild(Ae);if(Ee.type===Me.type){resetShapeFlag(Me);const ke=Me.component.da;ke&&queuePostRenderEffect(ke,we);return}ce(Ee)})}),()=>{if(ge=null,!a.default)return null;const Ee=a.default(),Ae=Ee[0];if(Ee.length>1)return te=null,Ee;if(!isVNode(Ae)||!(Ae.shapeFlag&4)&&!(Ae.shapeFlag&128))return te=null,Ae;let we=getInnerChild(Ae);const Me=we.type,ke=getComponentName(isAsyncWrapper(we)?we.type.__asyncResolved||{}:Me),{include:Re,exclude:ze,max:Je}=u;if(Re&&(!ke||!matches(Re,ke))||ze&&ke&&matches(ze,ke))return te=we,Ae;const et=we.key==null?Me:we.key,Pe=$.get(et);return we.el&&(we=cloneVNode(we),Ae.shapeFlag&128&&(Ae.ssContent=we)),ge=et,Pe?(we.el=Pe.el,we.component=Pe.component,we.transition&&setTransitionHooks(we,we.transition),we.shapeFlag|=512,ee.delete(et),ee.add(et)):(ee.add(et),Je&&ee.size>parseInt(Je,10)&&ye(ee.values().next().value)),we.shapeFlag|=256,te=we,isSuspense(Ae.type)?Ae:we}}},KeepAlive=KeepAliveImpl;function matches(u,a){return isArray$4(u)?u.some(d=>matches(d,a)):isString$2(u)?u.split(",").includes(a):u.test?u.test(a):!1}function onActivated(u,a){registerKeepAliveHook(u,"a",a)}function onDeactivated(u,a){registerKeepAliveHook(u,"da",a)}function registerKeepAliveHook(u,a,d=currentInstance){const m=u.__wdc||(u.__wdc=()=>{let $=d;for(;$;){if($.isDeactivated)return;$=$.parent}return u()});if(injectHook(a,m,d),d){let $=d.parent;for(;$&&$.parent;)isKeepAlive($.parent.vnode)&&injectToKeepAliveRoot(m,a,d,$),$=$.parent}}function injectToKeepAliveRoot(u,a,d,m){const $=injectHook(a,u,m,!0);onUnmounted(()=>{remove(m[a],$)},d)}function resetShapeFlag(u){let a=u.shapeFlag;a&256&&(a-=256),a&512&&(a-=512),u.shapeFlag=a}function getInnerChild(u){return u.shapeFlag&128?u.ssContent:u}function injectHook(u,a,d=currentInstance,m=!1){if(d){const $=d[u]||(d[u]=[]),ee=a.__weh||(a.__weh=(...te)=>{if(d.isUnmounted)return;pauseTracking(),setCurrentInstance(d);const b=callWithAsyncErrorHandling(a,d,u,te);return unsetCurrentInstance(),resetTracking(),b});return m?$.unshift(ee):$.push(ee),ee}}const createHook=u=>(a,d=currentInstance)=>(!isInSSRComponentSetup||u==="sp")&&injectHook(u,a,d),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(u,a=currentInstance){injectHook("ec",u,a)}function withDirectives(u,a){const d=currentRenderingInstance;if(d===null)return u;const m=getExposeProxy(d)||d.proxy,$=u.dirs||(u.dirs=[]);for(let ee=0;ee<a.length;ee++){let[te,b,re,ne=EMPTY_OBJ]=a[ee];isFunction$4(te)&&(te={mounted:te,updated:te}),te.deep&&traverse(b),$.push({dir:te,instance:m,value:b,oldValue:void 0,arg:re,modifiers:ne})}return u}function invokeDirectiveHook(u,a,d,m){const $=u.dirs,ee=a&&a.dirs;for(let te=0;te<$.length;te++){const b=$[te];ee&&(b.oldValue=ee[te].value);let re=b.dir[m];re&&(pauseTracking(),callWithAsyncErrorHandling(re,d,8,[u.el,b,u,a]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(u,a){return resolveAsset(COMPONENTS,u,!0,a)||u}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(u){return isString$2(u)?resolveAsset(COMPONENTS,u,!1)||u:u||NULL_DYNAMIC_COMPONENT}function resolveDirective(u){return resolveAsset(DIRECTIVES,u)}function resolveAsset(u,a,d=!0,m=!1){const $=currentRenderingInstance||currentInstance;if($){const ee=$.type;if(u===COMPONENTS){const b=getComponentName(ee,!1);if(b&&(b===a||b===camelize(a)||b===capitalize$1(camelize(a))))return ee}const te=resolve($[u]||ee[u],a)||resolve($.appContext[u],a);return!te&&m?ee:te}}function resolve(u,a){return u&&(u[a]||u[camelize(a)]||u[capitalize$1(camelize(a))])}function renderList(u,a,d,m){let $;const ee=d&&d[m];if(isArray$4(u)||isString$2(u)){$=new Array(u.length);for(let te=0,b=u.length;te<b;te++)$[te]=a(u[te],te,void 0,ee&&ee[te])}else if(typeof u=="number"){$=new Array(u);for(let te=0;te<u;te++)$[te]=a(te+1,te,void 0,ee&&ee[te])}else if(isObject$5(u))if(u[Symbol.iterator])$=Array.from(u,(te,b)=>a(te,b,void 0,ee&&ee[b]));else{const te=Object.keys(u);$=new Array(te.length);for(let b=0,re=te.length;b<re;b++){const ne=te[b];$[b]=a(u[ne],ne,b,ee&&ee[b])}}else $=[];return d&&(d[m]=$),$}function createSlots(u,a){for(let d=0;d<a.length;d++){const m=a[d];if(isArray$4(m))for(let $=0;$<m.length;$++)u[m[$].name]=m[$].fn;else m&&(u[m.name]=m.fn)}return u}function renderSlot(u,a,d={},m,$){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return createVNode("slot",a==="default"?null:{name:a},m&&m());let ee=u[a];ee&&ee._c&&(ee._d=!1),openBlock();const te=ee&&ensureValidVNode$1(ee(d)),b=createBlock(Fragment,{key:d.key||`_${a}`},te||(m?m():[]),te&&u._===1?64:-2);return!$&&b.scopeId&&(b.slotScopeIds=[b.scopeId+"-s"]),ee&&ee._c&&(ee._d=!0),b}function ensureValidVNode$1(u){return u.some(a=>isVNode(a)?!(a.type===Comment||a.type===Fragment&&!ensureValidVNode$1(a.children)):!0)?u:null}function toHandlers(u){const a={};for(const d in u)a[toHandlerKey(d)]=u[d];return a}const getPublicInstance=u=>u?isStatefulComponent(u)?getExposeProxy(u)||u.proxy:getPublicInstance(u.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:u=>u,$el:u=>u.vnode.el,$data:u=>u.data,$props:u=>u.props,$attrs:u=>u.attrs,$slots:u=>u.slots,$refs:u=>u.refs,$parent:u=>getPublicInstance(u.parent),$root:u=>getPublicInstance(u.root),$emit:u=>u.emit,$options:u=>resolveMergedOptions(u),$forceUpdate:u=>u.f||(u.f=()=>queueJob(u.update)),$nextTick:u=>u.n||(u.n=nextTick.bind(u.proxy)),$watch:u=>instanceWatch.bind(u)}),PublicInstanceProxyHandlers={get({_:u},a){const{ctx:d,setupState:m,data:$,props:ee,accessCache:te,type:b,appContext:re}=u;let ne;if(a[0]!=="$"){const ce=te[a];if(ce!==void 0)switch(ce){case 1:return m[a];case 2:return $[a];case 4:return d[a];case 3:return ee[a]}else{if(m!==EMPTY_OBJ&&hasOwn(m,a))return te[a]=1,m[a];if($!==EMPTY_OBJ&&hasOwn($,a))return te[a]=2,$[a];if((ne=u.propsOptions[0])&&hasOwn(ne,a))return te[a]=3,ee[a];if(d!==EMPTY_OBJ&&hasOwn(d,a))return te[a]=4,d[a];shouldCacheAccess&&(te[a]=0)}}const ie=publicPropertiesMap[a];let se,fe;if(ie)return a==="$attrs"&&track(u,"get",a),ie(u);if((se=b.__cssModules)&&(se=se[a]))return se;if(d!==EMPTY_OBJ&&hasOwn(d,a))return te[a]=4,d[a];if(fe=re.config.globalProperties,hasOwn(fe,a))return fe[a]},set({_:u},a,d){const{data:m,setupState:$,ctx:ee}=u;return $!==EMPTY_OBJ&&hasOwn($,a)?($[a]=d,!0):m!==EMPTY_OBJ&&hasOwn(m,a)?(m[a]=d,!0):hasOwn(u.props,a)||a[0]==="$"&&a.slice(1)in u?!1:(ee[a]=d,!0)},has({_:{data:u,setupState:a,accessCache:d,ctx:m,appContext:$,propsOptions:ee}},te){let b;return!!d[te]||u!==EMPTY_OBJ&&hasOwn(u,te)||a!==EMPTY_OBJ&&hasOwn(a,te)||(b=ee[0])&&hasOwn(b,te)||hasOwn(m,te)||hasOwn(publicPropertiesMap,te)||hasOwn($.config.globalProperties,te)},defineProperty(u,a,d){return d.get!=null?u._.accessCache[a]=0:hasOwn(d,"value")&&this.set(u,a,d.value,null),Reflect.defineProperty(u,a,d)}},RuntimeCompiledPublicInstanceProxyHandlers=extend$1({},PublicInstanceProxyHandlers,{get(u,a){if(a!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(u,a,u)},has(u,a){return a[0]!=="_"&&!isGloballyWhitelisted(a)}});let shouldCacheAccess=!0;function applyOptions(u){const a=resolveMergedOptions(u),d=u.proxy,m=u.ctx;shouldCacheAccess=!1,a.beforeCreate&&callHook$1(a.beforeCreate,u,"bc");const{data:$,computed:ee,methods:te,watch:b,provide:re,inject:ne,created:ie,beforeMount:se,mounted:fe,beforeUpdate:ce,updated:de,activated:ye,deactivated:ge,beforeDestroy:_e,beforeUnmount:Ee,destroyed:Ae,unmounted:we,render:Me,renderTracked:ke,renderTriggered:Re,errorCaptured:ze,serverPrefetch:Je,expose:et,inheritAttrs:Pe,components:ve,directives:le,filters:ae}=a;if(ne&&resolveInjections(ne,m,null,u.appContext.config.unwrapInjectedRef),te)for(const $e in te){const He=te[$e];isFunction$4(He)&&(m[$e]=He.bind(d))}if($){const $e=$.call(d,d);isObject$5($e)&&(u.data=reactive($e))}if(shouldCacheAccess=!0,ee)for(const $e in ee){const He=ee[$e],Fe=isFunction$4(He)?He.bind(d,d):isFunction$4(He.get)?He.get.bind(d,d):NOOP,Ne=!isFunction$4(He)&&isFunction$4(He.set)?He.set.bind(d):NOOP,De=computed({get:Fe,set:Ne});Object.defineProperty(m,$e,{enumerable:!0,configurable:!0,get:()=>De.value,set:pe=>De.value=pe})}if(b)for(const $e in b)createWatcher(b[$e],m,d,$e);if(re){const $e=isFunction$4(re)?re.call(d):re;Reflect.ownKeys($e).forEach(He=>{provide(He,$e[He])})}ie&&callHook$1(ie,u,"c");function xe($e,He){isArray$4(He)?He.forEach(Fe=>$e(Fe.bind(d))):He&&$e(He.bind(d))}if(xe(onBeforeMount,se),xe(onMounted,fe),xe(onBeforeUpdate,ce),xe(onUpdated,de),xe(onActivated,ye),xe(onDeactivated,ge),xe(onErrorCaptured,ze),xe(onRenderTracked,ke),xe(onRenderTriggered,Re),xe(onBeforeUnmount,Ee),xe(onUnmounted,we),xe(onServerPrefetch,Je),isArray$4(et))if(et.length){const $e=u.exposed||(u.exposed={});et.forEach(He=>{Object.defineProperty($e,He,{get:()=>d[He],set:Fe=>d[He]=Fe})})}else u.exposed||(u.exposed={});Me&&u.render===NOOP&&(u.render=Me),Pe!=null&&(u.inheritAttrs=Pe),ve&&(u.components=ve),le&&(u.directives=le)}function resolveInjections(u,a,d=NOOP,m=!1){isArray$4(u)&&(u=normalizeInject(u));for(const $ in u){const ee=u[$];let te;isObject$5(ee)?"default"in ee?te=inject(ee.from||$,ee.default,!0):te=inject(ee.from||$):te=inject(ee),isRef(te)&&m?Object.defineProperty(a,$,{enumerable:!0,configurable:!0,get:()=>te.value,set:b=>te.value=b}):a[$]=te}}function callHook$1(u,a,d){callWithAsyncErrorHandling(isArray$4(u)?u.map(m=>m.bind(a.proxy)):u.bind(a.proxy),a,d)}function createWatcher(u,a,d,m){const $=m.includes(".")?createPathGetter(d,m):()=>d[m];if(isString$2(u)){const ee=a[u];isFunction$4(ee)&&watch($,ee)}else if(isFunction$4(u))watch($,u.bind(d));else if(isObject$5(u))if(isArray$4(u))u.forEach(ee=>createWatcher(ee,a,d,m));else{const ee=isFunction$4(u.handler)?u.handler.bind(d):a[u.handler];isFunction$4(ee)&&watch($,ee,u)}}function resolveMergedOptions(u){const a=u.type,{mixins:d,extends:m}=a,{mixins:$,optionsCache:ee,config:{optionMergeStrategies:te}}=u.appContext,b=ee.get(a);let re;return b?re=b:!$.length&&!d&&!m?re=a:(re={},$.length&&$.forEach(ne=>mergeOptions$1(re,ne,te,!0)),mergeOptions$1(re,a,te)),ee.set(a,re),re}function mergeOptions$1(u,a,d,m=!1){const{mixins:$,extends:ee}=a;ee&&mergeOptions$1(u,ee,d,!0),$&&$.forEach(te=>mergeOptions$1(u,te,d,!0));for(const te in a)if(!(m&&te==="expose")){const b=internalOptionMergeStrats[te]||d&&d[te];u[te]=b?b(u[te],a[te]):a[te]}return u}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(u,a){return a?u?function(){return extend$1(isFunction$4(u)?u.call(this,this):u,isFunction$4(a)?a.call(this,this):a)}:a:u}function mergeInject(u,a){return mergeObjectOptions(normalizeInject(u),normalizeInject(a))}function normalizeInject(u){if(isArray$4(u)){const a={};for(let d=0;d<u.length;d++)a[u[d]]=u[d];return a}return u}function mergeAsArray(u,a){return u?[...new Set([].concat(u,a))]:a}function mergeObjectOptions(u,a){return u?extend$1(extend$1(Object.create(null),u),a):a}function mergeWatchOptions(u,a){if(!u)return a;if(!a)return u;const d=extend$1(Object.create(null),u);for(const m in a)d[m]=mergeAsArray(u[m],a[m]);return d}function initProps(u,a,d,m=!1){const $={},ee={};def(ee,InternalObjectKey,1),u.propsDefaults=Object.create(null),setFullProps(u,a,$,ee);for(const te in u.propsOptions[0])te in $||($[te]=void 0);d?u.props=m?$:shallowReactive($):u.type.props?u.props=$:u.props=ee,u.attrs=ee}function updateProps(u,a,d,m){const{props:$,attrs:ee,vnode:{patchFlag:te}}=u,b=toRaw($),[re]=u.propsOptions;let ne=!1;if((m||te>0)&&!(te&16)){if(te&8){const ie=u.vnode.dynamicProps;for(let se=0;se<ie.length;se++){let fe=ie[se];if(isEmitListener(u.emitsOptions,fe))continue;const ce=a[fe];if(re)if(hasOwn(ee,fe))ce!==ee[fe]&&(ee[fe]=ce,ne=!0);else{const de=camelize(fe);$[de]=resolvePropValue(re,b,de,ce,u,!1)}else ce!==ee[fe]&&(ee[fe]=ce,ne=!0)}}}else{setFullProps(u,a,$,ee)&&(ne=!0);let ie;for(const se in b)(!a||!hasOwn(a,se)&&((ie=hyphenate(se))===se||!hasOwn(a,ie)))&&(re?d&&(d[se]!==void 0||d[ie]!==void 0)&&($[se]=resolvePropValue(re,b,se,void 0,u,!0)):delete $[se]);if(ee!==b)for(const se in ee)(!a||!hasOwn(a,se)&&!0)&&(delete ee[se],ne=!0)}ne&&trigger$1(u,"set","$attrs")}function setFullProps(u,a,d,m){const[$,ee]=u.propsOptions;let te=!1,b;if(a)for(let re in a){if(isReservedProp(re))continue;const ne=a[re];let ie;$&&hasOwn($,ie=camelize(re))?!ee||!ee.includes(ie)?d[ie]=ne:(b||(b={}))[ie]=ne:isEmitListener(u.emitsOptions,re)||(!(re in m)||ne!==m[re])&&(m[re]=ne,te=!0)}if(ee){const re=toRaw(d),ne=b||EMPTY_OBJ;for(let ie=0;ie<ee.length;ie++){const se=ee[ie];d[se]=resolvePropValue($,re,se,ne[se],u,!hasOwn(ne,se))}}return te}function resolvePropValue(u,a,d,m,$,ee){const te=u[d];if(te!=null){const b=hasOwn(te,"default");if(b&&m===void 0){const re=te.default;if(te.type!==Function&&isFunction$4(re)){const{propsDefaults:ne}=$;d in ne?m=ne[d]:(setCurrentInstance($),m=ne[d]=re.call(null,a),unsetCurrentInstance())}else m=re}te[0]&&(ee&&!b?m=!1:te[1]&&(m===""||m===hyphenate(d))&&(m=!0))}return m}function normalizePropsOptions(u,a,d=!1){const m=a.propsCache,$=m.get(u);if($)return $;const ee=u.props,te={},b=[];let re=!1;if(!isFunction$4(u)){const ie=se=>{re=!0;const[fe,ce]=normalizePropsOptions(se,a,!0);extend$1(te,fe),ce&&b.push(...ce)};!d&&a.mixins.length&&a.mixins.forEach(ie),u.extends&&ie(u.extends),u.mixins&&u.mixins.forEach(ie)}if(!ee&&!re)return m.set(u,EMPTY_ARR),EMPTY_ARR;if(isArray$4(ee))for(let ie=0;ie<ee.length;ie++){const se=camelize(ee[ie]);validatePropName(se)&&(te[se]=EMPTY_OBJ)}else if(ee)for(const ie in ee){const se=camelize(ie);if(validatePropName(se)){const fe=ee[ie],ce=te[se]=isArray$4(fe)||isFunction$4(fe)?{type:fe}:fe;if(ce){const de=getTypeIndex(Boolean,ce.type),ye=getTypeIndex(String,ce.type);ce[0]=de>-1,ce[1]=ye<0||de<ye,(de>-1||hasOwn(ce,"default"))&&b.push(se)}}}const ne=[te,b];return m.set(u,ne),ne}function validatePropName(u){return u[0]!=="$"}function getType(u){const a=u&&u.toString().match(/^\s*function (\w+)/);return a?a[1]:u===null?"null":""}function isSameType(u,a){return getType(u)===getType(a)}function getTypeIndex(u,a){return isArray$4(a)?a.findIndex(d=>isSameType(d,u)):isFunction$4(a)&&isSameType(a,u)?0:-1}const isInternalKey=u=>u[0]==="_"||u==="$stable",normalizeSlotValue=u=>isArray$4(u)?u.map(normalizeVNode):[normalizeVNode(u)],normalizeSlot$1=(u,a,d)=>{if(a._n)return a;const m=withCtx((...$)=>normalizeSlotValue(a(...$)),d);return m._c=!1,m},normalizeObjectSlots=(u,a,d)=>{const m=u._ctx;for(const $ in u){if(isInternalKey($))continue;const ee=u[$];if(isFunction$4(ee))a[$]=normalizeSlot$1($,ee,m);else if(ee!=null){const te=normalizeSlotValue(ee);a[$]=()=>te}}},normalizeVNodeSlots=(u,a)=>{const d=normalizeSlotValue(a);u.slots.default=()=>d},initSlots=(u,a)=>{if(u.vnode.shapeFlag&32){const d=a._;d?(u.slots=toRaw(a),def(a,"_",d)):normalizeObjectSlots(a,u.slots={})}else u.slots={},a&&normalizeVNodeSlots(u,a);def(u.slots,InternalObjectKey,1)},updateSlots=(u,a,d)=>{const{vnode:m,slots:$}=u;let ee=!0,te=EMPTY_OBJ;if(m.shapeFlag&32){const b=a._;b?d&&b===1?ee=!1:(extend$1($,a),!d&&b===1&&delete $._):(ee=!a.$stable,normalizeObjectSlots(a,$)),te=a}else a&&(normalizeVNodeSlots(u,a),te={default:1});if(ee)for(const b in $)!isInternalKey(b)&&!(b in te)&&delete $[b]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(u,a){return function(m,$=null){isFunction$4(m)||(m=Object.assign({},m)),$!=null&&!isObject$5($)&&($=null);const ee=createAppContext(),te=new Set;let b=!1;const re=ee.app={_uid:uid++,_component:m,_props:$,_container:null,_context:ee,_instance:null,version:version$7,get config(){return ee.config},set config(ne){},use(ne,...ie){return te.has(ne)||(ne&&isFunction$4(ne.install)?(te.add(ne),ne.install(re,...ie)):isFunction$4(ne)&&(te.add(ne),ne(re,...ie))),re},mixin(ne){return ee.mixins.includes(ne)||ee.mixins.push(ne),re},component(ne,ie){return ie?(ee.components[ne]=ie,re):ee.components[ne]},directive(ne,ie){return ie?(ee.directives[ne]=ie,re):ee.directives[ne]},mount(ne,ie,se){if(!b){const fe=createVNode(m,$);return fe.appContext=ee,ie&&a?a(fe,ne):u(fe,ne,se),b=!0,re._container=ne,ne.__vue_app__=re,getExposeProxy(fe.component)||fe.component.proxy}},unmount(){b&&(u(null,re._container),delete re._container.__vue_app__)},provide(ne,ie){return ee.provides[ne]=ie,re}};return re}}function setRef(u,a,d,m,$=!1){if(isArray$4(u)){u.forEach((fe,ce)=>setRef(fe,a&&(isArray$4(a)?a[ce]:a),d,m,$));return}if(isAsyncWrapper(m)&&!$)return;const ee=m.shapeFlag&4?getExposeProxy(m.component)||m.component.proxy:m.el,te=$?null:ee,{i:b,r:re}=u,ne=a&&a.r,ie=b.refs===EMPTY_OBJ?b.refs={}:b.refs,se=b.setupState;if(ne!=null&&ne!==re&&(isString$2(ne)?(ie[ne]=null,hasOwn(se,ne)&&(se[ne]=null)):isRef(ne)&&(ne.value=null)),isFunction$4(re))callWithErrorHandling(re,b,12,[te,ie]);else{const fe=isString$2(re),ce=isRef(re);if(fe||ce){const de=()=>{if(u.f){const ye=fe?ie[re]:re.value;$?isArray$4(ye)&&remove(ye,ee):isArray$4(ye)?ye.includes(ee)||ye.push(ee):fe?(ie[re]=[ee],hasOwn(se,re)&&(se[re]=ie[re])):(re.value=[ee],u.k&&(ie[u.k]=re.value))}else fe?(ie[re]=te,hasOwn(se,re)&&(se[re]=te)):ce&&(re.value=te,u.k&&(ie[u.k]=te))};te?(de.id=-1,queuePostRenderEffect(de,d)):de()}}}let hasMismatch=!1;const isSVGContainer=u=>/svg/.test(u.namespaceURI)&&u.tagName!=="foreignObject",isComment=u=>u.nodeType===8;function createHydrationFunctions(u){const{mt:a,p:d,o:{patchProp:m,createText:$,nextSibling:ee,parentNode:te,remove:b,insert:re,createComment:ne}}=u,ie=(_e,Ee)=>{if(!Ee.hasChildNodes()){d(null,_e,Ee),flushPostFlushCbs(),Ee._vnode=_e;return}hasMismatch=!1,se(Ee.firstChild,_e,null,null,null),flushPostFlushCbs(),Ee._vnode=_e,hasMismatch&&console.error("Hydration completed but contains mismatches.")},se=(_e,Ee,Ae,we,Me,ke=!1)=>{const Re=isComment(_e)&&_e.data==="[",ze=()=>ye(_e,Ee,Ae,we,Me,Re),{type:Je,ref:et,shapeFlag:Pe,patchFlag:ve}=Ee,le=_e.nodeType;Ee.el=_e,ve===-2&&(ke=!1,Ee.dynamicChildren=null);let ae=null;switch(Je){case Text:le!==3?Ee.children===""?(re(Ee.el=$(""),te(_e),_e),ae=_e):ae=ze():(_e.data!==Ee.children&&(hasMismatch=!0,_e.data=Ee.children),ae=ee(_e));break;case Comment:le!==8||Re?ae=ze():ae=ee(_e);break;case Static:if(le!==1&&le!==3)ae=ze();else{ae=_e;const he=!Ee.children.length;for(let xe=0;xe<Ee.staticCount;xe++)he&&(Ee.children+=ae.nodeType===1?ae.outerHTML:ae.data),xe===Ee.staticCount-1&&(Ee.anchor=ae),ae=ee(ae);return ae}break;case Fragment:Re?ae=de(_e,Ee,Ae,we,Me,ke):ae=ze();break;default:if(Pe&1)le!==1||Ee.type.toLowerCase()!==_e.tagName.toLowerCase()?ae=ze():ae=fe(_e,Ee,Ae,we,Me,ke);else if(Pe&6){Ee.slotScopeIds=Me;const he=te(_e);if(a(Ee,he,null,Ae,we,isSVGContainer(he),ke),ae=Re?ge(_e):ee(_e),ae&&isComment(ae)&&ae.data==="teleport end"&&(ae=ee(ae)),isAsyncWrapper(Ee)){let xe;Re?(xe=createVNode(Fragment),xe.anchor=ae?ae.previousSibling:he.lastChild):xe=_e.nodeType===3?createTextVNode(""):createVNode("div"),xe.el=_e,Ee.component.subTree=xe}}else Pe&64?le!==8?ae=ze():ae=Ee.type.hydrate(_e,Ee,Ae,we,Me,ke,u,ce):Pe&128&&(ae=Ee.type.hydrate(_e,Ee,Ae,we,isSVGContainer(te(_e)),Me,ke,u,se))}return et!=null&&setRef(et,null,we,Ee),ae},fe=(_e,Ee,Ae,we,Me,ke)=>{ke=ke||!!Ee.dynamicChildren;const{type:Re,props:ze,patchFlag:Je,shapeFlag:et,dirs:Pe}=Ee,ve=Re==="input"&&Pe||Re==="option";if(ve||Je!==-1){if(Pe&&invokeDirectiveHook(Ee,null,Ae,"created"),ze)if(ve||!ke||Je&48)for(const ae in ze)(ve&&ae.endsWith("value")||isOn(ae)&&!isReservedProp(ae))&&m(_e,ae,null,ze[ae],!1,void 0,Ae);else ze.onClick&&m(_e,"onClick",null,ze.onClick,!1,void 0,Ae);let le;if((le=ze&&ze.onVnodeBeforeMount)&&invokeVNodeHook(le,Ae,Ee),Pe&&invokeDirectiveHook(Ee,null,Ae,"beforeMount"),((le=ze&&ze.onVnodeMounted)||Pe)&&queueEffectWithSuspense(()=>{le&&invokeVNodeHook(le,Ae,Ee),Pe&&invokeDirectiveHook(Ee,null,Ae,"mounted")},we),et&16&&!(ze&&(ze.innerHTML||ze.textContent))){let ae=ce(_e.firstChild,Ee,_e,Ae,we,Me,ke);for(;ae;){hasMismatch=!0;const he=ae;ae=ae.nextSibling,b(he)}}else et&8&&_e.textContent!==Ee.children&&(hasMismatch=!0,_e.textContent=Ee.children)}return _e.nextSibling},ce=(_e,Ee,Ae,we,Me,ke,Re)=>{Re=Re||!!Ee.dynamicChildren;const ze=Ee.children,Je=ze.length;for(let et=0;et<Je;et++){const Pe=Re?ze[et]:ze[et]=normalizeVNode(ze[et]);if(_e)_e=se(_e,Pe,we,Me,ke,Re);else{if(Pe.type===Text&&!Pe.children)continue;hasMismatch=!0,d(null,Pe,Ae,null,we,Me,isSVGContainer(Ae),ke)}}return _e},de=(_e,Ee,Ae,we,Me,ke)=>{const{slotScopeIds:Re}=Ee;Re&&(Me=Me?Me.concat(Re):Re);const ze=te(_e),Je=ce(ee(_e),Ee,ze,Ae,we,Me,ke);return Je&&isComment(Je)&&Je.data==="]"?ee(Ee.anchor=Je):(hasMismatch=!0,re(Ee.anchor=ne("]"),ze,Je),Je)},ye=(_e,Ee,Ae,we,Me,ke)=>{if(hasMismatch=!0,Ee.el=null,ke){const Je=ge(_e);for(;;){const et=ee(_e);if(et&&et!==Je)b(et);else break}}const Re=ee(_e),ze=te(_e);return b(_e),d(null,Ee,ze,Re,Ae,we,isSVGContainer(ze),Me),Re},ge=_e=>{let Ee=0;for(;_e;)if(_e=ee(_e),_e&&isComment(_e)&&(_e.data==="["&&Ee++,_e.data==="]")){if(Ee===0)return ee(_e);Ee--}return _e};return[ie,se]}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(u){return baseCreateRenderer(u)}function createHydrationRenderer(u){return baseCreateRenderer(u,createHydrationFunctions)}function baseCreateRenderer(u,a){const d=getGlobalThis();d.__VUE__=!0;const{insert:m,remove:$,patchProp:ee,createElement:te,createText:b,createComment:re,setText:ne,setElementText:ie,parentNode:se,nextSibling:fe,setScopeId:ce=NOOP,cloneNode:de,insertStaticContent:ye}=u,ge=(Ge,Qe,ct,ft=null,bt=null,St=null,xt=!1,$t=null,It=!!Qe.dynamicChildren)=>{if(Ge===Qe)return;Ge&&!isSameVNodeType(Ge,Qe)&&(ft=rt(Ge),Le(Ge,bt,St,!0),Ge=null),Qe.patchFlag===-2&&(It=!1,Qe.dynamicChildren=null);const{type:Et,ref:At,shapeFlag:kt}=Qe;switch(Et){case Text:_e(Ge,Qe,ct,ft);break;case Comment:Ee(Ge,Qe,ct,ft);break;case Static:Ge==null&&Ae(Qe,ct,ft,xt);break;case Fragment:le(Ge,Qe,ct,ft,bt,St,xt,$t,It);break;default:kt&1?ke(Ge,Qe,ct,ft,bt,St,xt,$t,It):kt&6?ae(Ge,Qe,ct,ft,bt,St,xt,$t,It):(kt&64||kt&128)&&Et.process(Ge,Qe,ct,ft,bt,St,xt,$t,It,Ve)}At!=null&&bt&&setRef(At,Ge&&Ge.ref,St,Qe||Ge,!Qe)},_e=(Ge,Qe,ct,ft)=>{if(Ge==null)m(Qe.el=b(Qe.children),ct,ft);else{const bt=Qe.el=Ge.el;Qe.children!==Ge.children&&ne(bt,Qe.children)}},Ee=(Ge,Qe,ct,ft)=>{Ge==null?m(Qe.el=re(Qe.children||""),ct,ft):Qe.el=Ge.el},Ae=(Ge,Qe,ct,ft)=>{[Ge.el,Ge.anchor]=ye(Ge.children,Qe,ct,ft,Ge.el,Ge.anchor)},we=({el:Ge,anchor:Qe},ct,ft)=>{let bt;for(;Ge&&Ge!==Qe;)bt=fe(Ge),m(Ge,ct,ft),Ge=bt;m(Qe,ct,ft)},Me=({el:Ge,anchor:Qe})=>{let ct;for(;Ge&&Ge!==Qe;)ct=fe(Ge),$(Ge),Ge=ct;$(Qe)},ke=(Ge,Qe,ct,ft,bt,St,xt,$t,It)=>{xt=xt||Qe.type==="svg",Ge==null?Re(Qe,ct,ft,bt,St,xt,$t,It):et(Ge,Qe,bt,St,xt,$t,It)},Re=(Ge,Qe,ct,ft,bt,St,xt,$t)=>{let It,Et;const{type:At,props:kt,shapeFlag:Kt,transition:lt,patchFlag:Se,dirs:me}=Ge;if(Ge.el&&de!==void 0&&Se===-1)It=Ge.el=de(Ge.el);else{if(It=Ge.el=te(Ge.type,St,kt&&kt.is,kt),Kt&8?ie(It,Ge.children):Kt&16&&Je(Ge.children,It,null,ft,bt,St&&At!=="foreignObject",xt,$t),me&&invokeDirectiveHook(Ge,null,ft,"created"),kt){for(const Ye in kt)Ye!=="value"&&!isReservedProp(Ye)&&ee(It,Ye,null,kt[Ye],St,Ge.children,ft,bt,it);"value"in kt&&ee(It,"value",null,kt.value),(Et=kt.onVnodeBeforeMount)&&invokeVNodeHook(Et,ft,Ge)}ze(It,Ge,Ge.scopeId,xt,ft)}me&&invokeDirectiveHook(Ge,null,ft,"beforeMount");const be=(!bt||bt&&!bt.pendingBranch)&&lt&&!lt.persisted;be&&lt.beforeEnter(It),m(It,Qe,ct),((Et=kt&&kt.onVnodeMounted)||be||me)&&queuePostRenderEffect(()=>{Et&&invokeVNodeHook(Et,ft,Ge),be&&lt.enter(It),me&&invokeDirectiveHook(Ge,null,ft,"mounted")},bt)},ze=(Ge,Qe,ct,ft,bt)=>{if(ct&&ce(Ge,ct),ft)for(let St=0;St<ft.length;St++)ce(Ge,ft[St]);if(bt){let St=bt.subTree;if(Qe===St){const xt=bt.vnode;ze(Ge,xt,xt.scopeId,xt.slotScopeIds,bt.parent)}}},Je=(Ge,Qe,ct,ft,bt,St,xt,$t,It=0)=>{for(let Et=It;Et<Ge.length;Et++){const At=Ge[Et]=$t?cloneIfMounted(Ge[Et]):normalizeVNode(Ge[Et]);ge(null,At,Qe,ct,ft,bt,St,xt,$t)}},et=(Ge,Qe,ct,ft,bt,St,xt)=>{const $t=Qe.el=Ge.el;let{patchFlag:It,dynamicChildren:Et,dirs:At}=Qe;It|=Ge.patchFlag&16;const kt=Ge.props||EMPTY_OBJ,Kt=Qe.props||EMPTY_OBJ;let lt;ct&&toggleRecurse(ct,!1),(lt=Kt.onVnodeBeforeUpdate)&&invokeVNodeHook(lt,ct,Qe,Ge),At&&invokeDirectiveHook(Qe,Ge,ct,"beforeUpdate"),ct&&toggleRecurse(ct,!0);const Se=bt&&Qe.type!=="foreignObject";if(Et?Pe(Ge.dynamicChildren,Et,$t,ct,ft,Se,St):xt||Fe(Ge,Qe,$t,null,ct,ft,Se,St,!1),It>0){if(It&16)ve($t,Qe,kt,Kt,ct,ft,bt);else if(It&2&&kt.class!==Kt.class&&ee($t,"class",null,Kt.class,bt),It&4&&ee($t,"style",kt.style,Kt.style,bt),It&8){const me=Qe.dynamicProps;for(let be=0;be<me.length;be++){const Ye=me[be],ut=kt[Ye],yt=Kt[Ye];(yt!==ut||Ye==="value")&&ee($t,Ye,ut,yt,bt,Ge.children,ct,ft,it)}}It&1&&Ge.children!==Qe.children&&ie($t,Qe.children)}else!xt&&Et==null&&ve($t,Qe,kt,Kt,ct,ft,bt);((lt=Kt.onVnodeUpdated)||At)&&queuePostRenderEffect(()=>{lt&&invokeVNodeHook(lt,ct,Qe,Ge),At&&invokeDirectiveHook(Qe,Ge,ct,"updated")},ft)},Pe=(Ge,Qe,ct,ft,bt,St,xt)=>{for(let $t=0;$t<Qe.length;$t++){const It=Ge[$t],Et=Qe[$t],At=It.el&&(It.type===Fragment||!isSameVNodeType(It,Et)||It.shapeFlag&70)?se(It.el):ct;ge(It,Et,At,null,ft,bt,St,xt,!0)}},ve=(Ge,Qe,ct,ft,bt,St,xt)=>{if(ct!==ft){for(const $t in ft){if(isReservedProp($t))continue;const It=ft[$t],Et=ct[$t];It!==Et&&$t!=="value"&&ee(Ge,$t,Et,It,xt,Qe.children,bt,St,it)}if(ct!==EMPTY_OBJ)for(const $t in ct)!isReservedProp($t)&&!($t in ft)&&ee(Ge,$t,ct[$t],null,xt,Qe.children,bt,St,it);"value"in ft&&ee(Ge,"value",ct.value,ft.value)}},le=(Ge,Qe,ct,ft,bt,St,xt,$t,It)=>{const Et=Qe.el=Ge?Ge.el:b(""),At=Qe.anchor=Ge?Ge.anchor:b("");let{patchFlag:kt,dynamicChildren:Kt,slotScopeIds:lt}=Qe;lt&&($t=$t?$t.concat(lt):lt),Ge==null?(m(Et,ct,ft),m(At,ct,ft),Je(Qe.children,ct,At,bt,St,xt,$t,It)):kt>0&&kt&64&&Kt&&Ge.dynamicChildren?(Pe(Ge.dynamicChildren,Kt,ct,bt,St,xt,$t),(Qe.key!=null||bt&&Qe===bt.subTree)&&traverseStaticChildren(Ge,Qe,!0)):Fe(Ge,Qe,ct,At,bt,St,xt,$t,It)},ae=(Ge,Qe,ct,ft,bt,St,xt,$t,It)=>{Qe.slotScopeIds=$t,Ge==null?Qe.shapeFlag&512?bt.ctx.activate(Qe,ct,ft,xt,It):he(Qe,ct,ft,bt,St,xt,It):xe(Ge,Qe,It)},he=(Ge,Qe,ct,ft,bt,St,xt)=>{const $t=Ge.component=createComponentInstance(Ge,ft,bt);if(isKeepAlive(Ge)&&($t.ctx.renderer=Ve),setupComponent($t),$t.asyncDep){if(bt&&bt.registerDep($t,$e),!Ge.el){const It=$t.subTree=createVNode(Comment);Ee(null,It,Qe,ct)}return}$e($t,Ge,Qe,ct,bt,St,xt)},xe=(Ge,Qe,ct)=>{const ft=Qe.component=Ge.component;if(shouldUpdateComponent(Ge,Qe,ct))if(ft.asyncDep&&!ft.asyncResolved){He(ft,Qe,ct);return}else ft.next=Qe,invalidateJob(ft.update),ft.update();else Qe.el=Ge.el,ft.vnode=Qe},$e=(Ge,Qe,ct,ft,bt,St,xt)=>{const $t=()=>{if(Ge.isMounted){let{next:At,bu:kt,u:Kt,parent:lt,vnode:Se}=Ge,me=At,be;toggleRecurse(Ge,!1),At?(At.el=Se.el,He(Ge,At,xt)):At=Se,kt&&invokeArrayFns(kt),(be=At.props&&At.props.onVnodeBeforeUpdate)&&invokeVNodeHook(be,lt,At,Se),toggleRecurse(Ge,!0);const Ye=renderComponentRoot(Ge),ut=Ge.subTree;Ge.subTree=Ye,ge(ut,Ye,se(ut.el),rt(ut),Ge,bt,St),At.el=Ye.el,me===null&&updateHOCHostEl(Ge,Ye.el),Kt&&queuePostRenderEffect(Kt,bt),(be=At.props&&At.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(be,lt,At,Se),bt)}else{let At;const{el:kt,props:Kt}=Qe,{bm:lt,m:Se,parent:me}=Ge,be=isAsyncWrapper(Qe);if(toggleRecurse(Ge,!1),lt&&invokeArrayFns(lt),!be&&(At=Kt&&Kt.onVnodeBeforeMount)&&invokeVNodeHook(At,me,Qe),toggleRecurse(Ge,!0),kt&&qe){const Ye=()=>{Ge.subTree=renderComponentRoot(Ge),qe(kt,Ge.subTree,Ge,bt,null)};be?Qe.type.__asyncLoader().then(()=>!Ge.isUnmounted&&Ye()):Ye()}else{const Ye=Ge.subTree=renderComponentRoot(Ge);ge(null,Ye,ct,ft,Ge,bt,St),Qe.el=Ye.el}if(Se&&queuePostRenderEffect(Se,bt),!be&&(At=Kt&&Kt.onVnodeMounted)){const Ye=Qe;queuePostRenderEffect(()=>invokeVNodeHook(At,me,Ye),bt)}(Qe.shapeFlag&256||me&&isAsyncWrapper(me.vnode)&&me.vnode.shapeFlag&256)&&Ge.a&&queuePostRenderEffect(Ge.a,bt),Ge.isMounted=!0,Qe=ct=ft=null}},It=Ge.effect=new ReactiveEffect($t,()=>queueJob(Et),Ge.scope),Et=Ge.update=()=>It.run();Et.id=Ge.uid,toggleRecurse(Ge,!0),Et()},He=(Ge,Qe,ct)=>{Qe.component=Ge;const ft=Ge.vnode.props;Ge.vnode=Qe,Ge.next=null,updateProps(Ge,Qe.props,ft,ct),updateSlots(Ge,Qe.children,ct),pauseTracking(),flushPreFlushCbs(void 0,Ge.update),resetTracking()},Fe=(Ge,Qe,ct,ft,bt,St,xt,$t,It=!1)=>{const Et=Ge&&Ge.children,At=Ge?Ge.shapeFlag:0,kt=Qe.children,{patchFlag:Kt,shapeFlag:lt}=Qe;if(Kt>0){if(Kt&128){De(Et,kt,ct,ft,bt,St,xt,$t,It);return}else if(Kt&256){Ne(Et,kt,ct,ft,bt,St,xt,$t,It);return}}lt&8?(At&16&&it(Et,bt,St),kt!==Et&&ie(ct,kt)):At&16?lt&16?De(Et,kt,ct,ft,bt,St,xt,$t,It):it(Et,bt,St,!0):(At&8&&ie(ct,""),lt&16&&Je(kt,ct,ft,bt,St,xt,$t,It))},Ne=(Ge,Qe,ct,ft,bt,St,xt,$t,It)=>{Ge=Ge||EMPTY_ARR,Qe=Qe||EMPTY_ARR;const Et=Ge.length,At=Qe.length,kt=Math.min(Et,At);let Kt;for(Kt=0;Kt<kt;Kt++){const lt=Qe[Kt]=It?cloneIfMounted(Qe[Kt]):normalizeVNode(Qe[Kt]);ge(Ge[Kt],lt,ct,null,bt,St,xt,$t,It)}Et>At?it(Ge,bt,St,!0,!1,kt):Je(Qe,ct,ft,bt,St,xt,$t,It,kt)},De=(Ge,Qe,ct,ft,bt,St,xt,$t,It)=>{let Et=0;const At=Qe.length;let kt=Ge.length-1,Kt=At-1;for(;Et<=kt&&Et<=Kt;){const lt=Ge[Et],Se=Qe[Et]=It?cloneIfMounted(Qe[Et]):normalizeVNode(Qe[Et]);if(isSameVNodeType(lt,Se))ge(lt,Se,ct,null,bt,St,xt,$t,It);else break;Et++}for(;Et<=kt&&Et<=Kt;){const lt=Ge[kt],Se=Qe[Kt]=It?cloneIfMounted(Qe[Kt]):normalizeVNode(Qe[Kt]);if(isSameVNodeType(lt,Se))ge(lt,Se,ct,null,bt,St,xt,$t,It);else break;kt--,Kt--}if(Et>kt){if(Et<=Kt){const lt=Kt+1,Se=lt<At?Qe[lt].el:ft;for(;Et<=Kt;)ge(null,Qe[Et]=It?cloneIfMounted(Qe[Et]):normalizeVNode(Qe[Et]),ct,Se,bt,St,xt,$t,It),Et++}}else if(Et>Kt)for(;Et<=kt;)Le(Ge[Et],bt,St,!0),Et++;else{const lt=Et,Se=Et,me=new Map;for(Et=Se;Et<=Kt;Et++){const Ct=Qe[Et]=It?cloneIfMounted(Qe[Et]):normalizeVNode(Qe[Et]);Ct.key!=null&&me.set(Ct.key,Et)}let be,Ye=0;const ut=Kt-Se+1;let yt=!1,wt=0;const Ut=new Array(ut);for(Et=0;Et<ut;Et++)Ut[Et]=0;for(Et=lt;Et<=kt;Et++){const Ct=Ge[Et];if(Ye>=ut){Le(Ct,bt,St,!0);continue}let Ht;if(Ct.key!=null)Ht=me.get(Ct.key);else for(be=Se;be<=Kt;be++)if(Ut[be-Se]===0&&isSameVNodeType(Ct,Qe[be])){Ht=be;break}Ht===void 0?Le(Ct,bt,St,!0):(Ut[Ht-Se]=Et+1,Ht>=wt?wt=Ht:yt=!0,ge(Ct,Qe[Ht],ct,null,bt,St,xt,$t,It),Ye++)}const Xt=yt?getSequence(Ut):EMPTY_ARR;for(be=Xt.length-1,Et=ut-1;Et>=0;Et--){const Ct=Se+Et,Ht=Qe[Ct],Yt=Ct+1<At?Qe[Ct+1].el:ft;Ut[Et]===0?ge(null,Ht,ct,Yt,bt,St,xt,$t,It):yt&&(be<0||Et!==Xt[be]?pe(Ht,ct,Yt,2):be--)}}},pe=(Ge,Qe,ct,ft,bt=null)=>{const{el:St,type:xt,transition:$t,children:It,shapeFlag:Et}=Ge;if(Et&6){pe(Ge.component.subTree,Qe,ct,ft);return}if(Et&128){Ge.suspense.move(Qe,ct,ft);return}if(Et&64){xt.move(Ge,Qe,ct,Ve);return}if(xt===Fragment){m(St,Qe,ct);for(let kt=0;kt<It.length;kt++)pe(It[kt],Qe,ct,ft);m(Ge.anchor,Qe,ct);return}if(xt===Static){we(Ge,Qe,ct);return}if(ft!==2&&Et&1&&$t)if(ft===0)$t.beforeEnter(St),m(St,Qe,ct),queuePostRenderEffect(()=>$t.enter(St),bt);else{const{leave:kt,delayLeave:Kt,afterLeave:lt}=$t,Se=()=>m(St,Qe,ct),me=()=>{kt(St,()=>{Se(),lt&&lt()})};Kt?Kt(St,Se,me):me()}else m(St,Qe,ct)},Le=(Ge,Qe,ct,ft=!1,bt=!1)=>{const{type:St,props:xt,ref:$t,children:It,dynamicChildren:Et,shapeFlag:At,patchFlag:kt,dirs:Kt}=Ge;if($t!=null&&setRef($t,null,ct,Ge,!0),At&256){Qe.ctx.deactivate(Ge);return}const lt=At&1&&Kt,Se=!isAsyncWrapper(Ge);let me;if(Se&&(me=xt&&xt.onVnodeBeforeUnmount)&&invokeVNodeHook(me,Qe,Ge),At&6)Ze(Ge.component,ct,ft);else{if(At&128){Ge.suspense.unmount(ct,ft);return}lt&&invokeDirectiveHook(Ge,null,Qe,"beforeUnmount"),At&64?Ge.type.remove(Ge,Qe,ct,bt,Ve,ft):Et&&(St!==Fragment||kt>0&&kt&64)?it(Et,Qe,ct,!1,!0):(St===Fragment&&kt&384||!bt&&At&16)&&it(It,Qe,ct),ft&&Be(Ge)}(Se&&(me=xt&&xt.onVnodeUnmounted)||lt)&&queuePostRenderEffect(()=>{me&&invokeVNodeHook(me,Qe,Ge),lt&&invokeDirectiveHook(Ge,null,Qe,"unmounted")},ct)},Be=Ge=>{const{type:Qe,el:ct,anchor:ft,transition:bt}=Ge;if(Qe===Fragment){Ce(ct,ft);return}if(Qe===Static){Me(Ge);return}const St=()=>{$(ct),bt&&!bt.persisted&&bt.afterLeave&&bt.afterLeave()};if(Ge.shapeFlag&1&&bt&&!bt.persisted){const{leave:xt,delayLeave:$t}=bt,It=()=>xt(ct,St);$t?$t(Ge.el,St,It):It()}else St()},Ce=(Ge,Qe)=>{let ct;for(;Ge!==Qe;)ct=fe(Ge),$(Ge),Ge=ct;$(Qe)},Ze=(Ge,Qe,ct)=>{const{bum:ft,scope:bt,update:St,subTree:xt,um:$t}=Ge;ft&&invokeArrayFns(ft),bt.stop(),St&&(St.active=!1,Le(xt,Ge,Qe,ct)),$t&&queuePostRenderEffect($t,Qe),queuePostRenderEffect(()=>{Ge.isUnmounted=!0},Qe),Qe&&Qe.pendingBranch&&!Qe.isUnmounted&&Ge.asyncDep&&!Ge.asyncResolved&&Ge.suspenseId===Qe.pendingId&&(Qe.deps--,Qe.deps===0&&Qe.resolve())},it=(Ge,Qe,ct,ft=!1,bt=!1,St=0)=>{for(let xt=St;xt<Ge.length;xt++)Le(Ge[xt],Qe,ct,ft,bt)},rt=Ge=>Ge.shapeFlag&6?rt(Ge.component.subTree):Ge.shapeFlag&128?Ge.suspense.next():fe(Ge.anchor||Ge.el),Oe=(Ge,Qe,ct)=>{Ge==null?Qe._vnode&&Le(Qe._vnode,null,null,!0):ge(Qe._vnode||null,Ge,Qe,null,null,null,ct),flushPostFlushCbs(),Qe._vnode=Ge},Ve={p:ge,um:Le,m:pe,r:Be,mt:he,mc:Je,pc:Fe,pbc:Pe,n:rt,o:u};let We,qe;return a&&([We,qe]=a(Ve)),{render:Oe,hydrate:We,createApp:createAppAPI(Oe,We)}}function toggleRecurse({effect:u,update:a},d){u.allowRecurse=a.allowRecurse=d}function traverseStaticChildren(u,a,d=!1){const m=u.children,$=a.children;if(isArray$4(m)&&isArray$4($))for(let ee=0;ee<m.length;ee++){const te=m[ee];let b=$[ee];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=$[ee]=cloneIfMounted($[ee]),b.el=te.el),d||traverseStaticChildren(te,b))}}function getSequence(u){const a=u.slice(),d=[0];let m,$,ee,te,b;const re=u.length;for(m=0;m<re;m++){const ne=u[m];if(ne!==0){if($=d[d.length-1],u[$]<ne){a[m]=$,d.push(m);continue}for(ee=0,te=d.length-1;ee<te;)b=ee+te>>1,u[d[b]]<ne?ee=b+1:te=b;ne<u[d[ee]]&&(ee>0&&(a[m]=d[ee-1]),d[ee]=m)}}for(ee=d.length,te=d[ee-1];ee-- >0;)d[ee]=te,te=a[te];return d}const isTeleport=u=>u.__isTeleport,isTeleportDisabled=u=>u&&(u.disabled||u.disabled===""),isTargetSVG=u=>typeof SVGElement<"u"&&u instanceof SVGElement,resolveTarget=(u,a)=>{const d=u&&u.to;return isString$2(d)?a?a(d):null:d},TeleportImpl={__isTeleport:!0,process(u,a,d,m,$,ee,te,b,re,ne){const{mc:ie,pc:se,pbc:fe,o:{insert:ce,querySelector:de,createText:ye,createComment:ge}}=ne,_e=isTeleportDisabled(a.props);let{shapeFlag:Ee,children:Ae,dynamicChildren:we}=a;if(u==null){const Me=a.el=ye(""),ke=a.anchor=ye("");ce(Me,d,m),ce(ke,d,m);const Re=a.target=resolveTarget(a.props,de),ze=a.targetAnchor=ye("");Re&&(ce(ze,Re),te=te||isTargetSVG(Re));const Je=(et,Pe)=>{Ee&16&&ie(Ae,et,Pe,$,ee,te,b,re)};_e?Je(d,ke):Re&&Je(Re,ze)}else{a.el=u.el;const Me=a.anchor=u.anchor,ke=a.target=u.target,Re=a.targetAnchor=u.targetAnchor,ze=isTeleportDisabled(u.props),Je=ze?d:ke,et=ze?Me:Re;if(te=te||isTargetSVG(ke),we?(fe(u.dynamicChildren,we,Je,$,ee,te,b),traverseStaticChildren(u,a,!0)):re||se(u,a,Je,et,$,ee,te,b,!1),_e)ze||moveTeleport(a,d,Me,ne,1);else if((a.props&&a.props.to)!==(u.props&&u.props.to)){const Pe=a.target=resolveTarget(a.props,de);Pe&&moveTeleport(a,Pe,null,ne,0)}else ze&&moveTeleport(a,ke,Re,ne,1)}},remove(u,a,d,m,{um:$,o:{remove:ee}},te){const{shapeFlag:b,children:re,anchor:ne,targetAnchor:ie,target:se,props:fe}=u;if(se&&ee(ie),(te||!isTeleportDisabled(fe))&&(ee(ne),b&16))for(let ce=0;ce<re.length;ce++){const de=re[ce];$(de,a,d,!0,!!de.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(u,a,d,{o:{insert:m},m:$},ee=2){ee===0&&m(u.targetAnchor,a,d);const{el:te,anchor:b,shapeFlag:re,children:ne,props:ie}=u,se=ee===2;if(se&&m(te,a,d),(!se||isTeleportDisabled(ie))&&re&16)for(let fe=0;fe<ne.length;fe++)$(ne[fe],a,d,2);se&&m(b,a,d)}function hydrateTeleport(u,a,d,m,$,ee,{o:{nextSibling:te,parentNode:b,querySelector:re}},ne){const ie=a.target=resolveTarget(a.props,re);if(ie){const se=ie._lpa||ie.firstChild;if(a.shapeFlag&16)if(isTeleportDisabled(a.props))a.anchor=ne(te(u),a,b(u),d,m,$,ee),a.targetAnchor=se;else{a.anchor=te(u);let fe=se;for(;fe;)if(fe=te(fe),fe&&fe.nodeType===8&&fe.data==="teleport anchor"){a.targetAnchor=fe,ie._lpa=a.targetAnchor&&te(a.targetAnchor);break}ne(se,a,ie,d,m,$,ee)}}return a.anchor&&te(a.anchor)}const Teleport=TeleportImpl,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(u=!1){blockStack.push(currentBlock=u?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(u){isBlockTreeEnabled+=u}function setupBlock(u){return u.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(u),u}function createElementBlock(u,a,d,m,$,ee){return setupBlock(createBaseVNode(u,a,d,m,$,ee,!0))}function createBlock(u,a,d,m,$){return setupBlock(createVNode(u,a,d,m,$,!0))}function isVNode(u){return u?u.__v_isVNode===!0:!1}function isSameVNodeType(u,a){return u.type===a.type&&u.key===a.key}function transformVNodeArgs(u){}const InternalObjectKey="__vInternal",normalizeKey=({key:u})=>u??null,normalizeRef=({ref:u,ref_key:a,ref_for:d})=>u!=null?isString$2(u)||isRef(u)||isFunction$4(u)?{i:currentRenderingInstance,r:u,k:a,f:!!d}:u:null;function createBaseVNode(u,a=null,d=null,m=0,$=null,ee=u===Fragment?0:1,te=!1,b=!1){const re={__v_isVNode:!0,__v_skip:!0,type:u,props:a,key:a&&normalizeKey(a),ref:a&&normalizeRef(a),scopeId:currentScopeId,slotScopeIds:null,children:d,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:ee,patchFlag:m,dynamicProps:$,dynamicChildren:null,appContext:null};return b?(normalizeChildren(re,d),ee&128&&u.normalize(re)):d&&(re.shapeFlag|=isString$2(d)?8:16),isBlockTreeEnabled>0&&!te&&currentBlock&&(re.patchFlag>0||ee&6)&&re.patchFlag!==32&&currentBlock.push(re),re}const createVNode=_createVNode;function _createVNode(u,a=null,d=null,m=0,$=null,ee=!1){if((!u||u===NULL_DYNAMIC_COMPONENT)&&(u=Comment),isVNode(u)){const b=cloneVNode(u,a,!0);return d&&normalizeChildren(b,d),isBlockTreeEnabled>0&&!ee&&currentBlock&&(b.shapeFlag&6?currentBlock[currentBlock.indexOf(u)]=b:currentBlock.push(b)),b.patchFlag|=-2,b}if(isClassComponent(u)&&(u=u.__vccOpts),a){a=guardReactiveProps(a);let{class:b,style:re}=a;b&&!isString$2(b)&&(a.class=normalizeClass(b)),isObject$5(re)&&(isProxy(re)&&!isArray$4(re)&&(re=extend$1({},re)),a.style=normalizeStyle(re))}const te=isString$2(u)?1:isSuspense(u)?128:isTeleport(u)?64:isObject$5(u)?4:isFunction$4(u)?2:0;return createBaseVNode(u,a,d,m,$,te,ee,!0)}function guardReactiveProps(u){return u?isProxy(u)||InternalObjectKey in u?extend$1({},u):u:null}function cloneVNode(u,a,d=!1){const{props:m,ref:$,patchFlag:ee,children:te}=u,b=a?mergeProps(m||{},a):m;return{__v_isVNode:!0,__v_skip:!0,type:u.type,props:b,key:b&&normalizeKey(b),ref:a&&a.ref?d&&$?isArray$4($)?$.concat(normalizeRef(a)):[$,normalizeRef(a)]:normalizeRef(a):$,scopeId:u.scopeId,slotScopeIds:u.slotScopeIds,children:te,target:u.target,targetAnchor:u.targetAnchor,staticCount:u.staticCount,shapeFlag:u.shapeFlag,patchFlag:a&&u.type!==Fragment?ee===-1?16:ee|16:ee,dynamicProps:u.dynamicProps,dynamicChildren:u.dynamicChildren,appContext:u.appContext,dirs:u.dirs,transition:u.transition,component:u.component,suspense:u.suspense,ssContent:u.ssContent&&cloneVNode(u.ssContent),ssFallback:u.ssFallback&&cloneVNode(u.ssFallback),el:u.el,anchor:u.anchor}}function createTextVNode(u=" ",a=0){return createVNode(Text,null,u,a)}function createStaticVNode(u,a){const d=createVNode(Static,null,u);return d.staticCount=a,d}function createCommentVNode(u="",a=!1){return a?(openBlock(),createBlock(Comment,null,u)):createVNode(Comment,null,u)}function normalizeVNode(u){return u==null||typeof u=="boolean"?createVNode(Comment):isArray$4(u)?createVNode(Fragment,null,u.slice()):typeof u=="object"?cloneIfMounted(u):createVNode(Text,null,String(u))}function cloneIfMounted(u){return u.el===null||u.memo?u:cloneVNode(u)}function normalizeChildren(u,a){let d=0;const{shapeFlag:m}=u;if(a==null)a=null;else if(isArray$4(a))d=16;else if(typeof a=="object")if(m&65){const $=a.default;$&&($._c&&($._d=!1),normalizeChildren(u,$()),$._c&&($._d=!0));return}else{d=32;const $=a._;!$&&!(InternalObjectKey in a)?a._ctx=currentRenderingInstance:$===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?a._=1:(a._=2,u.patchFlag|=1024))}else isFunction$4(a)?(a={default:a,_ctx:currentRenderingInstance},d=32):(a=String(a),m&64?(d=16,a=[createTextVNode(a)]):d=8);u.children=a,u.shapeFlag|=d}function mergeProps(...u){const a={};for(let d=0;d<u.length;d++){const m=u[d];for(const $ in m)if($==="class")a.class!==m.class&&(a.class=normalizeClass([a.class,m.class]));else if($==="style")a.style=normalizeStyle([a.style,m.style]);else if(isOn($)){const ee=a[$],te=m[$];te&&ee!==te&&!(isArray$4(ee)&&ee.includes(te))&&(a[$]=ee?[].concat(ee,te):te)}else $!==""&&(a[$]=m[$])}return a}function invokeVNodeHook(u,a,d,m=null){callWithAsyncErrorHandling(u,a,7,[d,m])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(u,a,d){const m=u.type,$=(a?a.appContext:u.appContext)||emptyAppContext,ee={uid:uid$1++,vnode:u,type:m,parent:a,appContext:$,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:a?a.provides:Object.create($.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(m,$),emitsOptions:normalizeEmitsOptions(m,$),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:m.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:d,suspenseId:d?d.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return ee.ctx={_:ee},ee.root=a?a.root:ee,ee.emit=emit$1.bind(null,ee),u.ce&&u.ce(ee),ee}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=u=>{currentInstance=u,u.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(u){return u.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(u,a=!1){isInSSRComponentSetup=a;const{props:d,children:m}=u.vnode,$=isStatefulComponent(u);initProps(u,d,$,a),initSlots(u,m);const ee=$?setupStatefulComponent(u,a):void 0;return isInSSRComponentSetup=!1,ee}function setupStatefulComponent(u,a){const d=u.type;u.accessCache=Object.create(null),u.proxy=markRaw(new Proxy(u.ctx,PublicInstanceProxyHandlers));const{setup:m}=d;if(m){const $=u.setupContext=m.length>1?createSetupContext(u):null;setCurrentInstance(u),pauseTracking();const ee=callWithErrorHandling(m,u,0,[u.props,$]);if(resetTracking(),unsetCurrentInstance(),isPromise(ee)){if(ee.then(unsetCurrentInstance,unsetCurrentInstance),a)return ee.then(te=>{handleSetupResult(u,te,a)}).catch(te=>{handleError(te,u,0)});u.asyncDep=ee}else handleSetupResult(u,ee,a)}else finishComponentSetup(u,a)}function handleSetupResult(u,a,d){isFunction$4(a)?u.type.__ssrInlineRender?u.ssrRender=a:u.render=a:isObject$5(a)&&(u.setupState=proxyRefs(a)),finishComponentSetup(u,d)}let compile$1,installWithProxy;function registerRuntimeCompiler(u){compile$1=u,installWithProxy=a=>{a.render._rc&&(a.withProxy=new Proxy(a.ctx,RuntimeCompiledPublicInstanceProxyHandlers))}}const isRuntimeOnly=()=>!compile$1;function finishComponentSetup(u,a,d){const m=u.type;if(!u.render){if(!a&&compile$1&&!m.render){const $=m.template;if($){const{isCustomElement:ee,compilerOptions:te}=u.appContext.config,{delimiters:b,compilerOptions:re}=m,ne=extend$1(extend$1({isCustomElement:ee,delimiters:b},te),re);m.render=compile$1($,ne)}}u.render=m.render||NOOP,installWithProxy&&installWithProxy(u)}setCurrentInstance(u),pauseTracking(),applyOptions(u),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(u){return new Proxy(u.attrs,{get(a,d){return track(u,"get","$attrs"),a[d]}})}function createSetupContext(u){const a=m=>{u.exposed=m||{}};let d;return{get attrs(){return d||(d=createAttrsProxy(u))},slots:u.slots,emit:u.emit,expose:a}}function getExposeProxy(u){if(u.exposed)return u.exposeProxy||(u.exposeProxy=new Proxy(proxyRefs(markRaw(u.exposed)),{get(a,d){if(d in a)return a[d];if(d in publicPropertiesMap)return publicPropertiesMap[d](u)}}))}const classifyRE=/(?:^|[-_])(\w)/g,classify=u=>u.replace(classifyRE,a=>a.toUpperCase()).replace(/[-_]/g,"");function getComponentName(u,a=!0){return isFunction$4(u)?u.displayName||u.name:u.name||a&&u.__name}function formatComponentName(u,a,d=!1){let m=getComponentName(a);if(!m&&a.__file){const $=a.__file.match(/([^/\\]+)\.\w+$/);$&&(m=$[1])}if(!m&&u&&u.parent){const $=ee=>{for(const te in ee)if(ee[te]===a)return te};m=$(u.components||u.parent.type.components)||$(u.appContext.components)}return m?classify(m):d?"App":"Anonymous"}function isClassComponent(u){return isFunction$4(u)&&"__vccOpts"in u}const computed=(u,a)=>computed$1(u,a,isInSSRComponentSetup);function defineProps(){return null}function defineEmits(){return null}function defineExpose(u){}function withDefaults(u,a){return null}function useSlots(){return getContext().slots}function useAttrs(){return getContext().attrs}function getContext(){const u=getCurrentInstance();return u.setupContext||(u.setupContext=createSetupContext(u))}function mergeDefaults(u,a){const d=isArray$4(u)?u.reduce((m,$)=>(m[$]={},m),{}):u;for(const m in a){const $=d[m];$?isArray$4($)||isFunction$4($)?d[m]={type:$,default:a[m]}:$.default=a[m]:$===null&&(d[m]={default:a[m]})}return d}function createPropsRestProxy(u,a){const d={};for(const m in u)a.includes(m)||Object.defineProperty(d,m,{enumerable:!0,get:()=>u[m]});return d}function withAsyncContext(u){const a=getCurrentInstance();let d=u();return unsetCurrentInstance(),isPromise(d)&&(d=d.catch(m=>{throw setCurrentInstance(a),m})),[d,()=>setCurrentInstance(a)]}function h(u,a,d){const m=arguments.length;return m===2?isObject$5(a)&&!isArray$4(a)?isVNode(a)?createVNode(u,null,[a]):createVNode(u,a):createVNode(u,null,a):(m>3?d=Array.prototype.slice.call(arguments,2):m===3&&isVNode(d)&&(d=[d]),createVNode(u,a,d))}const ssrContextKey$1=Symbol(""),useSSRContext=()=>{{const u=inject(ssrContextKey$1);return u||warn$4("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),u}};function initCustomFormatter(){}function withMemo(u,a,d,m){const $=d[m];if($&&isMemoSame($,u))return $;const ee=a();return ee.memo=u.slice(),d[m]=ee}function isMemoSame(u,a){const d=u.memo;if(d.length!=a.length)return!1;for(let m=0;m<d.length;m++)if(hasChanged(d[m],a[m]))return!1;return isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(u),!0}const version$7="3.2.37",_ssrUtils={createComponentInstance,setupComponent,renderComponentRoot,setCurrentRenderingInstance,isVNode,normalizeVNode},ssrUtils=_ssrUtils,resolveFilter=null,compatUtils=null,svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(u,a,d)=>{a.insertBefore(u,d||null)},remove:u=>{const a=u.parentNode;a&&a.removeChild(u)},createElement:(u,a,d,m)=>{const $=a?doc.createElementNS(svgNS,u):doc.createElement(u,d?{is:d}:void 0);return u==="select"&&m&&m.multiple!=null&&$.setAttribute("multiple",m.multiple),$},createText:u=>doc.createTextNode(u),createComment:u=>doc.createComment(u),setText:(u,a)=>{u.nodeValue=a},setElementText:(u,a)=>{u.textContent=a},parentNode:u=>u.parentNode,nextSibling:u=>u.nextSibling,querySelector:u=>doc.querySelector(u),setScopeId(u,a){u.setAttribute(a,"")},cloneNode(u){const a=u.cloneNode(!0);return"_value"in u&&(a._value=u._value),a},insertStaticContent(u,a,d,m,$,ee){const te=d?d.previousSibling:a.lastChild;if($&&($===ee||$.nextSibling))for(;a.insertBefore($.cloneNode(!0),d),!($===ee||!($=$.nextSibling)););else{templateContainer.innerHTML=m?`<svg>${u}</svg>`:u;const b=templateContainer.content;if(m){const re=b.firstChild;for(;re.firstChild;)b.appendChild(re.firstChild);b.removeChild(re)}a.insertBefore(b,d)}return[te?te.nextSibling:a.firstChild,d?d.previousSibling:a.lastChild]}};function patchClass(u,a,d){const m=u._vtc;m&&(a=(a?[a,...m]:[...m]).join(" ")),a==null?u.removeAttribute("class"):d?u.setAttribute("class",a):u.className=a}function patchStyle(u,a,d){const m=u.style,$=isString$2(d);if(d&&!$){for(const ee in d)setStyle(m,ee,d[ee]);if(a&&!isString$2(a))for(const ee in a)d[ee]==null&&setStyle(m,ee,"")}else{const ee=m.display;$?a!==d&&(m.cssText=d):a&&u.removeAttribute("style"),"_vod"in u&&(m.display=ee)}}const importantRE=/\s*!important$/;function setStyle(u,a,d){if(isArray$4(d))d.forEach(m=>setStyle(u,a,m));else if(d==null&&(d=""),a.startsWith("--"))u.setProperty(a,d);else{const m=autoPrefix(u,a);importantRE.test(d)?u.setProperty(hyphenate(m),d.replace(importantRE,""),"important"):u[m]=d}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(u,a){const d=prefixCache[a];if(d)return d;let m=camelize(a);if(m!=="filter"&&m in u)return prefixCache[a]=m;m=capitalize$1(m);for(let $=0;$<prefixes.length;$++){const ee=prefixes[$]+m;if(ee in u)return prefixCache[a]=ee}return a}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(u,a,d,m,$){if(m&&a.startsWith("xlink:"))d==null?u.removeAttributeNS(xlinkNS,a.slice(6,a.length)):u.setAttributeNS(xlinkNS,a,d);else{const ee=isSpecialBooleanAttr(a);d==null||ee&&!includeBooleanAttr(d)?u.removeAttribute(a):u.setAttribute(a,ee?"":d)}}function patchDOMProp(u,a,d,m,$,ee,te){if(a==="innerHTML"||a==="textContent"){m&&te(m,$,ee),u[a]=d??"";return}if(a==="value"&&u.tagName!=="PROGRESS"&&!u.tagName.includes("-")){u._value=d;const re=d??"";(u.value!==re||u.tagName==="OPTION")&&(u.value=re),d==null&&u.removeAttribute(a);return}let b=!1;if(d===""||d==null){const re=typeof u[a];re==="boolean"?d=includeBooleanAttr(d):d==null&&re==="string"?(d="",b=!0):re==="number"&&(d=0,b=!0)}try{u[a]=d}catch{}b&&u.removeAttribute(a)}const[_getNow,skipTimestampCheck]=(()=>{let u=Date.now,a=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(u=performance.now.bind(performance));const d=navigator.userAgent.match(/firefox\/(\d+)/i);a=!!(d&&Number(d[1])<=53)}return[u,a]})();let cachedNow=0;const p$1=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$1.then(reset),cachedNow=_getNow());function addEventListener$1(u,a,d,m){u.addEventListener(a,d,m)}function removeEventListener(u,a,d,m){u.removeEventListener(a,d,m)}function patchEvent(u,a,d,m,$=null){const ee=u._vei||(u._vei={}),te=ee[a];if(m&&te)te.value=m;else{const[b,re]=parseName(a);if(m){const ne=ee[a]=createInvoker(m,$);addEventListener$1(u,b,ne,re)}else te&&(removeEventListener(u,b,te,re),ee[a]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(u){let a;if(optionsModifierRE.test(u)){a={};let d;for(;d=u.match(optionsModifierRE);)u=u.slice(0,u.length-d[0].length),a[d[0].toLowerCase()]=!0}return[hyphenate(u.slice(2)),a]}function createInvoker(u,a){const d=m=>{const $=m.timeStamp||_getNow();(skipTimestampCheck||$>=d.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(m,d.value),a,5,[m])};return d.value=u,d.attached=getNow(),d}function patchStopImmediatePropagation(u,a){if(isArray$4(a)){const d=u.stopImmediatePropagation;return u.stopImmediatePropagation=()=>{d.call(u),u._stopped=!0},a.map(m=>$=>!$._stopped&&m&&m($))}else return a}const nativeOnRE=/^on[a-z]/,patchProp=(u,a,d,m,$=!1,ee,te,b,re)=>{a==="class"?patchClass(u,m,$):a==="style"?patchStyle(u,d,m):isOn(a)?isModelListener(a)||patchEvent(u,a,d,m,te):(a[0]==="."?(a=a.slice(1),!0):a[0]==="^"?(a=a.slice(1),!1):shouldSetAsProp(u,a,m,$))?patchDOMProp(u,a,m,ee,te,b,re):(a==="true-value"?u._trueValue=m:a==="false-value"&&(u._falseValue=m),patchAttr(u,a,m,$))};function shouldSetAsProp(u,a,d,m){return m?!!(a==="innerHTML"||a==="textContent"||a in u&&nativeOnRE.test(a)&&isFunction$4(d)):a==="spellcheck"||a==="draggable"||a==="translate"||a==="form"||a==="list"&&u.tagName==="INPUT"||a==="type"&&u.tagName==="TEXTAREA"||nativeOnRE.test(a)&&isString$2(d)?!1:a in u}function defineCustomElement(u,a){const d=defineComponent(u);class m extends VueElement{constructor(ee){super(d,ee,a)}}return m.def=d,m}const defineSSRCustomElement=u=>defineCustomElement(u,hydrate),BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(a,d={},m){super(),this._def=a,this._props=d,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&m?m(this._createVNode(),this.shadowRoot):this.attachShadow({mode:"open"})}connectedCallback(){this._connected=!0,this._instance||this._resolveDef()}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render$2(null,this.shadowRoot),this._instance=null)})}_resolveDef(){if(this._resolved)return;this._resolved=!0;for(let m=0;m<this.attributes.length;m++)this._setAttr(this.attributes[m].name);new MutationObserver(m=>{for(const $ of m)this._setAttr($.attributeName)}).observe(this,{attributes:!0});const a=m=>{const{props:$,styles:ee}=m,te=!isArray$4($),b=$?te?Object.keys($):$:[];let re;if(te)for(const ne in this._props){const ie=$[ne];(ie===Number||ie&&ie.type===Number)&&(this._props[ne]=toNumber$1(this._props[ne]),(re||(re=Object.create(null)))[ne]=!0)}this._numberProps=re;for(const ne of Object.keys(this))ne[0]!=="_"&&this._setProp(ne,this[ne],!0,!1);for(const ne of b.map(camelize))Object.defineProperty(this,ne,{get(){return this._getProp(ne)},set(ie){this._setProp(ne,ie)}});this._applyStyles(ee),this._update()},d=this._def.__asyncLoader;d?d().then(a):a(this._def)}_setAttr(a){let d=this.getAttribute(a);this._numberProps&&this._numberProps[a]&&(d=toNumber$1(d)),this._setProp(camelize(a),d,!1)}_getProp(a){return this._props[a]}_setProp(a,d,m=!0,$=!0){d!==this._props[a]&&(this._props[a]=d,$&&this._instance&&this._update(),m&&(d===!0?this.setAttribute(hyphenate(a),""):typeof d=="string"||typeof d=="number"?this.setAttribute(hyphenate(a),d+""):d||this.removeAttribute(hyphenate(a))))}_update(){render$2(this._createVNode(),this.shadowRoot)}_createVNode(){const a=createVNode(this._def,extend$1({},this._props));return this._instance||(a.ce=d=>{this._instance=d,d.isCE=!0,d.emit=($,...ee)=>{this.dispatchEvent(new CustomEvent($,{detail:ee}))};let m=this;for(;m=m&&(m.parentNode||m.host);)if(m instanceof VueElement){d.parent=m._instance;break}}),a}_applyStyles(a){a&&a.forEach(d=>{const m=document.createElement("style");m.textContent=d,this.shadowRoot.appendChild(m)})}}function useCssModule(u="$style"){{const a=getCurrentInstance();if(!a)return EMPTY_OBJ;const d=a.type.__cssModules;if(!d)return EMPTY_OBJ;const m=d[u];return m||EMPTY_OBJ}}function useCssVars(u){const a=getCurrentInstance();if(!a)return;const d=()=>setVarsOnVNode(a.subTree,u(a.proxy));watchPostEffect(d),onMounted(()=>{const m=new MutationObserver(d);m.observe(a.subTree.el.parentNode,{childList:!0}),onUnmounted(()=>m.disconnect())})}function setVarsOnVNode(u,a){if(u.shapeFlag&128){const d=u.suspense;u=d.activeBranch,d.pendingBranch&&!d.isHydrating&&d.effects.push(()=>{setVarsOnVNode(d.activeBranch,a)})}for(;u.component;)u=u.component.subTree;if(u.shapeFlag&1&&u.el)setVarsOnNode(u.el,a);else if(u.type===Fragment)u.children.forEach(d=>setVarsOnVNode(d,a));else if(u.type===Static){let{el:d,anchor:m}=u;for(;d&&(setVarsOnNode(d,a),d!==m);)d=d.nextSibling}}function setVarsOnNode(u,a){if(u.nodeType===1){const d=u.style;for(const m in a)d.setProperty(`--${m}`,a[m])}}const TRANSITION="transition",ANIMATION="animation",Transition=(u,{slots:a})=>h(BaseTransition,resolveTransitionProps(u),a);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend$1({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(u,a=[])=>{isArray$4(u)?u.forEach(d=>d(...a)):u&&u(...a)},hasExplicitCallback=u=>u?isArray$4(u)?u.some(a=>a.length>1):u.length>1:!1;function resolveTransitionProps(u){const a={};for(const ve in u)ve in DOMTransitionPropsValidators||(a[ve]=u[ve]);if(u.css===!1)return a;const{name:d="v",type:m,duration:$,enterFromClass:ee=`${d}-enter-from`,enterActiveClass:te=`${d}-enter-active`,enterToClass:b=`${d}-enter-to`,appearFromClass:re=ee,appearActiveClass:ne=te,appearToClass:ie=b,leaveFromClass:se=`${d}-leave-from`,leaveActiveClass:fe=`${d}-leave-active`,leaveToClass:ce=`${d}-leave-to`}=u,de=normalizeDuration($),ye=de&&de[0],ge=de&&de[1],{onBeforeEnter:_e,onEnter:Ee,onEnterCancelled:Ae,onLeave:we,onLeaveCancelled:Me,onBeforeAppear:ke=_e,onAppear:Re=Ee,onAppearCancelled:ze=Ae}=a,Je=(ve,le,ae)=>{removeTransitionClass(ve,le?ie:b),removeTransitionClass(ve,le?ne:te),ae&&ae()},et=(ve,le)=>{ve._isLeaving=!1,removeTransitionClass(ve,se),removeTransitionClass(ve,ce),removeTransitionClass(ve,fe),le&&le()},Pe=ve=>(le,ae)=>{const he=ve?Re:Ee,xe=()=>Je(le,ve,ae);callHook(he,[le,xe]),nextFrame(()=>{removeTransitionClass(le,ve?re:ee),addTransitionClass(le,ve?ie:b),hasExplicitCallback(he)||whenTransitionEnds(le,m,ye,xe)})};return extend$1(a,{onBeforeEnter(ve){callHook(_e,[ve]),addTransitionClass(ve,ee),addTransitionClass(ve,te)},onBeforeAppear(ve){callHook(ke,[ve]),addTransitionClass(ve,re),addTransitionClass(ve,ne)},onEnter:Pe(!1),onAppear:Pe(!0),onLeave(ve,le){ve._isLeaving=!0;const ae=()=>et(ve,le);addTransitionClass(ve,se),forceReflow(),addTransitionClass(ve,fe),nextFrame(()=>{!ve._isLeaving||(removeTransitionClass(ve,se),addTransitionClass(ve,ce),hasExplicitCallback(we)||whenTransitionEnds(ve,m,ge,ae))}),callHook(we,[ve,ae])},onEnterCancelled(ve){Je(ve,!1),callHook(Ae,[ve])},onAppearCancelled(ve){Je(ve,!0),callHook(ze,[ve])},onLeaveCancelled(ve){et(ve),callHook(Me,[ve])}})}function normalizeDuration(u){if(u==null)return null;if(isObject$5(u))return[NumberOf(u.enter),NumberOf(u.leave)];{const a=NumberOf(u);return[a,a]}}function NumberOf(u){return toNumber$1(u)}function addTransitionClass(u,a){a.split(/\s+/).forEach(d=>d&&u.classList.add(d)),(u._vtc||(u._vtc=new Set)).add(a)}function removeTransitionClass(u,a){a.split(/\s+/).forEach(m=>m&&u.classList.remove(m));const{_vtc:d}=u;d&&(d.delete(a),d.size||(u._vtc=void 0))}function nextFrame(u){requestAnimationFrame(()=>{requestAnimationFrame(u)})}let endId=0;function whenTransitionEnds(u,a,d,m){const $=u._endId=++endId,ee=()=>{$===u._endId&&m()};if(d)return setTimeout(ee,d);const{type:te,timeout:b,propCount:re}=getTransitionInfo(u,a);if(!te)return m();const ne=te+"end";let ie=0;const se=()=>{u.removeEventListener(ne,fe),ee()},fe=ce=>{ce.target===u&&++ie>=re&&se()};setTimeout(()=>{ie<re&&se()},b+1),u.addEventListener(ne,fe)}function getTransitionInfo(u,a){const d=window.getComputedStyle(u),m=de=>(d[de]||"").split(", "),$=m(TRANSITION+"Delay"),ee=m(TRANSITION+"Duration"),te=getTimeout($,ee),b=m(ANIMATION+"Delay"),re=m(ANIMATION+"Duration"),ne=getTimeout(b,re);let ie=null,se=0,fe=0;a===TRANSITION?te>0&&(ie=TRANSITION,se=te,fe=ee.length):a===ANIMATION?ne>0&&(ie=ANIMATION,se=ne,fe=re.length):(se=Math.max(te,ne),ie=se>0?te>ne?TRANSITION:ANIMATION:null,fe=ie?ie===TRANSITION?ee.length:re.length:0);const ce=ie===TRANSITION&&/\b(transform|all)(,|$)/.test(d[TRANSITION+"Property"]);return{type:ie,timeout:se,propCount:fe,hasTransform:ce}}function getTimeout(u,a){for(;u.length<a.length;)u=u.concat(u);return Math.max(...a.map((d,m)=>toMs(d)+toMs(u[m])))}function toMs(u){return Number(u.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(u,{slots:a}){const d=getCurrentInstance(),m=useTransitionState();let $,ee;return onUpdated(()=>{if(!$.length)return;const te=u.moveClass||`${u.name||"v"}-move`;if(!hasCSSTransform($[0].el,d.vnode.el,te))return;$.forEach(callPendingCbs),$.forEach(recordPosition);const b=$.filter(applyTranslation);forceReflow(),b.forEach(re=>{const ne=re.el,ie=ne.style;addTransitionClass(ne,te),ie.transform=ie.webkitTransform=ie.transitionDuration="";const se=ne._moveCb=fe=>{fe&&fe.target!==ne||(!fe||/transform$/.test(fe.propertyName))&&(ne.removeEventListener("transitionend",se),ne._moveCb=null,removeTransitionClass(ne,te))};ne.addEventListener("transitionend",se)})}),()=>{const te=toRaw(u),b=resolveTransitionProps(te);let re=te.tag||Fragment;$=ee,ee=a.default?getTransitionRawChildren(a.default()):[];for(let ne=0;ne<ee.length;ne++){const ie=ee[ne];ie.key!=null&&setTransitionHooks(ie,resolveTransitionHooks(ie,b,m,d))}if($)for(let ne=0;ne<$.length;ne++){const ie=$[ne];setTransitionHooks(ie,resolveTransitionHooks(ie,b,m,d)),positionMap.set(ie,ie.el.getBoundingClientRect())}return createVNode(re,null,ee)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(u){const a=u.el;a._moveCb&&a._moveCb(),a._enterCb&&a._enterCb()}function recordPosition(u){newPositionMap.set(u,u.el.getBoundingClientRect())}function applyTranslation(u){const a=positionMap.get(u),d=newPositionMap.get(u),m=a.left-d.left,$=a.top-d.top;if(m||$){const ee=u.el.style;return ee.transform=ee.webkitTransform=`translate(${m}px,${$}px)`,ee.transitionDuration="0s",u}}function hasCSSTransform(u,a,d){const m=u.cloneNode();u._vtc&&u._vtc.forEach(te=>{te.split(/\s+/).forEach(b=>b&&m.classList.remove(b))}),d.split(/\s+/).forEach(te=>te&&m.classList.add(te)),m.style.display="none";const $=a.nodeType===1?a:a.parentNode;$.appendChild(m);const{hasTransform:ee}=getTransitionInfo(m);return $.removeChild(m),ee}const getModelAssigner=u=>{const a=u.props["onUpdate:modelValue"]||!1;return isArray$4(a)?d=>invokeArrayFns(a,d):a};function onCompositionStart(u){u.target.composing=!0}function onCompositionEnd(u){const a=u.target;a.composing&&(a.composing=!1,a.dispatchEvent(new Event("input")))}const vModelText={created(u,{modifiers:{lazy:a,trim:d,number:m}},$){u._assign=getModelAssigner($);const ee=m||$.props&&$.props.type==="number";addEventListener$1(u,a?"change":"input",te=>{if(te.target.composing)return;let b=u.value;d&&(b=b.trim()),ee&&(b=toNumber$1(b)),u._assign(b)}),d&&addEventListener$1(u,"change",()=>{u.value=u.value.trim()}),a||(addEventListener$1(u,"compositionstart",onCompositionStart),addEventListener$1(u,"compositionend",onCompositionEnd),addEventListener$1(u,"change",onCompositionEnd))},mounted(u,{value:a}){u.value=a??""},beforeUpdate(u,{value:a,modifiers:{lazy:d,trim:m,number:$}},ee){if(u._assign=getModelAssigner(ee),u.composing||document.activeElement===u&&u.type!=="range"&&(d||m&&u.value.trim()===a||($||u.type==="number")&&toNumber$1(u.value)===a))return;const te=a??"";u.value!==te&&(u.value=te)}},vModelCheckbox={deep:!0,created(u,a,d){u._assign=getModelAssigner(d),addEventListener$1(u,"change",()=>{const m=u._modelValue,$=getValue$1(u),ee=u.checked,te=u._assign;if(isArray$4(m)){const b=looseIndexOf(m,$),re=b!==-1;if(ee&&!re)te(m.concat($));else if(!ee&&re){const ne=[...m];ne.splice(b,1),te(ne)}}else if(isSet$1(m)){const b=new Set(m);ee?b.add($):b.delete($),te(b)}else te(getCheckboxValue(u,ee))})},mounted:setChecked,beforeUpdate(u,a,d){u._assign=getModelAssigner(d),setChecked(u,a,d)}};function setChecked(u,{value:a,oldValue:d},m){u._modelValue=a,isArray$4(a)?u.checked=looseIndexOf(a,m.props.value)>-1:isSet$1(a)?u.checked=a.has(m.props.value):a!==d&&(u.checked=looseEqual(a,getCheckboxValue(u,!0)))}const vModelRadio={created(u,{value:a},d){u.checked=looseEqual(a,d.props.value),u._assign=getModelAssigner(d),addEventListener$1(u,"change",()=>{u._assign(getValue$1(u))})},beforeUpdate(u,{value:a,oldValue:d},m){u._assign=getModelAssigner(m),a!==d&&(u.checked=looseEqual(a,m.props.value))}},vModelSelect={deep:!0,created(u,{value:a,modifiers:{number:d}},m){const $=isSet$1(a);addEventListener$1(u,"change",()=>{const ee=Array.prototype.filter.call(u.options,te=>te.selected).map(te=>d?toNumber$1(getValue$1(te)):getValue$1(te));u._assign(u.multiple?$?new Set(ee):ee:ee[0])}),u._assign=getModelAssigner(m)},mounted(u,{value:a}){setSelected(u,a)},beforeUpdate(u,a,d){u._assign=getModelAssigner(d)},updated(u,{value:a}){setSelected(u,a)}};function setSelected(u,a){const d=u.multiple;if(!(d&&!isArray$4(a)&&!isSet$1(a))){for(let m=0,$=u.options.length;m<$;m++){const ee=u.options[m],te=getValue$1(ee);if(d)isArray$4(a)?ee.selected=looseIndexOf(a,te)>-1:ee.selected=a.has(te);else if(looseEqual(getValue$1(ee),a)){u.selectedIndex!==m&&(u.selectedIndex=m);return}}!d&&u.selectedIndex!==-1&&(u.selectedIndex=-1)}}function getValue$1(u){return"_value"in u?u._value:u.value}function getCheckboxValue(u,a){const d=a?"_trueValue":"_falseValue";return d in u?u[d]:a}const vModelDynamic={created(u,a,d){callModelHook(u,a,d,null,"created")},mounted(u,a,d){callModelHook(u,a,d,null,"mounted")},beforeUpdate(u,a,d,m){callModelHook(u,a,d,m,"beforeUpdate")},updated(u,a,d,m){callModelHook(u,a,d,m,"updated")}};function resolveDynamicModel(u,a){switch(u){case"SELECT":return vModelSelect;case"TEXTAREA":return vModelText;default:switch(a){case"checkbox":return vModelCheckbox;case"radio":return vModelRadio;default:return vModelText}}}function callModelHook(u,a,d,m,$){const te=resolveDynamicModel(u.tagName,d.props&&d.props.type)[$];te&&te(u,a,d,m)}function initVModelForSSR(){vModelText.getSSRProps=({value:u})=>({value:u}),vModelRadio.getSSRProps=({value:u},a)=>{if(a.props&&looseEqual(a.props.value,u))return{checked:!0}},vModelCheckbox.getSSRProps=({value:u},a)=>{if(isArray$4(u)){if(a.props&&looseIndexOf(u,a.props.value)>-1)return{checked:!0}}else if(isSet$1(u)){if(a.props&&u.has(a.props.value))return{checked:!0}}else if(u)return{checked:!0}},vModelDynamic.getSSRProps=(u,a)=>{if(typeof a.type!="string")return;const d=resolveDynamicModel(a.type.toUpperCase(),a.props&&a.props.type);if(d.getSSRProps)return d.getSSRProps(u,a)}}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:u=>u.stopPropagation(),prevent:u=>u.preventDefault(),self:u=>u.target!==u.currentTarget,ctrl:u=>!u.ctrlKey,shift:u=>!u.shiftKey,alt:u=>!u.altKey,meta:u=>!u.metaKey,left:u=>"button"in u&&u.button!==0,middle:u=>"button"in u&&u.button!==1,right:u=>"button"in u&&u.button!==2,exact:(u,a)=>systemModifiers.some(d=>u[`${d}Key`]&&!a.includes(d))},withModifiers=(u,a)=>(d,...m)=>{for(let $=0;$<a.length;$++){const ee=modifierGuards[a[$]];if(ee&&ee(d,a))return}return u(d,...m)},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(u,a)=>d=>{if(!("key"in d))return;const m=hyphenate(d.key);if(a.some($=>$===m||keyNames[$]===m))return u(d)},vShow={beforeMount(u,{value:a},{transition:d}){u._vod=u.style.display==="none"?"":u.style.display,d&&a?d.beforeEnter(u):setDisplay(u,a)},mounted(u,{value:a},{transition:d}){d&&a&&d.enter(u)},updated(u,{value:a,oldValue:d},{transition:m}){!a!=!d&&(m?a?(m.beforeEnter(u),setDisplay(u,!0),m.enter(u)):m.leave(u,()=>{setDisplay(u,!1)}):setDisplay(u,a))},beforeUnmount(u,{value:a}){setDisplay(u,a)}};function setDisplay(u,a){u.style.display=a?u._vod:"none"}function initVShowForSSR(){vShow.getSSRProps=({value:u})=>{if(!u)return{style:{display:"none"}}}}const rendererOptions=extend$1({patchProp},nodeOps);let renderer,enabledHydration=!1;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}function ensureHydrationRenderer(){return renderer=enabledHydration?renderer:createHydrationRenderer(rendererOptions),enabledHydration=!0,renderer}const render$2=(...u)=>{ensureRenderer().render(...u)},hydrate=(...u)=>{ensureHydrationRenderer().hydrate(...u)},createApp=(...u)=>{const a=ensureRenderer().createApp(...u),{mount:d}=a;return a.mount=m=>{const $=normalizeContainer(m);if(!$)return;const ee=a._component;!isFunction$4(ee)&&!ee.render&&!ee.template&&(ee.template=$.innerHTML),$.innerHTML="";const te=d($,!1,$ instanceof SVGElement);return $ instanceof Element&&($.removeAttribute("v-cloak"),$.setAttribute("data-v-app","")),te},a},createSSRApp=(...u)=>{const a=ensureHydrationRenderer().createApp(...u),{mount:d}=a;return a.mount=m=>{const $=normalizeContainer(m);if($)return d($,!0,$ instanceof SVGElement)},a};function normalizeContainer(u){return isString$2(u)?document.querySelector(u):u}let ssrDirectiveInitialized=!1;const initDirectivesForSSR=()=>{ssrDirectiveInitialized||(ssrDirectiveInitialized=!0,initVModelForSSR(),initVShowForSSR())},compile=()=>{},vue_runtime_esmBundler=Object.freeze(Object.defineProperty({__proto__:null,compile,EffectScope,ReactiveEffect,customRef,effect:effect$3,effectScope,getCurrentScope,isProxy,isReactive,isReadonly,isRef,isShallow,markRaw,onScopeDispose,proxyRefs,reactive,readonly,ref,shallowReactive,shallowReadonly,shallowRef,stop:stop$1,toRaw,toRef,toRefs,triggerRef,unref,camelize,capitalize:capitalize$1,normalizeClass,normalizeProps,normalizeStyle,toDisplayString,toHandlerKey,BaseTransition,Comment,Fragment,KeepAlive,Static,Suspense,Teleport,Text,callWithAsyncErrorHandling,callWithErrorHandling,cloneVNode,compatUtils,computed,createBlock,createCommentVNode,createElementBlock,createElementVNode:createBaseVNode,createHydrationRenderer,createPropsRestProxy,createRenderer,createSlots,createStaticVNode,createTextVNode,createVNode,defineAsyncComponent,defineComponent,defineEmits,defineExpose,defineProps,get devtools(){return devtools},getCurrentInstance,getTransitionRawChildren,guardReactiveProps,h,handleError,initCustomFormatter,inject,isMemoSame,isRuntimeOnly,isVNode,mergeDefaults,mergeProps,nextTick,onActivated,onBeforeMount,onBeforeUnmount,onBeforeUpdate,onDeactivated,onErrorCaptured,onMounted,onRenderTracked,onRenderTriggered,onServerPrefetch,onUnmounted,onUpdated,openBlock,popScopeId,provide,pushScopeId,queuePostFlushCb,registerRuntimeCompiler,renderList,renderSlot,resolveComponent,resolveDirective,resolveDynamicComponent,resolveFilter,resolveTransitionHooks,setBlockTracking,setDevtoolsHook,setTransitionHooks,ssrContextKey:ssrContextKey$1,ssrUtils,toHandlers,transformVNodeArgs,useAttrs,useSSRContext,useSlots,useTransitionState,version:version$7,warn:warn$4,watch,watchEffect,watchPostEffect,watchSyncEffect,withAsyncContext,withCtx,withDefaults,withDirectives,withMemo,withScopeId,Transition,TransitionGroup,VueElement,createApp,createSSRApp,defineCustomElement,defineSSRCustomElement,hydrate,initDirectivesForSSR,render:render$2,useCssModule,useCssVars,vModelCheckbox,vModelDynamic,vModelRadio,vModelSelect,vModelText,vShow,withKeys,withModifiers},Symbol.toStringTag,{value:"Module"}));var isVue2=!1;/*!
  * pinia v2.0.17
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=u=>activePinia=u,piniaSymbol=Symbol();function isPlainObject$1(u){return u&&typeof u=="object"&&Object.prototype.toString.call(u)==="[object Object]"&&typeof u.toJSON!="function"}var MutationType;(function(u){u.direct="direct",u.patchObject="patch object",u.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const u=effectScope(!0),a=u.run(()=>ref({}));let d=[],m=[];const $=markRaw({install(ee){setActivePinia($),$._a=ee,ee.provide(piniaSymbol,$),ee.config.globalProperties.$pinia=$,m.forEach(te=>d.push(te)),m=[]},use(ee){return!this._a&&!isVue2?m.push(ee):d.push(ee),this},_p:d,_a:null,_e:u,_s:new Map,state:a});return $}const noop$4=()=>{};function addSubscription(u,a,d,m=noop$4){u.push(a);const $=()=>{const ee=u.indexOf(a);ee>-1&&(u.splice(ee,1),m())};return!d&&getCurrentInstance()&&onUnmounted($),$}function triggerSubscriptions(u,...a){u.slice().forEach(d=>{d(...a)})}function mergeReactiveObjects(u,a){for(const d in a){if(!a.hasOwnProperty(d))continue;const m=a[d],$=u[d];isPlainObject$1($)&&isPlainObject$1(m)&&u.hasOwnProperty(d)&&!isRef(m)&&!isReactive(m)?u[d]=mergeReactiveObjects($,m):u[d]=m}return u}const skipHydrateSymbol=Symbol();function shouldHydrate(u){return!isPlainObject$1(u)||!u.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$2}=Object;function isComputed(u){return!!(isRef(u)&&u.effect)}function createOptionsStore(u,a,d,m){const{state:$,actions:ee,getters:te}=a,b=d.state.value[u];let re;function ne(){b||(d.state.value[u]=$?$():{});const ie=toRefs(d.state.value[u]);return assign$2(ie,ee,Object.keys(te||{}).reduce((se,fe)=>(se[fe]=markRaw(computed(()=>{setActivePinia(d);const ce=d._s.get(u);return te[fe].call(ce,ce)})),se),{}))}return re=createSetupStore(u,ne,a,d,m,!0),re.$reset=function(){const se=$?$():{};this.$patch(fe=>{assign$2(fe,se)})},re}function createSetupStore(u,a,d={},m,$,ee){let te;const b=assign$2({actions:{}},d),re={deep:!0};let ne,ie,se=markRaw([]),fe=markRaw([]),ce;const de=m.state.value[u];!ee&&!de&&(m.state.value[u]={}),ref({});let ye;function ge(Re){let ze;ne=ie=!1,typeof Re=="function"?(Re(m.state.value[u]),ze={type:MutationType.patchFunction,storeId:u,events:ce}):(mergeReactiveObjects(m.state.value[u],Re),ze={type:MutationType.patchObject,payload:Re,storeId:u,events:ce});const Je=ye=Symbol();nextTick().then(()=>{ye===Je&&(ne=!0)}),ie=!0,triggerSubscriptions(se,ze,m.state.value[u])}const _e=noop$4;function Ee(){te.stop(),se=[],fe=[],m._s.delete(u)}function Ae(Re,ze){return function(){setActivePinia(m);const Je=Array.from(arguments),et=[],Pe=[];function ve(he){et.push(he)}function le(he){Pe.push(he)}triggerSubscriptions(fe,{args:Je,name:Re,store:Me,after:ve,onError:le});let ae;try{ae=ze.apply(this&&this.$id===u?this:Me,Je)}catch(he){throw triggerSubscriptions(Pe,he),he}return ae instanceof Promise?ae.then(he=>(triggerSubscriptions(et,he),he)).catch(he=>(triggerSubscriptions(Pe,he),Promise.reject(he))):(triggerSubscriptions(et,ae),ae)}}const we={_p:m,$id:u,$onAction:addSubscription.bind(null,fe),$patch:ge,$reset:_e,$subscribe(Re,ze={}){const Je=addSubscription(se,Re,ze.detached,()=>et()),et=te.run(()=>watch(()=>m.state.value[u],Pe=>{(ze.flush==="sync"?ie:ne)&&Re({storeId:u,type:MutationType.direct,events:ce},Pe)},assign$2({},re,ze)));return Je},$dispose:Ee},Me=reactive(assign$2({},we));m._s.set(u,Me);const ke=m._e.run(()=>(te=effectScope(),te.run(()=>a())));for(const Re in ke){const ze=ke[Re];if(isRef(ze)&&!isComputed(ze)||isReactive(ze))ee||(de&&shouldHydrate(ze)&&(isRef(ze)?ze.value=de[Re]:mergeReactiveObjects(ze,de[Re])),m.state.value[u][Re]=ze);else if(typeof ze=="function"){const Je=Ae(Re,ze);ke[Re]=Je,b.actions[Re]=ze}}return assign$2(Me,ke),assign$2(toRaw(Me),ke),Object.defineProperty(Me,"$state",{get:()=>m.state.value[u],set:Re=>{ge(ze=>{assign$2(ze,Re)})}}),m._p.forEach(Re=>{assign$2(Me,te.run(()=>Re({store:Me,app:m._a,pinia:m,options:b})))}),de&&ee&&d.hydrate&&d.hydrate(Me.$state,de),ne=!0,ie=!0,Me}function defineStore(u,a,d){let m,$;const ee=typeof a=="function";typeof u=="string"?(m=u,$=ee?d:a):($=u,m=u.id);function te(b,re){const ne=getCurrentInstance();return b=b||ne&&inject(piniaSymbol),b&&setActivePinia(b),b=activePinia,b._s.has(m)||(ee?createSetupStore(m,a,$,b):createOptionsStore(m,$,b)),b._s.get(m)}return te.$id=m,te}/*!
  * vue-router v4.1.3
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser$3=typeof window<"u";function isESModule(u){return u.__esModule||u[Symbol.toStringTag]==="Module"}const assign$1=Object.assign;function applyToParams(u,a){const d={};for(const m in a){const $=a[m];d[m]=isArray$3($)?$.map(u):u($)}return d}const noop$3=()=>{},isArray$3=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=u=>u.replace(TRAILING_SLASH_RE,"");function parseURL(u,a,d="/"){let m,$={},ee="",te="";const b=a.indexOf("#");let re=a.indexOf("?");return b<re&&b>=0&&(re=-1),re>-1&&(m=a.slice(0,re),ee=a.slice(re+1,b>-1?b:a.length),$=u(ee)),b>-1&&(m=m||a.slice(0,b),te=a.slice(b,a.length)),m=resolveRelativePath(m??a,d),{fullPath:m+(ee&&"?")+ee+te,path:m,query:$,hash:te}}function stringifyURL(u,a){const d=a.query?u(a.query):"";return a.path+(d&&"?")+d+(a.hash||"")}function stripBase(u,a){return!a||!u.toLowerCase().startsWith(a.toLowerCase())?u:u.slice(a.length)||"/"}function isSameRouteLocation(u,a,d){const m=a.matched.length-1,$=d.matched.length-1;return m>-1&&m===$&&isSameRouteRecord(a.matched[m],d.matched[$])&&isSameRouteLocationParams(a.params,d.params)&&u(a.query)===u(d.query)&&a.hash===d.hash}function isSameRouteRecord(u,a){return(u.aliasOf||u)===(a.aliasOf||a)}function isSameRouteLocationParams(u,a){if(Object.keys(u).length!==Object.keys(a).length)return!1;for(const d in u)if(!isSameRouteLocationParamsValue(u[d],a[d]))return!1;return!0}function isSameRouteLocationParamsValue(u,a){return isArray$3(u)?isEquivalentArray(u,a):isArray$3(a)?isEquivalentArray(a,u):u===a}function isEquivalentArray(u,a){return isArray$3(a)?u.length===a.length&&u.every((d,m)=>d===a[m]):u.length===1&&u[0]===a}function resolveRelativePath(u,a){if(u.startsWith("/"))return u;if(!u)return a;const d=a.split("/"),m=u.split("/");let $=d.length-1,ee,te;for(ee=0;ee<m.length;ee++)if(te=m[ee],te!==".")if(te==="..")$>1&&$--;else break;return d.slice(0,$).join("/")+"/"+m.slice(ee-(ee===m.length?1:0)).join("/")}var NavigationType;(function(u){u.pop="pop",u.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(u){u.back="back",u.forward="forward",u.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(u){if(!u)if(isBrowser$3){const a=document.querySelector("base");u=a&&a.getAttribute("href")||"/",u=u.replace(/^\w+:\/\/[^\/]+/,"")}else u="/";return u[0]!=="/"&&u[0]!=="#"&&(u="/"+u),removeTrailingSlash(u)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(u,a){return u.replace(BEFORE_HASH_RE,"#")+a}function getElementPosition(u,a){const d=document.documentElement.getBoundingClientRect(),m=u.getBoundingClientRect();return{behavior:a.behavior,left:m.left-d.left-(a.left||0),top:m.top-d.top-(a.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(u){let a;if("el"in u){const d=u.el,m=typeof d=="string"&&d.startsWith("#"),$=typeof d=="string"?m?document.getElementById(d.slice(1)):document.querySelector(d):d;if(!$)return;a=getElementPosition($,u)}else a=u;"scrollBehavior"in document.documentElement.style?window.scrollTo(a):window.scrollTo(a.left!=null?a.left:window.pageXOffset,a.top!=null?a.top:window.pageYOffset)}function getScrollKey(u,a){return(history.state?history.state.position-a:-1)+u}const scrollPositions=new Map;function saveScrollPosition(u,a){scrollPositions.set(u,a)}function getSavedScrollPosition(u){const a=scrollPositions.get(u);return scrollPositions.delete(u),a}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(u,a){const{pathname:d,search:m,hash:$}=a,ee=u.indexOf("#");if(ee>-1){let b=$.includes(u.slice(ee))?u.slice(ee).length:1,re=$.slice(b);return re[0]!=="/"&&(re="/"+re),stripBase(re,"")}return stripBase(d,u)+m+$}function useHistoryListeners(u,a,d,m){let $=[],ee=[],te=null;const b=({state:fe})=>{const ce=createCurrentLocation(u,location),de=d.value,ye=a.value;let ge=0;if(fe){if(d.value=ce,a.value=fe,te&&te===de){te=null;return}ge=ye?fe.position-ye.position:0}else m(ce);$.forEach(_e=>{_e(d.value,de,{delta:ge,type:NavigationType.pop,direction:ge?ge>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function re(){te=d.value}function ne(fe){$.push(fe);const ce=()=>{const de=$.indexOf(fe);de>-1&&$.splice(de,1)};return ee.push(ce),ce}function ie(){const{history:fe}=window;!fe.state||fe.replaceState(assign$1({},fe.state,{scroll:computeScrollPosition()}),"")}function se(){for(const fe of ee)fe();ee=[],window.removeEventListener("popstate",b),window.removeEventListener("beforeunload",ie)}return window.addEventListener("popstate",b),window.addEventListener("beforeunload",ie),{pauseListeners:re,listen:ne,destroy:se}}function buildState(u,a,d,m=!1,$=!1){return{back:u,current:a,forward:d,replaced:m,position:window.history.length,scroll:$?computeScrollPosition():null}}function useHistoryStateNavigation(u){const{history:a,location:d}=window,m={value:createCurrentLocation(u,d)},$={value:a.state};$.value||ee(m.value,{back:null,current:m.value,forward:null,position:a.length-1,replaced:!0,scroll:null},!0);function ee(re,ne,ie){const se=u.indexOf("#"),fe=se>-1?(d.host&&document.querySelector("base")?u:u.slice(se))+re:createBaseLocation()+u+re;try{a[ie?"replaceState":"pushState"](ne,"",fe),$.value=ne}catch(ce){console.error(ce),d[ie?"replace":"assign"](fe)}}function te(re,ne){const ie=assign$1({},a.state,buildState($.value.back,re,$.value.forward,!0),ne,{position:$.value.position});ee(re,ie,!0),m.value=re}function b(re,ne){const ie=assign$1({},$.value,a.state,{forward:re,scroll:computeScrollPosition()});ee(ie.current,ie,!0);const se=assign$1({},buildState(m.value,re,null),{position:ie.position+1},ne);ee(re,se,!1),m.value=re}return{location:m,state:$,push:b,replace:te}}function createWebHistory(u){u=normalizeBase(u);const a=useHistoryStateNavigation(u),d=useHistoryListeners(u,a.state,a.location,a.replace);function m(ee,te=!0){te||d.pauseListeners(),history.go(ee)}const $=assign$1({location:"",base:u,go:m,createHref:createHref.bind(null,u)},a,d);return Object.defineProperty($,"location",{enumerable:!0,get:()=>a.location.value}),Object.defineProperty($,"state",{enumerable:!0,get:()=>a.state.value}),$}function isRouteLocation(u){return typeof u=="string"||u&&typeof u=="object"}function isRouteName(u){return typeof u=="string"||typeof u=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(u){u[u.aborted=4]="aborted",u[u.cancelled=8]="cancelled",u[u.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(u,a){return assign$1(new Error,{type:u,[NavigationFailureSymbol]:!0},a)}function isNavigationFailure(u,a){return u instanceof Error&&NavigationFailureSymbol in u&&(a==null||!!(u.type&a))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(u,a){const d=assign$1({},BASE_PATH_PARSER_OPTIONS,a),m=[];let $=d.start?"^":"";const ee=[];for(const ne of u){const ie=ne.length?[]:[90];d.strict&&!ne.length&&($+="/");for(let se=0;se<ne.length;se++){const fe=ne[se];let ce=40+(d.sensitive?.25:0);if(fe.type===0)se||($+="/"),$+=fe.value.replace(REGEX_CHARS_RE,"\\$&"),ce+=40;else if(fe.type===1){const{value:de,repeatable:ye,optional:ge,regexp:_e}=fe;ee.push({name:de,repeatable:ye,optional:ge});const Ee=_e||BASE_PARAM_PATTERN;if(Ee!==BASE_PARAM_PATTERN){ce+=10;try{new RegExp(`(${Ee})`)}catch(we){throw new Error(`Invalid custom RegExp for param "${de}" (${Ee}): `+we.message)}}let Ae=ye?`((?:${Ee})(?:/(?:${Ee}))*)`:`(${Ee})`;se||(Ae=ge&&ne.length<2?`(?:/${Ae})`:"/"+Ae),ge&&(Ae+="?"),$+=Ae,ce+=20,ge&&(ce+=-8),ye&&(ce+=-20),Ee===".*"&&(ce+=-50)}ie.push(ce)}m.push(ie)}if(d.strict&&d.end){const ne=m.length-1;m[ne][m[ne].length-1]+=.7000000000000001}d.strict||($+="/?"),d.end?$+="$":d.strict&&($+="(?:/|$)");const te=new RegExp($,d.sensitive?"":"i");function b(ne){const ie=ne.match(te),se={};if(!ie)return null;for(let fe=1;fe<ie.length;fe++){const ce=ie[fe]||"",de=ee[fe-1];se[de.name]=ce&&de.repeatable?ce.split("/"):ce}return se}function re(ne){let ie="",se=!1;for(const fe of u){(!se||!ie.endsWith("/"))&&(ie+="/"),se=!1;for(const ce of fe)if(ce.type===0)ie+=ce.value;else if(ce.type===1){const{value:de,repeatable:ye,optional:ge}=ce,_e=de in ne?ne[de]:"";if(isArray$3(_e)&&!ye)throw new Error(`Provided param "${de}" is an array but it is not repeatable (* or + modifiers)`);const Ee=isArray$3(_e)?_e.join("/"):_e;if(!Ee)if(ge)fe.length<2&&(ie.endsWith("/")?ie=ie.slice(0,-1):se=!0);else throw new Error(`Missing required param "${de}"`);ie+=Ee}}return ie||"/"}return{re:te,score:m,keys:ee,parse:b,stringify:re}}function compareScoreArray(u,a){let d=0;for(;d<u.length&&d<a.length;){const m=a[d]-u[d];if(m)return m;d++}return u.length<a.length?u.length===1&&u[0]===40+40?-1:1:u.length>a.length?a.length===1&&a[0]===40+40?1:-1:0}function comparePathParserScore(u,a){let d=0;const m=u.score,$=a.score;for(;d<m.length&&d<$.length;){const ee=compareScoreArray(m[d],$[d]);if(ee)return ee;d++}if(Math.abs($.length-m.length)===1){if(isLastScoreNegative(m))return 1;if(isLastScoreNegative($))return-1}return $.length-m.length}function isLastScoreNegative(u){const a=u[u.length-1];return u.length>0&&a[a.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(u){if(!u)return[[]];if(u==="/")return[[ROOT_TOKEN]];if(!u.startsWith("/"))throw new Error(`Invalid path "${u}"`);function a(ce){throw new Error(`ERR (${d})/"${ne}": ${ce}`)}let d=0,m=d;const $=[];let ee;function te(){ee&&$.push(ee),ee=[]}let b=0,re,ne="",ie="";function se(){!ne||(d===0?ee.push({type:0,value:ne}):d===1||d===2||d===3?(ee.length>1&&(re==="*"||re==="+")&&a(`A repeatable param (${ne}) must be alone in its segment. eg: '/:ids+.`),ee.push({type:1,value:ne,regexp:ie,repeatable:re==="*"||re==="+",optional:re==="*"||re==="?"})):a("Invalid state to consume buffer"),ne="")}function fe(){ne+=re}for(;b<u.length;){if(re=u[b++],re==="\\"&&d!==2){m=d,d=4;continue}switch(d){case 0:re==="/"?(ne&&se(),te()):re===":"?(se(),d=1):fe();break;case 4:fe(),d=m;break;case 1:re==="("?d=2:VALID_PARAM_RE.test(re)?fe():(se(),d=0,re!=="*"&&re!=="?"&&re!=="+"&&b--);break;case 2:re===")"?ie[ie.length-1]=="\\"?ie=ie.slice(0,-1)+re:d=3:ie+=re;break;case 3:se(),d=0,re!=="*"&&re!=="?"&&re!=="+"&&b--,ie="";break;default:a("Unknown state");break}}return d===2&&a(`Unfinished custom RegExp for param "${ne}"`),se(),te(),$}function createRouteRecordMatcher(u,a,d){const m=tokensToParser(tokenizePath(u.path),d),$=assign$1(m,{record:u,parent:a,children:[],alias:[]});return a&&!$.record.aliasOf==!a.record.aliasOf&&a.children.push($),$}function createRouterMatcher(u,a){const d=[],m=new Map;a=mergeOptions({strict:!1,end:!0,sensitive:!1},a);function $(ie){return m.get(ie)}function ee(ie,se,fe){const ce=!fe,de=normalizeRouteRecord(ie);de.aliasOf=fe&&fe.record;const ye=mergeOptions(a,ie),ge=[de];if("alias"in ie){const Ae=typeof ie.alias=="string"?[ie.alias]:ie.alias;for(const we of Ae)ge.push(assign$1({},de,{components:fe?fe.record.components:de.components,path:we,aliasOf:fe?fe.record:de}))}let _e,Ee;for(const Ae of ge){const{path:we}=Ae;if(se&&we[0]!=="/"){const Me=se.record.path,ke=Me[Me.length-1]==="/"?"":"/";Ae.path=se.record.path+(we&&ke+we)}if(_e=createRouteRecordMatcher(Ae,se,ye),fe?fe.alias.push(_e):(Ee=Ee||_e,Ee!==_e&&Ee.alias.push(_e),ce&&ie.name&&!isAliasRecord(_e)&&te(ie.name)),de.children){const Me=de.children;for(let ke=0;ke<Me.length;ke++)ee(Me[ke],_e,fe&&fe.children[ke])}fe=fe||_e,re(_e)}return Ee?()=>{te(Ee)}:noop$3}function te(ie){if(isRouteName(ie)){const se=m.get(ie);se&&(m.delete(ie),d.splice(d.indexOf(se),1),se.children.forEach(te),se.alias.forEach(te))}else{const se=d.indexOf(ie);se>-1&&(d.splice(se,1),ie.record.name&&m.delete(ie.record.name),ie.children.forEach(te),ie.alias.forEach(te))}}function b(){return d}function re(ie){let se=0;for(;se<d.length&&comparePathParserScore(ie,d[se])>=0&&(ie.record.path!==d[se].record.path||!isRecordChildOf(ie,d[se]));)se++;d.splice(se,0,ie),ie.record.name&&!isAliasRecord(ie)&&m.set(ie.record.name,ie)}function ne(ie,se){let fe,ce={},de,ye;if("name"in ie&&ie.name){if(fe=m.get(ie.name),!fe)throw createRouterError(1,{location:ie});ye=fe.record.name,ce=assign$1(paramsFromLocation(se.params,fe.keys.filter(Ee=>!Ee.optional).map(Ee=>Ee.name)),ie.params),de=fe.stringify(ce)}else if("path"in ie)de=ie.path,fe=d.find(Ee=>Ee.re.test(de)),fe&&(ce=fe.parse(de),ye=fe.record.name);else{if(fe=se.name?m.get(se.name):d.find(Ee=>Ee.re.test(se.path)),!fe)throw createRouterError(1,{location:ie,currentLocation:se});ye=fe.record.name,ce=assign$1({},se.params,ie.params),de=fe.stringify(ce)}const ge=[];let _e=fe;for(;_e;)ge.unshift(_e.record),_e=_e.parent;return{name:ye,path:de,params:ce,matched:ge,meta:mergeMetaFields(ge)}}return u.forEach(ie=>ee(ie)),{addRoute:ee,resolve:ne,removeRoute:te,getRoutes:b,getRecordMatcher:$}}function paramsFromLocation(u,a){const d={};for(const m of a)m in u&&(d[m]=u[m]);return d}function normalizeRouteRecord(u){return{path:u.path,redirect:u.redirect,name:u.name,meta:u.meta||{},aliasOf:void 0,beforeEnter:u.beforeEnter,props:normalizeRecordProps(u),children:u.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in u?u.components||null:u.component&&{default:u.component}}}function normalizeRecordProps(u){const a={},d=u.props||!1;if("component"in u)a.default=d;else for(const m in u.components)a[m]=typeof d=="boolean"?d:d[m];return a}function isAliasRecord(u){for(;u;){if(u.record.aliasOf)return!0;u=u.parent}return!1}function mergeMetaFields(u){return u.reduce((a,d)=>assign$1(a,d.meta),{})}function mergeOptions(u,a){const d={};for(const m in u)d[m]=m in a?a[m]:u[m];return d}function isRecordChildOf(u,a){return a.children.some(d=>d===u||isRecordChildOf(u,d))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(u){return encodeURI(""+u).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(u){return commonEncode(u).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(u){return commonEncode(u).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(u){return encodeQueryValue(u).replace(EQUAL_RE,"%3D")}function encodePath(u){return commonEncode(u).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(u){return u==null?"":encodePath(u).replace(SLASH_RE,"%2F")}function decode$1(u){try{return decodeURIComponent(""+u)}catch{}return""+u}function parseQuery(u){const a={};if(u===""||u==="?")return a;const m=(u[0]==="?"?u.slice(1):u).split("&");for(let $=0;$<m.length;++$){const ee=m[$].replace(PLUS_RE," "),te=ee.indexOf("="),b=decode$1(te<0?ee:ee.slice(0,te)),re=te<0?null:decode$1(ee.slice(te+1));if(b in a){let ne=a[b];isArray$3(ne)||(ne=a[b]=[ne]),ne.push(re)}else a[b]=re}return a}function stringifyQuery(u){let a="";for(let d in u){const m=u[d];if(d=encodeQueryKey(d),m==null){m!==void 0&&(a+=(a.length?"&":"")+d);continue}(isArray$3(m)?m.map(ee=>ee&&encodeQueryValue(ee)):[m&&encodeQueryValue(m)]).forEach(ee=>{ee!==void 0&&(a+=(a.length?"&":"")+d,ee!=null&&(a+="="+ee))})}return a}function normalizeQuery(u){const a={};for(const d in u){const m=u[d];m!==void 0&&(a[d]=isArray$3(m)?m.map($=>$==null?null:""+$):m==null?m:""+m)}return a}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let u=[];function a(m){return u.push(m),()=>{const $=u.indexOf(m);$>-1&&u.splice($,1)}}function d(){u=[]}return{add:a,list:()=>u,reset:d}}function guardToPromiseFn(u,a,d,m,$){const ee=m&&(m.enterCallbacks[$]=m.enterCallbacks[$]||[]);return()=>new Promise((te,b)=>{const re=se=>{se===!1?b(createRouterError(4,{from:d,to:a})):se instanceof Error?b(se):isRouteLocation(se)?b(createRouterError(2,{from:a,to:se})):(ee&&m.enterCallbacks[$]===ee&&typeof se=="function"&&ee.push(se),te())},ne=u.call(m&&m.instances[$],a,d,re);let ie=Promise.resolve(ne);u.length<3&&(ie=ie.then(re)),ie.catch(se=>b(se))})}function extractComponentsGuards(u,a,d,m){const $=[];for(const ee of u)for(const te in ee.components){let b=ee.components[te];if(!(a!=="beforeRouteEnter"&&!ee.instances[te]))if(isRouteComponent(b)){const ne=(b.__vccOpts||b)[a];ne&&$.push(guardToPromiseFn(ne,d,m,ee,te))}else{let re=b();$.push(()=>re.then(ne=>{if(!ne)return Promise.reject(new Error(`Couldn't resolve component "${te}" at "${ee.path}"`));const ie=isESModule(ne)?ne.default:ne;ee.components[te]=ie;const fe=(ie.__vccOpts||ie)[a];return fe&&guardToPromiseFn(fe,d,m,ee,te)()}))}}return $}function isRouteComponent(u){return typeof u=="object"||"displayName"in u||"props"in u||"__vccOpts"in u}function useLink(u){const a=inject(routerKey),d=inject(routeLocationKey),m=computed(()=>a.resolve(unref(u.to))),$=computed(()=>{const{matched:re}=m.value,{length:ne}=re,ie=re[ne-1],se=d.matched;if(!ie||!se.length)return-1;const fe=se.findIndex(isSameRouteRecord.bind(null,ie));if(fe>-1)return fe;const ce=getOriginalPath(re[ne-2]);return ne>1&&getOriginalPath(ie)===ce&&se[se.length-1].path!==ce?se.findIndex(isSameRouteRecord.bind(null,re[ne-2])):fe}),ee=computed(()=>$.value>-1&&includesParams(d.params,m.value.params)),te=computed(()=>$.value>-1&&$.value===d.matched.length-1&&isSameRouteLocationParams(d.params,m.value.params));function b(re={}){return guardEvent(re)?a[unref(u.replace)?"replace":"push"](unref(u.to)).catch(noop$3):Promise.resolve()}return{route:m,href:computed(()=>m.value.href),isActive:ee,isExactActive:te,navigate:b}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(u,{slots:a}){const d=reactive(useLink(u)),{options:m}=inject(routerKey),$=computed(()=>({[getLinkClass(u.activeClass,m.linkActiveClass,"router-link-active")]:d.isActive,[getLinkClass(u.exactActiveClass,m.linkExactActiveClass,"router-link-exact-active")]:d.isExactActive}));return()=>{const ee=a.default&&a.default(d);return u.custom?ee:h("a",{"aria-current":d.isExactActive?u.ariaCurrentValue:null,href:d.href,onClick:d.navigate,class:$.value},ee)}}}),RouterLink=RouterLinkImpl;function guardEvent(u){if(!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)&&!u.defaultPrevented&&!(u.button!==void 0&&u.button!==0)){if(u.currentTarget&&u.currentTarget.getAttribute){const a=u.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(a))return}return u.preventDefault&&u.preventDefault(),!0}}function includesParams(u,a){for(const d in a){const m=a[d],$=u[d];if(typeof m=="string"){if(m!==$)return!1}else if(!isArray$3($)||$.length!==m.length||m.some((ee,te)=>ee!==$[te]))return!1}return!0}function getOriginalPath(u){return u?u.aliasOf?u.aliasOf.path:u.path:""}const getLinkClass=(u,a,d)=>u??a??d,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(u,{attrs:a,slots:d}){const m=inject(routerViewLocationKey),$=computed(()=>u.route||m.value),ee=inject(viewDepthKey,0),te=computed(()=>{let ne=unref(ee);const{matched:ie}=$.value;let se;for(;(se=ie[ne])&&!se.components;)ne++;return ne}),b=computed(()=>$.value.matched[te.value]);provide(viewDepthKey,computed(()=>te.value+1)),provide(matchedRouteKey,b),provide(routerViewLocationKey,$);const re=ref();return watch(()=>[re.value,b.value,u.name],([ne,ie,se],[fe,ce,de])=>{ie&&(ie.instances[se]=ne,ce&&ce!==ie&&ne&&ne===fe&&(ie.leaveGuards.size||(ie.leaveGuards=ce.leaveGuards),ie.updateGuards.size||(ie.updateGuards=ce.updateGuards))),ne&&ie&&(!ce||!isSameRouteRecord(ie,ce)||!fe)&&(ie.enterCallbacks[se]||[]).forEach(ye=>ye(ne))},{flush:"post"}),()=>{const ne=$.value,ie=u.name,se=b.value,fe=se&&se.components[ie];if(!fe)return normalizeSlot(d.default,{Component:fe,route:ne});const ce=se.props[ie],de=ce?ce===!0?ne.params:typeof ce=="function"?ce(ne):ce:null,ge=h(fe,assign$1({},de,a,{onVnodeUnmounted:_e=>{_e.component.isUnmounted&&(se.instances[ie]=null)},ref:re}));return normalizeSlot(d.default,{Component:ge,route:ne})||ge}}});function normalizeSlot(u,a){if(!u)return null;const d=u(a);return d.length===1?d[0]:d}const RouterView=RouterViewImpl;function createRouter(u){const a=createRouterMatcher(u.routes,u),d=u.parseQuery||parseQuery,m=u.stringifyQuery||stringifyQuery,$=u.history,ee=useCallbacks(),te=useCallbacks(),b=useCallbacks(),re=shallowRef(START_LOCATION_NORMALIZED);let ne=START_LOCATION_NORMALIZED;isBrowser$3&&u.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const ie=applyToParams.bind(null,Ce=>""+Ce),se=applyToParams.bind(null,encodeParam),fe=applyToParams.bind(null,decode$1);function ce(Ce,Ze){let it,rt;return isRouteName(Ce)?(it=a.getRecordMatcher(Ce),rt=Ze):rt=Ce,a.addRoute(rt,it)}function de(Ce){const Ze=a.getRecordMatcher(Ce);Ze&&a.removeRoute(Ze)}function ye(){return a.getRoutes().map(Ce=>Ce.record)}function ge(Ce){return!!a.getRecordMatcher(Ce)}function _e(Ce,Ze){if(Ze=assign$1({},Ze||re.value),typeof Ce=="string"){const qe=parseURL(d,Ce,Ze.path),Ge=a.resolve({path:qe.path},Ze),Qe=$.createHref(qe.fullPath);return assign$1(qe,Ge,{params:fe(Ge.params),hash:decode$1(qe.hash),redirectedFrom:void 0,href:Qe})}let it;if("path"in Ce)it=assign$1({},Ce,{path:parseURL(d,Ce.path,Ze.path).path});else{const qe=assign$1({},Ce.params);for(const Ge in qe)qe[Ge]==null&&delete qe[Ge];it=assign$1({},Ce,{params:se(Ce.params)}),Ze.params=se(Ze.params)}const rt=a.resolve(it,Ze),Oe=Ce.hash||"";rt.params=ie(fe(rt.params));const Ve=stringifyURL(m,assign$1({},Ce,{hash:encodeHash(Oe),path:rt.path})),We=$.createHref(Ve);return assign$1({fullPath:Ve,hash:Oe,query:m===stringifyQuery?normalizeQuery(Ce.query):Ce.query||{}},rt,{redirectedFrom:void 0,href:We})}function Ee(Ce){return typeof Ce=="string"?parseURL(d,Ce,re.value.path):assign$1({},Ce)}function Ae(Ce,Ze){if(ne!==Ce)return createRouterError(8,{from:Ze,to:Ce})}function we(Ce){return Re(Ce)}function Me(Ce){return we(assign$1(Ee(Ce),{replace:!0}))}function ke(Ce){const Ze=Ce.matched[Ce.matched.length-1];if(Ze&&Ze.redirect){const{redirect:it}=Ze;let rt=typeof it=="function"?it(Ce):it;return typeof rt=="string"&&(rt=rt.includes("?")||rt.includes("#")?rt=Ee(rt):{path:rt},rt.params={}),assign$1({query:Ce.query,hash:Ce.hash,params:"path"in rt?{}:Ce.params},rt)}}function Re(Ce,Ze){const it=ne=_e(Ce),rt=re.value,Oe=Ce.state,Ve=Ce.force,We=Ce.replace===!0,qe=ke(it);if(qe)return Re(assign$1(Ee(qe),{state:Oe,force:Ve,replace:We}),Ze||it);const Ge=it;Ge.redirectedFrom=Ze;let Qe;return!Ve&&isSameRouteLocation(m,rt,it)&&(Qe=createRouterError(16,{to:Ge,from:rt}),Ne(rt,rt,!0,!1)),(Qe?Promise.resolve(Qe):Je(Ge,rt)).catch(ct=>isNavigationFailure(ct)?isNavigationFailure(ct,2)?ct:Fe(ct):$e(ct,Ge,rt)).then(ct=>{if(ct){if(isNavigationFailure(ct,2))return Re(assign$1({replace:We},Ee(ct.to),{state:Oe,force:Ve}),Ze||Ge)}else ct=Pe(Ge,rt,!0,We,Oe);return et(Ge,rt,ct),ct})}function ze(Ce,Ze){const it=Ae(Ce,Ze);return it?Promise.reject(it):Promise.resolve()}function Je(Ce,Ze){let it;const[rt,Oe,Ve]=extractChangingRecords(Ce,Ze);it=extractComponentsGuards(rt.reverse(),"beforeRouteLeave",Ce,Ze);for(const qe of rt)qe.leaveGuards.forEach(Ge=>{it.push(guardToPromiseFn(Ge,Ce,Ze))});const We=ze.bind(null,Ce,Ze);return it.push(We),runGuardQueue(it).then(()=>{it=[];for(const qe of ee.list())it.push(guardToPromiseFn(qe,Ce,Ze));return it.push(We),runGuardQueue(it)}).then(()=>{it=extractComponentsGuards(Oe,"beforeRouteUpdate",Ce,Ze);for(const qe of Oe)qe.updateGuards.forEach(Ge=>{it.push(guardToPromiseFn(Ge,Ce,Ze))});return it.push(We),runGuardQueue(it)}).then(()=>{it=[];for(const qe of Ce.matched)if(qe.beforeEnter&&!Ze.matched.includes(qe))if(isArray$3(qe.beforeEnter))for(const Ge of qe.beforeEnter)it.push(guardToPromiseFn(Ge,Ce,Ze));else it.push(guardToPromiseFn(qe.beforeEnter,Ce,Ze));return it.push(We),runGuardQueue(it)}).then(()=>(Ce.matched.forEach(qe=>qe.enterCallbacks={}),it=extractComponentsGuards(Ve,"beforeRouteEnter",Ce,Ze),it.push(We),runGuardQueue(it))).then(()=>{it=[];for(const qe of te.list())it.push(guardToPromiseFn(qe,Ce,Ze));return it.push(We),runGuardQueue(it)}).catch(qe=>isNavigationFailure(qe,8)?qe:Promise.reject(qe))}function et(Ce,Ze,it){for(const rt of b.list())rt(Ce,Ze,it)}function Pe(Ce,Ze,it,rt,Oe){const Ve=Ae(Ce,Ze);if(Ve)return Ve;const We=Ze===START_LOCATION_NORMALIZED,qe=isBrowser$3?history.state:{};it&&(rt||We?$.replace(Ce.fullPath,assign$1({scroll:We&&qe&&qe.scroll},Oe)):$.push(Ce.fullPath,Oe)),re.value=Ce,Ne(Ce,Ze,it,We),Fe()}let ve;function le(){ve||(ve=$.listen((Ce,Ze,it)=>{if(!Be.listening)return;const rt=_e(Ce),Oe=ke(rt);if(Oe){Re(assign$1(Oe,{replace:!0}),rt).catch(noop$3);return}ne=rt;const Ve=re.value;isBrowser$3&&saveScrollPosition(getScrollKey(Ve.fullPath,it.delta),computeScrollPosition()),Je(rt,Ve).catch(We=>isNavigationFailure(We,12)?We:isNavigationFailure(We,2)?(Re(We.to,rt).then(qe=>{isNavigationFailure(qe,20)&&!it.delta&&it.type===NavigationType.pop&&$.go(-1,!1)}).catch(noop$3),Promise.reject()):(it.delta&&$.go(-it.delta,!1),$e(We,rt,Ve))).then(We=>{We=We||Pe(rt,Ve,!1),We&&(it.delta&&!isNavigationFailure(We,8)?$.go(-it.delta,!1):it.type===NavigationType.pop&&isNavigationFailure(We,20)&&$.go(-1,!1)),et(rt,Ve,We)}).catch(noop$3)}))}let ae=useCallbacks(),he=useCallbacks(),xe;function $e(Ce,Ze,it){Fe(Ce);const rt=he.list();return rt.length?rt.forEach(Oe=>Oe(Ce,Ze,it)):console.error(Ce),Promise.reject(Ce)}function He(){return xe&&re.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((Ce,Ze)=>{ae.add([Ce,Ze])})}function Fe(Ce){return xe||(xe=!Ce,le(),ae.list().forEach(([Ze,it])=>Ce?it(Ce):Ze()),ae.reset()),Ce}function Ne(Ce,Ze,it,rt){const{scrollBehavior:Oe}=u;if(!isBrowser$3||!Oe)return Promise.resolve();const Ve=!it&&getSavedScrollPosition(getScrollKey(Ce.fullPath,0))||(rt||!it)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Oe(Ce,Ze,Ve)).then(We=>We&&scrollToPosition(We)).catch(We=>$e(We,Ce,Ze))}const De=Ce=>$.go(Ce);let pe;const Le=new Set,Be={currentRoute:re,listening:!0,addRoute:ce,removeRoute:de,hasRoute:ge,getRoutes:ye,resolve:_e,options:u,push:we,replace:Me,go:De,back:()=>De(-1),forward:()=>De(1),beforeEach:ee.add,beforeResolve:te.add,afterEach:b.add,onError:he.add,isReady:He,install(Ce){const Ze=this;Ce.component("RouterLink",RouterLink),Ce.component("RouterView",RouterView),Ce.config.globalProperties.$router=Ze,Object.defineProperty(Ce.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(re)}),isBrowser$3&&!pe&&re.value===START_LOCATION_NORMALIZED&&(pe=!0,we($.location).catch(Oe=>{}));const it={};for(const Oe in START_LOCATION_NORMALIZED)it[Oe]=computed(()=>re.value[Oe]);Ce.provide(routerKey,Ze),Ce.provide(routeLocationKey,reactive(it)),Ce.provide(routerViewLocationKey,re);const rt=Ce.unmount;Le.add(Ce),Ce.unmount=function(){Le.delete(Ce),Le.size<1&&(ne=START_LOCATION_NORMALIZED,ve&&ve(),ve=null,re.value=START_LOCATION_NORMALIZED,pe=!1,xe=!1),rt()}}};return Be}function runGuardQueue(u){return u.reduce((a,d)=>a.then(()=>d()),Promise.resolve())}function extractChangingRecords(u,a){const d=[],m=[],$=[],ee=Math.max(a.matched.length,u.matched.length);for(let te=0;te<ee;te++){const b=a.matched[te];b&&(u.matched.find(ne=>isSameRouteRecord(ne,b))?m.push(b):d.push(b));const re=u.matched[te];re&&(a.matched.find(ne=>isSameRouteRecord(ne,re))||$.push(re))}return[d,m,$]}function useRouter(){return inject(routerKey)}const _sfc_main$b={__name:"App",setup(u){return(a,d)=>(openBlock(),createBlock(unref(RouterView)))}},scriptRel="modulepreload",assetsURL=function(u,a){return new URL(u,a).href},seen={},__vitePreload=function(a,d,m){return!d||d.length===0?a():Promise.all(d.map($=>{if($=assetsURL($,m),$ in seen)return;seen[$]=!0;const ee=$.endsWith(".css"),te=ee?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${$}"]${te}`))return;const b=document.createElement("link");if(b.rel=ee?"stylesheet":scriptRel,ee||(b.as="script",b.crossOrigin=""),b.href=$,document.head.appendChild(b),ee)return new Promise((re,ne)=>{b.addEventListener("load",re),b.addEventListener("error",()=>ne(new Error(`Unable to preload CSS for ${$}`)))})})).then(()=>a())},_imports_0=""+new URL("logo.f4446e92.gif",import.meta.url).href,WelcomeItem_vue_vue_type_style_index_0_scoped_38adf097_lang="",_export_sfc$1=(u,a)=>{const d=u.__vccOpts||u;for(const[m,$]of a)d[m]=$;return d},_sfc_main$a={},_hoisted_1$d={class:"item"},_hoisted_2$d={class:"details"};function _sfc_render$8(u,a){return openBlock(),createElementBlock("div",_hoisted_1$d,[createBaseVNode("i",null,[renderSlot(u.$slots,"icon",{},void 0,!0)]),createBaseVNode("div",_hoisted_2$d,[createBaseVNode("h3",null,[renderSlot(u.$slots,"heading",{},void 0,!0)]),renderSlot(u.$slots,"default",{},void 0,!0)])])}const WelcomeItem=_export_sfc$1(_sfc_main$a,[["render",_sfc_render$8],["__scopeId","data-v-38adf097"]]),_sfc_main$9={},_hoisted_1$c={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},_hoisted_2$c=createBaseVNode("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),_hoisted_3$c=[_hoisted_2$c];function _sfc_render$7(u,a){return openBlock(),createElementBlock("svg",_hoisted_1$c,_hoisted_3$c)}const DocumentationIcon=_export_sfc$1(_sfc_main$9,[["render",_sfc_render$7]]),_sfc_main$8={},_hoisted_1$b={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_hoisted_2$b=createBaseVNode("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8s8 3.59 8 8s-3.59 8-8 8zm-1-4h2v2h-2zm1.61-9.96c-2.06-.3-3.88.97-4.43 2.79c-.18.58.26 1.17.87 1.17h.2c.41 0 .74-.29.88-.67c.32-.89 1.27-1.5 2.3-1.28c.95.2 1.65 1.13 1.57 2.1c-.1 1.34-1.62 1.63-2.45 2.88c0 .01-.01.01-.01.02c-.01.02-.02.03-.03.05c-.09.15-.18.32-.25.5c-.01.03-.03.05-.04.08c-.01.02-.01.04-.02.07c-.12.34-.2.75-.2 1.25h2c0-.42.11-.77.28-1.07c.02-.03.03-.06.05-.09c.08-.14.18-.27.28-.39c.01-.01.02-.03.03-.04c.1-.12.21-.23.33-.34c.96-.91 2.26-1.65 1.99-3.56c-.24-1.74-1.61-3.21-3.35-3.47z",fill:"currentColor"},null,-1),_hoisted_3$b=[_hoisted_2$b];function _sfc_render$6(u,a){return openBlock(),createElementBlock("svg",_hoisted_1$b,_hoisted_3$b)}const HelpIcon=_export_sfc$1(_sfc_main$8,[["render",_sfc_render$6]]);let onceCbs=[];const paramsMap=new WeakMap;function flushOnceCallbacks(){onceCbs.forEach(u=>u(...paramsMap.get(u))),onceCbs=[]}function beforeNextFrameOnce(u,...a){paramsMap.set(u,a),!onceCbs.includes(u)&&onceCbs.push(u)===1&&requestAnimationFrame(flushOnceCallbacks)}function parseResponsiveProp(u){if(typeof u=="number")return{"":u.toString()};const a={};return u.split(/ +/).forEach(d=>{if(d==="")return;const[m,$]=d.split(":");$===void 0?a[""]=m:a[m]=$}),a}function parseResponsivePropValue(u,a){var d;if(u==null)return;const m=parseResponsiveProp(u);if(a===void 0)return m[""];if(typeof a=="string")return(d=m[a])!==null&&d!==void 0?d:m[""];if(Array.isArray(a)){for(let $=a.length-1;$>=0;--$){const ee=a[$];if(ee in m)return m[ee]}return m[""]}else{let $,ee=-1;return Object.keys(m).forEach(te=>{const b=Number(te);!Number.isNaN(b)&&a>=b&&b>=ee&&(ee=b,$=m[te])}),$}}function depx(u){return typeof u=="string"?u.endsWith("px")?Number(u.slice(0,u.length-2)):Number(u):u}function pxfy(u){if(u!=null)return typeof u=="number"?`${u}px`:u.endsWith("px")?u:`${u}px`}function getMargin(u,a){const d=u.trim().split(/\s+/g),m={top:d[0]};switch(d.length){case 1:m.right=d[0],m.bottom=d[0],m.left=d[0];break;case 2:m.right=d[1],m.left=d[1],m.bottom=d[0];break;case 3:m.right=d[1],m.bottom=d[2],m.left=d[1];break;case 4:m.right=d[1],m.bottom=d[2],m.left=d[3];break;default:throw new Error("[seemly/getMargin]:"+u+" is not a valid value.")}return a===void 0?m:m[a]}function getGap(u,a){const[d,m]=u.split(" ");return a?a==="row"?d:m:{row:d,col:m||d}}const colors={black:"#000",silver:"#C0C0C0",gray:"#808080",white:"#FFF",maroon:"#800000",red:"#F00",purple:"#800080",fuchsia:"#F0F",green:"#008000",lime:"#0F0",olive:"#808000",yellow:"#FF0",navy:"#000080",blue:"#00F",teal:"#008080",aqua:"#0FF",transparent:"#0000"},prefix$1="^\\s*",suffix="\\s*$",float$1="\\s*((\\.\\d+)|(\\d+(\\.\\d*)?))\\s*",hex="([0-9A-Fa-f])",dhex="([0-9A-Fa-f]{2})",rgbRegex=new RegExp(`${prefix$1}rgb\\s*\\(${float$1},${float$1},${float$1}\\)${suffix}`),rgbaRegex=new RegExp(`${prefix$1}rgba\\s*\\(${float$1},${float$1},${float$1},${float$1}\\)${suffix}`),sHexRegex=new RegExp(`${prefix$1}#${hex}${hex}${hex}${suffix}`),hexRegex=new RegExp(`${prefix$1}#${dhex}${dhex}${dhex}${suffix}`),sHexaRegex=new RegExp(`${prefix$1}#${hex}${hex}${hex}${hex}${suffix}`),hexaRegex=new RegExp(`${prefix$1}#${dhex}${dhex}${dhex}${dhex}${suffix}`);function parseHex(u){return parseInt(u,16)}function rgba(u){try{let a;if(a=hexRegex.exec(u))return[parseHex(a[1]),parseHex(a[2]),parseHex(a[3]),1];if(a=rgbRegex.exec(u))return[roundChannel(a[1]),roundChannel(a[5]),roundChannel(a[9]),1];if(a=rgbaRegex.exec(u))return[roundChannel(a[1]),roundChannel(a[5]),roundChannel(a[9]),roundAlpha(a[13])];if(a=sHexRegex.exec(u))return[parseHex(a[1]+a[1]),parseHex(a[2]+a[2]),parseHex(a[3]+a[3]),1];if(a=hexaRegex.exec(u))return[parseHex(a[1]),parseHex(a[2]),parseHex(a[3]),roundAlpha(parseHex(a[4])/255)];if(a=sHexaRegex.exec(u))return[parseHex(a[1]+a[1]),parseHex(a[2]+a[2]),parseHex(a[3]+a[3]),roundAlpha(parseHex(a[4]+a[4])/255)];if(u in colors)return rgba(colors[u]);throw new Error(`[seemly/rgba]: Invalid color value ${u}.`)}catch(a){throw a}}function normalizeAlpha(u){return u>1?1:u<0?0:u}function stringifyRgba(u,a,d,m){return`rgba(${roundChannel(u)}, ${roundChannel(a)}, ${roundChannel(d)}, ${normalizeAlpha(m)})`}function compositeChannel(u,a,d,m,$){return roundChannel((u*a*(1-m)+d*m)/$)}function composite(u,a){Array.isArray(u)||(u=rgba(u)),Array.isArray(a)||(a=rgba(a));const d=u[3],m=a[3],$=roundAlpha(d+m-d*m);return stringifyRgba(compositeChannel(u[0],d,a[0],m,$),compositeChannel(u[1],d,a[1],m,$),compositeChannel(u[2],d,a[2],m,$),$)}function changeColor(u,a){const[d,m,$,ee=1]=Array.isArray(u)?u:rgba(u);return a.alpha?stringifyRgba(d,m,$,a.alpha):stringifyRgba(d,m,$,ee)}function scaleColor(u,a){const[d,m,$,ee=1]=Array.isArray(u)?u:rgba(u),{lightness:te=1,alpha:b=1}=a;return toRgbaString([d*te,m*te,$*te,ee*b])}function roundAlpha(u){const a=Math.round(Number(u)*100)/100;return a>1?1:a<0?0:a}function roundChannel(u){const a=Math.round(Number(u));return a>255?255:a<0?0:a}function toRgbaString(u){const[a,d,m]=u;return 3 in u?`rgba(${roundChannel(a)}, ${roundChannel(d)}, ${roundChannel(m)}, ${roundAlpha(u[3])})`:`rgba(${roundChannel(a)}, ${roundChannel(d)}, ${roundChannel(m)}, 1)`}function createId(u=8){return Math.random().toString(16).slice(2,2+u)}function indexMap(u,a){const d=[];if(!a){for(let m=0;m<u;++m)d.push(m);return d}for(let m=0;m<u;++m)d.push(a(m));return d}function getSlot$1(u,a="default",d=[]){const $=u.$slots[a];return $===void 0?d:$()}function keep(u,a=[],d){const m={};return a.forEach($=>{m[$]=u[$]}),Object.assign(m,d)}function omit$1(u,a=[],d){const m={};return Object.getOwnPropertyNames(u).forEach(ee=>{a.includes(ee)||(m[ee]=u[ee])}),Object.assign(m,d)}function flatten$2(u,a=!0,d=[]){return u.forEach(m=>{if(m!==null){if(typeof m!="object"){(typeof m=="string"||typeof m=="number")&&d.push(createTextVNode(String(m)));return}if(Array.isArray(m)){flatten$2(m,a,d);return}if(m.type===Fragment){if(m.children===null)return;Array.isArray(m.children)&&flatten$2(m.children,a,d)}else m.type!==Comment&&d.push(m)}}),d}function call(u,...a){if(Array.isArray(u))u.forEach(d=>call(d,...a));else return u(...a)}function keysOf(u){return Object.keys(u)}const render$1=(u,...a)=>typeof u=="function"?u(...a):typeof u=="string"?createTextVNode(u):typeof u=="number"?createTextVNode(String(u)):null;function warn$3(u,a){console.error(`[naive/${u}]: ${a}`)}function throwError(u,a){throw new Error(`[naive/${u}]: ${a}`)}function getFirstSlotVNode(u,a="default",d=void 0){const m=u[a];if(!m)return warn$3("getFirstSlotVNode",`slot[${a}] is empty`),null;const $=flatten$2(m(d));return $.length===1?$[0]:(warn$3("getFirstSlotVNode",`slot[${a}] should have exactly one child`),null)}function createInjectionKey(u){return u}function ensureValidVNode(u){return u.some(a=>isVNode(a)?!(a.type===Comment||a.type===Fragment&&!ensureValidVNode(a.children)):!0)?u:null}function resolveSlot(u,a){return u&&ensureValidVNode(u())||a()}function resolveSlotWithProps(u,a,d){return u&&ensureValidVNode(u(a))||d(a)}function resolveWrappedSlot(u,a){const d=u&&ensureValidVNode(u());return a(d||null)}function isSlotEmpty(u){return!(u&&ensureValidVNode(u()))}function isNodeVShowFalse(u){var a;const d=(a=u.dirs)===null||a===void 0?void 0:a.find(({dir:m})=>m===vShow);return!!(d&&d.value===!1)}const Wrapper=defineComponent({render(){var u,a;return(a=(u=this.$slots).default)===null||a===void 0?void 0:a.call(u)}}),pureNumberRegex=/^(\d|\.)+$/,numberRegex=/(\d|\.)+/;function formatLength(u,{c:a=1,offset:d=0,attachPx:m=!0}={}){if(typeof u=="number"){const $=(u+d)*a;return $===0?"0":`${$}px`}else if(typeof u=="string")if(pureNumberRegex.test(u)){const $=(Number(u)+d)*a;return m?$===0?"0":`${$}px`:`${$}`}else{const $=numberRegex.exec(u);return $?u.replace(numberRegex,String((Number($[0])+d)*a)):u}return u}function color2Class(u){return u.replace(/#|\(|\)|,|\s/g,"_")}function ampCount(u){let a=0;for(let d=0;d<u.length;++d)u[d]==="&"&&++a;return a}const separatorRegex=/\s*,(?![^(]*\))\s*/g,extraSpaceRegex=/\s+/g;function resolveSelectorWithAmp(u,a){const d=[];return a.split(separatorRegex).forEach(m=>{let $=ampCount(m);if($){if($===1){u.forEach(te=>{d.push(m.replace("&",te))});return}}else{u.forEach(te=>{d.push((te&&te+" ")+m)});return}let ee=[m];for(;$--;){const te=[];ee.forEach(b=>{u.forEach(re=>{te.push(b.replace("&",re))})}),ee=te}ee.forEach(te=>d.push(te))}),d}function resolveSelector(u,a){const d=[];return a.split(separatorRegex).forEach(m=>{u.forEach($=>{d.push(($&&$+" ")+m)})}),d}function parseSelectorPath(u){let a=[""];return u.forEach(d=>{d=d&&d.trim(),d&&(d.includes("&")?a=resolveSelectorWithAmp(a,d):a=resolveSelector(a,d))}),a.join(", ").replace(extraSpaceRegex," ")}function removeElement(u){if(!u)return;const a=u.parentElement;a&&a.removeChild(u)}function queryElement(u){return document.querySelector(`style[cssr-id="${u}"]`)}function createElement(u){const a=document.createElement("style");return a.setAttribute("cssr-id",u),a}function isMediaOrSupports(u){return u?/^\s*@(s|m)/.test(u):!1}const kebabRegex=/[A-Z]/g;function kebabCase(u){return u.replace(kebabRegex,a=>"-"+a.toLowerCase())}function unwrapProperty(u,a="  "){return typeof u=="object"&&u!==null?` {
`+Object.entries(u).map(d=>a+`  ${kebabCase(d[0])}: ${d[1]};`).join(`
`)+`
`+a+"}":`: ${u};`}function unwrapProperties(u,a,d){return typeof u=="function"?u({context:a.context,props:d}):u}function createStyle(u,a,d,m){if(!a)return"";const $=unwrapProperties(a,d,m);if(!$)return"";if(typeof $=="string")return`${u} {
${$}
}`;const ee=Object.keys($);if(ee.length===0)return d.config.keepEmptyBlock?u+` {
}`:"";const te=u?[u+" {"]:[];return ee.forEach(b=>{const re=$[b];if(b==="raw"){te.push(`
`+re+`
`);return}b=kebabCase(b),re!=null&&te.push(`  ${b}${unwrapProperty(re)}`)}),u&&te.push("}"),te.join(`
`)}function loopCNodeListWithCallback(u,a,d){!u||u.forEach(m=>{if(Array.isArray(m))loopCNodeListWithCallback(m,a,d);else if(typeof m=="function"){const $=m(a);Array.isArray($)?loopCNodeListWithCallback($,a,d):$&&d($)}else m&&d(m)})}function traverseCNode(u,a,d,m,$,ee){const te=u.$;let b="";if(!te||typeof te=="string")isMediaOrSupports(te)?b=te:a.push(te);else if(typeof te=="function"){const ie=te({context:m.context,props:$});isMediaOrSupports(ie)?b=ie:a.push(ie)}else if(te.before&&te.before(m.context),!te.$||typeof te.$=="string")isMediaOrSupports(te.$)?b=te.$:a.push(te.$);else if(te.$){const ie=te.$({context:m.context,props:$});isMediaOrSupports(ie)?b=ie:a.push(ie)}const re=parseSelectorPath(a),ne=createStyle(re,u.props,m,$);b?(d.push(`${b} {`),ee&&ne&&ee.insertRule(`${b} {
${ne}
}
`)):(ee&&ne&&ee.insertRule(ne),!ee&&ne.length&&d.push(ne)),u.children&&loopCNodeListWithCallback(u.children,{context:m.context,props:$},ie=>{if(typeof ie=="string"){const se=createStyle(re,{raw:ie},m,$);ee?ee.insertRule(se):d.push(se)}else traverseCNode(ie,a,d,m,$,ee)}),a.pop(),b&&d.push("}"),te&&te.after&&te.after(m.context)}function render(u,a,d,m=!1){const $=[];return traverseCNode(u,[],$,a,d,m?u.instance.__styleSheet:void 0),m?"":$.join(`

`)}function murmur2(u){for(var a=0,d,m=0,$=u.length;$>=4;++m,$-=4)d=u.charCodeAt(m)&255|(u.charCodeAt(++m)&255)<<8|(u.charCodeAt(++m)&255)<<16|(u.charCodeAt(++m)&255)<<24,d=(d&65535)*1540483477+((d>>>16)*59797<<16),d^=d>>>24,a=(d&65535)*1540483477+((d>>>16)*59797<<16)^(a&65535)*1540483477+((a>>>16)*59797<<16);switch($){case 3:a^=(u.charCodeAt(m+2)&255)<<16;case 2:a^=(u.charCodeAt(m+1)&255)<<8;case 1:a^=u.charCodeAt(m)&255,a=(a&65535)*1540483477+((a>>>16)*59797<<16)}return a^=a>>>13,a=(a&65535)*1540483477+((a>>>16)*59797<<16),((a^a>>>15)>>>0).toString(36)}typeof window<"u"&&(window.__cssrContext={});function unmount(u,a,d){const{els:m}=a;if(d===void 0)m.forEach(removeElement),a.els=[];else{const $=queryElement(d);$&&m.includes($)&&(removeElement($),a.els=m.filter(ee=>ee!==$))}}function addElementToList(u,a){u.push(a)}function mount(u,a,d,m,$,ee,te,b,re){if(ee&&!re){if(d===void 0){console.error("[css-render/mount]: `id` is required in `silent` mode.");return}const fe=window.__cssrContext;fe[d]||(fe[d]=!0,render(a,u,m,ee));return}let ne;if(d===void 0&&(ne=a.render(m),d=murmur2(ne)),re){re.adapter(d,ne??a.render(m));return}const ie=queryElement(d);if(ie!==null&&!te)return ie;const se=ie??createElement(d);if(ne===void 0&&(ne=a.render(m)),se.textContent=ne,ie!==null)return ie;if(b){const fe=document.head.querySelector(`meta[name="${b}"]`);if(fe)return document.head.insertBefore(se,fe),addElementToList(a.els,se),se}return $?document.head.insertBefore(se,document.head.querySelector("style, link")):document.head.appendChild(se),addElementToList(a.els,se),se}function wrappedRender(u){return render(this,this.instance,u)}function wrappedMount(u={}){const{id:a,ssr:d,props:m,head:$=!1,silent:ee=!1,force:te=!1,anchorMetaName:b}=u;return mount(this.instance,this,a,m,$,ee,te,b,d)}function wrappedUnmount(u={}){const{id:a}=u;unmount(this.instance,this,a)}const createCNode=function(u,a,d,m){return{instance:u,$:a,props:d,children:m,els:[],render:wrappedRender,mount:wrappedMount,unmount:wrappedUnmount}},c$2=function(u,a,d,m){return Array.isArray(a)?createCNode(u,{$:null},null,a):Array.isArray(d)?createCNode(u,a,null,d):Array.isArray(m)?createCNode(u,a,d,m):createCNode(u,a,d,null)};function CssRender(u={}){let a=null;const d={c:(...m)=>c$2(d,...m),use:(m,...$)=>m.install(d,...$),find:queryElement,context:{},config:u,get __styleSheet(){if(!a){const m=document.createElement("style");return document.head.appendChild(m),a=document.styleSheets[document.styleSheets.length-1],a}return a}};return d}function exists(u,a){if(u===void 0)return!1;if(a){const{context:{ids:d}}=a;return d.has(u)}return queryElement(u)!==null}function plugin$1(u){let a=".",d="__",m="--",$;if(u){let de=u.blockPrefix;de&&(a=de),de=u.elementPrefix,de&&(d=de),de=u.modifierPrefix,de&&(m=de)}const ee={install(de){$=de.c;const ye=de.context;ye.bem={},ye.bem.b=null,ye.bem.els=null}};function te(de){let ye,ge;return{before(_e){ye=_e.bem.b,ge=_e.bem.els,_e.bem.els=null},after(_e){_e.bem.b=ye,_e.bem.els=ge},$({context:_e,props:Ee}){return de=typeof de=="string"?de:de({context:_e,props:Ee}),_e.bem.b=de,`${Ee?.bPrefix||a}${_e.bem.b}`}}}function b(de){let ye;return{before(ge){ye=ge.bem.els},after(ge){ge.bem.els=ye},$({context:ge,props:_e}){return de=typeof de=="string"?de:de({context:ge,props:_e}),ge.bem.els=de.split(",").map(Ee=>Ee.trim()),ge.bem.els.map(Ee=>`${_e?.bPrefix||a}${ge.bem.b}${d}${Ee}`).join(", ")}}}function re(de){return{$({context:ye,props:ge}){de=typeof de=="string"?de:de({context:ye,props:ge});const _e=de.split(",").map(we=>we.trim());function Ee(we){return _e.map(Me=>`&${ge?.bPrefix||a}${ye.bem.b}${we!==void 0?`${d}${we}`:""}${m}${Me}`).join(", ")}const Ae=ye.bem.els;return Ae!==null?Ee(Ae[0]):Ee()}}}function ne(de){return{$({context:ye,props:ge}){de=typeof de=="string"?de:de({context:ye,props:ge});const _e=ye.bem.els;return`&:not(${ge?.bPrefix||a}${ye.bem.b}${_e!==null&&_e.length>0?`${d}${_e[0]}`:""}${m}${de})`}}}return Object.assign(ee,{cB:(...de)=>$(te(de[0]),de[1],de[2]),cE:(...de)=>$(b(de[0]),de[1],de[2]),cM:(...de)=>$(re(de[0]),de[1],de[2]),cNotM:(...de)=>$(ne(de[0]),de[1],de[2])}),ee}function createKey(u,a){return u+(a==="default"?"":a.replace(/^[a-z]/,d=>d.toUpperCase()))}createKey("abc","def");const namespace="n",prefix=`.${namespace}-`,elementPrefix="__",modifierPrefix="--",cssr=CssRender(),plugin=plugin$1({blockPrefix:prefix,elementPrefix,modifierPrefix});cssr.use(plugin);const{c:c$1,find:find$1}=cssr,{cB,cE,cM,cNotM}=plugin;function insideModal(u){return c$1(({props:{bPrefix:a}})=>`${a||prefix}modal, ${a||prefix}drawer`,[u])}function insidePopover(u){return c$1(({props:{bPrefix:a}})=>`${a||prefix}popover`,[u])}function asModal(u){return c$1(({props:{bPrefix:a}})=>`&${a||prefix}modal`,u)}const isBrowser$2=typeof document<"u"&&typeof window<"u",eventSet=new WeakSet;function eventEffectNotPerformed(u){return!eventSet.has(u)}function useFalseUntilTruthy(u){const a=ref(!!u.value);if(a.value)return readonly(a);const d=watch(u,m=>{m&&(a.value=!0,d())});return readonly(a)}function useMemo(u){const a=computed(u),d=ref(a.value);return watch(a,m=>{d.value=m}),typeof u=="function"?d:{__v_isRef:!0,get value(){return d.value},set value(m){u.set(m)}}}function hasInstance(){return getCurrentInstance()!==null}const isBrowser$1=typeof window<"u";let fontsReady,isFontReady;const init=()=>{var u,a;fontsReady=isBrowser$1?(a=(u=document)===null||u===void 0?void 0:u.fonts)===null||a===void 0?void 0:a.ready:void 0,isFontReady=!1,fontsReady!==void 0?fontsReady.then(()=>{isFontReady=!0}):isFontReady=!0};init();function onFontsReady(u){if(isFontReady)return;let a=!1;onMounted(()=>{isFontReady||fontsReady?.then(()=>{a||u()})}),onBeforeUnmount(()=>{a=!0})}const traps={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function createTrapHandler(u,a,d){if(u==="mousemoveoutside"){const m=$=>{a.contains($.target)||d($)};return{mousemove:m,touchstart:m}}else if(u==="clickoutside"){let m=!1;const $=te=>{m=!a.contains(te.target)},ee=te=>{!m||a.contains(te.target)||d(te)};return{mousedown:$,mouseup:ee,touchstart:$,touchend:ee}}return console.error(`[evtd/create-trap-handler]: name \`${u}\` is invalid. This could be a bug of evtd.`),{}}function ensureTrapHandlers(u,a,d){const m=traps[u];let $=m.get(a);$===void 0&&m.set(a,$=new WeakMap);let ee=$.get(d);return ee===void 0&&$.set(d,ee=createTrapHandler(u,a,d)),ee}function trapOn(u,a,d,m){if(u==="mousemoveoutside"||u==="clickoutside"){const $=ensureTrapHandlers(u,a,d);return Object.keys($).forEach(ee=>{on(ee,document,$[ee],m)}),!0}return!1}function trapOff(u,a,d,m){if(u==="mousemoveoutside"||u==="clickoutside"){const $=ensureTrapHandlers(u,a,d);return Object.keys($).forEach(ee=>{off(ee,document,$[ee],m)}),!0}return!1}function createDelegate(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const u=new WeakMap,a=new WeakMap;function d(){u.set(this,!0)}function m(){u.set(this,!0),a.set(this,!0)}function $(Re,ze,Je){const et=Re[ze];return Re[ze]=function(){return Je.apply(Re,arguments),et.apply(Re,arguments)},Re}function ee(Re,ze){Re[ze]=Event.prototype[ze]}const te=new WeakMap,b=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function re(){var Re;return(Re=te.get(this))!==null&&Re!==void 0?Re:null}function ne(Re,ze){b!==void 0&&Object.defineProperty(Re,"currentTarget",{configurable:!0,enumerable:!0,get:ze??b.get})}const ie={bubble:{},capture:{}},se={};function fe(){const Re=function(ze){const{type:Je,eventPhase:et,target:Pe,bubbles:ve}=ze;if(et===2)return;const le=et===1?"capture":"bubble";let ae=Pe;const he=[];for(;ae===null&&(ae=window),he.push(ae),ae!==window;)ae=ae.parentNode||null;const xe=ie.capture[Je],$e=ie.bubble[Je];if($(ze,"stopPropagation",d),$(ze,"stopImmediatePropagation",m),ne(ze,re),le==="capture"){if(xe===void 0)return;for(let He=he.length-1;He>=0&&!u.has(ze);--He){const Fe=he[He],Ne=xe.get(Fe);if(Ne!==void 0){te.set(ze,Fe);for(const De of Ne){if(a.has(ze))break;De(ze)}}if(He===0&&!ve&&$e!==void 0){const De=$e.get(Fe);if(De!==void 0)for(const pe of De){if(a.has(ze))break;pe(ze)}}}}else if(le==="bubble"){if($e===void 0)return;for(let He=0;He<he.length&&!u.has(ze);++He){const Fe=he[He],Ne=$e.get(Fe);if(Ne!==void 0){te.set(ze,Fe);for(const De of Ne){if(a.has(ze))break;De(ze)}}}}ee(ze,"stopPropagation"),ee(ze,"stopImmediatePropagation"),ne(ze)};return Re.displayName="evtdUnifiedHandler",Re}function ce(){const Re=function(ze){const{type:Je,eventPhase:et}=ze;if(et!==2)return;const Pe=se[Je];Pe!==void 0&&Pe.forEach(ve=>ve(ze))};return Re.displayName="evtdUnifiedWindowEventHandler",Re}const de=fe(),ye=ce();function ge(Re,ze){const Je=ie[Re];return Je[ze]===void 0&&(Je[ze]=new Map,window.addEventListener(ze,de,Re==="capture")),Je[ze]}function _e(Re){return se[Re]===void 0&&(se[Re]=new Set,window.addEventListener(Re,ye)),se[Re]}function Ee(Re,ze){let Je=Re.get(ze);return Je===void 0&&Re.set(ze,Je=new Set),Je}function Ae(Re,ze,Je,et){const Pe=ie[ze][Je];if(Pe!==void 0){const ve=Pe.get(Re);if(ve!==void 0&&ve.has(et))return!0}return!1}function we(Re,ze){const Je=se[Re];return!!(Je!==void 0&&Je.has(ze))}function Me(Re,ze,Je,et){let Pe;if(typeof et=="object"&&et.once===!0?Pe=xe=>{ke(Re,ze,Pe,et),Je(xe)}:Pe=Je,trapOn(Re,ze,Pe,et))return;const le=et===!0||typeof et=="object"&&et.capture===!0?"capture":"bubble",ae=ge(le,Re),he=Ee(ae,ze);if(he.has(Pe)||he.add(Pe),ze===window){const xe=_e(Re);xe.has(Pe)||xe.add(Pe)}}function ke(Re,ze,Je,et){if(trapOff(Re,ze,Je,et))return;const ve=et===!0||typeof et=="object"&&et.capture===!0,le=ve?"capture":"bubble",ae=ge(le,Re),he=Ee(ae,ze);if(ze===window&&!Ae(ze,ve?"bubble":"capture",Re,Je)&&we(Re,Je)){const $e=se[Re];$e.delete(Je),$e.size===0&&(window.removeEventListener(Re,ye),se[Re]=void 0)}he.has(Je)&&he.delete(Je),he.size===0&&ae.delete(ze),ae.size===0&&(window.removeEventListener(Re,de,le==="capture"),ie[le][Re]=void 0)}return{on:Me,off:ke}}const{on,off}=createDelegate(),mousePositionRef=ref(null);function clickHandler(u){if(u.clientX>0||u.clientY>0)mousePositionRef.value={x:u.clientX,y:u.clientY};else{const{target:a}=u;if(a instanceof Element){const{left:d,top:m,width:$,height:ee}=a.getBoundingClientRect();d>0||m>0?mousePositionRef.value={x:d+$/2,y:m+ee/2}:mousePositionRef.value={x:0,y:0}}else mousePositionRef.value=null}}let usedCount$1=0,managable$1=!0;function useClickPosition(){if(!isBrowser$1)return readonly(ref(null));usedCount$1===0&&on("click",document,clickHandler,!0);const u=()=>{usedCount$1+=1};return managable$1&&(managable$1=hasInstance())?(onBeforeMount(u),onBeforeUnmount(()=>{usedCount$1-=1,usedCount$1===0&&off("click",document,clickHandler,!0)})):u(),readonly(mousePositionRef)}const clickedTimeRef=ref(void 0);let usedCount=0;function handleClick(){clickedTimeRef.value=Date.now()}let managable=!0;function useClicked(u){if(!isBrowser$1)return readonly(ref(!1));const a=ref(!1);let d=null;function m(){d!==null&&window.clearTimeout(d)}function $(){m(),a.value=!0,d=window.setTimeout(()=>{a.value=!1},u)}usedCount===0&&on("click",window,handleClick,!0);const ee=()=>{usedCount+=1,on("click",window,$,!0)};return managable&&(managable=hasInstance())?(onBeforeMount(ee),onBeforeUnmount(()=>{usedCount-=1,usedCount===0&&off("click",window,handleClick,!0),off("click",window,$,!0),m()})):ee(),readonly(a)}function useMergedState(u,a){return watch(u,d=>{d!==void 0&&(a.value=d)}),computed(()=>u.value===void 0?a.value:u.value)}function isMounted(){const u=ref(!1);return onMounted(()=>{u.value=!0}),readonly(u)}function useCompitable(u,a){return computed(()=>{for(const d of a)if(u[d]!==void 0)return u[d];return u[a[a.length-1]]})}const isIos=(typeof window>"u"?!1:/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!window.MSStream;function useIsIos(){return isIos}const defaultBreakpointOptions={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function createMediaQuery(u){return`(min-width: ${u}px)`}const mqlMap={};function useBreakpoints(u=defaultBreakpointOptions){if(!isBrowser$1)return computed(()=>[]);if(typeof window.matchMedia!="function")return computed(()=>[]);const a=ref({}),d=Object.keys(u),m=($,ee)=>{$.matches?a.value[ee]=!0:a.value[ee]=!1};return d.forEach($=>{const ee=u[$];let te,b;mqlMap[ee]===void 0?(te=window.matchMedia(createMediaQuery(ee)),te.addEventListener?te.addEventListener("change",re=>{b.forEach(ne=>{ne(re,$)})}):te.addListener&&te.addListener(re=>{b.forEach(ne=>{ne(re,$)})}),b=new Set,mqlMap[ee]={mql:te,cbs:b}):(te=mqlMap[ee].mql,b=mqlMap[ee].cbs),b.add(m),te.matches&&b.forEach(re=>{re(te,$)})}),onBeforeUnmount(()=>{d.forEach($=>{const{cbs:ee}=mqlMap[u[$]];ee.has(m)&&ee.delete(m)})}),computed(()=>{const{value:$}=a;return d.filter(ee=>$[ee])})}const modalBodyInjectionKey="n-modal-body",modalInjectionKey="n-modal",drawerBodyInjectionKey="n-drawer-body",popoverBodyInjectionKey="n-popover-body";function getSlot(u,a,d="default"){const m=a[d];if(m===void 0)throw new Error(`[vueuc/${u}]: slot[${d}] is empty.`);return m()}const ctxKey="@@coContext",clickoutside={mounted(u,{value:a,modifiers:d}){u[ctxKey]={handler:void 0},typeof a=="function"&&(u[ctxKey].handler=a,on("clickoutside",u,a,{capture:d.capture}))},updated(u,{value:a,modifiers:d}){const m=u[ctxKey];typeof a=="function"?m.handler?m.handler!==a&&(off("clickoutside",u,m.handler,{capture:d.capture}),m.handler=a,on("clickoutside",u,a,{capture:d.capture})):(u[ctxKey].handler=a,on("clickoutside",u,a,{capture:d.capture})):m.handler&&(off("clickoutside",u,m.handler,{capture:d.capture}),m.handler=void 0)},unmounted(u,{modifiers:a}){const{handler:d}=u[ctxKey];d&&off("clickoutside",u,d,{capture:a.capture}),u[ctxKey].handler=void 0}},clickoutside$1=clickoutside;function warn$2(u,a){console.error(`[vdirs/${u}]: ${a}`)}class ZIndexManager{constructor(){this.elementZIndex=new Map,this.nextZIndex=2e3}get elementCount(){return this.elementZIndex.size}ensureZIndex(a,d){const{elementZIndex:m}=this;if(d!==void 0){a.style.zIndex=`${d}`,m.delete(a);return}const{nextZIndex:$}=this;m.has(a)&&m.get(a)+1===this.nextZIndex||(a.style.zIndex=`${$}`,m.set(a,$),this.nextZIndex=$+1,this.squashState())}unregister(a,d){const{elementZIndex:m}=this;m.has(a)?m.delete(a):d===void 0&&warn$2("z-index-manager/unregister-element","Element not found when unregistering."),this.squashState()}squashState(){const{elementCount:a}=this;a||(this.nextZIndex=2e3),this.nextZIndex-a>2500&&this.rearrange()}rearrange(){const a=Array.from(this.elementZIndex.entries());a.sort((d,m)=>d[1]-m[1]),this.nextZIndex=2e3,a.forEach(d=>{const m=d[0],$=this.nextZIndex++;`${$}`!==m.style.zIndex&&(m.style.zIndex=`${$}`)})}}const zIndexManager=new ZIndexManager,ctx="@@ziContext",zindexable={mounted(u,a){const{value:d={}}=a,{zIndex:m,enabled:$}=d;u[ctx]={enabled:!!$,initialized:!1},$&&(zIndexManager.ensureZIndex(u,m),u[ctx].initialized=!0)},updated(u,a){const{value:d={}}=a,{zIndex:m,enabled:$}=d,ee=u[ctx].enabled;$&&!ee&&(zIndexManager.ensureZIndex(u,m),u[ctx].initialized=!0),u[ctx].enabled=!!$},unmounted(u,a){if(!u[ctx].initialized)return;const{value:d={}}=a,{zIndex:m}=d;zIndexManager.unregister(u,m)}},zindexable$1=zindexable,ssrContextKey=Symbol("@css-render/vue3-ssr");function createStyleString(u,a){return`<style cssr-id="${u}">
${a}
</style>`}function ssrAdapter(u,a){const d=inject(ssrContextKey,null);if(d===null){console.error("[css-render/vue3-ssr]: no ssr context found.");return}const{styles:m,ids:$}=d;$.has(u)||m!==null&&($.add(u),m.push(createStyleString(u,a)))}const isBrowser=typeof document<"u";function useSsrAdapter(){if(isBrowser)return;const u=inject(ssrContextKey,null);if(u!==null)return{adapter:ssrAdapter,context:u}}function warn$1(u,a){console.error(`[vueuc/${u}]: ${a}`)}const{c}=CssRender(),cssrAnchorMetaName$1="vueuc-style";function resolveTo(u){return typeof u=="string"?document.querySelector(u):u()}const LazyTeleport=defineComponent({name:"LazyTeleport",props:{to:{type:[String,Object],default:void 0},disabled:Boolean,show:{type:Boolean,required:!0}},setup(u){return{showTeleport:useFalseUntilTruthy(toRef(u,"show")),mergedTo:computed(()=>{const{to:a}=u;return a??"body"})}},render(){return this.showTeleport?this.disabled?getSlot("lazy-teleport",this.$slots):h(Teleport,{disabled:this.disabled,to:this.mergedTo},getSlot("lazy-teleport",this.$slots)):null}});var resizeObservers=[],hasActiveObservations=function(){return resizeObservers.some(function(u){return u.activeTargets.length>0})},hasSkippedObservations=function(){return resizeObservers.some(function(u){return u.skippedTargets.length>0})},msg="ResizeObserver loop completed with undelivered notifications.",deliverResizeLoopError=function(){var u;typeof ErrorEvent=="function"?u=new ErrorEvent("error",{message:msg}):(u=document.createEvent("Event"),u.initEvent("error",!1,!1),u.message=msg),window.dispatchEvent(u)},ResizeObserverBoxOptions;(function(u){u.BORDER_BOX="border-box",u.CONTENT_BOX="content-box",u.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ResizeObserverBoxOptions||(ResizeObserverBoxOptions={}));var freeze=function(u){return Object.freeze(u)},ResizeObserverSize=function(){function u(a,d){this.inlineSize=a,this.blockSize=d,freeze(this)}return u}(),DOMRectReadOnly=function(){function u(a,d,m,$){return this.x=a,this.y=d,this.width=m,this.height=$,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,freeze(this)}return u.prototype.toJSON=function(){var a=this,d=a.x,m=a.y,$=a.top,ee=a.right,te=a.bottom,b=a.left,re=a.width,ne=a.height;return{x:d,y:m,top:$,right:ee,bottom:te,left:b,width:re,height:ne}},u.fromRect=function(a){return new u(a.x,a.y,a.width,a.height)},u}(),isSVG=function(u){return u instanceof SVGElement&&"getBBox"in u},isHidden=function(u){if(isSVG(u)){var a=u.getBBox(),d=a.width,m=a.height;return!d&&!m}var $=u,ee=$.offsetWidth,te=$.offsetHeight;return!(ee||te||u.getClientRects().length)},isElement$3=function(u){var a,d;if(u instanceof Element)return!0;var m=(d=(a=u)===null||a===void 0?void 0:a.ownerDocument)===null||d===void 0?void 0:d.defaultView;return!!(m&&u instanceof m.Element)},isReplacedElement=function(u){switch(u.tagName){case"INPUT":if(u.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},global$1=typeof window<"u"?window:{},cache=new WeakMap,scrollRegexp=/auto|scroll/,verticalRegexp=/^tb|vertical/,IE=/msie|trident/i.test(global$1.navigator&&global$1.navigator.userAgent),parseDimension=function(u){return parseFloat(u||"0")},size$1=function(u,a,d){return u===void 0&&(u=0),a===void 0&&(a=0),d===void 0&&(d=!1),new ResizeObserverSize((d?a:u)||0,(d?u:a)||0)},zeroBoxes=freeze({devicePixelContentBoxSize:size$1(),borderBoxSize:size$1(),contentBoxSize:size$1(),contentRect:new DOMRectReadOnly(0,0,0,0)}),calculateBoxSizes=function(u,a){if(a===void 0&&(a=!1),cache.has(u)&&!a)return cache.get(u);if(isHidden(u))return cache.set(u,zeroBoxes),zeroBoxes;var d=getComputedStyle(u),m=isSVG(u)&&u.ownerSVGElement&&u.getBBox(),$=!IE&&d.boxSizing==="border-box",ee=verticalRegexp.test(d.writingMode||""),te=!m&&scrollRegexp.test(d.overflowY||""),b=!m&&scrollRegexp.test(d.overflowX||""),re=m?0:parseDimension(d.paddingTop),ne=m?0:parseDimension(d.paddingRight),ie=m?0:parseDimension(d.paddingBottom),se=m?0:parseDimension(d.paddingLeft),fe=m?0:parseDimension(d.borderTopWidth),ce=m?0:parseDimension(d.borderRightWidth),de=m?0:parseDimension(d.borderBottomWidth),ye=m?0:parseDimension(d.borderLeftWidth),ge=se+ne,_e=re+ie,Ee=ye+ce,Ae=fe+de,we=b?u.offsetHeight-Ae-u.clientHeight:0,Me=te?u.offsetWidth-Ee-u.clientWidth:0,ke=$?ge+Ee:0,Re=$?_e+Ae:0,ze=m?m.width:parseDimension(d.width)-ke-Me,Je=m?m.height:parseDimension(d.height)-Re-we,et=ze+ge+Me+Ee,Pe=Je+_e+we+Ae,ve=freeze({devicePixelContentBoxSize:size$1(Math.round(ze*devicePixelRatio),Math.round(Je*devicePixelRatio),ee),borderBoxSize:size$1(et,Pe,ee),contentBoxSize:size$1(ze,Je,ee),contentRect:new DOMRectReadOnly(se,re,ze,Je)});return cache.set(u,ve),ve},calculateBoxSize=function(u,a,d){var m=calculateBoxSizes(u,d),$=m.borderBoxSize,ee=m.contentBoxSize,te=m.devicePixelContentBoxSize;switch(a){case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:return te;case ResizeObserverBoxOptions.BORDER_BOX:return $;default:return ee}},ResizeObserverEntry=function(){function u(a){var d=calculateBoxSizes(a);this.target=a,this.contentRect=d.contentRect,this.borderBoxSize=freeze([d.borderBoxSize]),this.contentBoxSize=freeze([d.contentBoxSize]),this.devicePixelContentBoxSize=freeze([d.devicePixelContentBoxSize])}return u}(),calculateDepthForNode=function(u){if(isHidden(u))return 1/0;for(var a=0,d=u.parentNode;d;)a+=1,d=d.parentNode;return a},broadcastActiveObservations=function(){var u=1/0,a=[];resizeObservers.forEach(function(te){if(te.activeTargets.length!==0){var b=[];te.activeTargets.forEach(function(ne){var ie=new ResizeObserverEntry(ne.target),se=calculateDepthForNode(ne.target);b.push(ie),ne.lastReportedSize=calculateBoxSize(ne.target,ne.observedBox),se<u&&(u=se)}),a.push(function(){te.callback.call(te.observer,b,te.observer)}),te.activeTargets.splice(0,te.activeTargets.length)}});for(var d=0,m=a;d<m.length;d++){var $=m[d];$()}return u},gatherActiveObservationsAtDepth=function(u){resizeObservers.forEach(function(d){d.activeTargets.splice(0,d.activeTargets.length),d.skippedTargets.splice(0,d.skippedTargets.length),d.observationTargets.forEach(function($){$.isActive()&&(calculateDepthForNode($.target)>u?d.activeTargets.push($):d.skippedTargets.push($))})})},process$1=function(){var u=0;for(gatherActiveObservationsAtDepth(u);hasActiveObservations();)u=broadcastActiveObservations(),gatherActiveObservationsAtDepth(u);return hasSkippedObservations()&&deliverResizeLoopError(),u>0},trigger,callbacks=[],notify=function(){return callbacks.splice(0).forEach(function(u){return u()})},queueMicroTask=function(u){if(!trigger){var a=0,d=document.createTextNode(""),m={characterData:!0};new MutationObserver(function(){return notify()}).observe(d,m),trigger=function(){d.textContent=""+(a?a--:a++)}}callbacks.push(u),trigger()},queueResizeObserver=function(u){queueMicroTask(function(){requestAnimationFrame(u)})},watching=0,isWatching=function(){return!!watching},CATCH_PERIOD=250,observerConfig={attributes:!0,characterData:!0,childList:!0,subtree:!0},events$1=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],time=function(u){return u===void 0&&(u=0),Date.now()+u},scheduled=!1,Scheduler=function(){function u(){var a=this;this.stopped=!0,this.listener=function(){return a.schedule()}}return u.prototype.run=function(a){var d=this;if(a===void 0&&(a=CATCH_PERIOD),!scheduled){scheduled=!0;var m=time(a);queueResizeObserver(function(){var $=!1;try{$=process$1()}finally{if(scheduled=!1,a=m-time(),!isWatching())return;$?d.run(1e3):a>0?d.run(a):d.start()}})}},u.prototype.schedule=function(){this.stop(),this.run()},u.prototype.observe=function(){var a=this,d=function(){return a.observer&&a.observer.observe(document.body,observerConfig)};document.body?d():global$1.addEventListener("DOMContentLoaded",d)},u.prototype.start=function(){var a=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),events$1.forEach(function(d){return global$1.addEventListener(d,a.listener,!0)}))},u.prototype.stop=function(){var a=this;this.stopped||(this.observer&&this.observer.disconnect(),events$1.forEach(function(d){return global$1.removeEventListener(d,a.listener,!0)}),this.stopped=!0)},u}(),scheduler=new Scheduler,updateCount=function(u){!watching&&u>0&&scheduler.start(),watching+=u,!watching&&scheduler.stop()},skipNotifyOnElement=function(u){return!isSVG(u)&&!isReplacedElement(u)&&getComputedStyle(u).display==="inline"},ResizeObservation=function(){function u(a,d){this.target=a,this.observedBox=d||ResizeObserverBoxOptions.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return u.prototype.isActive=function(){var a=calculateBoxSize(this.target,this.observedBox,!0);return skipNotifyOnElement(this.target)&&(this.lastReportedSize=a),this.lastReportedSize.inlineSize!==a.inlineSize||this.lastReportedSize.blockSize!==a.blockSize},u}(),ResizeObserverDetail=function(){function u(a,d){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=a,this.callback=d}return u}(),observerMap=new WeakMap,getObservationIndex=function(u,a){for(var d=0;d<u.length;d+=1)if(u[d].target===a)return d;return-1},ResizeObserverController=function(){function u(){}return u.connect=function(a,d){var m=new ResizeObserverDetail(a,d);observerMap.set(a,m)},u.observe=function(a,d,m){var $=observerMap.get(a),ee=$.observationTargets.length===0;getObservationIndex($.observationTargets,d)<0&&(ee&&resizeObservers.push($),$.observationTargets.push(new ResizeObservation(d,m&&m.box)),updateCount(1),scheduler.schedule())},u.unobserve=function(a,d){var m=observerMap.get(a),$=getObservationIndex(m.observationTargets,d),ee=m.observationTargets.length===1;$>=0&&(ee&&resizeObservers.splice(resizeObservers.indexOf(m),1),m.observationTargets.splice($,1),updateCount(-1))},u.disconnect=function(a){var d=this,m=observerMap.get(a);m.observationTargets.slice().forEach(function($){return d.unobserve(a,$.target)}),m.activeTargets.splice(0,m.activeTargets.length)},u}(),ResizeObserver$1=function(){function u(a){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof a!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ResizeObserverController.connect(this,a)}return u.prototype.observe=function(a,d){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement$3(a))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.observe(this,a,d)},u.prototype.unobserve=function(a){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!isElement$3(a))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ResizeObserverController.unobserve(this,a)},u.prototype.disconnect=function(){ResizeObserverController.disconnect(this)},u.toString=function(){return"function ResizeObserver () { [polyfill code] }"},u}();class ResizeObserverDelegate{constructor(){this.handleResize=this.handleResize.bind(this),this.observer=new ResizeObserver$1(this.handleResize),this.elHandlersMap=new Map}handleResize(a){for(const d of a){const m=this.elHandlersMap.get(d.target);m!==void 0&&m(d)}}registerHandler(a,d){this.elHandlersMap.set(a,d),this.observer.observe(a)}unregisterHandler(a){!this.elHandlersMap.has(a)||(this.elHandlersMap.delete(a),this.observer.unobserve(a))}}const resizeObserverManager=new ResizeObserverDelegate,VResizeObserver=defineComponent({name:"ResizeObserver",props:{onResize:Function},setup(u){let a=!1;const d=getCurrentInstance().proxy;function m($){const{onResize:ee}=u;ee!==void 0&&ee($)}onMounted(()=>{const $=d.$el;if($===void 0){warn$1("resize-observer","$el does not exist.");return}if($.nextElementSibling!==$.nextSibling&&$.nodeType===3&&$.nodeValue!==""){warn$1("resize-observer","$el can not be observed (it may be a text node).");return}$.nextElementSibling!==null&&(resizeObserverManager.registerHandler($.nextElementSibling,m),a=!0)}),onBeforeUnmount(()=>{a&&resizeObserverManager.unregisterHandler(d.$el.nextElementSibling)})},render(){return renderSlot(this.$slots,"default")}}),styles$1=c(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[c("&::-webkit-scrollbar",{width:0,height:0})]),VXScroll=defineComponent({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const u=ref(null);function a($){!($.currentTarget.offsetWidth<$.currentTarget.scrollWidth)||$.deltaY===0||($.currentTarget.scrollLeft+=$.deltaY+$.deltaX,$.preventDefault())}const d=useSsrAdapter();return styles$1.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:cssrAnchorMetaName$1,ssr:d}),Object.assign({selfRef:u,handleWheel:a},{scrollTo(...$){var ee;(ee=u.value)===null||ee===void 0||ee.scrollTo(...$)}})},render(){return h("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}});function isHTMLElement$1(u){return u instanceof HTMLElement}function focusFirstDescendant(u){for(let a=0;a<u.childNodes.length;a++){const d=u.childNodes[a];if(isHTMLElement$1(d)&&(attemptFocus(d)||focusFirstDescendant(d)))return!0}return!1}function focusLastDescendant(u){for(let a=u.childNodes.length-1;a>=0;a--){const d=u.childNodes[a];if(isHTMLElement$1(d)&&(attemptFocus(d)||focusLastDescendant(d)))return!0}return!1}function attemptFocus(u){if(!isFocusable(u))return!1;try{u.focus({preventScroll:!0})}catch{}return document.activeElement===u}function isFocusable(u){if(u.tabIndex>0||u.tabIndex===0&&u.getAttribute("tabIndex")!==null)return!0;if(u.getAttribute("disabled"))return!1;switch(u.nodeName){case"A":return!!u.href&&u.rel!=="ignore";case"INPUT":return u.type!=="hidden"&&u.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}let stack=[];const FocusTrap$1=defineComponent({name:"FocusTrap",props:{disabled:Boolean,active:Boolean,autoFocus:{type:Boolean,default:!0},onEsc:Function,initialFocusTo:String,finalFocusTo:String,returnFocusOnDeactivated:{type:Boolean,default:!0}},setup(u){const a=createId(),d=ref(null),m=ref(null);let $=!1,ee=!1;const te=document.activeElement;function b(){return stack[stack.length-1]===a}function re(ge){var _e;ge.code==="Escape"&&b()&&((_e=u.onEsc)===null||_e===void 0||_e.call(u,ge))}onMounted(()=>{watch(()=>u.active,ge=>{ge?(se(),on("keydown",document,re)):(off("keydown",document,re),$&&fe())},{immediate:!0})}),onBeforeUnmount(()=>{off("keydown",document,re),$&&fe()});function ne(ge){if(!ee&&b()){const _e=ie();if(_e===null||_e.contains(ge.target))return;ce("first")}}function ie(){const ge=d.value;if(ge===null)return null;let _e=ge;for(;_e=_e.nextSibling,!(_e===null||_e instanceof Element&&_e.tagName==="DIV"););return _e}function se(){var ge;if(!u.disabled){if(stack.push(a),u.autoFocus){const{initialFocusTo:_e}=u;_e===void 0?ce("first"):(ge=resolveTo(_e))===null||ge===void 0||ge.focus({preventScroll:!0})}$=!0,document.addEventListener("focus",ne,!0)}}function fe(){var ge;if(u.disabled||(document.removeEventListener("focus",ne,!0),stack=stack.filter(Ee=>Ee!==a),b()))return;const{finalFocusTo:_e}=u;_e!==void 0?(ge=resolveTo(_e))===null||ge===void 0||ge.focus({preventScroll:!0}):u.returnFocusOnDeactivated&&te instanceof HTMLElement&&(ee=!0,te.focus({preventScroll:!0}),ee=!1)}function ce(ge){if(!!b()&&u.active){const _e=d.value,Ee=m.value;if(_e!==null&&Ee!==null){const Ae=ie();if(Ae==null||Ae===Ee){ee=!0,_e.focus({preventScroll:!0}),ee=!1;return}ee=!0;const we=ge==="first"?focusFirstDescendant(Ae):focusLastDescendant(Ae);ee=!1,we||(ee=!0,_e.focus({preventScroll:!0}),ee=!1)}}}function de(ge){if(ee)return;const _e=ie();_e!==null&&(ge.relatedTarget!==null&&_e.contains(ge.relatedTarget)?ce("last"):ce("first"))}function ye(ge){ee||(ge.relatedTarget!==null&&ge.relatedTarget===d.value?ce("last"):ce("first"))}return{focusableStartRef:d,focusableEndRef:m,focusableStyle:"position: absolute; height: 0; width: 0;",handleStartFocus:de,handleEndFocus:ye}},render(){const{default:u}=this.$slots;if(u===void 0)return null;if(this.disabled)return u();const{active:a,focusableStyle:d}=this;return h(Fragment,null,[h("div",{"aria-hidden":"true",tabindex:a?"0":"-1",ref:"focusableStartRef",style:d,onFocus:this.handleStartFocus}),u(),h("div",{"aria-hidden":"true",style:d,ref:"focusableEndRef",tabindex:a?"0":"-1",onFocus:this.handleEndFocus})])}});let lockCount=0,originalMarginRight="",originalOverflow="",originalOverflowX="",originalOverflowY="";const lockHtmlScrollRightCompensationRef=ref("0px");function useLockHtmlScroll(u){if(typeof document>"u")return;const a=document.documentElement;let d,m=!1;const $=()=>{a.style.marginRight=originalMarginRight,a.style.overflow=originalOverflow,a.style.overflowX=originalOverflowX,a.style.overflowY=originalOverflowY,lockHtmlScrollRightCompensationRef.value="0px"};onMounted(()=>{d=watch(u,ee=>{if(ee){if(!lockCount){const te=window.innerWidth-a.offsetWidth;te>0&&(originalMarginRight=a.style.marginRight,a.style.marginRight=`${te}px`,lockHtmlScrollRightCompensationRef.value=`${te}px`),originalOverflow=a.style.overflow,originalOverflowX=a.style.overflowX,originalOverflowY=a.style.overflowY,a.style.overflow="hidden",a.style.overflowX="hidden",a.style.overflowY="hidden"}m=!0,lockCount++}else lockCount--,lockCount||$(),m=!1},{immediate:!0})}),onBeforeUnmount(()=>{d?.(),m&&(lockCount--,lockCount||$(),m=!1)})}const isComposingRef=ref(!1),compositionStartHandler=()=>{isComposingRef.value=!0},compositionEndHandler=()=>{isComposingRef.value=!1};let mountedCount=0;const useIsComposing=()=>(isBrowser$2&&(onBeforeMount(()=>{mountedCount||(window.addEventListener("compositionstart",compositionStartHandler),window.addEventListener("compositionend",compositionEndHandler)),mountedCount++}),onBeforeUnmount(()=>{mountedCount<=1?(window.removeEventListener("compositionstart",compositionStartHandler),window.removeEventListener("compositionend",compositionEndHandler),mountedCount=0):mountedCount--})),isComposingRef);function useReactivated(u){const a={isDeactivated:!1};let d=!1;return onActivated(()=>{if(a.isDeactivated=!1,!d){d=!0;return}u()}),onDeactivated(()=>{a.isDeactivated=!0,d||(d=!0)}),a}const formItemInjectionKey="n-form-item";function useFormItem(u,{defaultSize:a="medium",mergedSize:d,mergedDisabled:m}={}){const $=inject(formItemInjectionKey,null);provide(formItemInjectionKey,null);const ee=computed(d?()=>d($):()=>{const{size:re}=u;if(re)return re;if($){const{mergedSize:ne}=$;if(ne.value!==void 0)return ne.value}return a}),te=computed(m?()=>m($):()=>{const{disabled:re}=u;return re!==void 0?re:$?$.disabled.value:!1}),b=computed(()=>{const{status:re}=u;return re||$?.mergedValidationStatus.value});return onBeforeUnmount(()=>{$&&$.restoreValidation()}),{mergedSizeRef:ee,mergedDisabledRef:te,mergedStatusRef:b,nTriggerFormBlur(){$&&$.handleContentBlur()},nTriggerFormChange(){$&&$.handleContentChange()},nTriggerFormFocus(){$&&$.handleContentFocus()},nTriggerFormInput(){$&&$.handleContentInput()}}}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal$1||freeSelf||Function("return this")();const root$2=root$1;var Symbol$1=root$2.Symbol;const Symbol$2=Symbol$1;var objectProto$a=Object.prototype,hasOwnProperty$a=objectProto$a.hasOwnProperty,nativeObjectToString$1=objectProto$a.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(u){var a=hasOwnProperty$a.call(u,symToStringTag$1),d=u[symToStringTag$1];try{u[symToStringTag$1]=void 0;var m=!0}catch{}var $=nativeObjectToString$1.call(u);return m&&(a?u[symToStringTag$1]=d:delete u[symToStringTag$1]),$}var objectProto$9=Object.prototype,nativeObjectToString=objectProto$9.toString;function objectToString(u){return nativeObjectToString.call(u)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(u){return u==null?u===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(u)?getRawTag(u):objectToString(u)}function isObjectLike(u){return u!=null&&typeof u=="object"}var symbolTag="[object Symbol]";function isSymbol$1(u){return typeof u=="symbol"||isObjectLike(u)&&baseGetTag(u)==symbolTag}function arrayMap(u,a){for(var d=-1,m=u==null?0:u.length,$=Array(m);++d<m;)$[d]=a(u[d],d,u);return $}var isArray$1=Array.isArray;const isArray$2=isArray$1;var INFINITY=1/0,symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString(u){if(typeof u=="string")return u;if(isArray$2(u))return arrayMap(u,baseToString)+"";if(isSymbol$1(u))return symbolToString?symbolToString.call(u):"";var a=u+"";return a=="0"&&1/u==-INFINITY?"-0":a}var reWhitespace=/\s/;function trimmedEndIndex(u){for(var a=u.length;a--&&reWhitespace.test(u.charAt(a)););return a}var reTrimStart=/^\s+/;function baseTrim(u){return u&&u.slice(0,trimmedEndIndex(u)+1).replace(reTrimStart,"")}function isObject$4(u){var a=typeof u;return u!=null&&(a=="object"||a=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(u){if(typeof u=="number")return u;if(isSymbol$1(u))return NAN;if(isObject$4(u)){var a=typeof u.valueOf=="function"?u.valueOf():u;u=isObject$4(a)?a+"":a}if(typeof u!="string")return u===0?u:+u;u=baseTrim(u);var d=reIsBinary.test(u);return d||reIsOctal.test(u)?freeParseInt(u.slice(2),d?2:8):reIsBadHex.test(u)?NAN:+u}function identity$1(u){return u}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$3(u){if(!isObject$4(u))return!1;var a=baseGetTag(u);return a==funcTag$1||a==genTag||a==asyncTag||a==proxyTag}var coreJsData=root$2["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var u=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return u?"Symbol(src)_1."+u:""}();function isMasked(u){return!!maskSrcKey&&maskSrcKey in u}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(u){if(u!=null){try{return funcToString$2.call(u)}catch{}try{return u+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$8=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$8.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(u){if(!isObject$4(u)||isMasked(u))return!1;var a=isFunction$3(u)?reIsNative:reIsHostCtor;return a.test(toSource(u))}function getValue(u,a){return u?.[a]}function getNative(u,a){var d=getValue(u,a);return baseIsNative(d)?d:void 0}var objectCreate=Object.create,baseCreate$1=function(){function u(){}return function(a){if(!isObject$4(a))return{};if(objectCreate)return objectCreate(a);u.prototype=a;var d=new u;return u.prototype=void 0,d}}();const baseCreate$2=baseCreate$1;function apply(u,a,d){switch(d.length){case 0:return u.call(a);case 1:return u.call(a,d[0]);case 2:return u.call(a,d[0],d[1]);case 3:return u.call(a,d[0],d[1],d[2])}return u.apply(a,d)}function copyArray(u,a){var d=-1,m=u.length;for(a||(a=Array(m));++d<m;)a[d]=u[d];return a}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(u){var a=0,d=0;return function(){var m=nativeNow(),$=HOT_SPAN-(m-d);if(d=m,$>0){if(++a>=HOT_COUNT)return arguments[0]}else a=0;return u.apply(void 0,arguments)}}function constant$1(u){return function(){return u}}var defineProperty=function(){try{var u=getNative(Object,"defineProperty");return u({},"",{}),u}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(u,a){return defineProperty$1(u,"toString",{configurable:!0,enumerable:!1,value:constant$1(a),writable:!0})}:identity$1;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(u,a){var d=typeof u;return a=a??MAX_SAFE_INTEGER$1,!!a&&(d=="number"||d!="symbol"&&reIsUint.test(u))&&u>-1&&u%1==0&&u<a}function baseAssignValue(u,a,d){a=="__proto__"&&defineProperty$1?defineProperty$1(u,a,{configurable:!0,enumerable:!0,value:d,writable:!0}):u[a]=d}function eq$1(u,a){return u===a||u!==u&&a!==a}var objectProto$7=Object.prototype,hasOwnProperty$8=objectProto$7.hasOwnProperty;function assignValue(u,a,d){var m=u[a];(!(hasOwnProperty$8.call(u,a)&&eq$1(m,d))||d===void 0&&!(a in u))&&baseAssignValue(u,a,d)}function copyObject(u,a,d,m){var $=!d;d||(d={});for(var ee=-1,te=a.length;++ee<te;){var b=a[ee],re=m?m(d[b],u[b],b,d,u):void 0;re===void 0&&(re=u[b]),$?baseAssignValue(d,b,re):assignValue(d,b,re)}return d}var nativeMax$1=Math.max;function overRest(u,a,d){return a=nativeMax$1(a===void 0?u.length-1:a,0),function(){for(var m=arguments,$=-1,ee=nativeMax$1(m.length-a,0),te=Array(ee);++$<ee;)te[$]=m[a+$];$=-1;for(var b=Array(a+1);++$<a;)b[$]=m[$];return b[a]=d(te),apply(u,this,b)}}function baseRest(u,a){return setToString$1(overRest(u,a,identity$1),u+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=MAX_SAFE_INTEGER}function isArrayLike$1(u){return u!=null&&isLength(u.length)&&!isFunction$3(u)}function isIterateeCall(u,a,d){if(!isObject$4(d))return!1;var m=typeof a;return(m=="number"?isArrayLike$1(d)&&isIndex(a,d.length):m=="string"&&a in d)?eq$1(d[a],u):!1}function createAssigner$1(u){return baseRest(function(a,d){var m=-1,$=d.length,ee=$>1?d[$-1]:void 0,te=$>2?d[2]:void 0;for(ee=u.length>3&&typeof ee=="function"?($--,ee):void 0,te&&isIterateeCall(d[0],d[1],te)&&(ee=$<3?void 0:ee,$=1),a=Object(a);++m<$;){var b=d[m];b&&u(a,b,m,ee)}return a})}var objectProto$6=Object.prototype;function isPrototype(u){var a=u&&u.constructor,d=typeof a=="function"&&a.prototype||objectProto$6;return u===d}function baseTimes(u,a){for(var d=-1,m=Array(u);++d<u;)m[d]=a(d);return m}var argsTag$1="[object Arguments]";function baseIsArguments(u){return isObjectLike(u)&&baseGetTag(u)==argsTag$1}var objectProto$5=Object.prototype,hasOwnProperty$7=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments$4=baseIsArguments(function(){return arguments}())?baseIsArguments:function(u){return isObjectLike(u)&&hasOwnProperty$7.call(u,"callee")&&!propertyIsEnumerable.call(u,"callee")};const isArguments$5=isArguments$4;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$2.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;function baseIsTypedArray(u){return isObjectLike(u)&&isLength(u.length)&&!!typedArrayTags[baseGetTag(u)]}function baseUnary(u){return function(a){return u(a)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var u=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return u||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$5=isTypedArray$4;var objectProto$4=Object.prototype,hasOwnProperty$6=objectProto$4.hasOwnProperty;function arrayLikeKeys(u,a){var d=isArray$2(u),m=!d&&isArguments$5(u),$=!d&&!m&&isBuffer$1(u),ee=!d&&!m&&!$&&isTypedArray$5(u),te=d||m||$||ee,b=te?baseTimes(u.length,String):[],re=b.length;for(var ne in u)(a||hasOwnProperty$6.call(u,ne))&&!(te&&(ne=="length"||$&&(ne=="offset"||ne=="parent")||ee&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||isIndex(ne,re)))&&b.push(ne);return b}function overArg(u,a){return function(d){return u(a(d))}}function nativeKeysIn(u){var a=[];if(u!=null)for(var d in Object(u))a.push(d);return a}var objectProto$3=Object.prototype,hasOwnProperty$5=objectProto$3.hasOwnProperty;function baseKeysIn(u){if(!isObject$4(u))return nativeKeysIn(u);var a=isPrototype(u),d=[];for(var m in u)m=="constructor"&&(a||!hasOwnProperty$5.call(u,m))||d.push(m);return d}function keysIn(u){return isArrayLike$1(u)?arrayLikeKeys(u,!0):baseKeysIn(u)}var nativeCreate$1=getNative(Object,"create");const nativeCreate$2=nativeCreate$1;function hashClear(){this.__data__=nativeCreate$2?nativeCreate$2(null):{},this.size=0}function hashDelete(u){var a=this.has(u)&&delete this.__data__[u];return this.size-=a?1:0,a}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$2=Object.prototype,hasOwnProperty$4=objectProto$2.hasOwnProperty;function hashGet(u){var a=this.__data__;if(nativeCreate$2){var d=a[u];return d===HASH_UNDEFINED$1?void 0:d}return hasOwnProperty$4.call(a,u)?a[u]:void 0}var objectProto$1=Object.prototype,hasOwnProperty$3=objectProto$1.hasOwnProperty;function hashHas(u){var a=this.__data__;return nativeCreate$2?a[u]!==void 0:hasOwnProperty$3.call(a,u)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(u,a){var d=this.__data__;return this.size+=this.has(u)?0:1,d[u]=nativeCreate$2&&a===void 0?HASH_UNDEFINED:a,this}function Hash(u){var a=-1,d=u==null?0:u.length;for(this.clear();++a<d;){var m=u[a];this.set(m[0],m[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(u,a){for(var d=u.length;d--;)if(eq$1(u[d][0],a))return d;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(u){var a=this.__data__,d=assocIndexOf(a,u);if(d<0)return!1;var m=a.length-1;return d==m?a.pop():splice.call(a,d,1),--this.size,!0}function listCacheGet(u){var a=this.__data__,d=assocIndexOf(a,u);return d<0?void 0:a[d][1]}function listCacheHas(u){return assocIndexOf(this.__data__,u)>-1}function listCacheSet(u,a){var d=this.__data__,m=assocIndexOf(d,u);return m<0?(++this.size,d.push([u,a])):d[m][1]=a,this}function ListCache(u){var a=-1,d=u==null?0:u.length;for(this.clear();++a<d;){var m=u[a];this.set(m[0],m[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$2,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(u){var a=typeof u;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?u!=="__proto__":u===null}function getMapData(u,a){var d=u.__data__;return isKeyable(a)?d[typeof a=="string"?"string":"hash"]:d.map}function mapCacheDelete(u){var a=getMapData(this,u).delete(u);return this.size-=a?1:0,a}function mapCacheGet(u){return getMapData(this,u).get(u)}function mapCacheHas(u){return getMapData(this,u).has(u)}function mapCacheSet(u,a){var d=getMapData(this,u),m=d.size;return d.set(u,a),this.size+=d.size==m?0:1,this}function MapCache(u){var a=-1,d=u==null?0:u.length;for(this.clear();++a<d;){var m=u[a];this.set(m[0],m[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function toString$3(u){return u==null?"":baseToString(u)}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$2=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(u){if(!isObjectLike(u)||baseGetTag(u)!=objectTag)return!1;var a=getPrototype$1(u);if(a===null)return!0;var d=hasOwnProperty$2.call(a,"constructor")&&a.constructor;return typeof d=="function"&&d instanceof d&&funcToString.call(d)==objectCtorString}function baseSlice(u,a,d){var m=-1,$=u.length;a<0&&(a=-a>$?0:$+a),d=d>$?$:d,d<0&&(d+=$),$=a>d?0:d-a>>>0,a>>>=0;for(var ee=Array($);++m<$;)ee[m]=u[m+a];return ee}function castSlice(u,a,d){var m=u.length;return d=d===void 0?m:d,!a&&d>=m?u:baseSlice(u,a,d)}var rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsVarRange$2="\\ufe0e\\ufe0f",rsZWJ$2="\\u200d",reHasUnicode=RegExp("["+rsZWJ$2+rsAstralRange$2+rsComboRange$3+rsVarRange$2+"]");function hasUnicode(u){return reHasUnicode.test(u)}function asciiToArray(u){return u.split("")}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo$2="["+rsComboRange$2+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$2+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$1+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$1+"]?",rsOptJoin$1="(?:"+rsZWJ$1+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsSymbol="(?:"+[rsNonAstral$1+rsCombo$2+"?",rsCombo$2,rsRegional$1,rsSurrPair$1,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSymbol+rsSeq$1,"g");function unicodeToArray(u){return u.match(reUnicode)||[]}function stringToArray(u){return hasUnicode(u)?unicodeToArray(u):asciiToArray(u)}function createCaseFirst(u){return function(a){a=toString$3(a);var d=hasUnicode(a)?stringToArray(a):void 0,m=d?d[0]:a.charAt(0),$=d?castSlice(d,1).join(""):a.slice(1);return m[u]()+$}}var upperFirst=createCaseFirst("toUpperCase");const upperFirst$1=upperFirst;function capitalize(u){return upperFirst$1(toString$3(u).toLowerCase())}function arrayReduce(u,a,d,m){var $=-1,ee=u==null?0:u.length;for(m&&ee&&(d=u[++$]);++$<ee;)d=a(d,u[$],$,u);return d}function basePropertyOf(u){return function(a){return u?.[a]}}var deburredLetters={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},deburrLetter=basePropertyOf(deburredLetters);const deburrLetter$1=deburrLetter;var reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsCombo$1="["+rsComboRange$1+"]",reComboMark=RegExp(rsCombo$1,"g");function deburr(u){return u=toString$3(u),u&&u.replace(reLatin,deburrLetter$1).replace(reComboMark,"")}var reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords(u){return u.match(reAsciiWord)||[]}var reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord(u){return reHasUnicodeWord.test(u)}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="['\u2019]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords(u){return u.match(reUnicodeWord)||[]}function words(u,a,d){return u=toString$3(u),a=d?void 0:a,a===void 0?hasUnicodeWord(u)?unicodeWords(u):asciiWords(u):u.match(a)||[]}var rsApos="['\u2019]",reApos=RegExp(rsApos,"g");function createCompounder(u){return function(a){return arrayReduce(words(deburr(a).replace(reApos,"")),u,"")}}var camelCase$1=createCompounder(function(u,a,d){return a=a.toLowerCase(),u+(d?capitalize(a):a)});const camelCase$2=camelCase$1;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(u){var a=this.__data__,d=a.delete(u);return this.size=a.size,d}function stackGet(u){return this.__data__.get(u)}function stackHas(u){return this.__data__.has(u)}var LARGE_ARRAY_SIZE=200;function stackSet(u,a){var d=this.__data__;if(d instanceof ListCache){var m=d.__data__;if(!Map$2||m.length<LARGE_ARRAY_SIZE-1)return m.push([u,a]),this.size=++d.size,this;d=this.__data__=new MapCache(m)}return d.set(u,a),this.size=d.size,this}function Stack(u){var a=this.__data__=new ListCache(u);this.size=a.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$2.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(u,a){if(a)return u.slice();var d=u.length,m=allocUnsafe?allocUnsafe(d):new u.constructor(d);return u.copy(m),m}var Uint8Array$1=root$2.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(u){var a=new u.constructor(u.byteLength);return new Uint8Array$2(a).set(new Uint8Array$2(u)),a}function cloneTypedArray(u,a){var d=a?cloneArrayBuffer(u.buffer):u.buffer;return new u.constructor(d,u.byteOffset,u.length)}function initCloneObject(u){return typeof u.constructor=="function"&&!isPrototype(u)?baseCreate$2(getPrototype$1(u)):{}}function createBaseFor(u){return function(a,d,m){for(var $=-1,ee=Object(a),te=m(a),b=te.length;b--;){var re=te[u?b:++$];if(d(ee[re],re,ee)===!1)break}return a}}var baseFor=createBaseFor();const baseFor$1=baseFor;var now$1=function(){return root$2.Date.now()};const now$2=now$1;var FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$2(u,a,d){var m,$,ee,te,b,re,ne=0,ie=!1,se=!1,fe=!0;if(typeof u!="function")throw new TypeError(FUNC_ERROR_TEXT$1);a=toNumber(a)||0,isObject$4(d)&&(ie=!!d.leading,se="maxWait"in d,ee=se?nativeMax(toNumber(d.maxWait)||0,a):ee,fe="trailing"in d?!!d.trailing:fe);function ce(ke){var Re=m,ze=$;return m=$=void 0,ne=ke,te=u.apply(ze,Re),te}function de(ke){return ne=ke,b=setTimeout(_e,a),ie?ce(ke):te}function ye(ke){var Re=ke-re,ze=ke-ne,Je=a-Re;return se?nativeMin(Je,ee-ze):Je}function ge(ke){var Re=ke-re,ze=ke-ne;return re===void 0||Re>=a||Re<0||se&&ze>=ee}function _e(){var ke=now$2();if(ge(ke))return Ee(ke);b=setTimeout(_e,ye(ke))}function Ee(ke){return b=void 0,fe&&m?ce(ke):(m=$=void 0,te)}function Ae(){b!==void 0&&clearTimeout(b),ne=0,m=re=$=b=void 0}function we(){return b===void 0?te:Ee(now$2())}function Me(){var ke=now$2(),Re=ge(ke);if(m=arguments,$=this,re=ke,Re){if(b===void 0)return de(re);if(se)return clearTimeout(b),b=setTimeout(_e,a),ce(re)}return b===void 0&&(b=setTimeout(_e,a)),te}return Me.cancel=Ae,Me.flush=we,Me}function assignMergeValue(u,a,d){(d!==void 0&&!eq$1(u[a],d)||d===void 0&&!(a in u))&&baseAssignValue(u,a,d)}function isArrayLikeObject(u){return isObjectLike(u)&&isArrayLike$1(u)}function safeGet$1(u,a){if(!(a==="constructor"&&typeof u[a]=="function")&&a!="__proto__")return u[a]}function toPlainObject(u){return copyObject(u,keysIn(u))}function baseMergeDeep(u,a,d,m,$,ee,te){var b=safeGet$1(u,d),re=safeGet$1(a,d),ne=te.get(re);if(ne){assignMergeValue(u,d,ne);return}var ie=ee?ee(b,re,d+"",u,a,te):void 0,se=ie===void 0;if(se){var fe=isArray$2(re),ce=!fe&&isBuffer$1(re),de=!fe&&!ce&&isTypedArray$5(re);ie=re,fe||ce||de?isArray$2(b)?ie=b:isArrayLikeObject(b)?ie=copyArray(b):ce?(se=!1,ie=cloneBuffer(re,!0)):de?(se=!1,ie=cloneTypedArray(re,!0)):ie=[]:isPlainObject(re)||isArguments$5(re)?(ie=b,isArguments$5(b)?ie=toPlainObject(b):(!isObject$4(b)||isFunction$3(b))&&(ie=initCloneObject(re))):se=!1}se&&(te.set(re,ie),$(ie,re,m,ee,te),te.delete(re)),assignMergeValue(u,d,ie)}function baseMerge(u,a,d,m,$){u!==a&&baseFor$1(a,function(ee,te){if($||($=new Stack),isObject$4(ee))baseMergeDeep(u,a,te,d,baseMerge,m,$);else{var b=m?m(safeGet$1(u,te),ee,te+"",u,a,$):void 0;b===void 0&&(b=ee),assignMergeValue(u,te,b)}},keysIn)}var merge=createAssigner$1(function(u,a,d){baseMerge(u,a,d)});const merge$1=merge;var FUNC_ERROR_TEXT="Expected a function";function throttle$1(u,a,d){var m=!0,$=!0;if(typeof u!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$4(d)&&(m="leading"in d?!!d.leading:m,$="trailing"in d?!!d.trailing:$),debounce$2(u,a,{leading:m,maxWait:a,trailing:$})}const commonVariables$6={fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontFamilyMono:"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace",fontWeight:"400",fontWeightStrong:"500",cubicBezierEaseInOut:"cubic-bezier(.4, 0, .2, 1)",cubicBezierEaseOut:"cubic-bezier(0, 0, .2, 1)",cubicBezierEaseIn:"cubic-bezier(.4, 0, 1, 1)",borderRadius:"3px",borderRadiusSmall:"2px",fontSize:"14px",fontSizeMini:"12px",fontSizeTiny:"12px",fontSizeSmall:"14px",fontSizeMedium:"14px",fontSizeLarge:"15px",fontSizeHuge:"16px",lineHeight:"1.6",heightMini:"16px",heightTiny:"22px",heightSmall:"28px",heightMedium:"34px",heightLarge:"40px",heightHuge:"46px"},{fontSize,fontFamily,lineHeight}=commonVariables$6,globalStyle=c$1("body",`
 margin: 0;
 font-size: ${fontSize};
 font-family: ${fontFamily};
 line-height: ${lineHeight};
 -webkit-text-size-adjust: 100%;
 -webkit-tap-highlight-color: transparent;
`,[c$1("input",`
 font-family: inherit;
 font-size: inherit;
 `)]),configProviderInjectionKey="n-config-provider",cssrAnchorMetaName="naive-ui-style";function createTheme(u){return u}function useTheme(u,a,d,m,$,ee){const te=useSsrAdapter(),b=inject(configProviderInjectionKey,null);if(d){const ne=()=>{const ie=ee?.value;d.mount({id:ie===void 0?a:ie+a,head:!0,props:{bPrefix:ie?`.${ie}-`:void 0},anchorMetaName:cssrAnchorMetaName,ssr:te}),b?.preflightStyleDisabled||globalStyle.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:te})};te?ne():onBeforeMount(ne)}return computed(()=>{var ne;const{theme:{common:ie,self:se,peers:fe={}}={},themeOverrides:ce={},builtinThemeOverrides:de={}}=$,{common:ye,peers:ge}=ce,{common:_e=void 0,[u]:{common:Ee=void 0,self:Ae=void 0,peers:we={}}={}}=b?.mergedThemeRef.value||{},{common:Me=void 0,[u]:ke={}}=b?.mergedThemeOverridesRef.value||{},{common:Re,peers:ze={}}=ke,Je=merge$1({},ie||Ee||_e||m.common,Me,Re,ye),et=merge$1((ne=se||Ae||m.self)===null||ne===void 0?void 0:ne(Je),de,ke,ce);return{common:Je,self:et,peers:merge$1({},m.peers,we,fe),peerOverrides:merge$1({},de.peers,ze,ge)}})}useTheme.props={theme:Object,themeOverrides:Object,builtinThemeOverrides:Object};const defaultClsPrefix="n";function useConfig(u={},a={defaultBordered:!0}){const d=inject(configProviderInjectionKey,null);return{inlineThemeDisabled:d?.inlineThemeDisabled,mergedRtlRef:d?.mergedRtlRef,mergedComponentPropsRef:d?.mergedComponentPropsRef,mergedBreakpointsRef:d?.mergedBreakpointsRef,mergedBorderedRef:computed(()=>{var m,$;const{bordered:ee}=u;return ee!==void 0?ee:($=(m=d?.mergedBorderedRef.value)!==null&&m!==void 0?m:a.defaultBordered)!==null&&$!==void 0?$:!0}),mergedClsPrefixRef:computed(()=>d?.mergedClsPrefixRef.value||defaultClsPrefix),namespaceRef:computed(()=>d?.mergedNamespaceRef.value)}}const enUS={name:"en-US",global:{undo:"Undo",redo:"Redo",confirm:"Confirm"},Popconfirm:{positiveText:"Confirm",negativeText:"Cancel"},Cascader:{placeholder:"Please Select",loading:"Loading",loadingRequiredMessage:u=>`Please load all ${u}'s descendants before checking it.`},Time:{dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss"},DatePicker:{yearFormat:"yyyy",monthFormat:"MMM",dayFormat:"eeeeee",yearTypeFormat:"yyyy",monthTypeFormat:"yyyy-MM",dateFormat:"yyyy-MM-dd",dateTimeFormat:"yyyy-MM-dd HH:mm:ss",quarterFormat:"yyyy-qqq",clear:"Clear",now:"Now",confirm:"Confirm",selectTime:"Select Time",selectDate:"Select Date",datePlaceholder:"Select Date",datetimePlaceholder:"Select Date and Time",monthPlaceholder:"Select Month",yearPlaceholder:"Select Year",quarterPlaceholder:"Select Quarter",startDatePlaceholder:"Start Date",endDatePlaceholder:"End Date",startDatetimePlaceholder:"Start Date and Time",endDatetimePlaceholder:"End Date and Time",startMonthPlaceholder:"Start Month",endMonthPlaceholder:"End Month",monthBeforeYear:!0,firstDayOfWeek:6,today:"Today"},DataTable:{checkTableAll:"Select all in the table",uncheckTableAll:"Unselect all in the table",confirm:"Confirm",clear:"Clear"},LegacyTransfer:{sourceTitle:"Source",targetTitle:"Target"},Transfer:{selectAll:"Select all",unselectAll:"Unselect all",clearAll:"Clear",total:u=>`Total ${u} items`,selected:u=>`${u} items selected`},Empty:{description:"No Data"},Select:{placeholder:"Please Select"},TimePicker:{placeholder:"Select Time",positiveText:"OK",negativeText:"Cancel",now:"Now"},Pagination:{goto:"Goto",selectionSuffix:"page"},DynamicTags:{add:"Add"},Log:{loading:"Loading"},Input:{placeholder:"Please Input"},InputNumber:{placeholder:"Please Input"},DynamicInput:{create:"Create"},ThemeEditor:{title:"Theme Editor",clearAllVars:"Clear All Variables",clearSearch:"Clear Search",filterCompName:"Filter Component Name",filterVarName:"Filter Variable Name",import:"Import",export:"Export",restore:"Reset to Default"},Image:{tipPrevious:"Previous picture (\u2190)",tipNext:"Next picture (\u2192)",tipCounterclockwise:"Counterclockwise",tipClockwise:"Clockwise",tipZoomOut:"Zoom out",tipZoomIn:"Zoom in",tipClose:"Close (Esc)",tipOriginalSize:"Zoom to original size"}},enUS$1=enUS;function buildFormatLongFn(u){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=a.width?String(a.width):u.defaultWidth,m=u.formats[d]||u.formats[u.defaultWidth];return m}}function buildLocalizeFn(u){return function(a,d){var m=d!=null&&d.context?String(d.context):"standalone",$;if(m==="formatting"&&u.formattingValues){var ee=u.defaultFormattingWidth||u.defaultWidth,te=d!=null&&d.width?String(d.width):ee;$=u.formattingValues[te]||u.formattingValues[ee]}else{var b=u.defaultWidth,re=d!=null&&d.width?String(d.width):u.defaultWidth;$=u.values[re]||u.values[b]}var ne=u.argumentCallback?u.argumentCallback(a):a;return $[ne]}}function buildMatchFn(u){return function(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=d.width,$=m&&u.matchPatterns[m]||u.matchPatterns[u.defaultMatchWidth],ee=a.match($);if(!ee)return null;var te=ee[0],b=m&&u.parsePatterns[m]||u.parsePatterns[u.defaultParseWidth],re=Array.isArray(b)?findIndex$1(b,function(se){return se.test(te)}):findKey$1(b,function(se){return se.test(te)}),ne;ne=u.valueCallback?u.valueCallback(re):re,ne=d.valueCallback?d.valueCallback(ne):ne;var ie=a.slice(te.length);return{value:ne,rest:ie}}}function findKey$1(u,a){for(var d in u)if(u.hasOwnProperty(d)&&a(u[d]))return d}function findIndex$1(u,a){for(var d=0;d<u.length;d++)if(a(u[d]))return d}function buildMatchPatternFn(u){return function(a){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},m=a.match(u.matchPattern);if(!m)return null;var $=m[0],ee=a.match(u.parsePattern);if(!ee)return null;var te=u.valueCallback?u.valueCallback(ee[0]):ee[0];te=d.valueCallback?d.valueCallback(te):te;var b=a.slice($.length);return{value:te,rest:b}}}var formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=function(u,a,d){var m,$=formatDistanceLocale[u];return typeof $=="string"?m=$:a===1?m=$.one:m=$.other.replace("{{count}}",a.toString()),d!=null&&d.addSuffix?d.comparison&&d.comparison>0?"in "+m:m+" ago":m};const formatDistance$1=formatDistance;var dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})};const formatLong$1=formatLong;var formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=function(u,a,d,m){return formatRelativeLocale[u]};const formatRelative$1=formatRelative;var eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=function(u,a){var d=Number(u),m=d%100;if(m>20||m<10)switch(m%10){case 1:return d+"st";case 2:return d+"nd";case 3:return d+"rd"}return d+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:function(u){return u-1}}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};const localize$1=localize;var matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:function(u){return parseInt(u,10)}}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:function(u){return u+1}}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})};const match$1=match;var locale={code:"en-US",formatDistance:formatDistance$1,formatLong:formatLong$1,formatRelative:formatRelative$1,localize:localize$1,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};const defaultLocale=locale,dateEnUs={name:"en-US",locale:defaultLocale},dateEnUS=dateEnUs;function useLocale(u){const{mergedLocaleRef:a,mergedDateLocaleRef:d}=inject(configProviderInjectionKey,null)||{},m=computed(()=>{var ee,te;return(te=(ee=a?.value)===null||ee===void 0?void 0:ee[u])!==null&&te!==void 0?te:enUS$1[u]});return{dateLocaleRef:computed(()=>{var ee;return(ee=d?.value)!==null&&ee!==void 0?ee:dateEnUS}),localeRef:m}}function useStyle(u,a,d){if(!a)return;const m=useSsrAdapter(),$=inject(configProviderInjectionKey,null),ee=()=>{const te=d?.value;a.mount({id:te===void 0?u:te+u,head:!0,anchorMetaName:cssrAnchorMetaName,props:{bPrefix:te?`.${te}-`:void 0},ssr:m}),$?.preflightStyleDisabled||globalStyle.mount({id:"n-global",head:!0,anchorMetaName:cssrAnchorMetaName,ssr:m})};m?ee():onBeforeMount(ee)}function useThemeClass(u,a,d,m){var $;d||throwError("useThemeClass","cssVarsRef is not passed");const ee=($=inject(configProviderInjectionKey,null))===null||$===void 0?void 0:$.mergedThemeHashRef,te=ref(""),b=useSsrAdapter();let re;const ne=`__${u}`,ie=()=>{let se=ne;const fe=a?a.value:void 0,ce=ee?.value;ce&&(se+="-"+ce),fe&&(se+="-"+fe);const{themeOverrides:de,builtinThemeOverrides:ye}=m;de&&(se+="-"+murmur2(JSON.stringify(de))),ye&&(se+="-"+murmur2(JSON.stringify(ye))),te.value=se,re=()=>{const ge=d.value;let _e="";for(const Ee in ge)_e+=`${Ee}: ${ge[Ee]};`;c$1(`.${se}`,_e).mount({id:se,ssr:b}),re=void 0}};return watchEffect(()=>{ie()}),{themeClass:te,onRender:()=>{re?.()}}}function useRtl(u,a,d){if(!a)return;const m=useSsrAdapter(),$=computed(()=>{const{value:te}=a;if(!te)return;const b=te[u];if(!!b)return b}),ee=()=>{watchEffect(()=>{const{value:te}=d,b=`${te}${u}Rtl`;if(exists(b,m))return;const{value:re}=$;!re||re.style.mount({id:b,head:!0,anchorMetaName:cssrAnchorMetaName,props:{bPrefix:te?`.${te}-`:void 0},ssr:m})})};return m?ee():onBeforeMount(ee),$}const AddIcon$1=defineComponent({name:"Add",render(){return h("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}});function replaceable(u,a){return defineComponent({name:upperFirst$1(u),setup(){var d;const m=(d=inject(configProviderInjectionKey,null))===null||d===void 0?void 0:d.mergedIconsRef;return()=>{var $;const ee=($=m?.value)===null||$===void 0?void 0:$[u];return ee?ee():a}}})}const ErrorIcon$1=replaceable("close",h("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),EyeIcon=defineComponent({name:"Eye",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"}),h("circle",{cx:"256",cy:"256",r:"80",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"}))}}),EyeOffIcon=defineComponent({name:"EyeOff",render(){return h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},h("path",{d:"M432 448a15.92 15.92 0 0 1-11.31-4.69l-352-352a16 16 0 0 1 22.62-22.62l352 352A16 16 0 0 1 432 448z",fill:"currentColor"}),h("path",{d:"M255.66 384c-41.49 0-81.5-12.28-118.92-36.5c-34.07-22-64.74-53.51-88.7-91v-.08c19.94-28.57 41.78-52.73 65.24-72.21a2 2 0 0 0 .14-2.94L93.5 161.38a2 2 0 0 0-2.71-.12c-24.92 21-48.05 46.76-69.08 76.92a31.92 31.92 0 0 0-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416a239.13 239.13 0 0 0 75.8-12.58a2 2 0 0 0 .77-3.31l-21.58-21.58a4 4 0 0 0-3.83-1a204.8 204.8 0 0 1-51.16 6.47z",fill:"currentColor"}),h("path",{d:"M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96a227.34 227.34 0 0 0-74.89 12.83a2 2 0 0 0-.75 3.31l21.55 21.55a4 4 0 0 0 3.88 1a192.82 192.82 0 0 1 50.21-6.69c40.69 0 80.58 12.43 118.55 37c34.71 22.4 65.74 53.88 89.76 91a.13.13 0 0 1 0 .16a310.72 310.72 0 0 1-64.12 72.73a2 2 0 0 0-.15 2.95l19.9 19.89a2 2 0 0 0 2.7.13a343.49 343.49 0 0 0 68.64-78.48a32.2 32.2 0 0 0-.1-34.78z",fill:"currentColor"}),h("path",{d:"M256 160a95.88 95.88 0 0 0-21.37 2.4a2 2 0 0 0-1 3.38l112.59 112.56a2 2 0 0 0 3.38-1A96 96 0 0 0 256 160z",fill:"currentColor"}),h("path",{d:"M165.78 233.66a2 2 0 0 0-3.38 1a96 96 0 0 0 115 115a2 2 0 0 0 1-3.38z",fill:"currentColor"}))}}),ErrorIcon=replaceable("error",h("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M17.8838835,16.1161165 L17.7823881,16.0249942 C17.3266086,15.6583353 16.6733914,15.6583353 16.2176119,16.0249942 L16.1161165,16.1161165 L16.0249942,16.2176119 C15.6583353,16.6733914 15.6583353,17.3266086 16.0249942,17.7823881 L16.1161165,17.8838835 L22.233,24 L16.1161165,30.1161165 L16.0249942,30.2176119 C15.6583353,30.6733914 15.6583353,31.3266086 16.0249942,31.7823881 L16.1161165,31.8838835 L16.2176119,31.9750058 C16.6733914,32.3416647 17.3266086,32.3416647 17.7823881,31.9750058 L17.8838835,31.8838835 L24,25.767 L30.1161165,31.8838835 L30.2176119,31.9750058 C30.6733914,32.3416647 31.3266086,32.3416647 31.7823881,31.9750058 L31.8838835,31.8838835 L31.9750058,31.7823881 C32.3416647,31.3266086 32.3416647,30.6733914 31.9750058,30.2176119 L31.8838835,30.1161165 L25.767,24 L31.8838835,17.8838835 L31.9750058,17.7823881 C32.3416647,17.3266086 32.3416647,16.6733914 31.9750058,16.2176119 L31.8838835,16.1161165 L31.7823881,16.0249942 C31.3266086,15.6583353 30.6733914,15.6583353 30.2176119,16.0249942 L30.1161165,16.1161165 L24,22.233 L17.8838835,16.1161165 L17.7823881,16.0249942 L17.8838835,16.1161165 Z"}))))),InfoIcon=replaceable("info",h("svg",{viewBox:"0 0 28 28",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M14,2 C20.6274,2 26,7.37258 26,14 C26,20.6274 20.6274,26 14,26 C7.37258,26 2,20.6274 2,14 C2,7.37258 7.37258,2 14,2 Z M14,11 C13.4477,11 13,11.4477 13,12 L13,12 L13,20 C13,20.5523 13.4477,21 14,21 C14.5523,21 15,20.5523 15,20 L15,20 L15,12 C15,11.4477 14.5523,11 14,11 Z M14,6.75 C13.3096,6.75 12.75,7.30964 12.75,8 C12.75,8.69036 13.3096,9.25 14,9.25 C14.6904,9.25 15.25,8.69036 15.25,8 C15.25,7.30964 14.6904,6.75 14,6.75 Z"}))))),SuccessIcon=replaceable("success",h("svg",{viewBox:"0 0 48 48",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M24,4 C35.045695,4 44,12.954305 44,24 C44,35.045695 35.045695,44 24,44 C12.954305,44 4,35.045695 4,24 C4,12.954305 12.954305,4 24,4 Z M32.6338835,17.6161165 C32.1782718,17.1605048 31.4584514,17.1301307 30.9676119,17.5249942 L30.8661165,17.6161165 L20.75,27.732233 L17.1338835,24.1161165 C16.6457281,23.6279612 15.8542719,23.6279612 15.3661165,24.1161165 C14.9105048,24.5717282 14.8801307,25.2915486 15.2749942,25.7823881 L15.3661165,25.8838835 L19.8661165,30.3838835 C20.3217282,30.8394952 21.0415486,30.8698693 21.5323881,30.4750058 L21.6338835,30.3838835 L32.6338835,19.3838835 C33.1220388,18.8957281 33.1220388,18.1042719 32.6338835,17.6161165 Z"}))))),WarningIcon=replaceable("warning",h("svg",{viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1","fill-rule":"evenodd"},h("g",{"fill-rule":"nonzero"},h("path",{d:"M12,2 C17.523,2 22,6.478 22,12 C22,17.522 17.523,22 12,22 C6.477,22 2,17.522 2,12 C2,6.478 6.477,2 12,2 Z M12.0018002,15.0037242 C11.450254,15.0037242 11.0031376,15.4508407 11.0031376,16.0023869 C11.0031376,16.553933 11.450254,17.0010495 12.0018002,17.0010495 C12.5533463,17.0010495 13.0004628,16.553933 13.0004628,16.0023869 C13.0004628,15.4508407 12.5533463,15.0037242 12.0018002,15.0037242 Z M11.99964,7 C11.4868042,7.00018474 11.0642719,7.38637706 11.0066858,7.8837365 L11,8.00036004 L11.0018003,13.0012393 L11.00857,13.117858 C11.0665141,13.6151758 11.4893244,14.0010638 12.0021602,14.0008793 C12.514996,14.0006946 12.9375283,13.6145023 12.9951144,13.1171428 L13.0018002,13.0005193 L13,7.99964009 L12.9932303,7.8830214 C12.9352861,7.38570354 12.5124758,6.99981552 11.99964,7 Z"}))))),ChevronDownIcon=defineComponent({name:"ChevronDown",render(){return h("svg",{viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"M3.14645 5.64645C3.34171 5.45118 3.65829 5.45118 3.85355 5.64645L8 9.79289L12.1464 5.64645C12.3417 5.45118 12.6583 5.45118 12.8536 5.64645C13.0488 5.84171 13.0488 6.15829 12.8536 6.35355L8.35355 10.8536C8.15829 11.0488 7.84171 11.0488 7.64645 10.8536L3.14645 6.35355C2.95118 6.15829 2.95118 5.84171 3.14645 5.64645Z",fill:"currentColor"}))}}),ClearIcon=replaceable("clear",h("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},h("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},h("g",{fill:"currentColor","fill-rule":"nonzero"},h("path",{d:"M8,2 C11.3137085,2 14,4.6862915 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,4.6862915 4.6862915,2 8,2 Z M6.5343055,5.83859116 C6.33943736,5.70359511 6.07001296,5.72288026 5.89644661,5.89644661 L5.89644661,5.89644661 L5.83859116,5.9656945 C5.70359511,6.16056264 5.72288026,6.42998704 5.89644661,6.60355339 L5.89644661,6.60355339 L7.293,8 L5.89644661,9.39644661 L5.83859116,9.4656945 C5.70359511,9.66056264 5.72288026,9.92998704 5.89644661,10.1035534 L5.89644661,10.1035534 L5.9656945,10.1614088 C6.16056264,10.2964049 6.42998704,10.2771197 6.60355339,10.1035534 L6.60355339,10.1035534 L8,8.707 L9.39644661,10.1035534 L9.4656945,10.1614088 C9.66056264,10.2964049 9.92998704,10.2771197 10.1035534,10.1035534 L10.1035534,10.1035534 L10.1614088,10.0343055 C10.2964049,9.83943736 10.2771197,9.57001296 10.1035534,9.39644661 L10.1035534,9.39644661 L8.707,8 L10.1035534,6.60355339 L10.1614088,6.5343055 C10.2964049,6.33943736 10.2771197,6.07001296 10.1035534,5.89644661 L10.1035534,5.89644661 L10.0343055,5.83859116 C9.83943736,5.70359511 9.57001296,5.72288026 9.39644661,5.89644661 L9.39644661,5.89644661 L8,7.293 L6.60355339,5.89644661 Z"}))))),NIconSwitchTransition=defineComponent({name:"BaseIconSwitchTransition",setup(u,{slots:a}){const d=isMounted();return()=>h(Transition,{name:"icon-switch-transition",appear:d.value},a)}}),NFadeInExpandTransition=defineComponent({name:"FadeInExpandTransition",props:{appear:Boolean,group:Boolean,mode:String,onLeave:Function,onAfterLeave:Function,onAfterEnter:Function,width:Boolean,reverse:Boolean},setup(u,{slots:a}){function d(b){u.width?b.style.maxWidth=`${b.offsetWidth}px`:b.style.maxHeight=`${b.offsetHeight}px`,b.offsetWidth}function m(b){u.width?b.style.maxWidth="0":b.style.maxHeight="0",b.offsetWidth;const{onLeave:re}=u;re&&re()}function $(b){u.width?b.style.maxWidth="":b.style.maxHeight="";const{onAfterLeave:re}=u;re&&re()}function ee(b){if(b.style.transition="none",u.width){const re=b.offsetWidth;b.style.maxWidth="0",b.offsetWidth,b.style.transition="",b.style.maxWidth=`${re}px`}else if(u.reverse)b.style.maxHeight=`${b.offsetHeight}px`,b.offsetHeight,b.style.transition="",b.style.maxHeight="0";else{const re=b.offsetHeight;b.style.maxHeight="0",b.offsetWidth,b.style.transition="",b.style.maxHeight=`${re}px`}b.offsetWidth}function te(b){var re;u.width?b.style.maxWidth="":u.reverse||(b.style.maxHeight=""),(re=u.onAfterEnter)===null||re===void 0||re.call(u)}return()=>{const b=u.group?TransitionGroup:Transition;return h(b,{name:u.width?"fade-in-width-expand-transition":"fade-in-height-expand-transition",mode:u.mode,appear:u.appear,onEnter:ee,onAfterEnter:te,onBeforeLeave:d,onLeave:m,onAfterLeave:$},a)}}}),style$l=cB("base-icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[c$1("svg",`
 height: 1em;
 width: 1em;
 `)]),NBaseIcon=defineComponent({name:"BaseIcon",props:{role:String,ariaLabel:String,ariaDisabled:{type:Boolean,default:void 0},ariaHidden:{type:Boolean,default:void 0},clsPrefix:{type:String,required:!0},onClick:Function,onMousedown:Function,onMouseup:Function},setup(u){useStyle("-base-icon",style$l,toRef(u,"clsPrefix"))},render(){return h("i",{class:`${this.clsPrefix}-base-icon`,onClick:this.onClick,onMousedown:this.onMousedown,onMouseup:this.onMouseup,role:this.role,"aria-label":this.ariaLabel,"aria-hidden":this.ariaHidden,"aria-disabled":this.ariaDisabled},this.$slots)}}),style$k=cB("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[cM("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),c$1("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),cNotM("disabled",[c$1("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),c$1("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),c$1("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),c$1("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),c$1("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),cM("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),cM("round",[c$1("&::before",`
 border-radius: 50%;
 `)])]),NBaseClose=defineComponent({name:"BaseClose",props:{clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(u){return useStyle("-base-close",style$k,toRef(u,"clsPrefix")),()=>{const{clsPrefix:a,disabled:d,absolute:m,round:$}=u;return h("button",{type:"button",tabindex:d||!u.focusable?-1:0,"aria-disabled":d,"aria-label":"close",disabled:d,class:[`${a}-base-close`,m&&`${a}-base-close--absolute`,d&&`${a}-base-close--disabled`,$&&`${a}-base-close--round`],onMousedown:ee=>{u.focusable||ee.preventDefault()},onClick:u.onClick},h(NBaseIcon,{clsPrefix:a},{default:()=>h(ErrorIcon$1,null)}))}}}),{cubicBezierEaseInOut:cubicBezierEaseInOut$2}=commonVariables$6;function iconSwitchTransition({originalTransform:u="",left:a=0,top:d=0,transition:m=`all .3s ${cubicBezierEaseInOut$2} !important`}={}){return[c$1("&.icon-switch-transition-enter-from, &.icon-switch-transition-leave-to",{transform:u+" scale(0.75)",left:a,top:d,opacity:0}),c$1("&.icon-switch-transition-enter-to, &.icon-switch-transition-leave-from",{transform:`scale(1) ${u}`,left:a,top:d,opacity:1}),c$1("&.icon-switch-transition-enter-active, &.icon-switch-transition-leave-active",{transformOrigin:"center",position:"absolute",left:a,top:d,transition:m})]}const style$j=c$1([c$1("@keyframes loading-container-rotate",`
 to {
 -webkit-transform: rotate(360deg);
 transform: rotate(360deg);
 }
 `),c$1("@keyframes loading-layer-rotate",`
 12.5% {
 -webkit-transform: rotate(135deg);
 transform: rotate(135deg);
 }
 25% {
 -webkit-transform: rotate(270deg);
 transform: rotate(270deg);
 }
 37.5% {
 -webkit-transform: rotate(405deg);
 transform: rotate(405deg);
 }
 50% {
 -webkit-transform: rotate(540deg);
 transform: rotate(540deg);
 }
 62.5% {
 -webkit-transform: rotate(675deg);
 transform: rotate(675deg);
 }
 75% {
 -webkit-transform: rotate(810deg);
 transform: rotate(810deg);
 }
 87.5% {
 -webkit-transform: rotate(945deg);
 transform: rotate(945deg);
 }
 100% {
 -webkit-transform: rotate(1080deg);
 transform: rotate(1080deg);
 } 
 `),c$1("@keyframes loading-left-spin",`
 from {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 50% {
 -webkit-transform: rotate(130deg);
 transform: rotate(130deg);
 }
 to {
 -webkit-transform: rotate(265deg);
 transform: rotate(265deg);
 }
 `),c$1("@keyframes loading-right-spin",`
 from {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 50% {
 -webkit-transform: rotate(-130deg);
 transform: rotate(-130deg);
 }
 to {
 -webkit-transform: rotate(-265deg);
 transform: rotate(-265deg);
 }
 `),cB("base-loading",`
 position: relative;
 line-height: 0;
 width: 1em;
 height: 1em;
 `,[cE("transition-wrapper",`
 position: absolute;
 width: 100%;
 height: 100%;
 `,[iconSwitchTransition()]),cE("container",`
 display: inline-flex;
 position: relative;
 direction: ltr;
 line-height: 0;
 animation: loading-container-rotate 1568.2352941176ms linear infinite;
 font-size: 0;
 letter-spacing: 0;
 white-space: nowrap;
 opacity: 1;
 width: 100%;
 height: 100%;
 `,[cE("svg",`
 stroke: var(--n-text-color);
 fill: transparent;
 position: absolute;
 height: 100%;
 overflow: hidden;
 `),cE("container-layer",`
 position: absolute;
 width: 100%;
 height: 100%;
 animation: loading-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 `,[cE("container-layer-left",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 width: 200%;
 `)]),cE("container-layer-patch",`
 position: absolute;
 top: 0;
 left: 47.5%;
 box-sizing: border-box;
 width: 5%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 left: -900%;
 width: 2000%;
 transform: rotate(180deg);
 `)]),cE("container-layer-right",`
 display: inline-flex;
 position: relative;
 width: 50%;
 height: 100%;
 overflow: hidden;
 `,[cE("svg",`
 animation: loading-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both;
 left: -100%;
 width: 200%;
 `)])])]),cE("placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[iconSwitchTransition({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})])])]),NBaseLoading=defineComponent({name:"BaseLoading",props:{clsPrefix:{type:String,required:!0},scale:{type:Number,default:1},radius:{type:Number,default:100},strokeWidth:{type:Number,default:28},stroke:{type:String,default:void 0},show:{type:Boolean,default:!0}},setup(u){useStyle("-base-loading",style$j,toRef(u,"clsPrefix"))},render(){const{clsPrefix:u,radius:a,strokeWidth:d,stroke:m,scale:$}=this,ee=a/$;return h("div",{class:`${u}-base-loading`,role:"img","aria-label":"loading"},h(NIconSwitchTransition,null,{default:()=>this.show?h("div",{key:"icon",class:`${u}-base-loading__transition-wrapper`},h("div",{class:`${u}-base-loading__container`},h("div",{class:`${u}-base-loading__container-layer`},h("div",{class:`${u}-base-loading__container-layer-left`},h("svg",{class:`${u}-base-loading__svg`,viewBox:`0 0 ${2*ee} ${2*ee}`,xmlns:"http://www.w3.org/2000/svg",style:{color:m}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":d,"stroke-linecap":"round",cx:ee,cy:ee,r:a-d/2,"stroke-dasharray":4.91*a,"stroke-dashoffset":2.46*a}))),h("div",{class:`${u}-base-loading__container-layer-patch`},h("svg",{class:`${u}-base-loading__svg`,viewBox:`0 0 ${2*ee} ${2*ee}`,xmlns:"http://www.w3.org/2000/svg",style:{color:m}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":d,"stroke-linecap":"round",cx:ee,cy:ee,r:a-d/2,"stroke-dasharray":4.91*a,"stroke-dashoffset":2.46*a}))),h("div",{class:`${u}-base-loading__container-layer-right`},h("svg",{class:`${u}-base-loading__svg`,viewBox:`0 0 ${2*ee} ${2*ee}`,xmlns:"http://www.w3.org/2000/svg",style:{color:m}},h("circle",{fill:"none",stroke:"currentColor","stroke-width":d,"stroke-linecap":"round",cx:ee,cy:ee,r:a-d/2,"stroke-dasharray":4.91*a,"stroke-dashoffset":2.46*a})))))):h("div",{key:"placeholder",class:`${u}-base-loading__placeholder`},this.$slots)}))}}),base$6={neutralBase:"#FFF",neutralInvertBase:"#000",neutralTextBase:"#000",neutralPopover:"#fff",neutralCard:"#fff",neutralModal:"#fff",neutralBody:"#fff",alpha1:"0.82",alpha2:"0.72",alpha3:"0.38",alpha4:"0.24",alpha5:"0.18",alphaClose:"0.6",alphaDisabled:"0.5",alphaDisabledInput:"0.02",alphaPending:"0.05",alphaTablePending:"0.02",alphaPressed:"0.07",alphaAvatar:"0.2",alphaRail:"0.14",alphaProgressRail:".08",alphaBorder:"0.12",alphaDivider:"0.06",alphaInput:"0",alphaAction:"0.02",alphaTab:"0.04",alphaScrollbar:"0.25",alphaScrollbarHover:"0.4",alphaCode:"0.05",alphaTag:"0.02",primaryHover:"#36ad6a",primaryDefault:"#18a058",primaryActive:"#0c7a43",primarySuppl:"#36ad6a",infoHover:"#4098fc",infoDefault:"#2080f0",infoActive:"#1060c9",infoSuppl:"#4098fc",errorHover:"#de576d",errorDefault:"#d03050",errorActive:"#ab1f3f",errorSuppl:"#de576d",warningHover:"#fcb040",warningDefault:"#f0a020",warningActive:"#c97c10",warningSuppl:"#fcb040",successHover:"#36ad6a",successDefault:"#18a058",successActive:"#0c7a43",successSuppl:"#36ad6a"},baseBackgroundRgb=rgba(base$6.neutralBase),baseInvertBackgroundRgb=rgba(base$6.neutralInvertBase),overlayPrefix="rgba("+baseInvertBackgroundRgb.slice(0,3).join(", ")+", ";function overlay(u){return overlayPrefix+String(u)+")"}function neutral(u){const a=Array.from(baseInvertBackgroundRgb);return a[3]=Number(u),composite(baseBackgroundRgb,a)}const derived=Object.assign(Object.assign({name:"common"},commonVariables$6),{baseColor:base$6.neutralBase,primaryColor:base$6.primaryDefault,primaryColorHover:base$6.primaryHover,primaryColorPressed:base$6.primaryActive,primaryColorSuppl:base$6.primarySuppl,infoColor:base$6.infoDefault,infoColorHover:base$6.infoHover,infoColorPressed:base$6.infoActive,infoColorSuppl:base$6.infoSuppl,successColor:base$6.successDefault,successColorHover:base$6.successHover,successColorPressed:base$6.successActive,successColorSuppl:base$6.successSuppl,warningColor:base$6.warningDefault,warningColorHover:base$6.warningHover,warningColorPressed:base$6.warningActive,warningColorSuppl:base$6.warningSuppl,errorColor:base$6.errorDefault,errorColorHover:base$6.errorHover,errorColorPressed:base$6.errorActive,errorColorSuppl:base$6.errorSuppl,textColorBase:base$6.neutralTextBase,textColor1:"rgb(31, 34, 37)",textColor2:"rgb(51, 54, 57)",textColor3:"rgb(118, 124, 130)",textColorDisabled:neutral(base$6.alpha4),placeholderColor:neutral(base$6.alpha4),placeholderColorDisabled:neutral(base$6.alpha5),iconColor:neutral(base$6.alpha4),iconColorHover:scaleColor(neutral(base$6.alpha4),{lightness:.75}),iconColorPressed:scaleColor(neutral(base$6.alpha4),{lightness:.9}),iconColorDisabled:neutral(base$6.alpha5),opacity1:base$6.alpha1,opacity2:base$6.alpha2,opacity3:base$6.alpha3,opacity4:base$6.alpha4,opacity5:base$6.alpha5,dividerColor:"rgb(239, 239, 245)",borderColor:"rgb(224, 224, 230)",closeIconColor:neutral(Number(base$6.alphaClose)),closeIconColorHover:neutral(Number(base$6.alphaClose)),closeIconColorPressed:neutral(Number(base$6.alphaClose)),closeColorHover:"rgba(0, 0, 0, .09)",closeColorPressed:"rgba(0, 0, 0, .13)",clearColor:neutral(base$6.alpha4),clearColorHover:scaleColor(neutral(base$6.alpha4),{lightness:.75}),clearColorPressed:scaleColor(neutral(base$6.alpha4),{lightness:.9}),scrollbarColor:overlay(base$6.alphaScrollbar),scrollbarColorHover:overlay(base$6.alphaScrollbarHover),scrollbarWidth:"5px",scrollbarHeight:"5px",scrollbarBorderRadius:"5px",progressRailColor:neutral(base$6.alphaProgressRail),railColor:"rgb(219, 219, 223)",popoverColor:base$6.neutralPopover,tableColor:base$6.neutralCard,cardColor:base$6.neutralCard,modalColor:base$6.neutralModal,bodyColor:base$6.neutralBody,tagColor:"#eee",avatarColor:neutral(base$6.alphaAvatar),invertedColor:"rgb(0, 20, 40)",inputColor:neutral(base$6.alphaInput),codeColor:"rgb(244, 244, 248)",tabColor:"rgb(247, 247, 250)",actionColor:"rgb(250, 250, 252)",tableHeaderColor:"rgb(250, 250, 252)",hoverColor:"rgb(243, 243, 245)",tableColorHover:"rgba(0, 0, 100, 0.03)",tableColorStriped:"rgba(0, 0, 100, 0.02)",pressedColor:"rgb(237, 237, 239)",opacityDisabled:base$6.alphaDisabled,inputColorDisabled:"rgb(250, 250, 252)",buttonColor2:"rgba(46, 51, 56, .05)",buttonColor2Hover:"rgba(46, 51, 56, .09)",buttonColor2Pressed:"rgba(46, 51, 56, .13)",boxShadow1:"0 1px 2px -2px rgba(0, 0, 0, .08), 0 3px 6px 0 rgba(0, 0, 0, .06), 0 5px 12px 4px rgba(0, 0, 0, .04)",boxShadow2:"0 3px 6px -4px rgba(0, 0, 0, .12), 0 6px 16px 0 rgba(0, 0, 0, .08), 0 9px 28px 8px rgba(0, 0, 0, .05)",boxShadow3:"0 6px 16px -9px rgba(0, 0, 0, .08), 0 9px 28px 0 rgba(0, 0, 0, .05), 0 12px 48px 16px rgba(0, 0, 0, .03)"}),commonLight=derived,self$g=u=>{const{scrollbarColor:a,scrollbarColorHover:d}=u;return{color:a,colorHover:d}},scrollbarLight={name:"Scrollbar",common:commonLight,self:self$g},scrollbarLight$1=scrollbarLight,{cubicBezierEaseInOut:cubicBezierEaseInOut$1}=commonVariables$6;function fadeInTransition({name:u="fade-in",enterDuration:a="0.2s",leaveDuration:d="0.2s",enterCubicBezier:m=cubicBezierEaseInOut$1,leaveCubicBezier:$=cubicBezierEaseInOut$1}={}){return[c$1(`&.${u}-transition-enter-active`,{transition:`all ${a} ${m}!important`}),c$1(`&.${u}-transition-leave-active`,{transition:`all ${d} ${$}!important`}),c$1(`&.${u}-transition-enter-from, &.${u}-transition-leave-to`,{opacity:0}),c$1(`&.${u}-transition-leave-from, &.${u}-transition-enter-to`,{opacity:1})]}const style$i=cB("scrollbar",`
 overflow: hidden;
 position: relative;
 z-index: auto;
 height: 100%;
 width: 100%;
`,[c$1(">",[cB("scrollbar-container",`
 width: 100%;
 overflow: scroll;
 height: 100%;
 max-height: inherit;
 scrollbar-width: none;
 `,[c$1("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c$1(">",[cB("scrollbar-content",`
 box-sizing: border-box;
 min-width: 100%;
 `)])])]),c$1(">, +",[cB("scrollbar-rail",`
 position: absolute;
 pointer-events: none;
 user-select: none;
 -webkit-user-select: none;
 `,[cM("horizontal",`
 left: 2px;
 right: 2px;
 bottom: 4px;
 height: var(--n-scrollbar-height);
 `,[c$1(">",[cE("scrollbar",`
 height: var(--n-scrollbar-height);
 border-radius: var(--n-scrollbar-border-radius);
 right: 0;
 `)])]),cM("vertical",`
 right: 4px;
 top: 2px;
 bottom: 2px;
 width: var(--n-scrollbar-width);
 `,[c$1(">",[cE("scrollbar",`
 width: var(--n-scrollbar-width);
 border-radius: var(--n-scrollbar-border-radius);
 bottom: 0;
 `)])]),cM("disabled",[c$1(">",[cE("scrollbar",{pointerEvents:"none"})])]),c$1(">",[cE("scrollbar",`
 position: absolute;
 cursor: pointer;
 pointer-events: all;
 background-color: var(--n-scrollbar-color);
 transition: background-color .2s var(--n-scrollbar-bezier);
 `,[fadeInTransition(),c$1("&:hover",{backgroundColor:"var(--n-scrollbar-color-hover)"})])])])])]),scrollbarProps$1=Object.assign(Object.assign({},useTheme.props),{size:{type:Number,default:5},duration:{type:Number,default:0},scrollable:{type:Boolean,default:!0},xScrollable:Boolean,trigger:{type:String,default:"hover"},useUnifiedContainer:Boolean,triggerDisplayManually:Boolean,container:Function,content:Function,containerClass:String,containerStyle:[String,Object],contentClass:String,contentStyle:[String,Object],horizontalRailStyle:[String,Object],verticalRailStyle:[String,Object],onScroll:Function,onWheel:Function,onResize:Function,internalOnUpdateScrollLeft:Function,internalHoistYRail:Boolean}),Scrollbar$1=defineComponent({name:"Scrollbar",props:scrollbarProps$1,inheritAttrs:!1,setup(u){const{mergedClsPrefixRef:a,inlineThemeDisabled:d,mergedRtlRef:m}=useConfig(u),$=useRtl("Scrollbar",m,a),ee=ref(null),te=ref(null),b=ref(null),re=ref(null),ne=ref(null),ie=ref(null),se=ref(null),fe=ref(null),ce=ref(null),de=ref(null),ye=ref(null),ge=ref(0),_e=ref(0),Ee=ref(!1),Ae=ref(!1);let we=!1,Me=!1,ke,Re,ze=0,Je=0,et=0,Pe=0;const ve=useIsIos(),le=computed(()=>{const{value:Ct}=fe,{value:Ht}=ie,{value:Yt}=de;return Ct===null||Ht===null||Yt===null?0:Math.min(Ct,Yt*Ct/Ht+u.size*1.5)}),ae=computed(()=>`${le.value}px`),he=computed(()=>{const{value:Ct}=ce,{value:Ht}=se,{value:Yt}=ye;return Ct===null||Ht===null||Yt===null?0:Yt*Ct/Ht+u.size*1.5}),xe=computed(()=>`${he.value}px`),$e=computed(()=>{const{value:Ct}=fe,{value:Ht}=ge,{value:Yt}=ie,{value:ar}=de;if(Ct===null||Yt===null||ar===null)return 0;{const tr=Yt-Ct;return tr?Ht/tr*(ar-le.value):0}}),He=computed(()=>`${$e.value}px`),Fe=computed(()=>{const{value:Ct}=ce,{value:Ht}=_e,{value:Yt}=se,{value:ar}=ye;if(Ct===null||Yt===null||ar===null)return 0;{const tr=Yt-Ct;return tr?Ht/tr*(ar-he.value):0}}),Ne=computed(()=>`${Fe.value}px`),De=computed(()=>{const{value:Ct}=fe,{value:Ht}=ie;return Ct!==null&&Ht!==null&&Ht>Ct}),pe=computed(()=>{const{value:Ct}=ce,{value:Ht}=se;return Ct!==null&&Ht!==null&&Ht>Ct}),Le=computed(()=>{const{trigger:Ct}=u;return Ct==="none"||Ee.value}),Be=computed(()=>{const{trigger:Ct}=u;return Ct==="none"||Ae.value}),Ce=computed(()=>{const{container:Ct}=u;return Ct?Ct():te.value}),Ze=computed(()=>{const{content:Ct}=u;return Ct?Ct():b.value}),it=useReactivated(()=>{u.container||Ve({top:ge.value,left:_e.value})}),rt=()=>{it.isDeactivated||kt()},Oe=Ct=>{if(it.isDeactivated)return;const{onResize:Ht}=u;Ht&&Ht(Ct),kt()},Ve=(Ct,Ht)=>{if(!u.scrollable)return;if(typeof Ct=="number"){qe(Ht??0,Ct,0,!1,"auto");return}const{left:Yt,top:ar,index:tr,elSize:vr,position:ur,behavior:Sr,el:Ar,debounce:$r=!0}=Ct;(Yt!==void 0||ar!==void 0)&&qe(Yt??0,ar??0,0,!1,Sr),Ar!==void 0?qe(0,Ar.offsetTop,Ar.offsetHeight,$r,Sr):tr!==void 0&&vr!==void 0?qe(0,tr*vr,vr,$r,Sr):ur==="bottom"?qe(0,Number.MAX_SAFE_INTEGER,0,!1,Sr):ur==="top"&&qe(0,0,0,!1,Sr)},We=(Ct,Ht)=>{if(!u.scrollable)return;const{value:Yt}=Ce;!Yt||(typeof Ct=="object"?Yt.scrollBy(Ct):Yt.scrollBy(Ct,Ht||0))};function qe(Ct,Ht,Yt,ar,tr){const{value:vr}=Ce;if(!!vr){if(ar){const{scrollTop:ur,offsetHeight:Sr}=vr;if(Ht>ur){Ht+Yt<=ur+Sr||vr.scrollTo({left:Ct,top:Ht+Yt-Sr,behavior:tr});return}}vr.scrollTo({left:Ct,top:Ht,behavior:tr})}}function Ge(){St(),xt(),kt()}function Qe(){ct()}function ct(){ft(),bt()}function ft(){Re!==void 0&&window.clearTimeout(Re),Re=window.setTimeout(()=>{Ae.value=!1},u.duration)}function bt(){ke!==void 0&&window.clearTimeout(ke),ke=window.setTimeout(()=>{Ee.value=!1},u.duration)}function St(){ke!==void 0&&window.clearTimeout(ke),Ee.value=!0}function xt(){Re!==void 0&&window.clearTimeout(Re),Ae.value=!0}function $t(Ct){const{onScroll:Ht}=u;Ht&&Ht(Ct),It()}function It(){const{value:Ct}=Ce;Ct&&(ge.value=Ct.scrollTop,_e.value=Ct.scrollLeft*($?.value?-1:1))}function Et(){const{value:Ct}=Ze;Ct&&(ie.value=Ct.offsetHeight,se.value=Ct.offsetWidth);const{value:Ht}=Ce;Ht&&(fe.value=Ht.offsetHeight,ce.value=Ht.offsetWidth);const{value:Yt}=ne,{value:ar}=re;Yt&&(ye.value=Yt.offsetWidth),ar&&(de.value=ar.offsetHeight)}function At(){const{value:Ct}=Ce;Ct&&(ge.value=Ct.scrollTop,_e.value=Ct.scrollLeft*($?.value?-1:1),fe.value=Ct.offsetHeight,ce.value=Ct.offsetWidth,ie.value=Ct.scrollHeight,se.value=Ct.scrollWidth);const{value:Ht}=ne,{value:Yt}=re;Ht&&(ye.value=Ht.offsetWidth),Yt&&(de.value=Yt.offsetHeight)}function kt(){!u.scrollable||(u.useUnifiedContainer?At():(Et(),It()))}function Kt(Ct){var Ht;return!(!((Ht=ee.value)===null||Ht===void 0)&&Ht.contains(Ct.target))}function lt(Ct){Ct.preventDefault(),Ct.stopPropagation(),Me=!0,on("mousemove",window,Se,!0),on("mouseup",window,me,!0),Je=_e.value,et=$?.value?window.innerWidth-Ct.clientX:Ct.clientX}function Se(Ct){if(!Me)return;ke!==void 0&&window.clearTimeout(ke),Re!==void 0&&window.clearTimeout(Re);const{value:Ht}=ce,{value:Yt}=se,{value:ar}=he;if(Ht===null||Yt===null)return;const vr=($?.value?window.innerWidth-Ct.clientX-et:Ct.clientX-et)*(Yt-Ht)/(Ht-ar),ur=Yt-Ht;let Sr=Je+vr;Sr=Math.min(ur,Sr),Sr=Math.max(Sr,0);const{value:Ar}=Ce;if(Ar){Ar.scrollLeft=Sr*($?.value?-1:1);const{internalOnUpdateScrollLeft:$r}=u;$r&&$r(Sr)}}function me(Ct){Ct.preventDefault(),Ct.stopPropagation(),off("mousemove",window,Se,!0),off("mouseup",window,me,!0),Me=!1,kt(),Kt(Ct)&&ct()}function be(Ct){Ct.preventDefault(),Ct.stopPropagation(),we=!0,on("mousemove",window,Ye,!0),on("mouseup",window,ut,!0),ze=ge.value,Pe=Ct.clientY}function Ye(Ct){if(!we)return;ke!==void 0&&window.clearTimeout(ke),Re!==void 0&&window.clearTimeout(Re);const{value:Ht}=fe,{value:Yt}=ie,{value:ar}=le;if(Ht===null||Yt===null)return;const vr=(Ct.clientY-Pe)*(Yt-Ht)/(Ht-ar),ur=Yt-Ht;let Sr=ze+vr;Sr=Math.min(ur,Sr),Sr=Math.max(Sr,0);const{value:Ar}=Ce;Ar&&(Ar.scrollTop=Sr)}function ut(Ct){Ct.preventDefault(),Ct.stopPropagation(),off("mousemove",window,Ye,!0),off("mouseup",window,ut,!0),we=!1,kt(),Kt(Ct)&&ct()}watchEffect(()=>{const{value:Ct}=pe,{value:Ht}=De,{value:Yt}=a,{value:ar}=ne,{value:tr}=re;ar&&(Ct?ar.classList.remove(`${Yt}-scrollbar-rail--disabled`):ar.classList.add(`${Yt}-scrollbar-rail--disabled`)),tr&&(Ht?tr.classList.remove(`${Yt}-scrollbar-rail--disabled`):tr.classList.add(`${Yt}-scrollbar-rail--disabled`))}),onMounted(()=>{u.container||kt()}),onBeforeUnmount(()=>{ke!==void 0&&window.clearTimeout(ke),Re!==void 0&&window.clearTimeout(Re),off("mousemove",window,Ye,!0),off("mouseup",window,ut,!0)});const yt=useTheme("Scrollbar","-scrollbar",style$i,scrollbarLight$1,u,a),wt=computed(()=>{const{common:{cubicBezierEaseInOut:Ct,scrollbarBorderRadius:Ht,scrollbarHeight:Yt,scrollbarWidth:ar},self:{color:tr,colorHover:vr}}=yt.value;return{"--n-scrollbar-bezier":Ct,"--n-scrollbar-color":tr,"--n-scrollbar-color-hover":vr,"--n-scrollbar-border-radius":Ht,"--n-scrollbar-width":ar,"--n-scrollbar-height":Yt}}),Ut=d?useThemeClass("scrollbar",void 0,wt,u):void 0;return Object.assign(Object.assign({},{scrollTo:Ve,scrollBy:We,sync:kt,syncUnifiedContainer:At,handleMouseEnterWrapper:Ge,handleMouseLeaveWrapper:Qe}),{mergedClsPrefix:a,rtlEnabled:$,containerScrollTop:ge,wrapperRef:ee,containerRef:te,contentRef:b,yRailRef:re,xRailRef:ne,needYBar:De,needXBar:pe,yBarSizePx:ae,xBarSizePx:xe,yBarTopPx:He,xBarLeftPx:Ne,isShowXBar:Le,isShowYBar:Be,isIos:ve,handleScroll:$t,handleContentResize:rt,handleContainerResize:Oe,handleYScrollMouseDown:be,handleXScrollMouseDown:lt,cssVars:d?void 0:wt,themeClass:Ut?.themeClass,onRender:Ut?.onRender})},render(){var u;const{$slots:a,mergedClsPrefix:d,triggerDisplayManually:m,rtlEnabled:$,internalHoistYRail:ee}=this;if(!this.scrollable)return(u=a.default)===null||u===void 0?void 0:u.call(a);const te=this.trigger==="none",b=()=>h("div",{ref:"yRailRef",class:[`${d}-scrollbar-rail`,`${d}-scrollbar-rail--vertical`],"data-scrollbar-rail":!0,style:this.verticalRailStyle,"aria-hidden":!0},h(te?Wrapper:Transition,te?null:{name:"fade-in-transition"},{default:()=>this.needYBar&&this.isShowYBar&&!this.isIos?h("div",{class:`${d}-scrollbar-rail__scrollbar`,style:{height:this.yBarSizePx,top:this.yBarTopPx},onMousedown:this.handleYScrollMouseDown}):null})),re=()=>{var ie,se;return(ie=this.onRender)===null||ie===void 0||ie.call(this),h("div",mergeProps(this.$attrs,{role:"none",ref:"wrapperRef",class:[`${d}-scrollbar`,this.themeClass,$&&`${d}-scrollbar--rtl`],style:this.cssVars,onMouseenter:m?void 0:this.handleMouseEnterWrapper,onMouseleave:m?void 0:this.handleMouseLeaveWrapper}),[this.container?(se=a.default)===null||se===void 0?void 0:se.call(a):h("div",{role:"none",ref:"containerRef",class:[`${d}-scrollbar-container`,this.containerClass],style:this.containerStyle,onScroll:this.handleScroll,onWheel:this.onWheel},h(VResizeObserver,{onResize:this.handleContentResize},{default:()=>h("div",{ref:"contentRef",role:"none",style:[{width:this.xScrollable?"fit-content":null},this.contentStyle],class:[`${d}-scrollbar-content`,this.contentClass]},a)})),ee?null:b(),this.xScrollable&&h("div",{ref:"xRailRef",class:[`${d}-scrollbar-rail`,`${d}-scrollbar-rail--horizontal`],style:this.horizontalRailStyle,"data-scrollbar-rail":!0,"aria-hidden":!0},h(te?Wrapper:Transition,te?null:{name:"fade-in-transition"},{default:()=>this.needXBar&&this.isShowXBar&&!this.isIos?h("div",{class:`${d}-scrollbar-rail__scrollbar`,style:{width:this.xBarSizePx,right:$?this.xBarLeftPx:void 0,left:$?void 0:this.xBarLeftPx},onMousedown:this.handleXScrollMouseDown}):null}))])},ne=this.container?re():h(VResizeObserver,{onResize:this.handleContainerResize},{default:re});return ee?h(Fragment,null,ne,b()):ne}}),NScrollbar$1=Scrollbar$1,{cubicBezierEaseIn,cubicBezierEaseOut}=commonVariables$6;function fadeInScaleUpTransition({transformOrigin:u="inherit",duration:a=".2s",enterScale:d=".9",originalTransform:m="",originalTransition:$=""}={}){return[c$1("&.fade-in-scale-up-transition-leave-active",{transformOrigin:u,transition:`opacity ${a} ${cubicBezierEaseIn}, transform ${a} ${cubicBezierEaseIn} ${$&&","+$}`}),c$1("&.fade-in-scale-up-transition-enter-active",{transformOrigin:u,transition:`opacity ${a} ${cubicBezierEaseOut}, transform ${a} ${cubicBezierEaseOut} ${$&&","+$}`}),c$1("&.fade-in-scale-up-transition-enter-from, &.fade-in-scale-up-transition-leave-to",{opacity:0,transform:`${m} scale(${d})`}),c$1("&.fade-in-scale-up-transition-leave-from, &.fade-in-scale-up-transition-enter-to",{opacity:1,transform:`${m} scale(1)`})]}const style$h=cB("base-wave",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
`),NBaseWave=defineComponent({name:"BaseWave",props:{clsPrefix:{type:String,required:!0}},setup(u){useStyle("-base-wave",style$h,toRef(u,"clsPrefix"));const a=ref(null),d=ref(!1);let m=null;return onBeforeUnmount(()=>{m!==null&&window.clearTimeout(m)}),{active:d,selfRef:a,play(){m!==null&&(window.clearTimeout(m),d.value=!1,m=null),nextTick(()=>{var $;($=a.value)===null||$===void 0||$.offsetHeight,d.value=!0,m=window.setTimeout(()=>{d.value=!1,m=null},1e3)})}}},render(){const{clsPrefix:u}=this;return h("div",{ref:"selfRef","aria-hidden":!0,class:[`${u}-base-wave`,this.active&&`${u}-base-wave--active`]})}}),commonVariables$5={closeIconSizeTiny:"12px",closeIconSizeSmall:"12px",closeIconSizeMedium:"14px",closeIconSizeLarge:"14px",closeSizeTiny:"16px",closeSizeSmall:"16px",closeSizeMedium:"18px",closeSizeLarge:"18px",padding:"0 7px",closeMargin:"0 0 0 4px",closeMarginRtl:"0 4px 0 0"},self$f=u=>{const{textColor2:a,primaryColorHover:d,primaryColorPressed:m,primaryColor:$,infoColor:ee,successColor:te,warningColor:b,errorColor:re,baseColor:ne,borderColor:ie,opacityDisabled:se,tagColor:fe,closeIconColor:ce,closeIconColorHover:de,closeIconColorPressed:ye,borderRadiusSmall:ge,fontSizeMini:_e,fontSizeTiny:Ee,fontSizeSmall:Ae,fontSizeMedium:we,heightMini:Me,heightTiny:ke,heightSmall:Re,heightMedium:ze,closeColorHover:Je,closeColorPressed:et,buttonColor2Hover:Pe,buttonColor2Pressed:ve,fontWeightStrong:le}=u;return Object.assign(Object.assign({},commonVariables$5),{closeBorderRadius:ge,heightTiny:Me,heightSmall:ke,heightMedium:Re,heightLarge:ze,borderRadius:ge,opacityDisabled:se,fontSizeTiny:_e,fontSizeSmall:Ee,fontSizeMedium:Ae,fontSizeLarge:we,fontWeightStrong:le,textColorCheckable:a,textColorHoverCheckable:a,textColorPressedCheckable:a,textColorChecked:ne,colorCheckable:"#0000",colorHoverCheckable:Pe,colorPressedCheckable:ve,colorChecked:$,colorCheckedHover:d,colorCheckedPressed:m,border:`1px solid ${ie}`,textColor:a,color:fe,colorBordered:"rgb(250, 250, 252)",closeIconColor:ce,closeIconColorHover:de,closeIconColorPressed:ye,closeColorHover:Je,closeColorPressed:et,borderPrimary:`1px solid ${changeColor($,{alpha:.3})}`,textColorPrimary:$,colorPrimary:changeColor($,{alpha:.12}),colorBorderedPrimary:changeColor($,{alpha:.1}),closeIconColorPrimary:$,closeIconColorHoverPrimary:$,closeIconColorPressedPrimary:$,closeColorHoverPrimary:changeColor($,{alpha:.12}),closeColorPressedPrimary:changeColor($,{alpha:.18}),borderInfo:`1px solid ${changeColor(ee,{alpha:.3})}`,textColorInfo:ee,colorInfo:changeColor(ee,{alpha:.12}),colorBorderedInfo:changeColor(ee,{alpha:.1}),closeIconColorInfo:ee,closeIconColorHoverInfo:ee,closeIconColorPressedInfo:ee,closeColorHoverInfo:changeColor(ee,{alpha:.12}),closeColorPressedInfo:changeColor(ee,{alpha:.18}),borderSuccess:`1px solid ${changeColor(te,{alpha:.3})}`,textColorSuccess:te,colorSuccess:changeColor(te,{alpha:.12}),colorBorderedSuccess:changeColor(te,{alpha:.1}),closeIconColorSuccess:te,closeIconColorHoverSuccess:te,closeIconColorPressedSuccess:te,closeColorHoverSuccess:changeColor(te,{alpha:.12}),closeColorPressedSuccess:changeColor(te,{alpha:.18}),borderWarning:`1px solid ${changeColor(b,{alpha:.35})}`,textColorWarning:b,colorWarning:changeColor(b,{alpha:.15}),colorBorderedWarning:changeColor(b,{alpha:.12}),closeIconColorWarning:b,closeIconColorHoverWarning:b,closeIconColorPressedWarning:b,closeColorHoverWarning:changeColor(b,{alpha:.12}),closeColorPressedWarning:changeColor(b,{alpha:.18}),borderError:`1px solid ${changeColor(re,{alpha:.23})}`,textColorError:re,colorError:changeColor(re,{alpha:.1}),colorBorderedError:changeColor(re,{alpha:.08}),closeIconColorError:re,closeIconColorHoverError:re,closeIconColorPressedError:re,closeColorHoverError:changeColor(re,{alpha:.12}),closeColorPressedError:changeColor(re,{alpha:.18})})},tagLight={name:"Tag",common:commonLight,self:self$f},tagLight$1=tagLight,commonProps={color:Object,type:{type:String,default:"default"},round:Boolean,size:{type:String,default:"medium"},closable:Boolean,disabled:{type:Boolean,default:void 0}},style$g=cB("tag",`
 white-space: nowrap;
 position: relative;
 box-sizing: border-box;
 cursor: default;
 display: inline-flex;
 align-items: center;
 flex-wrap: nowrap;
 padding: var(--n-padding);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 opacity .3s var(--n-bezier);
 line-height: 1;
 height: var(--n-height);
 font-size: var(--n-font-size);
`,[cM("strong",`
 font-weight: var(--n-font-weight-strong);
 `),cE("border",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 border: var(--n-border);
 transition: border-color .3s var(--n-bezier);
 `),cE("icon",`
 display: flex;
 margin: 0 4px 0 0;
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 font-size: var(--n-avatar-size-override);
 `),cE("avatar",`
 display: flex;
 margin: 0 6px 0 0;
 `),cE("close",`
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 cursor: pointer;
 `),cM("round",`
 padding: 0 calc(var(--n-height) / 3);
 border-radius: calc(var(--n-height) / 2);
 `,[cE("icon",`
 margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);
 `),cE("avatar",`
 margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);
 `),cM("closable",`
 padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);
 `)]),cM("icon, avatar",[cM("round",`
 padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);
 `)]),cM("disabled",`
 cursor: not-allowed !important;
 opacity: var(--n-opacity-disabled);
 `),cM("checkable",`
 cursor: pointer;
 box-shadow: none;
 color: var(--n-text-color-checkable);
 background-color: var(--n-color-checkable);
 `,[cNotM("disabled",[c$1("&:hover","background-color: var(--n-color-hover-checkable);",[cNotM("checked","color: var(--n-text-color-hover-checkable);")]),c$1("&:active","background-color: var(--n-color-pressed-checkable);",[cNotM("checked","color: var(--n-text-color-pressed-checkable);")])]),cM("checked",`
 color: var(--n-text-color-checked);
 background-color: var(--n-color-checked);
 `,[cNotM("disabled",[c$1("&:hover","background-color: var(--n-color-checked-hover);"),c$1("&:active","background-color: var(--n-color-checked-pressed);")])])])]),tagProps=Object.assign(Object.assign(Object.assign({},useTheme.props),commonProps),{bordered:{type:Boolean,default:void 0},checked:Boolean,checkable:Boolean,strong:Boolean,onClose:[Array,Function],onMouseenter:Function,onMouseleave:Function,"onUpdate:checked":Function,onUpdateChecked:Function,internalCloseFocusable:{type:Boolean,default:!0},internalStopClickPropagation:Boolean,onCheckedChange:{type:Function,validator:()=>!0,default:void 0}}),tagInjectionKey="n-tag",NTag=defineComponent({name:"Tag",props:tagProps,setup(u){const a=ref(null),{mergedBorderedRef:d,mergedClsPrefixRef:m,inlineThemeDisabled:$,mergedRtlRef:ee}=useConfig(u),te=useTheme("Tag","-tag",style$g,tagLight$1,u,m);provide(tagInjectionKey,{roundRef:toRef(u,"round")});function b(ce){if(!u.disabled&&u.checkable){const{checked:de,onCheckedChange:ye,onUpdateChecked:ge,"onUpdate:checked":_e}=u;ge&&ge(!de),_e&&_e(!de),ye&&ye(!de)}}function re(ce){if(u.internalStopClickPropagation&&ce.stopPropagation(),!u.disabled){const{onClose:de}=u;de&&call(de,ce)}}const ne={setTextContent(ce){const{value:de}=a;de&&(de.textContent=ce)}},ie=useRtl("Tag",ee,m),se=computed(()=>{const{type:ce,size:de,color:{color:ye,textColor:ge}={}}=u,{common:{cubicBezierEaseInOut:_e},self:{padding:Ee,closeMargin:Ae,closeMarginRtl:we,borderRadius:Me,opacityDisabled:ke,textColorCheckable:Re,textColorHoverCheckable:ze,textColorPressedCheckable:Je,textColorChecked:et,colorCheckable:Pe,colorHoverCheckable:ve,colorPressedCheckable:le,colorChecked:ae,colorCheckedHover:he,colorCheckedPressed:xe,closeBorderRadius:$e,fontWeightStrong:He,[createKey("colorBordered",ce)]:Fe,[createKey("closeSize",de)]:Ne,[createKey("closeIconSize",de)]:De,[createKey("fontSize",de)]:pe,[createKey("height",de)]:Le,[createKey("color",ce)]:Be,[createKey("textColor",ce)]:Ce,[createKey("border",ce)]:Ze,[createKey("closeIconColor",ce)]:it,[createKey("closeIconColorHover",ce)]:rt,[createKey("closeIconColorPressed",ce)]:Oe,[createKey("closeColorHover",ce)]:Ve,[createKey("closeColorPressed",ce)]:We}}=te.value;return{"--n-font-weight-strong":He,"--n-avatar-size-override":`calc(${Le} - 8px)`,"--n-bezier":_e,"--n-border-radius":Me,"--n-border":Ze,"--n-close-icon-size":De,"--n-close-color-pressed":We,"--n-close-color-hover":Ve,"--n-close-border-radius":$e,"--n-close-icon-color":it,"--n-close-icon-color-hover":rt,"--n-close-icon-color-pressed":Oe,"--n-close-icon-color-disabled":it,"--n-close-margin":Ae,"--n-close-margin-rtl":we,"--n-close-size":Ne,"--n-color":ye||(d.value?Fe:Be),"--n-color-checkable":Pe,"--n-color-checked":ae,"--n-color-checked-hover":he,"--n-color-checked-pressed":xe,"--n-color-hover-checkable":ve,"--n-color-pressed-checkable":le,"--n-font-size":pe,"--n-height":Le,"--n-opacity-disabled":ke,"--n-padding":Ee,"--n-text-color":ge||Ce,"--n-text-color-checkable":Re,"--n-text-color-checked":et,"--n-text-color-hover-checkable":ze,"--n-text-color-pressed-checkable":Je}}),fe=$?useThemeClass("tag",computed(()=>{let ce="";const{type:de,size:ye,color:{color:ge,textColor:_e}={}}=u;return ce+=de[0],ce+=ye[0],ge&&(ce+=`a${color2Class(ge)}`),_e&&(ce+=`b${color2Class(_e)}`),d.value&&(ce+="c"),ce}),se,u):void 0;return Object.assign(Object.assign({},ne),{rtlEnabled:ie,mergedClsPrefix:m,contentRef:a,mergedBordered:d,handleClick:b,handleCloseClick:re,cssVars:$?void 0:se,themeClass:fe?.themeClass,onRender:fe?.onRender})},render(){var u,a;const{mergedClsPrefix:d,rtlEnabled:m,closable:$,color:{borderColor:ee}={},round:te,onRender:b,$slots:re}=this;b?.();const ne=resolveWrappedSlot(re.avatar,se=>se&&h("div",{class:`${d}-tag__avatar`},se)),ie=resolveWrappedSlot(re.icon,se=>se&&h("div",{class:`${d}-tag__icon`},se));return h("div",{class:[`${d}-tag`,this.themeClass,{[`${d}-tag--rtl`]:m,[`${d}-tag--strong`]:this.strong,[`${d}-tag--disabled`]:this.disabled,[`${d}-tag--checkable`]:this.checkable,[`${d}-tag--checked`]:this.checkable&&this.checked,[`${d}-tag--round`]:te,[`${d}-tag--avatar`]:ne,[`${d}-tag--icon`]:ie,[`${d}-tag--closable`]:$}],style:this.cssVars,onClick:this.handleClick,onMouseenter:this.onMouseenter,onMouseleave:this.onMouseleave},ie||ne,h("span",{class:`${d}-tag__content`,ref:"contentRef"},(a=(u=this.$slots).default)===null||a===void 0?void 0:a.call(u)),!this.checkable&&$?h(NBaseClose,{clsPrefix:d,class:`${d}-tag__close`,disabled:this.disabled,onClick:this.handleCloseClick,focusable:this.internalCloseFocusable,round:te,absolute:!0}):null,!this.checkable&&this.mergedBordered?h("div",{class:`${d}-tag__border`,style:{borderColor:ee}}):null)}}),style$f=cB("base-clear",`
 flex-shrink: 0;
 height: 1em;
 width: 1em;
 position: relative;
`,[c$1(">",[cE("clear",`
 font-size: var(--n-clear-size);
 height: 1em;
 width: 1em;
 cursor: pointer;
 color: var(--n-clear-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 `,[c$1("&:hover",`
 color: var(--n-clear-color-hover)!important;
 `),c$1("&:active",`
 color: var(--n-clear-color-pressed)!important;
 `)]),cE("placeholder",`
 display: flex;
 `),cE("clear, placeholder",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[iconSwitchTransition({originalTransform:"translateX(-50%) translateY(-50%)",left:"50%",top:"50%"})])])]),NBaseClear=defineComponent({name:"BaseClear",props:{clsPrefix:{type:String,required:!0},show:Boolean,onClear:Function},setup(u){return useStyle("-base-clear",style$f,toRef(u,"clsPrefix")),{handleMouseDown(a){a.preventDefault()}}},render(){const{clsPrefix:u}=this;return h("div",{class:`${u}-base-clear`},h(NIconSwitchTransition,null,{default:()=>{var a,d;return this.show?h("div",{key:"dismiss",class:`${u}-base-clear__clear`,onClick:this.onClear,onMousedown:this.handleMouseDown,"data-clear":!0},resolveSlot(this.$slots.icon,()=>[h(NBaseIcon,{clsPrefix:u},{default:()=>h(ClearIcon,null)})])):h("div",{key:"icon",class:`${u}-base-clear__placeholder`},(d=(a=this.$slots).placeholder)===null||d===void 0?void 0:d.call(a))}}))}}),NBaseSuffix=defineComponent({name:"InternalSelectionSuffix",props:{clsPrefix:{type:String,required:!0},showArrow:{type:Boolean,default:void 0},showClear:{type:Boolean,default:void 0},loading:{type:Boolean,default:!1},onClear:Function},setup(u,{slots:a}){return()=>{const{clsPrefix:d}=u;return h(NBaseLoading,{clsPrefix:d,class:`${d}-base-suffix`,strokeWidth:24,scale:.85,show:u.loading},{default:()=>u.showArrow?h(NBaseClear,{clsPrefix:d,show:u.showClear,onClear:u.onClear},{placeholder:()=>h(NBaseIcon,{clsPrefix:d,class:`${d}-base-suffix__arrow`},{default:()=>resolveSlot(a.default,()=>[h(ChevronDownIcon,null)])})}):null})}}}),{cubicBezierEaseInOut}=commonVariables$6;function fadeInWidthExpandTransition({duration:u=".2s",delay:a=".1s"}={}){return[c$1("&.fade-in-width-expand-transition-leave-from, &.fade-in-width-expand-transition-enter-to",{opacity:1}),c$1("&.fade-in-width-expand-transition-leave-to, &.fade-in-width-expand-transition-enter-from",`
 opacity: 0!important;
 margin-left: 0!important;
 margin-right: 0!important;
 `),c$1("&.fade-in-width-expand-transition-leave-active",`
 overflow: hidden;
 transition:
 opacity ${u} ${cubicBezierEaseInOut},
 max-width ${u} ${cubicBezierEaseInOut} ${a},
 margin-left ${u} ${cubicBezierEaseInOut} ${a},
 margin-right ${u} ${cubicBezierEaseInOut} ${a};
 `),c$1("&.fade-in-width-expand-transition-enter-active",`
 overflow: hidden;
 transition:
 opacity ${u} ${cubicBezierEaseInOut} ${a},
 max-width ${u} ${cubicBezierEaseInOut},
 margin-left ${u} ${cubicBezierEaseInOut},
 margin-right ${u} ${cubicBezierEaseInOut};
 `)]}const commonVariables$4={paddingTiny:"0 8px",paddingSmall:"0 10px",paddingMedium:"0 12px",paddingLarge:"0 14px",clearSize:"16px"},self$e=u=>{const{textColor2:a,textColor3:d,textColorDisabled:m,primaryColor:$,primaryColorHover:ee,inputColor:te,inputColorDisabled:b,borderColor:re,warningColor:ne,warningColorHover:ie,errorColor:se,errorColorHover:fe,borderRadius:ce,lineHeight:de,fontSizeTiny:ye,fontSizeSmall:ge,fontSizeMedium:_e,fontSizeLarge:Ee,heightTiny:Ae,heightSmall:we,heightMedium:Me,heightLarge:ke,actionColor:Re,clearColor:ze,clearColorHover:Je,clearColorPressed:et,placeholderColor:Pe,placeholderColorDisabled:ve,iconColor:le,iconColorDisabled:ae,iconColorHover:he,iconColorPressed:xe}=u;return Object.assign(Object.assign({},commonVariables$4),{countTextColor:d,heightTiny:Ae,heightSmall:we,heightMedium:Me,heightLarge:ke,fontSizeTiny:ye,fontSizeSmall:ge,fontSizeMedium:_e,fontSizeLarge:Ee,lineHeight:de,lineHeightTextarea:de,borderRadius:ce,iconSize:"16px",groupLabelColor:Re,groupLabelTextColor:a,textColor:a,textColorDisabled:m,textDecorationColor:a,caretColor:$,placeholderColor:Pe,placeholderColorDisabled:ve,color:te,colorDisabled:b,colorFocus:te,groupLabelBorder:`1px solid ${re}`,border:`1px solid ${re}`,borderHover:`1px solid ${ee}`,borderDisabled:`1px solid ${re}`,borderFocus:`1px solid ${ee}`,boxShadowFocus:`0 0 0 2px ${changeColor($,{alpha:.2})}`,loadingColor:$,loadingColorWarning:ne,borderWarning:`1px solid ${ne}`,borderHoverWarning:`1px solid ${ie}`,colorFocusWarning:te,borderFocusWarning:`1px solid ${ie}`,boxShadowFocusWarning:`0 0 0 2px ${changeColor(ne,{alpha:.2})}`,caretColorWarning:ne,loadingColorError:se,borderError:`1px solid ${se}`,borderHoverError:`1px solid ${fe}`,colorFocusError:te,borderFocusError:`1px solid ${fe}`,boxShadowFocusError:`0 0 0 2px ${changeColor(se,{alpha:.2})}`,caretColorError:se,clearColor:ze,clearColorHover:Je,clearColorPressed:et,iconColor:le,iconColorDisabled:ae,iconColorHover:he,iconColorPressed:xe,suffixTextColor:a})},inputLight={name:"Input",common:commonLight,self:self$e},inputLight$1=inputLight,inputInjectionKey="n-input";function len$1(u){let a=0;for(const d of u)a++;return a}function isEmptyInputValue(u){return u===""||u==null}function useCursor(u){const a=ref(null);function d(){const{value:ee}=u;if(!ee||!ee.focus){$();return}const{selectionStart:te,selectionEnd:b,value:re}=ee;if(te==null||b==null){$();return}a.value={start:te,end:b,beforeText:re.slice(0,te),afterText:re.slice(b)}}function m(){var ee;const{value:te}=a,{value:b}=u;if(!te||!b)return;const{value:re}=b,{start:ne,beforeText:ie,afterText:se}=te;let fe=re.length;if(re.endsWith(se))fe=re.length-se.length;else if(re.startsWith(ie))fe=ie.length;else{const ce=ie[ne-1],de=re.indexOf(ce,ne-1);de!==-1&&(fe=de+1)}(ee=b.setSelectionRange)===null||ee===void 0||ee.call(b,fe,fe)}function $(){a.value=null}return watch(u,$),{recordCursor:d,restoreCursor:m}}const WordCount=defineComponent({name:"InputWordCount",setup(u,{slots:a}){const{mergedValueRef:d,maxlengthRef:m,mergedClsPrefixRef:$}=inject(inputInjectionKey),ee=computed(()=>{const{value:te}=d;return te===null||Array.isArray(te)?0:len$1(te)});return()=>{const{value:te}=m,{value:b}=d;return h("span",{class:`${$.value}-input-word-count`},resolveSlotWithProps(a.default,{value:b===null||Array.isArray(b)?"":b},()=>[te===void 0?ee.value:`${ee.value} / ${te}`]))}}}),style$e=cB("input",`
 max-width: 100%;
 cursor: text;
 line-height: 1.5;
 z-index: auto;
 outline: none;
 box-sizing: border-box;
 position: relative;
 display: inline-flex;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color .3s var(--n-bezier);
 font-size: var(--n-font-size);
 --n-padding-vertical: calc((var(--n-height) - 1.5 * var(--n-font-size)) / 2);
`,[cE("input, textarea",`
 overflow: hidden;
 flex-grow: 1;
 position: relative;
 `),cE("input-el, textarea-el, input-mirror, textarea-mirror, separator, placeholder",`
 box-sizing: border-box;
 font-size: inherit;
 line-height: 1.5;
 font-family: inherit;
 border: none;
 outline: none;
 background-color: #0000;
 text-align: inherit;
 transition:
 -webkit-text-fill-color .3s var(--n-bezier),
 caret-color .3s var(--n-bezier),
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier);
 `),cE("input-el, textarea-el",`
 -webkit-appearance: none;
 scrollbar-width: none;
 width: 100%;
 min-width: 0;
 text-decoration-color: var(--n-text-decoration-color);
 color: var(--n-text-color);
 caret-color: var(--n-caret-color);
 background-color: transparent;
 `,[c$1("&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb",`
 width: 0;
 height: 0;
 display: none;
 `),c$1("&::placeholder","color: #0000;"),c$1("&:-webkit-autofill ~",[cE("placeholder","display: none;")])]),cM("round",[cNotM("textarea","border-radius: calc(var(--n-height) / 2);")]),cE("placeholder",`
 pointer-events: none;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: hidden;
 color: var(--n-placeholder-color);
 `,[c$1("span",`
 width: 100%;
 display: inline-block;
 `)]),cM("textarea",[cE("placeholder","overflow: visible;")]),cNotM("autosize","width: 100%;"),cM("autosize",[cE("textarea-el, input-el",`
 position: absolute;
 top: 0;
 left: 0;
 height: 100%;
 `)]),cB("input-wrapper",`
 overflow: hidden;
 display: inline-flex;
 flex-grow: 1;
 position: relative;
 padding-left: var(--n-padding-left);
 padding-right: var(--n-padding-right);
 `),cE("input-mirror",`
 padding: 0;
 height: var(--n-height);
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: nowrap;
 pointer-events: none;
 `),cE("input-el",`
 padding: 0;
 height: var(--n-height);
 line-height: var(--n-height);
 `,[c$1("+",[cE("placeholder",`
 display: flex;
 align-items: center; 
 `)])]),cNotM("textarea",[cE("placeholder","white-space: nowrap;")]),cE("eye",`
 transition: color .3s var(--n-bezier);
 `),cM("textarea","width: 100%;",[cB("input-word-count",`
 position: absolute;
 right: var(--n-padding-right);
 bottom: var(--n-padding-vertical);
 `),cM("resizable",[cB("input-wrapper",`
 resize: vertical;
 min-height: var(--n-height);
 `)]),cE("textarea-el, textarea-mirror, placeholder",`
 height: 100%;
 padding-left: 0;
 padding-right: 0;
 padding-top: var(--n-padding-vertical);
 padding-bottom: var(--n-padding-vertical);
 word-break: break-word;
 display: inline-block;
 vertical-align: bottom;
 box-sizing: border-box;
 line-height: var(--n-line-height-textarea);
 margin: 0;
 resize: none;
 white-space: pre-wrap;
 `),cE("textarea-mirror",`
 width: 100%;
 pointer-events: none;
 overflow: hidden;
 visibility: hidden;
 position: static;
 white-space: pre-wrap;
 overflow-wrap: break-word;
 `)]),cM("pair",[cE("input-el, placeholder","text-align: center;"),cE("separator",`
 display: flex;
 align-items: center;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 white-space: nowrap;
 `,[cB("icon",`
 color: var(--n-icon-color);
 `),cB("base-icon",`
 color: var(--n-icon-color);
 `)])]),cM("disabled",`
 cursor: not-allowed;
 background-color: var(--n-color-disabled);
 `,[cE("border","border: var(--n-border-disabled);"),cE("input-el, textarea-el",`
 cursor: not-allowed;
 color: var(--n-text-color-disabled);
 text-decoration-color: var(--n-text-color-disabled);
 -webkit-text-fill-color: var(--n-text-color-disabled);
 `),cE("placeholder","color: var(--n-placeholder-color-disabled);"),cE("separator","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("base-icon",`
 color: var(--n-icon-color-disabled);
 `)]),cE("suffix, prefix","color: var(--n-text-color-disabled);",[cB("icon",`
 color: var(--n-icon-color-disabled);
 `),cB("internal-icon",`
 color: var(--n-icon-color-disabled);
 `)])]),cNotM("disabled",[cE("eye",`
 display: flex;
 align-items: center;
 justify-content: center;
 color: var(--n-icon-color);
 cursor: pointer;
 `,[c$1("&:hover",`
 color: var(--n-icon-color-hover);
 `),c$1("&:active",`
 color: var(--n-icon-color-pressed);
 `)]),c$1("&:hover",[cE("state-border","border: var(--n-border-hover);")]),cM("focus","background-color: var(--n-color-focus);",[cE("state-border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cE("border, state-border",`
 box-sizing: border-box;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 border-radius: inherit;
 border: var(--n-border);
 transition:
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `),cE("state-border",`
 border-color: #0000;
 z-index: 1;
 `),cE("prefix","margin-right: 4px;"),cE("suffix",`
 margin-left: 4px;
 `),cE("suffix, prefix",`
 transition: color .3s var(--n-bezier);
 flex-wrap: nowrap;
 flex-shrink: 0;
 line-height: var(--n-height);
 white-space: nowrap;
 display: inline-flex;
 align-items: center;
 justify-content: center;
 color: var(--n-suffix-text-color);
 `,[cB("base-loading",`
 font-size: var(--n-icon-size);
 margin: 0 2px;
 color: var(--n-loading-color);
 `),cB("base-clear",`
 font-size: var(--n-icon-size);
 `,[cE("placeholder",[cB("base-icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)])]),c$1(">",[cB("icon",`
 transition: color .3s var(--n-bezier);
 color: var(--n-icon-color);
 font-size: var(--n-icon-size);
 `)]),cB("base-icon",`
 font-size: var(--n-icon-size);
 `)]),cB("input-word-count",`
 pointer-events: none;
 line-height: 1.5;
 font-size: .85em;
 color: var(--n-count-text-color);
 transition: color .3s var(--n-bezier);
 margin-left: 4px;
 font-variant: tabular-nums;
 `),["warning","error"].map(u=>cM(`${u}-status`,[cNotM("disabled",[cB("base-loading",`
 color: var(--n-loading-color-${u})
 `),cE("input-el, textarea-el",`
 caret-color: var(--n-caret-color-${u});
 `),cE("state-border",`
 border: var(--n-border-${u});
 `),c$1("&:hover",[cE("state-border",`
 border: var(--n-border-hover-${u});
 `)]),c$1("&:focus",`
 background-color: var(--n-color-focus-${u});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${u});
 border: var(--n-border-focus-${u});
 `)]),cM("focus",`
 background-color: var(--n-color-focus-${u});
 `,[cE("state-border",`
 box-shadow: var(--n-box-shadow-focus-${u});
 border: var(--n-border-focus-${u});
 `)])])]))]),inputProps=Object.assign(Object.assign({},useTheme.props),{bordered:{type:Boolean,default:void 0},type:{type:String,default:"text"},placeholder:[Array,String],defaultValue:{type:[String,Array],default:null},value:[String,Array],disabled:{type:Boolean,default:void 0},size:String,rows:{type:[Number,String],default:3},round:Boolean,minlength:[String,Number],maxlength:[String,Number],clearable:Boolean,autosize:{type:[Boolean,Object],default:!1},pair:Boolean,separator:String,readonly:{type:[String,Boolean],default:!1},passivelyActivated:Boolean,showPasswordOn:String,stateful:{type:Boolean,default:!0},autofocus:Boolean,inputProps:Object,resizable:{type:Boolean,default:!0},showCount:Boolean,loading:{type:Boolean,default:void 0},allowInput:Function,onMousedown:Function,onKeydown:Function,onKeyup:Function,onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClick:[Function,Array],onChange:[Function,Array],onClear:[Function,Array],status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],textDecoration:[String,Array],attrSize:{type:Number,default:20},onInputBlur:[Function,Array],onInputFocus:[Function,Array],onDeactivate:[Function,Array],onActivate:[Function,Array],onWrapperFocus:[Function,Array],onWrapperBlur:[Function,Array],internalDeactivateOnEnter:Boolean,internalForceFocus:Boolean,internalLoadingBeforeSuffix:Boolean,showPasswordToggle:Boolean}),NInput=defineComponent({name:"Input",props:inputProps,setup(u){const{mergedClsPrefixRef:a,mergedBorderedRef:d,inlineThemeDisabled:m,mergedRtlRef:$}=useConfig(u),ee=useTheme("Input","-input",style$e,inputLight$1,u,a),te=ref(null),b=ref(null),re=ref(null),ne=ref(null),ie=ref(null),se=ref(null),fe=ref(null),ce=useCursor(fe),de=ref(null),{localeRef:ye}=useLocale("Input"),ge=ref(u.defaultValue),_e=toRef(u,"value"),Ee=useMergedState(_e,ge),Ae=useFormItem(u),{mergedSizeRef:we,mergedDisabledRef:Me,mergedStatusRef:ke}=Ae,Re=ref(!1),ze=ref(!1),Je=ref(!1),et=ref(!1);let Pe=null;const ve=computed(()=>{const{placeholder:Ft,pair:je}=u;return je?Array.isArray(Ft)?Ft:Ft===void 0?["",""]:[Ft,Ft]:Ft===void 0?[ye.value.placeholder]:[Ft]}),le=computed(()=>{const{value:Ft}=Je,{value:je}=Ee,{value:Xe}=ve;return!Ft&&(isEmptyInputValue(je)||Array.isArray(je)&&isEmptyInputValue(je[0]))&&Xe[0]}),ae=computed(()=>{const{value:Ft}=Je,{value:je}=Ee,{value:Xe}=ve;return!Ft&&Xe[1]&&(isEmptyInputValue(je)||Array.isArray(je)&&isEmptyInputValue(je[1]))}),he=useMemo(()=>u.internalForceFocus||Re.value),xe=useMemo(()=>{if(Me.value||u.readonly||!u.clearable||!he.value&&!ze.value)return!1;const{value:Ft}=Ee,{value:je}=he;return u.pair?!!(Array.isArray(Ft)&&(Ft[0]||Ft[1]))&&(ze.value||je):!!Ft&&(ze.value||je)}),$e=computed(()=>{const{showPasswordOn:Ft}=u;if(Ft)return Ft;if(u.showPasswordToggle)return"click"}),He=ref(!1),Fe=computed(()=>{const{textDecoration:Ft}=u;return Ft?Array.isArray(Ft)?Ft.map(je=>({textDecoration:je})):[{textDecoration:Ft}]:["",""]}),Ne=ref(void 0),De=()=>{var Ft,je;if(u.type==="textarea"){const{autosize:Xe}=u;if(Xe&&(Ne.value=(je=(Ft=de.value)===null||Ft===void 0?void 0:Ft.$el)===null||je===void 0?void 0:je.offsetWidth),!b.value||typeof Xe=="boolean")return;const{paddingTop:ot,paddingBottom:Ke,lineHeight:pt}=window.getComputedStyle(b.value),gt=Number(ot.slice(0,-2)),Tt=Number(Ke.slice(0,-2)),Rt=Number(pt.slice(0,-2)),{value:Mt}=re;if(!Mt)return;if(Xe.minRows){const zt=Math.max(Xe.minRows,1),Lt=`${gt+Tt+Rt*zt}px`;Mt.style.minHeight=Lt}if(Xe.maxRows){const zt=`${gt+Tt+Rt*Xe.maxRows}px`;Mt.style.maxHeight=zt}}},pe=computed(()=>{const{maxlength:Ft}=u;return Ft===void 0?void 0:Number(Ft)});onMounted(()=>{const{value:Ft}=Ee;Array.isArray(Ft)||ur(Ft)});const Le=getCurrentInstance().proxy;function Be(Ft){const{onUpdateValue:je,"onUpdate:value":Xe,onInput:ot}=u,{nTriggerFormInput:Ke}=Ae;je&&call(je,Ft),Xe&&call(Xe,Ft),ot&&call(ot,Ft),ge.value=Ft,Ke()}function Ce(Ft){const{onChange:je}=u,{nTriggerFormChange:Xe}=Ae;je&&call(je,Ft),ge.value=Ft,Xe()}function Ze(Ft){const{onBlur:je}=u,{nTriggerFormBlur:Xe}=Ae;je&&call(je,Ft),Xe()}function it(Ft){const{onFocus:je}=u,{nTriggerFormFocus:Xe}=Ae;je&&call(je,Ft),Xe()}function rt(Ft){const{onClear:je}=u;je&&call(je,Ft)}function Oe(Ft){const{onInputBlur:je}=u;je&&call(je,Ft)}function Ve(Ft){const{onInputFocus:je}=u;je&&call(je,Ft)}function We(){const{onDeactivate:Ft}=u;Ft&&call(Ft)}function qe(){const{onActivate:Ft}=u;Ft&&call(Ft)}function Ge(Ft){const{onClick:je}=u;je&&call(je,Ft)}function Qe(Ft){const{onWrapperFocus:je}=u;je&&call(je,Ft)}function ct(Ft){const{onWrapperBlur:je}=u;je&&call(je,Ft)}function ft(){Je.value=!0}function bt(Ft){Je.value=!1,Ft.target===se.value?St(Ft,1):St(Ft,0)}function St(Ft,je=0,Xe="input"){const ot=Ft.target.value;if(ur(ot),u.type==="textarea"){const{value:pt}=de;pt&&pt.syncUnifiedContainer()}if(Pe=ot,Je.value)return;ce.recordCursor();const Ke=xt(ot);if(Ke)if(!u.pair)Xe==="input"?Be(ot):Ce(ot);else{let{value:pt}=Ee;Array.isArray(pt)?pt=[pt[0],pt[1]]:pt=["",""],pt[je]=ot,Xe==="input"?Be(pt):Ce(pt)}Le.$forceUpdate(),Ke||nextTick(ce.restoreCursor)}function xt(Ft){const{allowInput:je}=u;return typeof je=="function"?je(Ft):!0}function $t(Ft){Oe(Ft),Ft.relatedTarget===te.value&&We(),Ft.relatedTarget!==null&&(Ft.relatedTarget===ie.value||Ft.relatedTarget===se.value||Ft.relatedTarget===b.value)||(et.value=!1),kt(Ft,"blur"),fe.value=null}function It(Ft,je){Ve(Ft),Re.value=!0,et.value=!0,qe(),kt(Ft,"focus"),je===0?fe.value=ie.value:je===1?fe.value=se.value:je===2&&(fe.value=b.value)}function Et(Ft){u.passivelyActivated&&(ct(Ft),kt(Ft,"blur"))}function At(Ft){u.passivelyActivated&&(Re.value=!0,Qe(Ft),kt(Ft,"focus"))}function kt(Ft,je){Ft.relatedTarget!==null&&(Ft.relatedTarget===ie.value||Ft.relatedTarget===se.value||Ft.relatedTarget===b.value||Ft.relatedTarget===te.value)||(je==="focus"?(it(Ft),Re.value=!0):je==="blur"&&(Ze(Ft),Re.value=!1))}function Kt(Ft,je){St(Ft,je,"change")}function lt(Ft){Ge(Ft)}function Se(Ft){rt(Ft),u.pair?(Be(["",""]),Ce(["",""])):(Be(""),Ce(""))}function me(Ft){const{onMousedown:je}=u;je&&je(Ft);const{tagName:Xe}=Ft.target;if(Xe!=="INPUT"&&Xe!=="TEXTAREA"){if(u.resizable){const{value:ot}=te;if(ot){const{left:Ke,top:pt,width:gt,height:Tt}=ot.getBoundingClientRect(),Rt=14;if(Ke+gt-Rt<Ft.clientX&&Ft.clientY<Ke+gt&&pt+Tt-Rt<Ft.clientY&&Ft.clientY<pt+Tt)return}}Ft.preventDefault(),Re.value||Ct()}}function be(){var Ft;ze.value=!0,u.type==="textarea"&&((Ft=de.value)===null||Ft===void 0||Ft.handleMouseEnterWrapper())}function Ye(){var Ft;ze.value=!1,u.type==="textarea"&&((Ft=de.value)===null||Ft===void 0||Ft.handleMouseLeaveWrapper())}function ut(){Me.value||$e.value==="click"&&(He.value=!He.value)}function yt(Ft){if(Me.value)return;Ft.preventDefault();const je=ot=>{ot.preventDefault(),off("mouseup",document,je)};if(on("mouseup",document,je),$e.value!=="mousedown")return;He.value=!0;const Xe=()=>{He.value=!1,off("mouseup",document,Xe)};on("mouseup",document,Xe)}function wt(Ft){var je;switch((je=u.onKeydown)===null||je===void 0||je.call(u,Ft),Ft.key){case"Escape":Xt();break;case"Enter":Ut(Ft);break}}function Ut(Ft){var je,Xe;if(u.passivelyActivated){const{value:ot}=et;if(ot){u.internalDeactivateOnEnter&&Xt();return}Ft.preventDefault(),u.type==="textarea"?(je=b.value)===null||je===void 0||je.focus():(Xe=ie.value)===null||Xe===void 0||Xe.focus()}}function Xt(){u.passivelyActivated&&(et.value=!1,nextTick(()=>{var Ft;(Ft=te.value)===null||Ft===void 0||Ft.focus()}))}function Ct(){var Ft,je,Xe;Me.value||(u.passivelyActivated?(Ft=te.value)===null||Ft===void 0||Ft.focus():((je=b.value)===null||je===void 0||je.focus(),(Xe=ie.value)===null||Xe===void 0||Xe.focus()))}function Ht(){var Ft;!((Ft=te.value)===null||Ft===void 0)&&Ft.contains(document.activeElement)&&document.activeElement.blur()}function Yt(){var Ft,je;(Ft=b.value)===null||Ft===void 0||Ft.select(),(je=ie.value)===null||je===void 0||je.select()}function ar(){Me.value||(b.value?b.value.focus():ie.value&&ie.value.focus())}function tr(){const{value:Ft}=te;Ft?.contains(document.activeElement)&&Ft!==document.activeElement&&Xt()}function vr(Ft){if(u.type==="textarea"){const{value:je}=b;je?.scrollTo(Ft)}else{const{value:je}=ie;je?.scrollTo(Ft)}}function ur(Ft){const{type:je,pair:Xe,autosize:ot}=u;if(!Xe&&ot)if(je==="textarea"){const{value:Ke}=re;Ke&&(Ke.textContent=(Ft??"")+`\r
`)}else{const{value:Ke}=ne;Ke&&(Ft?Ke.textContent=Ft:Ke.innerHTML="&nbsp;")}}function Sr(){De()}const Ar=ref({top:"0"});function $r(Ft){var je;const{scrollTop:Xe}=Ft.target;Ar.value.top=`${-Xe}px`,(je=de.value)===null||je===void 0||je.syncUnifiedContainer()}let kr=null;watchEffect(()=>{const{autosize:Ft,type:je}=u;Ft&&je==="textarea"?kr=watch(Ee,Xe=>{!Array.isArray(Xe)&&Xe!==Pe&&ur(Xe)}):kr?.()});let ir=null;watchEffect(()=>{u.type==="textarea"?ir=watch(Ee,Ft=>{var je;!Array.isArray(Ft)&&Ft!==Pe&&((je=de.value)===null||je===void 0||je.syncUnifiedContainer())}):ir?.()}),provide(inputInjectionKey,{mergedValueRef:Ee,maxlengthRef:pe,mergedClsPrefixRef:a});const pr={wrapperElRef:te,inputElRef:ie,textareaElRef:b,isCompositing:Je,focus:Ct,blur:Ht,select:Yt,deactivate:tr,activate:ar,scrollTo:vr},Ir=useRtl("Input",$,a),Pr=computed(()=>{const{value:Ft}=we,{common:{cubicBezierEaseInOut:je},self:{color:Xe,borderRadius:ot,textColor:Ke,caretColor:pt,caretColorError:gt,caretColorWarning:Tt,textDecorationColor:Rt,border:Mt,borderDisabled:zt,borderHover:Lt,borderFocus:er,placeholderColor:lr,placeholderColorDisabled:Er,lineHeightTextarea:or,colorDisabled:Tr,colorFocus:Jt,textColorDisabled:Dt,boxShadowFocus:Qt,iconSize:Pt,colorFocusWarning:Ot,boxShadowFocusWarning:Bt,borderWarning:nr,borderFocusWarning:dr,borderHoverWarning:sr,colorFocusError:gr,boxShadowFocusError:Zt,borderError:rr,borderFocusError:Gt,borderHoverError:mr,clearSize:yr,clearColor:Cr,clearColorHover:Br,clearColorPressed:Hr,iconColor:zr,iconColorDisabled:Wr,suffixTextColor:jt,countTextColor:Yr,iconColorHover:Jr,iconColorPressed:nn,loadingColor:qr,loadingColorError:sn,loadingColorWarning:an,[createKey("padding",Ft)]:Xr,[createKey("fontSize",Ft)]:tn,[createKey("height",Ft)]:vn}}=ee.value,{left:hn,right:dn}=getMargin(Xr);return{"--n-bezier":je,"--n-count-text-color":Yr,"--n-color":Xe,"--n-font-size":tn,"--n-border-radius":ot,"--n-height":vn,"--n-padding-left":hn,"--n-padding-right":dn,"--n-text-color":Ke,"--n-caret-color":pt,"--n-text-decoration-color":Rt,"--n-border":Mt,"--n-border-disabled":zt,"--n-border-hover":Lt,"--n-border-focus":er,"--n-placeholder-color":lr,"--n-placeholder-color-disabled":Er,"--n-icon-size":Pt,"--n-line-height-textarea":or,"--n-color-disabled":Tr,"--n-color-focus":Jt,"--n-text-color-disabled":Dt,"--n-box-shadow-focus":Qt,"--n-loading-color":qr,"--n-caret-color-warning":Tt,"--n-color-focus-warning":Ot,"--n-box-shadow-focus-warning":Bt,"--n-border-warning":nr,"--n-border-focus-warning":dr,"--n-border-hover-warning":sr,"--n-loading-color-warning":an,"--n-caret-color-error":gt,"--n-color-focus-error":gr,"--n-box-shadow-focus-error":Zt,"--n-border-error":rr,"--n-border-focus-error":Gt,"--n-border-hover-error":mr,"--n-loading-color-error":sn,"--n-clear-color":Cr,"--n-clear-size":yr,"--n-clear-color-hover":Br,"--n-clear-color-pressed":Hr,"--n-icon-color":zr,"--n-icon-color-hover":Jr,"--n-icon-color-pressed":nn,"--n-icon-color-disabled":Wr,"--n-suffix-text-color":jt}}),Rr=m?useThemeClass("input",computed(()=>{const{value:Ft}=we;return Ft[0]}),Pr,u):void 0;return Object.assign(Object.assign({},pr),{wrapperElRef:te,inputElRef:ie,inputMirrorElRef:ne,inputEl2Ref:se,textareaElRef:b,textareaMirrorElRef:re,textareaScrollbarInstRef:de,rtlEnabled:Ir,uncontrolledValue:ge,mergedValue:Ee,passwordVisible:He,mergedPlaceholder:ve,showPlaceholder1:le,showPlaceholder2:ae,mergedFocus:he,isComposing:Je,activated:et,showClearButton:xe,mergedSize:we,mergedDisabled:Me,textDecorationStyle:Fe,mergedClsPrefix:a,mergedBordered:d,mergedShowPasswordOn:$e,placeholderStyle:Ar,mergedStatus:ke,textAreaScrollContainerWidth:Ne,handleTextAreaScroll:$r,handleCompositionStart:ft,handleCompositionEnd:bt,handleInput:St,handleInputBlur:$t,handleInputFocus:It,handleWrapperBlur:Et,handleWrapperFocus:At,handleMouseEnter:be,handleMouseLeave:Ye,handleMouseDown:me,handleChange:Kt,handleClick:lt,handleClear:Se,handlePasswordToggleClick:ut,handlePasswordToggleMousedown:yt,handleWrapperKeydown:wt,handleTextAreaMirrorResize:Sr,getTextareaScrollContainer:()=>b.value,mergedTheme:ee,cssVars:m?void 0:Pr,themeClass:Rr?.themeClass,onRender:Rr?.onRender})},render(){var u,a;const{mergedClsPrefix:d,mergedStatus:m,themeClass:$,type:ee,onRender:te}=this,b=this.$slots;return te?.(),h("div",{ref:"wrapperElRef",class:[`${d}-input`,$,m&&`${d}-input--${m}-status`,{[`${d}-input--rtl`]:this.rtlEnabled,[`${d}-input--disabled`]:this.mergedDisabled,[`${d}-input--textarea`]:ee==="textarea",[`${d}-input--resizable`]:this.resizable&&!this.autosize,[`${d}-input--autosize`]:this.autosize,[`${d}-input--round`]:this.round&&ee!=="textarea",[`${d}-input--pair`]:this.pair,[`${d}-input--focus`]:this.mergedFocus,[`${d}-input--stateful`]:this.stateful}],style:this.cssVars,tabindex:!this.mergedDisabled&&this.passivelyActivated&&!this.activated?0:void 0,onFocus:this.handleWrapperFocus,onBlur:this.handleWrapperBlur,onClick:this.handleClick,onMousedown:this.handleMouseDown,onMouseenter:this.handleMouseEnter,onMouseleave:this.handleMouseLeave,onCompositionstart:this.handleCompositionStart,onCompositionend:this.handleCompositionEnd,onKeyup:this.onKeyup,onKeydown:this.handleWrapperKeydown},h("div",{class:`${d}-input-wrapper`},resolveWrappedSlot(b.prefix,re=>re&&h("div",{class:`${d}-input__prefix`},re)),ee==="textarea"?h(NScrollbar$1,{ref:"textareaScrollbarInstRef",class:`${d}-input__textarea`,container:this.getTextareaScrollContainer,triggerDisplayManually:!0,useUnifiedContainer:!0,internalHoistYRail:!0},{default:()=>{var re,ne;const{textAreaScrollContainerWidth:ie}=this,se={width:this.autosize&&ie&&`${ie}px`};return h(Fragment,null,h("textarea",Object.assign({},this.inputProps,{ref:"textareaElRef",class:[`${d}-input__textarea-el`,(re=this.inputProps)===null||re===void 0?void 0:re.class],autofocus:this.autofocus,rows:Number(this.rows),placeholder:this.placeholder,value:this.mergedValue,disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,readonly:this.readonly,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,style:[this.textDecorationStyle[0],(ne=this.inputProps)===null||ne===void 0?void 0:ne.style,se],onBlur:this.handleInputBlur,onFocus:fe=>this.handleInputFocus(fe,2),onInput:this.handleInput,onChange:this.handleChange,onScroll:this.handleTextAreaScroll})),this.showPlaceholder1?h("div",{class:`${d}-input__placeholder`,style:[this.placeholderStyle,se],key:"placeholder"},this.mergedPlaceholder[0]):null,this.autosize?h(VResizeObserver,{onResize:this.handleTextAreaMirrorResize},{default:()=>h("div",{ref:"textareaMirrorElRef",class:`${d}-input__textarea-mirror`,key:"mirror"})}):null)}}):h("div",{class:`${d}-input__input`},h("input",Object.assign({type:ee==="password"&&this.mergedShowPasswordOn&&this.passwordVisible?"text":ee},this.inputProps,{ref:"inputElRef",class:[`${d}-input__input-el`,(u=this.inputProps)===null||u===void 0?void 0:u.class],style:[this.textDecorationStyle[0],(a=this.inputProps)===null||a===void 0?void 0:a.style],tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[0],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[0]:this.mergedValue,readonly:this.readonly,autofocus:this.autofocus,size:this.attrSize,onBlur:this.handleInputBlur,onFocus:re=>this.handleInputFocus(re,0),onInput:re=>this.handleInput(re,0),onChange:re=>this.handleChange(re,0)})),this.showPlaceholder1?h("div",{class:`${d}-input__placeholder`},h("span",null,this.mergedPlaceholder[0])):null,this.autosize?h("div",{class:`${d}-input__input-mirror`,key:"mirror",ref:"inputMirrorElRef"},"\xA0"):null),!this.pair&&resolveWrappedSlot(b.suffix,re=>re||this.clearable||this.showCount||this.mergedShowPasswordOn||this.loading!==void 0?h("div",{class:`${d}-input__suffix`},[resolveWrappedSlot(b["clear-icon-placeholder"],ne=>(this.clearable||ne)&&h(NBaseClear,{clsPrefix:d,show:this.showClearButton,onClear:this.handleClear},{placeholder:()=>ne,icon:()=>{var ie,se;return(se=(ie=this.$slots)["clear-icon"])===null||se===void 0?void 0:se.call(ie)}})),this.internalLoadingBeforeSuffix?null:re,this.loading!==void 0?h(NBaseSuffix,{clsPrefix:d,loading:this.loading,showArrow:!1,showClear:!1,style:this.cssVars}):null,this.internalLoadingBeforeSuffix?re:null,this.showCount&&this.type!=="textarea"?h(WordCount,null,{default:ne=>{var ie;return(ie=b.count)===null||ie===void 0?void 0:ie.call(b,ne)}}):null,this.mergedShowPasswordOn&&this.type==="password"?h("div",{class:`${d}-input__eye`,onMousedown:this.handlePasswordToggleMousedown,onClick:this.handlePasswordToggleClick},this.passwordVisible?resolveSlot(b["password-visible-icon"],()=>[h(NBaseIcon,{clsPrefix:d},{default:()=>h(EyeIcon,null)})]):resolveSlot(b["password-invisible-icon"],()=>[h(NBaseIcon,{clsPrefix:d},{default:()=>h(EyeOffIcon,null)})])):null]):null)),this.pair?h("span",{class:`${d}-input__separator`},resolveSlot(b.separator,()=>[this.separator])):null,this.pair?h("div",{class:`${d}-input-wrapper`},h("div",{class:`${d}-input__input`},h("input",{ref:"inputEl2Ref",type:this.type,class:`${d}-input__input-el`,tabindex:this.passivelyActivated&&!this.activated?-1:void 0,placeholder:this.mergedPlaceholder[1],disabled:this.mergedDisabled,maxlength:this.maxlength,minlength:this.minlength,value:Array.isArray(this.mergedValue)?this.mergedValue[1]:void 0,readonly:this.readonly,style:this.textDecorationStyle[1],onBlur:this.handleInputBlur,onFocus:re=>this.handleInputFocus(re,1),onInput:re=>this.handleInput(re,1),onChange:re=>this.handleChange(re,1)}),this.showPlaceholder2?h("div",{class:`${d}-input__placeholder`},h("span",null,this.mergedPlaceholder[1])):null),resolveWrappedSlot(b.suffix,re=>(this.clearable||re)&&h("div",{class:`${d}-input__suffix`},[this.clearable&&h(NBaseClear,{clsPrefix:d,show:this.showClearButton,onClear:this.handleClear},{icon:()=>{var ne;return(ne=b["clear-icon"])===null||ne===void 0?void 0:ne.call(b)},placeholder:()=>{var ne;return(ne=b["clear-icon-placeholder"])===null||ne===void 0?void 0:ne.call(b)}}),re]))):null,this.mergedBordered?h("div",{class:`${d}-input__border`}):null,this.mergedBordered?h("div",{class:`${d}-input__state-border`}):null,this.showCount&&ee==="textarea"?h(WordCount,null,{default:re=>{var ne;return(ne=b.count)===null||ne===void 0?void 0:ne.call(b,re)}}):null)}}),style$d=cB("input-group",`
 display: inline-flex;
 width: 100%;
 flex-wrap: nowrap;
 vertical-align: bottom;
`,[c$1(">",[cB("input",[c$1("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),c$1("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 margin-left: -1px!important;
 `)]),cB("button",[c$1("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[cE("state-border, border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)]),c$1("&:not(:first-child)",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[cE("state-border, border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])]),c$1("*",[c$1("&:not(:last-child)",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `,[c$1(">",[cB("input",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),cB("base-selection",[cB("base-selection-label",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),cB("base-selection-tags",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `),cE("box-shadow, border, state-border",`
 border-top-right-radius: 0!important;
 border-bottom-right-radius: 0!important;
 `)])])]),c$1("&:not(:first-child)",`
 margin-left: -1px!important;
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `,[c$1(">",[cB("input",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),cB("base-selection",[cB("base-selection-label",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),cB("base-selection-tags",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `),cE("box-shadow, border, state-border",`
 border-top-left-radius: 0!important;
 border-bottom-left-radius: 0!important;
 `)])])])])])]),inputGroupProps={},NInputGroup=defineComponent({name:"InputGroup",props:inputGroupProps,setup(u){const{mergedClsPrefixRef:a}=useConfig(u);return useStyle("-input-group",style$d,a),{mergedClsPrefix:a}},render(){const{mergedClsPrefix:u}=this;return h("div",{class:`${u}-input-group`},this.$slots)}}),isImageSupportNativeLazy=!1,resolveOptionsAndHash=(u={})=>{var a;const{root:d=null}=u;return{hash:`${u.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(u.threshold)?u.threshold.join(","):(a=u.threshold)!==null&&a!==void 0?a:"0"}`,options:Object.assign(Object.assign({},u),{root:(typeof d=="string"?document.querySelector(d):d)||document.documentElement})}},observers=new WeakMap,unobserveHandleMap=new WeakMap,shouldStartLoadingRefMap=new WeakMap,observeIntersection=(u,a,d)=>{if(!u)return()=>{};const m=resolveOptionsAndHash(a),{root:$}=m.options;let ee;const te=observers.get($);te?ee=te:(ee=new Map,observers.set($,ee));let b,re;ee.has(m.hash)?(re=ee.get(m.hash),re[1].has(u)||(b=re[0],re[1].add(u),b.observe(u))):(b=new IntersectionObserver(se=>{se.forEach(fe=>{if(fe.isIntersecting){const ce=unobserveHandleMap.get(fe.target),de=shouldStartLoadingRefMap.get(fe.target);ce&&ce(),de&&(de.value=!0)}})},m.options),b.observe(u),re=[b,new Set([u])],ee.set(m.hash,re));let ne=!1;const ie=()=>{ne||(unobserveHandleMap.delete(u),shouldStartLoadingRefMap.delete(u),ne=!0,re[1].has(u)&&(re[0].unobserve(u),re[1].delete(u)),re[1].size<=0&&ee.delete(m.hash),ee.size||observers.delete($))};return unobserveHandleMap.set(u,ie),shouldStartLoadingRefMap.set(u,d),ie},self$d=u=>{const{borderRadius:a,avatarColor:d,cardColor:m,fontSize:$,heightTiny:ee,heightSmall:te,heightMedium:b,heightLarge:re,heightHuge:ne,modalColor:ie,popoverColor:se}=u;return{borderRadius:a,fontSize:$,border:`2px solid ${m}`,heightTiny:ee,heightSmall:te,heightMedium:b,heightLarge:re,heightHuge:ne,color:composite(m,d),colorModal:composite(ie,d),colorPopover:composite(se,d)}},avatarLight={name:"Avatar",common:commonLight,self:self$d},avatarLight$1=avatarLight,avatarGroupInjectionKey="n-avatar-group",style$c=cB("avatar",`
 width: var(--n-merged-size);
 height: var(--n-merged-size);
 color: #FFF;
 font-size: var(--n-font-size);
 display: inline-flex;
 position: relative;
 overflow: hidden;
 text-align: center;
 border: var(--n-border);
 border-radius: var(--n-border-radius);
 --n-merged-color: var(--n-color);
 background-color: var(--n-merged-color);
 transition:
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
`,[insideModal(c$1("&","--n-merged-color: var(--n-color-modal);")),insidePopover(c$1("&","--n-merged-color: var(--n-color-popover);")),c$1("img",`
 width: 100%;
 height: 100%;
 `),cE("text",`
 white-space: nowrap;
 display: inline-block;
 position: absolute;
 left: 50%;
 top: 50%;
 `),cB("icon",`
 vertical-align: bottom;
 font-size: calc(var(--n-merged-size) - 6px);
 `),cE("text","line-height: 1.25")]),avatarProps=Object.assign(Object.assign({},useTheme.props),{size:[String,Number],src:String,circle:{type:Boolean,default:void 0},objectFit:String,round:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},onError:Function,fallbackSrc:String,intersectionObserverOptions:Object,lazy:Boolean,color:String}),NAvatar=defineComponent({name:"Avatar",props:avatarProps,setup(u){const{mergedClsPrefixRef:a,inlineThemeDisabled:d}=useConfig(u),m=ref(!1);let $=null;const ee=ref(null),te=ref(null),b=()=>{const{value:Ae}=ee;if(Ae&&($===null||$!==Ae.innerHTML)){$=Ae.innerHTML;const{value:we}=te;if(we){const{offsetWidth:Me,offsetHeight:ke}=we,{offsetWidth:Re,offsetHeight:ze}=Ae,Je=.9,et=Math.min(Me/Re*Je,ke/ze*Je,1);Ae.style.transform=`translateX(-50%) translateY(-50%) scale(${et})`}}},re=inject(avatarGroupInjectionKey,null),ne=computed(()=>{const{size:Ae}=u;if(Ae)return Ae;const{size:we}=re||{};return we||"medium"}),ie=useTheme("Avatar","-avatar",style$c,avatarLight$1,u,a),se=inject(tagInjectionKey,null),fe=computed(()=>{if(re)return!0;const{round:Ae,circle:we}=u;return Ae!==void 0||we!==void 0?Ae||we:se?se.roundRef.value:!1}),ce=computed(()=>re?!0:u.bordered||!1),de=Ae=>{if(!_e.value)return;m.value=!0;const{onError:we}=u;we&&we(Ae)};watch(()=>u.src,()=>m.value=!1);const ye=computed(()=>{const Ae=ne.value,we=fe.value,Me=ce.value,{color:ke}=u,{self:{borderRadius:Re,fontSize:ze,color:Je,border:et,colorModal:Pe,colorPopover:ve},common:{cubicBezierEaseInOut:le}}=ie.value;let ae;return typeof Ae=="number"?ae=`${Ae}px`:ae=ie.value.self[createKey("height",Ae)],{"--n-font-size":ze,"--n-border":Me?et:"none","--n-border-radius":we?"50%":Re,"--n-color":ke||Je,"--n-color-modal":ke||Pe,"--n-color-popover":ke||ve,"--n-bezier":le,"--n-merged-size":`var(--n-avatar-size-override, ${ae})`}}),ge=d?useThemeClass("avatar",computed(()=>{const Ae=ne.value,we=fe.value,Me=ce.value,{color:ke}=u;let Re="";return Ae&&(typeof Ae=="number"?Re+=`a${Ae}`:Re+=Ae[0]),we&&(Re+="b"),Me&&(Re+="c"),ke&&(Re+=color2Class(ke)),Re}),ye,u):void 0,_e=ref(!u.lazy);onMounted(()=>{if(isImageSupportNativeLazy)return;let Ae;const we=watchEffect(()=>{Ae?.(),Ae=void 0,u.lazy&&(Ae=observeIntersection(te.value,u.intersectionObserverOptions,_e))});onBeforeUnmount(()=>{we(),Ae?.()})});const Ee=ref(!u.lazy);return{textRef:ee,selfRef:te,mergedRoundRef:fe,mergedClsPrefix:a,fitTextTransform:b,cssVars:d?void 0:ye,themeClass:ge?.themeClass,onRender:ge?.onRender,hasLoadError:m,handleError:de,shouldStartLoading:_e,loaded:Ee,mergedOnLoad:Ae=>{const{onLoad:we}=u;we?.(Ae),Ee.value=!0}}},render(){var u,a;const{$slots:d,src:m,mergedClsPrefix:$,lazy:ee,onRender:te,mergedOnLoad:b,shouldStartLoading:re,loaded:ne,hasLoadError:ie}=this;te?.();let se;const fe=!ne&&!ie&&((a=(u=this.$slots).placeholder)===null||a===void 0?void 0:a.call(u));return this.hasLoadError?se=h("img",{src:this.fallbackSrc,style:{objectFit:this.objectFit}}):se=resolveWrappedSlot(d.default,ce=>{if(ce)return h(VResizeObserver,{onResize:this.fitTextTransform},{default:()=>h("span",{ref:"textRef",class:`${$}-avatar__text`},ce)});if(m)return h("img",{loading:"eager",src:re||ne?m:void 0,onLoad:b,"data-image-src":m,onError:this.handleError,style:[{objectFit:this.objectFit},fe?{height:"0",width:"0",visibility:"hidden",position:"absolute"}:""]})}),h("span",{ref:"selfRef",class:[`${$}-avatar`,this.themeClass],style:this.cssVars},se,ee&&fe)}});function createHoverColor(u){return composite(u,[255,255,255,.16])}function createPressedColor(u){return composite(u,[0,0,0,.12])}const buttonGroupInjectionKey="n-button-group",isChrome=isBrowser$2&&"chrome"in window;isBrowser$2&&navigator.userAgent.includes("Firefox");const isSafari=isBrowser$2&&navigator.userAgent.includes("Safari")&&!isChrome,commonVariables$3={paddingTiny:"0 6px",paddingSmall:"0 10px",paddingMedium:"0 14px",paddingLarge:"0 18px",paddingRoundTiny:"0 10px",paddingRoundSmall:"0 14px",paddingRoundMedium:"0 18px",paddingRoundLarge:"0 22px",iconMarginTiny:"6px",iconMarginSmall:"6px",iconMarginMedium:"6px",iconMarginLarge:"6px",iconSizeTiny:"14px",iconSizeSmall:"18px",iconSizeMedium:"18px",iconSizeLarge:"20px",rippleDuration:".6s"},self$c=u=>{const{heightTiny:a,heightSmall:d,heightMedium:m,heightLarge:$,borderRadius:ee,fontSizeTiny:te,fontSizeSmall:b,fontSizeMedium:re,fontSizeLarge:ne,opacityDisabled:ie,textColor2:se,textColor3:fe,primaryColorHover:ce,primaryColorPressed:de,borderColor:ye,primaryColor:ge,baseColor:_e,infoColor:Ee,infoColorHover:Ae,infoColorPressed:we,successColor:Me,successColorHover:ke,successColorPressed:Re,warningColor:ze,warningColorHover:Je,warningColorPressed:et,errorColor:Pe,errorColorHover:ve,errorColorPressed:le,fontWeight:ae,buttonColor2:he,buttonColor2Hover:xe,buttonColor2Pressed:$e,fontWeightStrong:He}=u;return Object.assign(Object.assign({},commonVariables$3),{heightTiny:a,heightSmall:d,heightMedium:m,heightLarge:$,borderRadiusTiny:ee,borderRadiusSmall:ee,borderRadiusMedium:ee,borderRadiusLarge:ee,fontSizeTiny:te,fontSizeSmall:b,fontSizeMedium:re,fontSizeLarge:ne,opacityDisabled:ie,colorOpacitySecondary:"0.16",colorOpacitySecondaryHover:"0.22",colorOpacitySecondaryPressed:"0.28",colorSecondary:he,colorSecondaryHover:xe,colorSecondaryPressed:$e,colorTertiary:he,colorTertiaryHover:xe,colorTertiaryPressed:$e,colorQuaternary:"#0000",colorQuaternaryHover:xe,colorQuaternaryPressed:$e,color:"#0000",colorHover:"#0000",colorPressed:"#0000",colorFocus:"#0000",colorDisabled:"#0000",textColor:se,textColorTertiary:fe,textColorHover:ce,textColorPressed:de,textColorFocus:ce,textColorDisabled:se,textColorText:se,textColorTextHover:ce,textColorTextPressed:de,textColorTextFocus:ce,textColorTextDisabled:se,textColorGhost:se,textColorGhostHover:ce,textColorGhostPressed:de,textColorGhostFocus:ce,textColorGhostDisabled:se,border:`1px solid ${ye}`,borderHover:`1px solid ${ce}`,borderPressed:`1px solid ${de}`,borderFocus:`1px solid ${ce}`,borderDisabled:`1px solid ${ye}`,rippleColor:ge,colorPrimary:ge,colorHoverPrimary:ce,colorPressedPrimary:de,colorFocusPrimary:ce,colorDisabledPrimary:ge,textColorPrimary:_e,textColorHoverPrimary:_e,textColorPressedPrimary:_e,textColorFocusPrimary:_e,textColorDisabledPrimary:_e,textColorTextPrimary:ge,textColorTextHoverPrimary:ce,textColorTextPressedPrimary:de,textColorTextFocusPrimary:ce,textColorTextDisabledPrimary:se,textColorGhostPrimary:ge,textColorGhostHoverPrimary:ce,textColorGhostPressedPrimary:de,textColorGhostFocusPrimary:ce,textColorGhostDisabledPrimary:ge,borderPrimary:`1px solid ${ge}`,borderHoverPrimary:`1px solid ${ce}`,borderPressedPrimary:`1px solid ${de}`,borderFocusPrimary:`1px solid ${ce}`,borderDisabledPrimary:`1px solid ${ge}`,rippleColorPrimary:ge,colorInfo:Ee,colorHoverInfo:Ae,colorPressedInfo:we,colorFocusInfo:Ae,colorDisabledInfo:Ee,textColorInfo:_e,textColorHoverInfo:_e,textColorPressedInfo:_e,textColorFocusInfo:_e,textColorDisabledInfo:_e,textColorTextInfo:Ee,textColorTextHoverInfo:Ae,textColorTextPressedInfo:we,textColorTextFocusInfo:Ae,textColorTextDisabledInfo:se,textColorGhostInfo:Ee,textColorGhostHoverInfo:Ae,textColorGhostPressedInfo:we,textColorGhostFocusInfo:Ae,textColorGhostDisabledInfo:Ee,borderInfo:`1px solid ${Ee}`,borderHoverInfo:`1px solid ${Ae}`,borderPressedInfo:`1px solid ${we}`,borderFocusInfo:`1px solid ${Ae}`,borderDisabledInfo:`1px solid ${Ee}`,rippleColorInfo:Ee,colorSuccess:Me,colorHoverSuccess:ke,colorPressedSuccess:Re,colorFocusSuccess:ke,colorDisabledSuccess:Me,textColorSuccess:_e,textColorHoverSuccess:_e,textColorPressedSuccess:_e,textColorFocusSuccess:_e,textColorDisabledSuccess:_e,textColorTextSuccess:Me,textColorTextHoverSuccess:ke,textColorTextPressedSuccess:Re,textColorTextFocusSuccess:ke,textColorTextDisabledSuccess:se,textColorGhostSuccess:Me,textColorGhostHoverSuccess:ke,textColorGhostPressedSuccess:Re,textColorGhostFocusSuccess:ke,textColorGhostDisabledSuccess:Me,borderSuccess:`1px solid ${Me}`,borderHoverSuccess:`1px solid ${ke}`,borderPressedSuccess:`1px solid ${Re}`,borderFocusSuccess:`1px solid ${ke}`,borderDisabledSuccess:`1px solid ${Me}`,rippleColorSuccess:Me,colorWarning:ze,colorHoverWarning:Je,colorPressedWarning:et,colorFocusWarning:Je,colorDisabledWarning:ze,textColorWarning:_e,textColorHoverWarning:_e,textColorPressedWarning:_e,textColorFocusWarning:_e,textColorDisabledWarning:_e,textColorTextWarning:ze,textColorTextHoverWarning:Je,textColorTextPressedWarning:et,textColorTextFocusWarning:Je,textColorTextDisabledWarning:se,textColorGhostWarning:ze,textColorGhostHoverWarning:Je,textColorGhostPressedWarning:et,textColorGhostFocusWarning:Je,textColorGhostDisabledWarning:ze,borderWarning:`1px solid ${ze}`,borderHoverWarning:`1px solid ${Je}`,borderPressedWarning:`1px solid ${et}`,borderFocusWarning:`1px solid ${Je}`,borderDisabledWarning:`1px solid ${ze}`,rippleColorWarning:ze,colorError:Pe,colorHoverError:ve,colorPressedError:le,colorFocusError:ve,colorDisabledError:Pe,textColorError:_e,textColorHoverError:_e,textColorPressedError:_e,textColorFocusError:_e,textColorDisabledError:_e,textColorTextError:Pe,textColorTextHoverError:ve,textColorTextPressedError:le,textColorTextFocusError:ve,textColorTextDisabledError:se,textColorGhostError:Pe,textColorGhostHoverError:ve,textColorGhostPressedError:le,textColorGhostFocusError:ve,textColorGhostDisabledError:Pe,borderError:`1px solid ${Pe}`,borderHoverError:`1px solid ${ve}`,borderPressedError:`1px solid ${le}`,borderFocusError:`1px solid ${ve}`,borderDisabledError:`1px solid ${Pe}`,rippleColorError:Pe,waveOpacity:"0.6",fontWeight:ae,fontWeightStrong:He})},buttonLight={name:"Button",common:commonLight,self:self$c},buttonLight$1=buttonLight,style$b=c$1([cB("button",`
 margin: 0;
 font-weight: var(--n-font-weight);
 line-height: 1;
 font-family: inherit;
 padding: var(--n-padding);
 height: var(--n-height);
 font-size: var(--n-font-size);
 border-radius: var(--n-border-radius);
 color: var(--n-text-color);
 background-color: var(--n-color);
 width: var(--n-width);
 white-space: nowrap;
 outline: none;
 position: relative;
 z-index: auto;
 border: none;
 display: inline-flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 align-items: center;
 justify-content: center;
 user-select: none;
 -webkit-user-select: none;
 text-align: center;
 cursor: pointer;
 text-decoration: none;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("color",[cE("border",{borderColor:"var(--n-border-color)"}),cM("disabled",[cE("border",{borderColor:"var(--n-border-color-disabled)"})]),cNotM("disabled",[c$1("&:focus",[cE("state-border",{borderColor:"var(--n-border-color-focus)"})]),c$1("&:hover",[cE("state-border",{borderColor:"var(--n-border-color-hover)"})]),c$1("&:active",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})]),cM("pressed",[cE("state-border",{borderColor:"var(--n-border-color-pressed)"})])])]),cM("disabled",{backgroundColor:"var(--n-color-disabled)",color:"var(--n-text-color-disabled)"},[cE("border",{border:"var(--n-border-disabled)"})]),cNotM("disabled",[c$1("&:focus",{backgroundColor:"var(--n-color-focus)",color:"var(--n-text-color-focus)"},[cE("state-border",{border:"var(--n-border-focus)"})]),c$1("&:hover",{backgroundColor:"var(--n-color-hover)",color:"var(--n-text-color-hover)"},[cE("state-border",{border:"var(--n-border-hover)"})]),c$1("&:active",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})]),cM("pressed",{backgroundColor:"var(--n-color-pressed)",color:"var(--n-text-color-pressed)"},[cE("state-border",{border:"var(--n-border-pressed)"})])]),cM("loading","cursor: wait;"),cB("base-wave",`
 pointer-events: none;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 animation-iteration-count: 1;
 animation-duration: var(--n-ripple-duration);
 animation-timing-function: var(--n-bezier-ease-out), var(--n-bezier-ease-out);
 `,[cM("active",{zIndex:1,animationName:"button-wave-spread, button-wave-opacity"})]),isBrowser$2&&"MozBoxSizing"in document.createElement("div").style?c$1("&::moz-focus-inner",{border:0}):null,cE("border, state-border",`
 position: absolute;
 left: 0;
 top: 0;
 right: 0;
 bottom: 0;
 border-radius: inherit;
 transition: border-color .3s var(--n-bezier);
 pointer-events: none;
 `),cE("border",{border:"var(--n-border)"}),cE("state-border",{border:"var(--n-border)",borderColor:"#0000",zIndex:1}),cE("icon",`
 margin: var(--n-icon-margin);
 margin-left: 0;
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 max-width: var(--n-icon-size);
 font-size: var(--n-icon-size);
 position: relative;
 flex-shrink: 0;
 `,[cB("icon-slot",`
 height: var(--n-icon-size);
 width: var(--n-icon-size);
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `,[iconSwitchTransition({top:"50%",originalTransform:"translateY(-50%)"})]),fadeInWidthExpandTransition()]),cE("content",`
 display: flex;
 align-items: center;
 flex-wrap: nowrap;
 min-width: 0;
 `,[c$1("~",[cE("icon",{margin:"var(--n-icon-margin)",marginRight:0})])]),cM("block",`
 display: flex;
 width: 100%;
 `),cM("dashed",[cE("border, state-border",{borderStyle:"dashed !important"})]),cM("disabled",{cursor:"not-allowed",opacity:"var(--n-opacity-disabled)"})]),c$1("@keyframes button-wave-spread",{from:{boxShadow:"0 0 0.5px 0 var(--n-ripple-color)"},to:{boxShadow:"0 0 0.5px 4.5px var(--n-ripple-color)"}}),c$1("@keyframes button-wave-opacity",{from:{opacity:"var(--n-wave-opacity)"},to:{opacity:0}})]),buttonProps=Object.assign(Object.assign({},useTheme.props),{color:String,textColor:String,text:Boolean,block:Boolean,loading:Boolean,disabled:Boolean,circle:Boolean,size:String,ghost:Boolean,round:Boolean,secondary:Boolean,tertiary:Boolean,quaternary:Boolean,strong:Boolean,focusable:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},tag:{type:String,default:"button"},type:{type:String,default:"default"},dashed:Boolean,iconPlacement:{type:String,default:"left"},attrType:{type:String,default:"button"},bordered:{type:Boolean,default:!0},onClick:[Function,Array],nativeFocusBehavior:{type:Boolean,default:!isSafari}}),Button$1=defineComponent({name:"Button",props:buttonProps,setup(u){const a=ref(null),d=ref(null),m=ref(!1),$=useMemo(()=>!u.quaternary&&!u.tertiary&&!u.secondary&&!u.text&&(!u.color||u.ghost||u.dashed)&&u.bordered),ee=inject(buttonGroupInjectionKey,{}),{mergedSizeRef:te}=useFormItem({},{defaultSize:"medium",mergedSize:we=>{const{size:Me}=u;if(Me)return Me;const{size:ke}=ee;if(ke)return ke;const{mergedSize:Re}=we||{};return Re?Re.value:"medium"}}),b=computed(()=>u.focusable&&!u.disabled),re=we=>{var Me;b.value||we.preventDefault(),!u.nativeFocusBehavior&&(we.preventDefault(),!u.disabled&&b.value&&((Me=a.value)===null||Me===void 0||Me.focus({preventScroll:!0})))},ne=we=>{var Me;if(!u.disabled&&!u.loading){const{onClick:ke}=u;ke&&call(ke,we),u.text||(Me=d.value)===null||Me===void 0||Me.play()}},ie=we=>{switch(we.key){case"Enter":if(!u.keyboard)return;m.value=!1}},se=we=>{switch(we.key){case"Enter":if(!u.keyboard||u.loading){we.preventDefault();return}m.value=!0}},fe=()=>{m.value=!1},{inlineThemeDisabled:ce,mergedClsPrefixRef:de,mergedRtlRef:ye}=useConfig(u),ge=useTheme("Button","-button",style$b,buttonLight$1,u,de),_e=useRtl("Button",ye,de),Ee=computed(()=>{const we=ge.value,{common:{cubicBezierEaseInOut:Me,cubicBezierEaseOut:ke},self:Re}=we,{rippleDuration:ze,opacityDisabled:Je,fontWeight:et,fontWeightStrong:Pe}=Re,ve=te.value,{dashed:le,type:ae,ghost:he,text:xe,color:$e,round:He,circle:Fe,textColor:Ne,secondary:De,tertiary:pe,quaternary:Le,strong:Be}=u,Ce={"font-weight":Be?Pe:et};let Ze={"--n-color":"initial","--n-color-hover":"initial","--n-color-pressed":"initial","--n-color-focus":"initial","--n-color-disabled":"initial","--n-ripple-color":"initial","--n-text-color":"initial","--n-text-color-hover":"initial","--n-text-color-pressed":"initial","--n-text-color-focus":"initial","--n-text-color-disabled":"initial"};const it=ae==="tertiary",rt=ae==="default",Oe=it?"default":ae;if(xe){const $t=Ne||$e,It=$t||Re[createKey("textColorText",Oe)];Ze={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":"#0000","--n-text-color":It,"--n-text-color-hover":$t?createHoverColor($t):Re[createKey("textColorTextHover",Oe)],"--n-text-color-pressed":$t?createPressedColor($t):Re[createKey("textColorTextPressed",Oe)],"--n-text-color-focus":$t?createHoverColor($t):Re[createKey("textColorTextHover",Oe)],"--n-text-color-disabled":$t||Re[createKey("textColorTextDisabled",Oe)]}}else if(he||le){const $t=Ne||$e;Ze={"--n-color":"#0000","--n-color-hover":"#0000","--n-color-pressed":"#0000","--n-color-focus":"#0000","--n-color-disabled":"#0000","--n-ripple-color":$e||Re[createKey("rippleColor",Oe)],"--n-text-color":$t||Re[createKey("textColorGhost",Oe)],"--n-text-color-hover":$t?createHoverColor($t):Re[createKey("textColorGhostHover",Oe)],"--n-text-color-pressed":$t?createPressedColor($t):Re[createKey("textColorGhostPressed",Oe)],"--n-text-color-focus":$t?createHoverColor($t):Re[createKey("textColorGhostHover",Oe)],"--n-text-color-disabled":$t||Re[createKey("textColorGhostDisabled",Oe)]}}else if(De){const $t=rt?Re.textColor:it?Re.textColorTertiary:Re[createKey("color",Oe)],It=$e||$t,Et=ae!=="default"&&ae!=="tertiary";Ze={"--n-color":Et?changeColor(It,{alpha:Number(Re.colorOpacitySecondary)}):Re.colorSecondary,"--n-color-hover":Et?changeColor(It,{alpha:Number(Re.colorOpacitySecondaryHover)}):Re.colorSecondaryHover,"--n-color-pressed":Et?changeColor(It,{alpha:Number(Re.colorOpacitySecondaryPressed)}):Re.colorSecondaryPressed,"--n-color-focus":Et?changeColor(It,{alpha:Number(Re.colorOpacitySecondaryHover)}):Re.colorSecondaryHover,"--n-color-disabled":Re.colorSecondary,"--n-ripple-color":"#0000","--n-text-color":It,"--n-text-color-hover":It,"--n-text-color-pressed":It,"--n-text-color-focus":It,"--n-text-color-disabled":It}}else if(pe||Le){const $t=rt?Re.textColor:it?Re.textColorTertiary:Re[createKey("color",Oe)],It=$e||$t;pe?(Ze["--n-color"]=Re.colorTertiary,Ze["--n-color-hover"]=Re.colorTertiaryHover,Ze["--n-color-pressed"]=Re.colorTertiaryPressed,Ze["--n-color-focus"]=Re.colorSecondaryHover,Ze["--n-color-disabled"]=Re.colorTertiary):(Ze["--n-color"]=Re.colorQuaternary,Ze["--n-color-hover"]=Re.colorQuaternaryHover,Ze["--n-color-pressed"]=Re.colorQuaternaryPressed,Ze["--n-color-focus"]=Re.colorQuaternaryHover,Ze["--n-color-disabled"]=Re.colorQuaternary),Ze["--n-ripple-color"]="#0000",Ze["--n-text-color"]=It,Ze["--n-text-color-hover"]=It,Ze["--n-text-color-pressed"]=It,Ze["--n-text-color-focus"]=It,Ze["--n-text-color-disabled"]=It}else Ze={"--n-color":$e||Re[createKey("color",Oe)],"--n-color-hover":$e?createHoverColor($e):Re[createKey("colorHover",Oe)],"--n-color-pressed":$e?createPressedColor($e):Re[createKey("colorPressed",Oe)],"--n-color-focus":$e?createHoverColor($e):Re[createKey("colorFocus",Oe)],"--n-color-disabled":$e||Re[createKey("colorDisabled",Oe)],"--n-ripple-color":$e||Re[createKey("rippleColor",Oe)],"--n-text-color":Ne||($e?Re.textColorPrimary:it?Re.textColorTertiary:Re[createKey("textColor",Oe)]),"--n-text-color-hover":Ne||($e?Re.textColorHoverPrimary:Re[createKey("textColorHover",Oe)]),"--n-text-color-pressed":Ne||($e?Re.textColorPressedPrimary:Re[createKey("textColorPressed",Oe)]),"--n-text-color-focus":Ne||($e?Re.textColorFocusPrimary:Re[createKey("textColorFocus",Oe)]),"--n-text-color-disabled":Ne||($e?Re.textColorDisabledPrimary:Re[createKey("textColorDisabled",Oe)])};let Ve={"--n-border":"initial","--n-border-hover":"initial","--n-border-pressed":"initial","--n-border-focus":"initial","--n-border-disabled":"initial"};xe?Ve={"--n-border":"none","--n-border-hover":"none","--n-border-pressed":"none","--n-border-focus":"none","--n-border-disabled":"none"}:Ve={"--n-border":Re[createKey("border",Oe)],"--n-border-hover":Re[createKey("borderHover",Oe)],"--n-border-pressed":Re[createKey("borderPressed",Oe)],"--n-border-focus":Re[createKey("borderFocus",Oe)],"--n-border-disabled":Re[createKey("borderDisabled",Oe)]};const{[createKey("height",ve)]:We,[createKey("fontSize",ve)]:qe,[createKey("padding",ve)]:Ge,[createKey("paddingRound",ve)]:Qe,[createKey("iconSize",ve)]:ct,[createKey("borderRadius",ve)]:ft,[createKey("iconMargin",ve)]:bt,waveOpacity:St}=Re,xt={"--n-width":Fe&&!xe?We:"initial","--n-height":xe?"initial":We,"--n-font-size":qe,"--n-padding":Fe||xe?"initial":He?Qe:Ge,"--n-icon-size":ct,"--n-icon-margin":bt,"--n-border-radius":xe?"initial":Fe||He?We:ft};return Object.assign(Object.assign(Object.assign(Object.assign({"--n-bezier":Me,"--n-bezier-ease-out":ke,"--n-ripple-duration":ze,"--n-opacity-disabled":Je,"--n-wave-opacity":St},Ce),Ze),Ve),xt)}),Ae=ce?useThemeClass("button",computed(()=>{let we="";const{dashed:Me,type:ke,ghost:Re,text:ze,color:Je,round:et,circle:Pe,textColor:ve,secondary:le,tertiary:ae,quaternary:he,strong:xe}=u;Me&&(we+="a"),Re&&(we+="b"),ze&&(we+="c"),et&&(we+="d"),Pe&&(we+="e"),le&&(we+="f"),ae&&(we+="g"),he&&(we+="h"),xe&&(we+="i"),Je&&(we+="j"+color2Class(Je)),ve&&(we+="k"+color2Class(ve));const{value:$e}=te;return we+="l"+$e[0],we+="m"+ke[0],we}),Ee,u):void 0;return{selfElRef:a,waveElRef:d,mergedClsPrefix:de,mergedFocusable:b,mergedSize:te,showBorder:$,enterPressed:m,rtlEnabled:_e,handleMousedown:re,handleKeydown:se,handleBlur:fe,handleKeyup:ie,handleClick:ne,customColorCssVars:computed(()=>{const{color:we}=u;if(!we)return null;const Me=createHoverColor(we);return{"--n-border-color":we,"--n-border-color-hover":Me,"--n-border-color-pressed":createPressedColor(we),"--n-border-color-focus":Me,"--n-border-color-disabled":we}}),cssVars:ce?void 0:Ee,themeClass:Ae?.themeClass,onRender:Ae?.onRender}},render(){const{mergedClsPrefix:u,tag:a,onRender:d}=this;d?.();const m=resolveWrappedSlot(this.$slots.default,$=>$&&h("span",{class:`${u}-button__content`},$));return h(a,{ref:"selfElRef",class:[this.themeClass,`${u}-button`,`${u}-button--${this.type}-type`,`${u}-button--${this.mergedSize}-type`,this.rtlEnabled&&`${u}-button--rtl`,this.disabled&&`${u}-button--disabled`,this.block&&`${u}-button--block`,this.enterPressed&&`${u}-button--pressed`,!this.text&&this.dashed&&`${u}-button--dashed`,this.color&&`${u}-button--color`,this.secondary&&`${u}-button--secondary`,this.loading&&`${u}-button--loading`,this.ghost&&`${u}-button--ghost`],tabindex:this.mergedFocusable?0:-1,type:this.attrType,style:this.cssVars,disabled:this.disabled,onClick:this.handleClick,onBlur:this.handleBlur,onMousedown:this.handleMousedown,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},this.iconPlacement==="right"&&m,h(NFadeInExpandTransition,{width:!0},{default:()=>resolveWrappedSlot(this.$slots.icon,$=>(this.loading||$)&&h("span",{class:`${u}-button__icon`,style:{margin:isSlotEmpty(this.$slots.default)?"0":""}},h(NIconSwitchTransition,null,{default:()=>this.loading?h(NBaseLoading,{clsPrefix:u,key:"loading",class:`${u}-icon-slot`,strokeWidth:20}):h("div",{key:"icon",class:`${u}-icon-slot`,role:"none"},$)})))}),this.iconPlacement==="left"&&m,this.text?null:h(NBaseWave,{ref:"waveElRef",clsPrefix:u}),this.showBorder?h("div",{"aria-hidden":!0,class:`${u}-button__border`,style:this.customColorCssVars}):null,this.showBorder?h("div",{"aria-hidden":!0,class:`${u}-button__state-border`,style:this.customColorCssVars}):null)}}),NButton=Button$1,commonVariables$2={paddingSmall:"12px 16px 12px",paddingMedium:"19px 24px 20px",paddingLarge:"23px 32px 24px",paddingHuge:"27px 40px 28px",titleFontSizeSmall:"16px",titleFontSizeMedium:"18px",titleFontSizeLarge:"18px",titleFontSizeHuge:"18px",closeIconSize:"18px",closeSize:"22px"},self$b=u=>{const{primaryColor:a,borderRadius:d,lineHeight:m,fontSize:$,cardColor:ee,textColor2:te,textColor1:b,dividerColor:re,fontWeightStrong:ne,closeIconColor:ie,closeIconColorHover:se,closeIconColorPressed:fe,closeColorHover:ce,closeColorPressed:de,modalColor:ye,boxShadow1:ge,popoverColor:_e,actionColor:Ee}=u;return Object.assign(Object.assign({},commonVariables$2),{lineHeight:m,color:ee,colorModal:ye,colorPopover:_e,colorTarget:a,colorEmbedded:Ee,textColor:te,titleTextColor:b,borderColor:re,actionColor:Ee,titleFontWeight:ne,closeColorHover:ce,closeColorPressed:de,closeBorderRadius:d,closeIconColor:ie,closeIconColorHover:se,closeIconColorPressed:fe,fontSizeSmall:$,fontSizeMedium:$,fontSizeLarge:$,fontSizeHuge:$,boxShadow:ge,borderRadius:d})},cardLight={name:"Card",common:commonLight,self:self$b},cardLight$1=cardLight,style$a=c$1([cB("card",`
 font-size: var(--n-font-size);
 line-height: var(--n-line-height);
 display: flex;
 flex-direction: column;
 width: 100%;
 box-sizing: border-box;
 position: relative;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 color: var(--n-text-color);
 word-break: break-word;
 transition: 
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("hoverable",[c$1("&:hover","box-shadow: var(--n-box-shadow);")]),cM("content-segmented",[c$1(">",[cE("content",{paddingTop:"var(--n-padding-bottom)"})])]),cM("content-soft-segmented",[c$1(">",[cE("content",`
 margin: 0 var(--n-padding-left);
 padding: var(--n-padding-bottom) 0;
 `)])]),cM("footer-segmented",[c$1(">",[cE("footer",{paddingTop:"var(--n-padding-bottom)"})])]),cM("footer-soft-segmented",[c$1(">",[cE("footer",`
 padding: var(--n-padding-bottom) 0;
 margin: 0 var(--n-padding-left);
 `)])]),c$1(">",[cB("card-header",`
 box-sizing: border-box;
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 padding:
 var(--n-padding-top)
 var(--n-padding-left)
 var(--n-padding-bottom)
 var(--n-padding-left);
 `,[cE("main",`
 font-weight: var(--n-title-font-weight);
 transition: color .3s var(--n-bezier);
 flex: 1;
 color: var(--n-title-text-color);
 `),cE("extra",`
 display: flex;
 align-items: center;
 font-size: var(--n-font-size);
 font-weight: 400;
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 `),cE("close",`
 margin: 0 0 0 8px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),cE("action",`
 box-sizing: border-box;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 background-clip: padding-box;
 background-color: var(--n-action-color);
 `),cE("content","flex: 1;"),cE("content, footer",`
 box-sizing: border-box;
 padding: 0 var(--n-padding-left) var(--n-padding-bottom) var(--n-padding-left);
 font-size: var(--n-font-size);
 `,[c$1("&:first-child",{paddingTop:"var(--n-padding-bottom)"})]),cE("action",`
 background-color: var(--n-action-color);
 padding: var(--n-padding-bottom) var(--n-padding-left);
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `)]),cB("card-cover",`
 overflow: hidden;
 width: 100%;
 border-radius: var(--n-border-radius) var(--n-border-radius) 0 0;
 `,[c$1("img",`
 display: block;
 width: 100%;
 `)]),cM("bordered",`
 border: 1px solid var(--n-border-color);
 `,[c$1("&:target","border-color: var(--n-color-target);")]),cM("action-segmented",[c$1(">",[cE("action",[c$1("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("content-segmented, content-soft-segmented",[c$1(">",[cE("content",{transition:"border-color 0.3s var(--n-bezier)"},[c$1("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])]),cM("footer-segmented, footer-soft-segmented",[c$1(">",[cE("footer",{transition:"border-color 0.3s var(--n-bezier)"},[c$1("&:not(:first-child)",{borderTop:"1px solid var(--n-border-color)"})])])])]),insideModal(cB("card",{background:"var(--n-color-modal)"})),insidePopover(cB("card",{background:"var(--n-color-popover)"})),cB("card",[asModal({background:"var(--n-color-modal)"})])]),cardBaseProps={title:String,contentStyle:[Object,String],headerStyle:[Object,String],headerExtraStyle:[Object,String],footerStyle:[Object,String],embedded:Boolean,segmented:{type:[Boolean,Object],default:!1},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},hoverable:Boolean,role:String,onClose:[Function,Array]},cardBasePropKeys=keysOf(cardBaseProps),cardProps=Object.assign(Object.assign({},useTheme.props),cardBaseProps),NCard=defineComponent({name:"Card",props:cardProps,setup(u){const a=()=>{const{onClose:ne}=u;ne&&call(ne)},{inlineThemeDisabled:d,mergedClsPrefixRef:m,mergedRtlRef:$}=useConfig(u),ee=useTheme("Card","-card",style$a,cardLight$1,u,m),te=useRtl("Card",$,m),b=computed(()=>{const{size:ne}=u,{self:{color:ie,colorModal:se,colorTarget:fe,textColor:ce,titleTextColor:de,titleFontWeight:ye,borderColor:ge,actionColor:_e,borderRadius:Ee,lineHeight:Ae,closeIconColor:we,closeIconColorHover:Me,closeIconColorPressed:ke,closeColorHover:Re,closeColorPressed:ze,closeBorderRadius:Je,closeIconSize:et,closeSize:Pe,boxShadow:ve,colorPopover:le,colorEmbedded:ae,[createKey("padding",ne)]:he,[createKey("fontSize",ne)]:xe,[createKey("titleFontSize",ne)]:$e},common:{cubicBezierEaseInOut:He}}=ee.value,{top:Fe,left:Ne,bottom:De}=getMargin(he);return{"--n-bezier":He,"--n-border-radius":Ee,"--n-color":u.embedded?ae:ie,"--n-color-modal":se,"--n-color-popover":le,"--n-color-target":fe,"--n-text-color":ce,"--n-line-height":Ae,"--n-action-color":_e,"--n-title-text-color":de,"--n-title-font-weight":ye,"--n-close-icon-color":we,"--n-close-icon-color-hover":Me,"--n-close-icon-color-pressed":ke,"--n-close-color-hover":Re,"--n-close-color-pressed":ze,"--n-border-color":ge,"--n-box-shadow":ve,"--n-padding-top":Fe,"--n-padding-bottom":De,"--n-padding-left":Ne,"--n-font-size":xe,"--n-title-font-size":$e,"--n-close-size":Pe,"--n-close-icon-size":et,"--n-close-border-radius":Je}}),re=d?useThemeClass("card",computed(()=>u.size[0]),b,u):void 0;return{rtlEnabled:te,mergedClsPrefix:m,mergedTheme:ee,handleCloseClick:a,cssVars:d?void 0:b,themeClass:re?.themeClass,onRender:re?.onRender}},render(){const{segmented:u,bordered:a,hoverable:d,mergedClsPrefix:m,rtlEnabled:$,onRender:ee,$slots:te}=this;return ee?.(),h("div",{class:[`${m}-card`,this.themeClass,{[`${m}-card--rtl`]:$,[`${m}-card--content${typeof u!="boolean"&&u.content==="soft"?"-soft":""}-segmented`]:u===!0||u!==!1&&u.content,[`${m}-card--footer${typeof u!="boolean"&&u.footer==="soft"?"-soft":""}-segmented`]:u===!0||u!==!1&&u.footer,[`${m}-card--action-segmented`]:u===!0||u!==!1&&u.action,[`${m}-card--bordered`]:a,[`${m}-card--hoverable`]:d}],style:this.cssVars,role:this.role},resolveWrappedSlot(te.cover,b=>b&&h("div",{class:`${m}-card-cover`,role:"none"},b)),resolveWrappedSlot(te.header,b=>b||this.title||this.closable?h("div",{class:`${m}-card-header`,style:this.headerStyle},h("div",{class:`${m}-card-header__main`,role:"heading"},b||[this.title]),resolveWrappedSlot(te["header-extra"],re=>re&&h("div",{class:`${m}-card-header__extra`,style:this.headerExtraStyle},re)),this.closable?h(NBaseClose,{clsPrefix:m,class:`${m}-card-header__close`,onClick:this.handleCloseClick,absolute:!0}):null):null),resolveWrappedSlot(te.default,b=>b&&h("div",{class:`${m}-card__content`,style:this.contentStyle,role:"none"},b)),resolveWrappedSlot(te.footer,b=>b&&[h("div",{class:`${m}-card__footer`,style:this.footerStyle,role:"none"},b)]),resolveWrappedSlot(te.action,b=>b&&h("div",{class:`${m}-card__action`,role:"none"},b)))}}),self$a=u=>({dotSize:"8px",dotColor:"rgba(255, 255, 255, .3)",dotColorActive:"rgba(255, 255, 255, 1)",dotColorFocus:"rgba(255, 255, 255, .5)",dotLineWidth:"16px",dotLineWidthActive:"24px",arrowColor:"#eee"}),carouselLight={name:"Carousel",common:commonLight,self:self$a},carouselLight$1=carouselLight;function addDuplicateSlides(u){const{length:a}=u;return a>1&&(u.push(duplicateSlide(u[0],0,"append")),u.unshift(duplicateSlide(u[a-1],a-1,"prepend"))),u}function duplicateSlide(u,a,d){return cloneVNode(u,{key:`carousel-item-duplicate-${a}-${d}`})}function getDisplayIndex(u,a,d){return d?u===0?a-3:u===a-1?0:u-1:u}function getRealIndex(u,a){return a?u+1:u}function getPrevIndex(u,a,d){return u<0?null:u===0?d?a-1:null:u-1}function getNextIndex(u,a,d){return u>a-1?null:u===a-1?d?0:null:u+1}function getDisplayTotalView(u,a){return a&&u>3?u-2:u}function isTouchEvent(u){return window.TouchEvent&&u instanceof window.TouchEvent}function calculateSize(u,a){let{width:d,height:m}=u.getBoundingClientRect();if(a){const $=getComputedStyle(u);d=d-parseFloat($.getPropertyValue("padding-left"))-parseFloat($.getPropertyValue("padding-right")),m=m-parseFloat($.getPropertyValue("padding-top"))-parseFloat($.getPropertyValue("padding-bottom"))}return{width:d,height:m}}function clampValue(u,a,d){return u<a?a:u>d?d:u}function resolveSpeed(u){if(u===void 0)return 0;if(typeof u=="number")return u;const a=/^((\d+)?\.?\d+?)(ms|s)?$/,d=u.match(a);if(d){const[,m,,$="ms"]=d;return Number(m)*($==="ms"?1:1e3)}return 0}const carouselMethodsInjectionKey="n-carousel-methods",provideCarouselContext=u=>provide(carouselMethodsInjectionKey,u),useCarouselContext=(u="unknown",a="component")=>{const d=inject(carouselMethodsInjectionKey);return d||throwError(u,`\`${a}\` must be placed inside \`n-carousel\`.`),d},carouselDotsProps={total:{type:Number,default:0},currentIndex:{type:Number,default:0},dotType:{type:String,default:"dot"},trigger:{type:String,default:"click"},keyboard:Boolean},NCarouselDots=defineComponent({name:"CarouselDots",props:carouselDotsProps,setup(u){const{mergedClsPrefixRef:a}=useConfig(u),d=ref([]),m=useCarouselContext();function $(ne,ie){switch(ne.key){case"Enter":case" ":ne.preventDefault(),m.to(ie);return}u.keyboard&&b(ne)}function ee(ne){u.trigger==="hover"&&m.to(ne)}function te(ne){u.trigger==="click"&&m.to(ne)}function b(ne){var ie;if(ne.shiftKey||ne.altKey||ne.ctrlKey||ne.metaKey)return;const se=(ie=document.activeElement)===null||ie===void 0?void 0:ie.nodeName.toLowerCase();if(se==="input"||se==="textarea")return;const{code:fe}=ne,ce=fe==="PageUp"||fe==="ArrowUp",de=fe==="PageDown"||fe==="ArrowDown",ye=fe==="PageUp"||fe==="ArrowRight",ge=fe==="PageDown"||fe==="ArrowLeft",_e=m.isVertical(),Ee=_e?ce:ye,Ae=_e?de:ge;!Ee&&!Ae||(ne.preventDefault(),Ee&&!m.isNextDisabled()?(m.next(),re(m.currentIndexRef.value)):Ae&&!m.isPrevDisabled()&&(m.prev(),re(m.currentIndexRef.value)))}function re(ne){var ie;(ie=d.value[ne])===null||ie===void 0||ie.focus()}return onBeforeUpdate(()=>d.value.length=0),{mergedClsPrefix:a,dotEls:d,handleKeydown:$,handleMouseenter:ee,handleClick:te}},render(){const{mergedClsPrefix:u,dotEls:a}=this;return h("div",{class:[`${u}-carousel__dots`,`${u}-carousel__dots--${this.dotType}`],role:"tablist"},indexMap(this.total,d=>{const m=d===this.currentIndex;return h("div",{"aria-selected":m,ref:$=>a.push($),role:"button",tabindex:"0",class:[`${u}-carousel__dot`,m&&`${u}-carousel__dot--active`],key:d,onClick:()=>this.handleClick(d),onMouseenter:()=>this.handleMouseenter(d),onKeydown:$=>this.handleKeydown($,d)})}))}}),backwardIcon=h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M10.26 3.2a.75.75 0 0 1 .04 1.06L6.773 8l3.527 3.74a.75.75 0 1 1-1.1 1.02l-4-4.25a.75.75 0 0 1 0-1.02l4-4.25a.75.75 0 0 1 1.06-.04z",fill:"currentColor"}))),forwardIcon=h("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},h("g",{fill:"none"},h("path",{d:"M5.74 3.2a.75.75 0 0 0-.04 1.06L9.227 8L5.7 11.74a.75.75 0 1 0 1.1 1.02l4-4.25a.75.75 0 0 0 0-1.02l-4-4.25a.75.75 0 0 0-1.06-.04z",fill:"currentColor"}))),NCarouselArrow=defineComponent({name:"CarouselArrow",setup(u){const{mergedClsPrefixRef:a}=useConfig(u),{isVertical:d,isPrevDisabled:m,isNextDisabled:$,prev:ee,next:te}=useCarouselContext();return{mergedClsPrefix:a,isVertical:d,isPrevDisabled:m,isNextDisabled:$,prev:ee,next:te}},render(){const{mergedClsPrefix:u}=this;return h("div",{class:`${u}-carousel__arrow-group`},h("div",{class:[`${u}-carousel__arrow`,this.isPrevDisabled()&&`${u}-carousel__arrow--disabled`],role:"button",onClick:this.prev},backwardIcon),h("div",{class:[`${u}-carousel__arrow`,this.isNextDisabled()&&`${u}-carousel__arrow--disabled`],role:"button",onClick:this.next},forwardIcon))}}),CarouselItemName="CarouselItem",isCarouselItem=u=>{var a;return((a=u.type)===null||a===void 0?void 0:a.name)===CarouselItemName},NCarouselItem=defineComponent({name:CarouselItemName,setup(u){const{mergedClsPrefixRef:a}=useConfig(u),d=useCarouselContext(camelCase$2(CarouselItemName),`n-${camelCase$2(CarouselItemName)}`),m=ref(),$=computed(()=>{const{value:ie}=m;return ie?d.getSlideIndex(ie):-1}),ee=computed(()=>d.isPrev($.value)),te=computed(()=>d.isNext($.value)),b=computed(()=>d.isActive($.value)),re=computed(()=>d.getSlideStyle($.value));onMounted(()=>d.addSlide(m.value)),onBeforeUnmount(()=>{d.removeSlide(m.value)});function ne(ie){const{value:se}=$;se!==void 0&&d?.onCarouselItemClick(se,ie)}return{mergedClsPrefix:a,selfElRef:m,isPrev:ee,isNext:te,isActive:b,index:$,style:re,handleClick:ne}},render(){var u;const{$slots:a,mergedClsPrefix:d,isPrev:m,isNext:$,isActive:ee,index:te,style:b}=this,re=[`${d}-carousel__slide`,{[`${d}-carousel__slide--current`]:ee,[`${d}-carousel__slide--prev`]:m,[`${d}-carousel__slide--next`]:$}];return h("div",{ref:"selfElRef",class:re,role:"option",tabindex:"-1","data-index":te,"aria-hidden":!ee,style:b,onClickCapture:this.handleClick},(u=a.default)===null||u===void 0?void 0:u.call(a,{isPrev:m,isNext:$,isActive:ee,index:te}))}}),style$9=cB("carousel",`
 position: relative;
 width: 100%;
 height: 100%;
 touch-action: pan-y;
 overflow: hidden;
`,[cE("slides",`
 display: flex;
 width: 100%;
 height: 100%;
 transition-timing-function: var(--n-bezier);
 transition-property: transform;
 `,[cE("slide",`
 flex-shrink: 0;
 position: relative;
 width: 100%;
 height: 100%;
 outline: none;
 overflow: hidden;
 `,[c$1("> img",`
 display: block;
 `)])]),cE("dots",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `,[cM("dot",[cE("dot",`
 height: var(--n-dot-size);
 width: var(--n-dot-size);
 background-color: var(--n-dot-color);
 border-radius: 50%;
 cursor: pointer;
 transition:
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[c$1("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),cM("active",`
 background-color: var(--n-dot-color-active);
 `)])]),cM("line",[cE("dot",`
 border-radius: 9999px;
 width: var(--n-dot-line-width);
 height: 4px;
 background-color: var(--n-dot-color);
 cursor: pointer;
 transition:
 width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[c$1("&:focus",`
 background-color: var(--n-dot-color-focus);
 `),cM("active",`
 width: var(--n-dot-line-width-active);
 background-color: var(--n-dot-color-active);
 `)])])]),cE("arrow",`
 transition: background-color .3s var(--n-bezier);
 cursor: pointer;
 height: 28px;
 width: 28px;
 display: flex;
 align-items: center;
 justify-content: center;
 background-color: rgba(255, 255, 255, .2);
 color: var(--n-arrow-color);
 border-radius: 8px;
 user-select: none;
 -webkit-user-select: none;
 font-size: 18px;
 `,[c$1("svg",`
 height: 1em;
 width: 1em;
 `),c$1("&:hover",`
 background-color: rgba(255, 255, 255, .3);
 `)]),cM("vertical",`
 touch-action: pan-x;
 `,[cE("slides",`
 flex-direction: column;
 `),cM("fade",[cE("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%);
 `)]),cM("card",[cE("slide",`
 top: 50%;
 left: unset;
 transform: translateY(-50%) translateZ(-400px);
 `,[cM("current",`
 transform: translateY(-50%) translateZ(0);
 `),cM("prev",`
 transform: translateY(-100%) translateZ(-200px);
 `),cM("next",`
 transform: translateY(0%) translateZ(-200px);
 `)])])]),cM("usercontrol",[cE("slides",[c$1(">",[c$1("div",`
 position: absolute;
 top: 50%;
 left: 50%;
 width: 100%;
 height: 100%;
 transform: translate(-50%, -50%);
 `)])])]),cM("left",[cE("dots",`
 transform: translateY(-50%);
 top: 50%;
 left: 12px;
 flex-direction: column;
 `,[cM("line",[cE("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[cM("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),cE("dot",`
 margin: 4px 0;
 `)]),cE("arrow-group",`
 position: absolute;
 display: flex;
 flex-wrap: nowrap;
 `),cM("vertical",[cE("arrow",`
 transform: rotate(90deg);
 `)]),cM("show-arrow",[cM("bottom",[cE("dots",`
 transform: translateX(0);
 bottom: 18px;
 left: 18px;
 `)]),cM("top",[cE("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),cM("left",[cE("dots",`
 transform: translateX(0);
 top: 18px;
 left: 18px;
 `)]),cM("right",[cE("dots",`
 transform: translateX(0);
 top: 18px;
 right: 18px;
 `)])]),cM("left",[cE("arrow-group",`
 bottom: 12px;
 left: 12px;
 flex-direction: column;
 `,[c$1("> *:first-child",`
 margin-bottom: 12px;
 `)])]),cM("right",[cE("dots",`
 transform: translateY(-50%);
 top: 50%;
 right: 12px;
 flex-direction: column;
 `,[cM("line",[cE("dot",`
 width: 4px;
 height: var(--n-dot-line-width);
 margin: 4px 0;
 transition:
 height .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 outline: none;
 `,[cM("active",`
 height: var(--n-dot-line-width-active);
 `)])])]),cE("dot",`
 margin: 4px 0;
 `),cE("arrow-group",`
 bottom: 12px;
 right: 12px;
 flex-direction: column;
 `,[c$1("> *:first-child",`
 margin-bottom: 12px;
 `)])]),cM("top",[cE("dots",`
 transform: translateX(-50%);
 top: 12px;
 left: 50%;
 `,[cM("line",[cE("dot",`
 margin: 0 4px;
 `)])]),cE("dot",`
 margin: 0 4px;
 `),cE("arrow-group",`
 top: 12px;
 right: 12px;
 `,[c$1("> *:first-child",`
 margin-right: 12px;
 `)])]),cM("bottom",[cE("dots",`
 transform: translateX(-50%);
 bottom: 12px;
 left: 50%;
 `,[cM("line",[cE("dot",`
 margin: 0 4px;
 `)])]),cE("dot",`
 margin: 0 4px;
 `),cE("arrow-group",`
 bottom: 12px;
 right: 12px;
 `,[c$1("> *:first-child",`
 margin-right: 12px;
 `)])]),cM("fade",[cE("slide",`
 position: absolute;
 opacity: 0;
 transition-property: opacity;
 pointer-events: none;
 `,[cM("current",`
 opacity: 1;
 pointer-events: auto;
 `)])]),cM("card",[cE("slides",`
 perspective: 1000px;
 `),cE("slide",`
 position: absolute;
 left: 50%;
 opacity: 0;
 transform: translateX(-50%) translateZ(-400px);
 transition-property: opacity, transform;
 `,[cM("current",`
 opacity: 1;
 transform: translateX(-50%) translateZ(0);
 z-index: 1;
 `),cM("prev",`
 opacity: 0.4;
 transform: translateX(-100%) translateZ(-200px);
 `),cM("next",`
 opacity: 0.4;
 transform: translateX(0%) translateZ(-200px);
 `)])])]),transitionProperties=["transitionDuration","transitionTimingFunction"],carouselProps=Object.assign(Object.assign({},useTheme.props),{defaultIndex:{type:Number,default:0},currentIndex:Number,showArrow:Boolean,dotType:{type:String,default:"dot"},dotPlacement:{type:String,default:"bottom"},slidesPerView:{type:[Number,String],default:1},spaceBetween:{type:Number,default:0},centeredSlides:Boolean,direction:{type:String,default:"horizontal"},autoplay:Boolean,interval:{type:Number,default:5e3},loop:{type:Boolean,default:!0},effect:{type:String,default:"slide"},showDots:{type:Boolean,default:!0},trigger:{type:String,default:"click"},transitionStyle:{type:Object,default:()=>({transitionDuration:"300ms"})},transitionProps:Object,draggable:Boolean,prevSlideStyle:[Object,String],nextSlideStyle:[Object,String],touchable:{type:Boolean,default:!0},mousewheel:Boolean,keyboard:Boolean,"onUpdate:currentIndex":Function,onUpdateCurrentIndex:Function});let globalDragging=!1;const NCarousel=defineComponent({name:"Carousel",props:carouselProps,setup(u){const{mergedClsPrefixRef:a,inlineThemeDisabled:d}=useConfig(u),m=ref(null),$=ref(null),ee=ref([]),te={value:[]},b=computed(()=>u.direction==="vertical"),re=computed(()=>b.value?"height":"width"),ne=computed(()=>b.value?"bottom":"right"),ie=computed(()=>u.effect==="slide"),se=computed(()=>u.loop&&u.slidesPerView===1&&ie.value),fe=computed(()=>u.effect==="custom"),ce=computed(()=>!ie.value||u.centeredSlides?1:u.slidesPerView),de=computed(()=>fe.value?1:u.slidesPerView),ye=computed(()=>ce.value==="auto"||u.slidesPerView==="auto"&&u.centeredSlides),ge=ref({width:0,height:0}),_e=computed(()=>{const{value:ir}=ee;if(!ir.length)return[];const{value:pr}=ye;if(pr)return ir.map(Xe=>calculateSize(Xe));const{value:Ir}=de,{value:Pr}=ge,{value:Rr}=re;let Ft=Pr[Rr];if(Ir!=="auto"){const{spaceBetween:Xe}=u,ot=Ft-(Ir-1)*Xe,Ke=1/Math.max(1,Ir);Ft=ot*Ke}const je=Object.assign(Object.assign({},Pr),{[Rr]:Ft});return ir.map(()=>je)}),Ee=computed(()=>{const{value:ir}=_e;if(!ir.length)return[];const{centeredSlides:pr,spaceBetween:Ir}=u,{value:Pr}=re,{[Pr]:Rr}=ge.value;let Ft=0;return ir.map(({[Pr]:je})=>{let Xe=Ft;return pr&&(Xe+=(je-Rr)/2),Ft+=je+Ir,Xe})}),Ae=ref(!1),we=computed(()=>{const{transitionStyle:ir}=u;return ir?keep(ir,transitionProperties):{}}),Me=computed(()=>fe.value?0:resolveSpeed(we.value.transitionDuration)),ke=computed(()=>{const{value:ir}=ee;if(!ir.length)return[];const pr=!(ye.value||de.value===1),Ir=je=>{if(pr){const{value:Xe}=re;return{[Xe]:`${_e.value[je][Xe]}px`}}};if(fe.value)return ir.map((je,Xe)=>Ir(Xe));const{effect:Pr,spaceBetween:Rr}=u,{value:Ft}=ne;return ir.reduce((je,Xe,ot)=>{const Ke=Object.assign(Object.assign({},Ir(ot)),{[`margin-${Ft}`]:`${Rr}px`});return je.push(Ke),Ae.value&&(Pr==="fade"||Pr==="card")&&Object.assign(Ke,we.value),je},[])}),Re=computed(()=>{const{value:ir}=ce,{length:pr}=ee.value;if(ir!=="auto")return Math.max(pr-ir,0)+1;{const{value:Ir}=_e,{length:Pr}=Ir;if(!Pr)return pr;const{value:Rr}=Ee,{value:Ft}=re,je=ge.value[Ft];let Xe=Ir[Ir.length-1][Ft],ot=Pr;for(;ot>1&&Xe<je;)ot--,Xe+=Rr[ot]-Rr[ot-1];return clampValue(ot+1,1,Pr)}}),ze=computed(()=>getDisplayTotalView(Re.value,se.value)),Je=getRealIndex(u.defaultIndex,se.value),et=ref(getDisplayIndex(Je,Re.value,se.value)),Pe=useMergedState(toRef(u,"currentIndex"),et),ve=computed(()=>getRealIndex(Pe.value,se.value));function le(ir){var pr,Ir;ir=clampValue(ir,0,Re.value-1);const Pr=getDisplayIndex(ir,Re.value,se.value),{value:Rr}=Pe;Pr!==Pe.value&&(et.value=Pr,(pr=u["onUpdate:currentIndex"])===null||pr===void 0||pr.call(u,Pr,Rr),(Ir=u.onUpdateCurrentIndex)===null||Ir===void 0||Ir.call(u,Pr,Rr))}function ae(ir=ve.value){return getPrevIndex(ir,Re.value,u.loop)}function he(ir=ve.value){return getNextIndex(ir,Re.value,u.loop)}function xe(ir){const pr=St(ir);return pr!==null&&ae()===pr}function $e(ir){const pr=St(ir);return pr!==null&&he()===pr}function He(ir){return ve.value===St(ir)}function Fe(ir){return Pe.value===ir}function Ne(){return ae()===null}function De(){return he()===null}function pe(ir){const pr=clampValue(getRealIndex(ir,se.value),0,Re.value);(ir!==Pe.value||pr!==ve.value)&&le(pr)}function Le(){const ir=ae();ir!==null&&le(ir)}function Be(){const ir=he();ir!==null&&le(ir)}function Ce(){(!it||!se.value)&&Le()}function Ze(){(!it||!se.value)&&Be()}let it=!1,rt=0;const Oe=ref({});function Ve(ir,pr=0){Oe.value=Object.assign({},we.value,{transform:b.value?`translateY(${-ir}px)`:`translateX(${-ir}px)`,transitionDuration:`${pr}ms`})}function We(ir=0){ie.value?qe(ve.value,ir):rt!==0&&(!it&&ir>0&&(it=!0),Ve(rt=0,ir))}function qe(ir,pr){const Ir=Ge(ir);Ir!==rt&&pr>0&&(it=!0),rt=Ge(ve.value),Ve(Ir,pr)}function Ge(ir){let pr;return ir>=Re.value-1?pr=Qe():pr=Ee.value[ir]||0,pr}function Qe(){if(ce.value==="auto"){const{value:ir}=re,{[ir]:pr}=ge.value,{value:Ir}=Ee,Pr=Ir[Ir.length-1];let Rr;if(Pr===void 0)Rr=pr;else{const{value:Ft}=_e;Rr=Pr+Ft[Ft.length-1][ir]}return Rr-pr}else{const{value:ir}=Ee;return ir[Re.value-1]||0}}const ct={currentIndexRef:Pe,to:pe,prev:Ce,next:Ze,isVertical:()=>b.value,isHorizontal:()=>!b.value,isPrev:xe,isNext:$e,isActive:He,isPrevDisabled:Ne,isNextDisabled:De,getSlideIndex:St,getSlideStyle:xt,addSlide:ft,removeSlide:bt,onCarouselItemClick:$t};provideCarouselContext(ct);function ft(ir){!ir||ee.value.push(ir)}function bt(ir){if(!ir)return;const pr=St(ir);pr!==-1&&ee.value.splice(pr,1)}function St(ir){return typeof ir=="number"?ir:ir?ee.value.indexOf(ir):-1}function xt(ir){const pr=St(ir);if(pr!==-1){const Ir=[ke.value[pr]],Pr=ct.isPrev(pr),Rr=ct.isNext(pr);return Pr&&Ir.push(u.prevSlideStyle||""),Rr&&Ir.push(u.nextSlideStyle||""),normalizeStyle(Ir)}}function $t(ir,pr){let Ir=!it&&!me&&!be;u.effect==="card"&&Ir&&!He(ir)&&(pe(ir),Ir=!1),Ir||(pr.preventDefault(),pr.stopPropagation())}let It=null;function Et(){It&&(clearInterval(It),It=null)}function At(){Et(),!u.autoplay||ze.value<2||(It=window.setInterval(Be,u.interval))}let kt=0,Kt=0,lt=0,Se=0,me=!1,be=!1;function Ye(ir){var pr;if(globalDragging||!(!((pr=$.value)===null||pr===void 0)&&pr.contains(ir.target)))return;globalDragging=!0,me=!0,be=!1,Se=Date.now(),Et(),ir.type!=="touchstart"&&!ir.target.isContentEditable&&ir.preventDefault();const Ir=isTouchEvent(ir)?ir.touches[0]:ir;b.value?Kt=Ir.clientY:kt=Ir.clientX,u.touchable&&(on("touchmove",document,ut,{passive:!0}),on("touchend",document,yt),on("touchcancel",document,yt)),u.draggable&&(on("mousemove",document,ut),on("mouseup",document,yt))}function ut(ir){const{value:pr}=b,{value:Ir}=re,Pr=isTouchEvent(ir)?ir.touches[0]:ir,Rr=pr?Pr.clientY-Kt:Pr.clientX-kt,Ft=ge.value[Ir];lt=clampValue(Rr,-Ft,Ft),ir.cancelable&&ir.preventDefault(),ie.value&&Ve(rt-lt,0)}function yt(){const{value:ir}=ve;let pr=ir;if(!it&&lt!==0&&ie.value){const Ir=rt-lt,Pr=[...Ee.value.slice(0,Re.value-1),Qe()];let Rr=null;for(let Ft=0;Ft<Pr.length;Ft++){const je=Math.abs(Pr[Ft]-Ir);if(Rr!==null&&Rr<je)break;Rr=je,pr=Ft}}if(pr===ir){const Ir=Date.now()-Se,{value:Pr}=re,Rr=ge.value[Pr];lt>Rr/2||lt/Ir>.4?pr=ae(ir):(lt<-Rr/2||lt/Ir<-.4)&&(pr=he(ir))}pr!==null&&pr!==ir?(be=!0,le(pr),nextTick(()=>{(!se.value||et.value!==Pe.value)&&We(Me.value)})):We(Me.value),wt(),At()}function wt(){me&&(globalDragging=!1),me=!1,kt=0,Kt=0,lt=0,Se=0,off("touchmove",document,ut),off("touchend",document,yt),off("touchcancel",document,yt),off("mousemove",document,ut),off("mouseup",document,yt)}function Ut(){if(ie.value&&it){const{value:ir}=ve;qe(ir,0)}else At();ie.value&&(Oe.value.transitionDuration="0ms"),it=!1}function Xt(ir){if(ir.preventDefault(),it)return;let{deltaX:pr,deltaY:Ir}=ir;ir.shiftKey&&!pr&&(pr=Ir);const Pr=-1,Rr=1,Ft=(pr||Ir)>0?Rr:Pr;let je=0,Xe=0;b.value?Xe=Ft:je=Ft;const ot=10;(Xe*Ir>=ot||je*pr>=ot)&&(Ft===Rr&&!De()?Be():Ft===Pr&&!Ne()&&Le())}function Ct(){ge.value=calculateSize(m.value,!0),At()}function Ht(){var ir,pr;ye.value&&((pr=(ir=_e.effect).scheduler)===null||pr===void 0||pr.call(ir),_e.effect.run())}function Yt(){u.autoplay&&Et()}function ar(){u.autoplay&&At()}onMounted(()=>{watchEffect(At),requestAnimationFrame(()=>Ae.value=!0)}),onBeforeUnmount(()=>{wt(),Et()}),onUpdated(()=>{const{value:ir}=ee,{value:pr}=te,Ir=new Map,Pr=Ft=>Ir.has(Ft)?Ir.get(Ft):-1;let Rr=!1;for(let Ft=0;Ft<ir.length;Ft++){const je=pr.findIndex(Xe=>Xe.el===ir[Ft]);je!==Ft&&(Rr=!0),Ir.set(ir[Ft],je)}Rr&&ir.sort((Ft,je)=>Pr(Ft)-Pr(je))}),watch(ve,(ir,pr)=>{if(ir!==pr)if(At(),ie.value){if(se.value){const{value:Ir}=Re;ir===Ir-2&&pr===1?ir=0:ir===1&&pr===Ir-2&&(ir=Ir-1)}qe(ir,Me.value)}else We()},{immediate:!0}),watch([se,ce],()=>void nextTick(()=>le(ve.value))),watch(Ee,()=>ie.value&&We(),{deep:!0}),watch(ie,ir=>{ir?We():(it=!1,Ve(rt=0))});const tr=computed(()=>({onTouchstartPassive:u.touchable?Ye:void 0,onMousedown:u.draggable?Ye:void 0,onWheel:u.mousewheel?Xt:void 0})),vr=computed(()=>Object.assign(Object.assign({},keep(ct,["to","prev","next","isPrevDisabled","isNextDisabled"])),{total:ze.value,currentIndex:Pe.value})),ur=computed(()=>({total:ze.value,currentIndex:Pe.value,to:ct.to})),Sr={getCurrentIndex:()=>Pe.value,to:pe,prev:Le,next:Be},Ar=useTheme("Carousel","-carousel",style$9,carouselLight$1,u,a),$r=computed(()=>{const{common:{cubicBezierEaseInOut:ir},self:{dotSize:pr,dotColor:Ir,dotColorActive:Pr,dotColorFocus:Rr,dotLineWidth:Ft,dotLineWidthActive:je,arrowColor:Xe}}=Ar.value;return{"--n-bezier":ir,"--n-dot-color":Ir,"--n-dot-color-focus":Rr,"--n-dot-color-active":Pr,"--n-dot-size":pr,"--n-dot-line-width":Ft,"--n-dot-line-width-active":je,"--n-arrow-color":Xe}}),kr=d?useThemeClass("carousel",void 0,$r,u):void 0;return Object.assign(Object.assign({mergedClsPrefix:a,selfElRef:m,slidesElRef:$,slideVNodes:te,duplicatedable:se,userWantsControl:fe,autoSlideSize:ye,displayIndex:Pe,realIndex:ve,slideStyles:ke,translateStyle:Oe,slidesControlListeners:tr,handleTransitionEnd:Ut,handleResize:Ct,handleSlideResize:Ht,handleMouseenter:Yt,handleMouseleave:ar,isActive:Fe,arrowSlotProps:vr,dotSlotProps:ur},Sr),{cssVars:d?void 0:$r,themeClass:kr?.themeClass,onRender:kr?.onRender})},render(){var u;const{mergedClsPrefix:a,showArrow:d,userWantsControl:m,slideStyles:$,dotType:ee,dotPlacement:te,slidesControlListeners:b,transitionProps:re={},arrowSlotProps:ne,dotSlotProps:ie,$slots:{default:se,dots:fe,arrow:ce}}=this,de=se&&flatten$2(se())||[];let ye=filterCarouselItem(de);return ye.length||(ye=de.map(ge=>h(NCarouselItem,null,{default:()=>cloneVNode(ge)}))),this.duplicatedable&&(ye=addDuplicateSlides(ye)),this.slideVNodes.value=ye,this.autoSlideSize&&(ye=ye.map(ge=>h(VResizeObserver,{onResize:this.handleSlideResize},{default:()=>ge}))),(u=this.onRender)===null||u===void 0||u.call(this),h("div",Object.assign({ref:"selfElRef",class:[this.themeClass,`${a}-carousel`,this.direction==="vertical"&&`${a}-carousel--vertical`,this.showArrow&&`${a}-carousel--show-arrow`,`${a}-carousel--${te}`,`${a}-carousel--${this.direction}`,`${a}-carousel--${this.effect}`,m&&`${a}-carousel--usercontrol`],style:this.cssVars},b,{onMouseenter:this.handleMouseenter,onMouseleave:this.handleMouseleave}),h(VResizeObserver,{onResize:this.handleResize},{default:()=>h("div",{ref:"slidesElRef",class:`${a}-carousel__slides`,role:"listbox",style:this.translateStyle,onTransitionend:this.handleTransitionEnd},m?ye.map((ge,_e)=>h("div",{style:$[_e],key:_e},withDirectives(h(Transition,Object.assign({},re),{default:()=>ge}),[[vShow,this.isActive(_e)]]))):ye)}),this.showDots&&ie.total>1&&resolveSlotWithProps(fe,ie,()=>[h(NCarouselDots,{key:ee+te,total:ie.total,currentIndex:ie.currentIndex,dotType:ee,trigger:this.trigger,keyboard:this.keyboard})]),d&&resolveSlotWithProps(ce,ne,()=>[h(NCarouselArrow,null)]))}});function filterCarouselItem(u){return u.reduce((a,d)=>(isCarouselItem(d)&&a.push(d),a),[])}const commonVariables$1={sizeSmall:"14px",sizeMedium:"16px",sizeLarge:"18px",labelPadding:"0 8px"},self$9=u=>{const{baseColor:a,inputColorDisabled:d,cardColor:m,modalColor:$,popoverColor:ee,textColorDisabled:te,borderColor:b,primaryColor:re,textColor2:ne,fontSizeSmall:ie,fontSizeMedium:se,fontSizeLarge:fe,borderRadiusSmall:ce,lineHeight:de}=u;return Object.assign(Object.assign({},commonVariables$1),{labelLineHeight:de,fontSizeSmall:ie,fontSizeMedium:se,fontSizeLarge:fe,borderRadius:ce,color:a,colorChecked:re,colorDisabled:d,colorDisabledChecked:d,colorTableHeader:m,colorTableHeaderModal:$,colorTableHeaderPopover:ee,checkMarkColor:a,checkMarkColorDisabled:te,checkMarkColorDisabledChecked:te,border:`1px solid ${b}`,borderDisabled:`1px solid ${b}`,borderDisabledChecked:`1px solid ${b}`,borderChecked:`1px solid ${re}`,borderFocus:`1px solid ${re}`,boxShadowFocus:`0 0 0 2px ${changeColor(re,{alpha:.3})}`,textColor:ne,textColorDisabled:te})},checkboxLight={name:"Checkbox",common:commonLight,self:self$9},checkboxLight$1=checkboxLight,CheckMark=h("svg",{viewBox:"0 0 64 64",class:"check-icon"},h("path",{d:"M50.42,16.76L22.34,39.45l-8.1-11.46c-1.12-1.58-3.3-1.96-4.88-0.84c-1.58,1.12-1.95,3.3-0.84,4.88l10.26,14.51  c0.56,0.79,1.42,1.31,2.38,1.45c0.16,0.02,0.32,0.03,0.48,0.03c0.8,0,1.57-0.27,2.2-0.78l30.99-25.03c1.5-1.21,1.74-3.42,0.52-4.92  C54.13,15.78,51.93,15.55,50.42,16.76z"})),LineMark=h("svg",{viewBox:"0 0 100 100",class:"line-icon"},h("path",{d:"M80.2,55.5H21.4c-2.8,0-5.1-2.5-5.1-5.5l0,0c0-3,2.3-5.5,5.1-5.5h58.7c2.8,0,5.1,2.5,5.1,5.5l0,0C85.2,53.1,82.9,55.5,80.2,55.5z"})),checkboxGroupInjectionKey="n-checkbox-group",checkboxGroupProps={min:Number,max:Number,size:String,value:Array,defaultValue:{type:Array,default:null},disabled:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onChange:[Function,Array]},NCheckboxGroup=defineComponent({name:"CheckboxGroup",props:checkboxGroupProps,setup(u){const{mergedClsPrefixRef:a}=useConfig(u),d=useFormItem(u),{mergedSizeRef:m,mergedDisabledRef:$}=d,ee=ref(u.defaultValue),te=computed(()=>u.value),b=useMergedState(te,ee),re=computed(()=>{var se;return((se=b.value)===null||se===void 0?void 0:se.length)||0}),ne=computed(()=>Array.isArray(b.value)?new Set(b.value):new Set);function ie(se,fe){const{nTriggerFormInput:ce,nTriggerFormChange:de}=d,{onChange:ye,"onUpdate:value":ge,onUpdateValue:_e}=u;if(Array.isArray(b.value)){const Ee=Array.from(b.value),Ae=Ee.findIndex(we=>we===fe);se?~Ae||(Ee.push(fe),_e&&call(_e,Ee,{actionType:"check",value:fe}),ge&&call(ge,Ee,{actionType:"check",value:fe}),ce(),de(),ee.value=Ee,ye&&call(ye,Ee)):~Ae&&(Ee.splice(Ae,1),_e&&call(_e,Ee,{actionType:"uncheck",value:fe}),ge&&call(ge,Ee,{actionType:"uncheck",value:fe}),ye&&call(ye,Ee),ee.value=Ee,ce(),de())}else se?(_e&&call(_e,[fe],{actionType:"check",value:fe}),ge&&call(ge,[fe],{actionType:"check",value:fe}),ye&&call(ye,[fe]),ee.value=[fe],ce(),de()):(_e&&call(_e,[],{actionType:"uncheck",value:fe}),ge&&call(ge,[],{actionType:"uncheck",value:fe}),ye&&call(ye,[]),ee.value=[],ce(),de())}return provide(checkboxGroupInjectionKey,{checkedCountRef:re,maxRef:toRef(u,"max"),minRef:toRef(u,"min"),valueSetRef:ne,disabledRef:$,mergedSizeRef:m,toggleCheckbox:ie}),{mergedClsPrefix:a}},render(){return h("div",{class:`${this.mergedClsPrefix}-checkbox-group`,role:"group"},this.$slots)}}),style$8=c$1([cB("checkbox",`
 line-height: var(--n-label-line-height);
 font-size: var(--n-font-size);
 outline: none;
 cursor: pointer;
 display: inline-flex;
 flex-wrap: nowrap;
 align-items: flex-start;
 word-break: break-word;
 --n-merged-color-table: var(--n-color-table);
 `,[c$1("&:hover",[cB("checkbox-box",[cE("border",{border:"var(--n-border-checked)"})])]),c$1("&:focus:not(:active)",[cB("checkbox-box",[cE("border",`
 border: var(--n-border-focus);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cM("inside-table",[cB("checkbox-box",`
 background-color: var(--n-merged-color-table);
 `)]),cM("checked",[cB("checkbox-box",`
 background-color: var(--n-color-checked);
 `,[cB("checkbox-icon",[c$1(".check-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),cM("indeterminate",[cB("checkbox-box",[cB("checkbox-icon",[c$1(".check-icon",`
 opacity: 0;
 transform: scale(.5);
 `),c$1(".line-icon",`
 opacity: 1;
 transform: scale(1);
 `)])])]),cM("checked, indeterminate",[c$1("&:focus:not(:active)",[cB("checkbox-box",[cE("border",`
 border: var(--n-border-checked);
 box-shadow: var(--n-box-shadow-focus);
 `)])]),cB("checkbox-box",`
 background-color: var(--n-color-checked);
 border-left: 0;
 border-top: 0;
 `,[cE("border",{border:"var(--n-border-checked)"})])]),cM("disabled",{cursor:"not-allowed"},[cM("checked",[cB("checkbox-box",`
 background-color: var(--n-color-disabled-checked);
 `,[cE("border",{border:"var(--n-border-disabled-checked)"}),cB("checkbox-icon",[c$1(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled-checked)"})])])]),cB("checkbox-box",`
 background-color: var(--n-color-disabled);
 `,[cE("border",{border:"var(--n-border-disabled)"}),cB("checkbox-icon",[c$1(".check-icon, .line-icon",{fill:"var(--n-check-mark-color-disabled)"})])]),cE("label",{color:"var(--n-text-color-disabled)"})]),cB("checkbox-box-wrapper",`
 position: relative;
 width: var(--n-size);
 flex-shrink: 0;
 flex-grow: 0;
 user-select: none;
 -webkit-user-select: none;
 `),cB("checkbox-box",`
 position: absolute;
 left: 0;
 top: 50%;
 transform: translateY(-50%);
 height: var(--n-size);
 width: var(--n-size);
 display: inline-block;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 background-color: var(--n-color);
 transition: background-color 0.3s var(--n-bezier);
 `,[cE("border",`
 transition:
 border-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border: var(--n-border);
 `),cB("checkbox-icon",`
 display: flex;
 align-items: center;
 justify-content: center;
 position: absolute;
 left: 1px;
 right: 1px;
 top: 1px;
 bottom: 1px;
 `,[c$1(".check-icon, .line-icon",`
 width: 100%;
 fill: var(--n-check-mark-color);
 opacity: 0;
 transform: scale(0.5);
 transform-origin: center;
 transition:
 fill 0.3s var(--n-bezier),
 transform 0.3s var(--n-bezier),
 opacity 0.3s var(--n-bezier),
 border-color 0.3s var(--n-bezier);
 `),iconSwitchTransition({left:"1px",top:"1px"})])]),cE("label",`
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 user-select: none;
 -webkit-user-select: none;
 padding: var(--n-label-padding);
 `,[c$1("&:empty",{display:"none"})])]),insideModal(cB("checkbox",`
 --n-merged-color-table: var(--n-color-table-modal);
 `)),insidePopover(cB("checkbox",`
 --n-merged-color-table: var(--n-color-table-popover);
 `))]),checkboxProps=Object.assign(Object.assign({},useTheme.props),{size:String,checked:{type:[Boolean,String,Number],default:void 0},defaultChecked:{type:[Boolean,String,Number],default:!1},value:[String,Number],disabled:{type:Boolean,default:void 0},indeterminate:Boolean,label:String,focusable:{type:Boolean,default:!0},checkedValue:{type:[Boolean,String,Number],default:!0},uncheckedValue:{type:[Boolean,String,Number],default:!1},"onUpdate:checked":[Function,Array],onUpdateChecked:[Function,Array],privateInsideTable:Boolean,onChange:[Function,Array]}),NCheckbox=defineComponent({name:"Checkbox",props:checkboxProps,setup(u){const a=ref(null),{mergedClsPrefixRef:d,inlineThemeDisabled:m,mergedRtlRef:$}=useConfig(u),ee=useFormItem(u,{mergedSize(ke){const{size:Re}=u;if(Re!==void 0)return Re;if(re){const{value:ze}=re.mergedSizeRef;if(ze!==void 0)return ze}if(ke){const{mergedSize:ze}=ke;if(ze!==void 0)return ze.value}return"medium"},mergedDisabled(ke){const{disabled:Re}=u;if(Re!==void 0)return Re;if(re){if(re.disabledRef.value)return!0;const{maxRef:{value:ze},checkedCountRef:Je}=re;if(ze!==void 0&&Je.value>=ze&&!fe.value)return!0;const{minRef:{value:et}}=re;if(et!==void 0&&Je.value<=et&&fe.value)return!0}return ke?ke.disabled.value:!1}}),{mergedDisabledRef:te,mergedSizeRef:b}=ee,re=inject(checkboxGroupInjectionKey,null),ne=ref(u.defaultChecked),ie=toRef(u,"checked"),se=useMergedState(ie,ne),fe=useMemo(()=>{if(re){const ke=re.valueSetRef.value;return ke&&u.value!==void 0?ke.has(u.value):!1}else return se.value===u.checkedValue}),ce=useTheme("Checkbox","-checkbox",style$8,checkboxLight$1,u,d);function de(ke){if(re&&u.value!==void 0)re.toggleCheckbox(!fe.value,u.value);else{const{onChange:Re,"onUpdate:checked":ze,onUpdateChecked:Je}=u,{nTriggerFormInput:et,nTriggerFormChange:Pe}=ee,ve=fe.value?u.uncheckedValue:u.checkedValue;ze&&call(ze,ve,ke),Je&&call(Je,ve,ke),Re&&call(Re,ve,ke),et(),Pe(),ne.value=ve}}function ye(ke){te.value||de(ke)}function ge(ke){if(!te.value)switch(ke.key){case" ":case"Enter":de(ke)}}function _e(ke){switch(ke.key){case" ":ke.preventDefault()}}const Ee={focus:()=>{var ke;(ke=a.value)===null||ke===void 0||ke.focus()},blur:()=>{var ke;(ke=a.value)===null||ke===void 0||ke.blur()}},Ae=useRtl("Checkbox",$,d),we=computed(()=>{const{value:ke}=b,{common:{cubicBezierEaseInOut:Re},self:{borderRadius:ze,color:Je,colorChecked:et,colorDisabled:Pe,colorTableHeader:ve,colorTableHeaderModal:le,colorTableHeaderPopover:ae,checkMarkColor:he,checkMarkColorDisabled:xe,border:$e,borderFocus:He,borderDisabled:Fe,borderChecked:Ne,boxShadowFocus:De,textColor:pe,textColorDisabled:Le,checkMarkColorDisabledChecked:Be,colorDisabledChecked:Ce,borderDisabledChecked:Ze,labelPadding:it,labelLineHeight:rt,[createKey("fontSize",ke)]:Oe,[createKey("size",ke)]:Ve}}=ce.value;return{"--n-label-line-height":rt,"--n-size":Ve,"--n-bezier":Re,"--n-border-radius":ze,"--n-border":$e,"--n-border-checked":Ne,"--n-border-focus":He,"--n-border-disabled":Fe,"--n-border-disabled-checked":Ze,"--n-box-shadow-focus":De,"--n-color":Je,"--n-color-checked":et,"--n-color-table":ve,"--n-color-table-modal":le,"--n-color-table-popover":ae,"--n-color-disabled":Pe,"--n-color-disabled-checked":Ce,"--n-text-color":pe,"--n-text-color-disabled":Le,"--n-check-mark-color":he,"--n-check-mark-color-disabled":xe,"--n-check-mark-color-disabled-checked":Be,"--n-font-size":Oe,"--n-label-padding":it}}),Me=m?useThemeClass("checkbox",computed(()=>b.value[0]),we,u):void 0;return Object.assign(ee,Ee,{rtlEnabled:Ae,selfRef:a,mergedClsPrefix:d,mergedDisabled:te,renderedChecked:fe,mergedTheme:ce,labelId:createId(),handleClick:ye,handleKeyUp:ge,handleKeyDown:_e,cssVars:m?void 0:we,themeClass:Me?.themeClass,onRender:Me?.onRender})},render(){var u;const{$slots:a,renderedChecked:d,mergedDisabled:m,indeterminate:$,privateInsideTable:ee,cssVars:te,labelId:b,label:re,mergedClsPrefix:ne,focusable:ie,handleKeyUp:se,handleKeyDown:fe,handleClick:ce}=this;return(u=this.onRender)===null||u===void 0||u.call(this),h("div",{ref:"selfRef",class:[`${ne}-checkbox`,this.themeClass,this.rtlEnabled&&`${ne}-checkbox--rtl`,d&&`${ne}-checkbox--checked`,m&&`${ne}-checkbox--disabled`,$&&`${ne}-checkbox--indeterminate`,ee&&`${ne}-checkbox--inside-table`],tabindex:m||!ie?void 0:0,role:"checkbox","aria-checked":$?"mixed":d,"aria-labelledby":b,style:te,onKeyup:se,onKeydown:fe,onClick:ce,onMousedown:()=>{on("selectstart",window,de=>{de.preventDefault()},{once:!0})}},h("div",{class:`${ne}-checkbox-box-wrapper`},"\xA0",h("div",{class:`${ne}-checkbox-box`},h(NIconSwitchTransition,null,{default:()=>this.indeterminate?h("div",{key:"indeterminate",class:`${ne}-checkbox-icon`},LineMark):h("div",{key:"check",class:`${ne}-checkbox-icon`},CheckMark)}),h("div",{class:`${ne}-checkbox-box__border`}))),re!==null||a.default?h("span",{class:`${ne}-checkbox__label`,id:b},a.default?a.default():re):null)}}),commonVariables={radioSizeSmall:"14px",radioSizeMedium:"16px",radioSizeLarge:"18px",labelPadding:"0 8px"},self$8=u=>{const{borderColor:a,primaryColor:d,baseColor:m,textColorDisabled:$,inputColorDisabled:ee,textColor2:te,opacityDisabled:b,borderRadius:re,fontSizeSmall:ne,fontSizeMedium:ie,fontSizeLarge:se,heightSmall:fe,heightMedium:ce,heightLarge:de,lineHeight:ye}=u;return Object.assign(Object.assign({},commonVariables),{labelLineHeight:ye,buttonHeightSmall:fe,buttonHeightMedium:ce,buttonHeightLarge:de,fontSizeSmall:ne,fontSizeMedium:ie,fontSizeLarge:se,boxShadow:`inset 0 0 0 1px ${a}`,boxShadowActive:`inset 0 0 0 1px ${d}`,boxShadowFocus:`inset 0 0 0 1px ${d}, 0 0 0 2px ${changeColor(d,{alpha:.2})}`,boxShadowHover:`inset 0 0 0 1px ${d}`,boxShadowDisabled:`inset 0 0 0 1px ${a}`,color:m,colorDisabled:ee,textColor:te,textColorDisabled:$,dotColorActive:d,dotColorDisabled:a,buttonBorderColor:a,buttonBorderColorActive:d,buttonBorderColorHover:a,buttonColor:m,buttonColorActive:m,buttonTextColor:te,buttonTextColorActive:d,buttonTextColorHover:d,opacityDisabled:b,buttonBoxShadowFocus:`inset 0 0 0 1px ${d}, 0 0 0 2px ${changeColor(d,{alpha:.3})}`,buttonBoxShadowHover:"inset 0 0 0 1px #0000",buttonBoxShadow:"inset 0 0 0 1px #0000",buttonBorderRadius:re})},radioLight={name:"Radio",common:commonLight,self:self$8},radioLight$1=radioLight,radioProps={name:String,value:{type:[String,Number],default:"on"},checked:{type:Boolean,default:void 0},defaultChecked:Boolean,disabled:{type:Boolean,default:void 0},label:String,size:String,onUpdateChecked:[Function,Array],"onUpdate:checked":[Function,Array],checkedValue:{type:Boolean,validator:()=>(warn$3("radio","`checked-value` is deprecated, please use `checked` instead."),!0),default:void 0}},radioGroupInjectionKey="n-radio-group";function setup(u){const a=useFormItem(u,{mergedSize(Ee){const{size:Ae}=u;if(Ae!==void 0)return Ae;if(te){const{mergedSizeRef:{value:we}}=te;if(we!==void 0)return we}return Ee?Ee.mergedSize.value:"medium"},mergedDisabled(Ee){return!!(u.disabled||te?.disabledRef.value||Ee?.disabled.value)}}),{mergedSizeRef:d,mergedDisabledRef:m}=a,$=ref(null),ee=ref(null),te=inject(radioGroupInjectionKey,null),b=ref(u.defaultChecked),re=toRef(u,"checked"),ne=useMergedState(re,b),ie=useMemo(()=>te?te.valueRef.value===u.value:ne.value),se=useMemo(()=>{const{name:Ee}=u;if(Ee!==void 0)return Ee;if(te)return te.nameRef.value}),fe=ref(!1);function ce(){if(te){const{doUpdateValue:Ee}=te,{value:Ae}=u;call(Ee,Ae)}else{const{onUpdateChecked:Ee,"onUpdate:checked":Ae}=u,{nTriggerFormInput:we,nTriggerFormChange:Me}=a;Ee&&call(Ee,!0),Ae&&call(Ae,!0),we(),Me(),b.value=!0}}function de(){m.value||ie.value||ce()}function ye(){de()}function ge(){fe.value=!1}function _e(){fe.value=!0}return{mergedClsPrefix:te?te.mergedClsPrefixRef:useConfig(u).mergedClsPrefixRef,inputRef:$,labelRef:ee,mergedName:se,mergedDisabled:m,uncontrolledChecked:b,renderSafeChecked:ie,focus:fe,mergedSize:d,handleRadioInputChange:ye,handleRadioInputBlur:ge,handleRadioInputFocus:_e}}setup.props=radioProps;const style$7=cB("radio",`
 line-height: var(--n-label-line-height);
 outline: none;
 position: relative;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 align-items: flex-start;
 flex-wrap: nowrap;
 font-size: var(--n-font-size);
 word-break: break-word;
`,[cE("dot-wrapper",`
 position: relative;
 flex-shrink: 0;
 flex-grow: 0;
 width: var(--n-radio-size);
 `),cB("radio-input",`
 position: absolute;
 border: 0;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 opacity: 0;
 z-index: 1;
 cursor: pointer;
 `),cE("dot",`
 position: absolute;
 top: 50%;
 left: 0;
 transform: translateY(-50%);
 height: var(--n-radio-size);
 width: var(--n-radio-size);
 background: var(--n-color);
 box-shadow: var(--n-box-shadow);
 border-radius: 50%;
 transition:
 background-color .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `,[c$1("&::before",`
 content: "";
 opacity: 0;
 position: absolute;
 left: 4px;
 top: 4px;
 height: calc(100% - 8px);
 width: calc(100% - 8px);
 border-radius: 50%;
 transform: scale(.8);
 background: var(--n-dot-color-active);
 transition: 
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .3s var(--n-bezier);
 `),cM("checked",{boxShadow:"var(--n-box-shadow-active)"},[c$1("&::before",`
 opacity: 1;
 transform: scale(1);
 `)])]),cE("label",`
 color: var(--n-text-color);
 padding: var(--n-label-padding);
 display: inline-block;
 transition: color .3s var(--n-bezier);
 `),cNotM("disabled",`
 cursor: pointer;
 `,[c$1("&:hover",[cE("dot",{boxShadow:"var(--n-box-shadow-hover)"})]),cM("focus",[c$1("&:not(:active)",[cE("dot",{boxShadow:"var(--n-box-shadow-focus)"})])])]),cM("disabled",`
 cursor: not-allowed;
 `,[cE("dot",{boxShadow:"var(--n-box-shadow-disabled)",backgroundColor:"var(--n-color-disabled)"},[c$1("&::before",{backgroundColor:"var(--n-dot-color-disabled)"}),cM("checked",`
 opacity: 1;
 `)]),cE("label",{color:"var(--n-text-color-disabled)"}),cB("radio-input",`
 cursor: not-allowed;
 `)])]),NRadio=defineComponent({name:"Radio",props:Object.assign(Object.assign({},useTheme.props),setup.props),setup(u){const a=setup(u),d=useTheme("Radio","-radio",style$7,radioLight$1,u,a.mergedClsPrefix),m=computed(()=>{const{mergedSize:{value:ne}}=a,{common:{cubicBezierEaseInOut:ie},self:{boxShadow:se,boxShadowActive:fe,boxShadowDisabled:ce,boxShadowFocus:de,boxShadowHover:ye,color:ge,colorDisabled:_e,textColor:Ee,textColorDisabled:Ae,dotColorActive:we,dotColorDisabled:Me,labelPadding:ke,labelLineHeight:Re,[createKey("fontSize",ne)]:ze,[createKey("radioSize",ne)]:Je}}=d.value;return{"--n-bezier":ie,"--n-label-line-height":Re,"--n-box-shadow":se,"--n-box-shadow-active":fe,"--n-box-shadow-disabled":ce,"--n-box-shadow-focus":de,"--n-box-shadow-hover":ye,"--n-color":ge,"--n-color-disabled":_e,"--n-dot-color-active":we,"--n-dot-color-disabled":Me,"--n-font-size":ze,"--n-radio-size":Je,"--n-text-color":Ee,"--n-text-color-disabled":Ae,"--n-label-padding":ke}}),{inlineThemeDisabled:$,mergedClsPrefixRef:ee,mergedRtlRef:te}=useConfig(u),b=useRtl("Radio",te,ee),re=$?useThemeClass("radio",computed(()=>a.mergedSize.value[0]),m,u):void 0;return Object.assign(a,{rtlEnabled:b,cssVars:$?void 0:m,themeClass:re?.themeClass,onRender:re?.onRender})},render(){const{$slots:u,mergedClsPrefix:a,onRender:d,label:m}=this;return d?.(),h("label",{class:[`${a}-radio`,this.themeClass,{[`${a}-radio--rtl`]:this.rtlEnabled,[`${a}-radio--disabled`]:this.mergedDisabled,[`${a}-radio--checked`]:this.renderSafeChecked,[`${a}-radio--focus`]:this.focus}],style:this.cssVars},h("input",{ref:"inputRef",type:"radio",class:`${a}-radio-input`,value:this.value,name:this.mergedName,checked:this.renderSafeChecked,disabled:this.mergedDisabled,onChange:this.handleRadioInputChange,onFocus:this.handleRadioInputFocus,onBlur:this.handleRadioInputBlur}),h("div",{class:`${a}-radio__dot-wrapper`},"\xA0",h("div",{class:[`${a}-radio__dot`,this.renderSafeChecked&&`${a}-radio__dot--checked`]})),resolveWrappedSlot(u.default,$=>!$&&!m?null:h("div",{ref:"labelRef",class:`${a}-radio__label`},$||m)))}}),self$7=u=>{const{textColorBase:a,opacity1:d,opacity2:m,opacity3:$,opacity4:ee,opacity5:te}=u;return{color:a,opacity1Depth:d,opacity2Depth:m,opacity3Depth:$,opacity4Depth:ee,opacity5Depth:te}},iconLight={name:"Icon",common:commonLight,self:self$7},iconLight$1=iconLight,style$6=cB("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[cM("color-transition",{transition:"color .3s var(--n-bezier)"}),cM("depth",{color:"var(--n-color)"},[c$1("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),c$1("svg",{height:"1em",width:"1em"})]),iconProps=Object.assign(Object.assign({},useTheme.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),NIcon=defineComponent({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:iconProps,setup(u){const{mergedClsPrefixRef:a,inlineThemeDisabled:d}=useConfig(u),m=useTheme("Icon","-icon",style$6,iconLight$1,u,a),$=computed(()=>{const{depth:te}=u,{common:{cubicBezierEaseInOut:b},self:re}=m.value;if(te!==void 0){const{color:ne,[`opacity${te}Depth`]:ie}=re;return{"--n-bezier":b,"--n-color":ne,"--n-opacity":ie}}return{"--n-bezier":b,"--n-color":"","--n-opacity":""}}),ee=d?useThemeClass("icon",computed(()=>`${u.depth||"d"}`),$,u):void 0;return{mergedClsPrefix:a,mergedStyle:computed(()=>{const{size:te,color:b}=u;return{fontSize:formatLength(te),color:b}}),cssVars:d?void 0:$,themeClass:ee?.themeClass,onRender:ee?.onRender}},render(){var u;const{$parent:a,depth:d,mergedClsPrefix:m,component:$,onRender:ee,themeClass:te}=this;return!((u=a?.$options)===null||u===void 0)&&u._n_icon__&&warn$3("icon","don't wrap `n-icon` inside `n-icon`"),ee?.(),h("i",mergeProps(this.$attrs,{role:"img",class:[`${m}-icon`,te,{[`${m}-icon--depth`]:d,[`${m}-icon--color-transition`]:d!==void 0}],style:[this.cssVars,this.mergedStyle]}),$?h($):this.$slots)}});var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function getAugmentedNamespace(u){var a=u.default;if(typeof a=="function"){var d=function(){return a.apply(this,arguments)};d.prototype=a.prototype}else d={};return Object.defineProperty(d,"__esModule",{value:!0}),Object.keys(u).forEach(function(m){var $=Object.getOwnPropertyDescriptor(u,m);Object.defineProperty(d,m,$.get?$:{enumerable:!0,get:function(){return u[m]}})}),d}const commonVars$2={titleFontSize:"18px",padding:"16px 28px 20px 28px",iconSize:"28px",actionSpace:"12px",contentMargin:"8px 0 16px 0",iconMargin:"0 4px 0 0",iconMarginIconTop:"4px 0 8px 0",closeSize:"22px",closeIconSize:"18px",closeMargin:"20px 26px 0 0",closeMarginIconTop:"10px 16px 0 0"},self$6=u=>{const{textColor1:a,textColor2:d,modalColor:m,closeIconColor:$,closeIconColorHover:ee,closeIconColorPressed:te,closeColorHover:b,closeColorPressed:re,infoColor:ne,successColor:ie,warningColor:se,errorColor:fe,primaryColor:ce,dividerColor:de,borderRadius:ye,fontWeightStrong:ge,lineHeight:_e,fontSize:Ee}=u;return Object.assign(Object.assign({},commonVars$2),{fontSize:Ee,lineHeight:_e,border:`1px solid ${de}`,titleTextColor:a,textColor:d,color:m,closeColorHover:b,closeColorPressed:re,closeIconColor:$,closeIconColorHover:ee,closeIconColorPressed:te,closeBorderRadius:ye,iconColor:ce,iconColorInfo:ne,iconColorSuccess:ie,iconColorWarning:se,iconColorError:fe,borderRadius:ye,titleFontWeight:ge})},dialogLight={name:"Dialog",common:commonLight,peers:{Button:buttonLight$1},self:self$6},dialogLight$1=dialogLight,dialogProps={icon:Function,type:{type:String,default:"default"},title:[String,Function],closable:{type:Boolean,default:!0},negativeText:String,positiveText:String,positiveButtonProps:Object,negativeButtonProps:Object,content:[String,Function],action:Function,showIcon:{type:Boolean,default:!0},loading:Boolean,bordered:Boolean,iconPlacement:String,onPositiveClick:Function,onNegativeClick:Function,onClose:Function},dialogPropKeys=keysOf(dialogProps),style$5=c$1([cB("dialog",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: relative;
 background: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 margin: auto;
 border-radius: var(--n-border-radius);
 padding: var(--n-padding);
 transition: 
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `,[cE("icon",{color:"var(--n-icon-color)"}),cM("bordered",{border:"var(--n-border)"}),cM("icon-top",[cE("close",{margin:"var(--n-close-margin)"}),cE("icon",{margin:"var(--n-icon-margin)"}),cE("content",{textAlign:"center"}),cE("title",{justifyContent:"center"}),cE("action",{justifyContent:"center"})]),cM("icon-left",[cE("icon",{margin:"var(--n-icon-margin)"}),cM("closable",[cE("title",`
 padding-right: calc(var(--n-close-size) + 6px);
 `)])]),cE("close",`
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 z-index: 1;
 `),cE("content",`
 font-size: var(--n-font-size);
 margin: var(--n-content-margin);
 position: relative;
 word-break: break-word;
 `,[cM("last","margin-bottom: 0;")]),cE("action",`
 display: flex;
 justify-content: flex-end;
 `,[c$1("> *:not(:last-child)",{marginRight:"var(--n-action-space)"})]),cE("icon",{fontSize:"var(--n-icon-size)",transition:"color .3s var(--n-bezier)"}),cE("title",`
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 font-size: var(--n-title-font-size);
 font-weight: var(--n-title-font-weight);
 color: var(--n-title-text-color);
 `),cB("dialog-icon-container",{display:"flex",justifyContent:"center"})]),insideModal(cB("dialog",`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)),cB("dialog",[asModal(`
 width: 446px;
 max-width: calc(100vw - 32px);
 `)])]),iconRenderMap={default:()=>h(InfoIcon,null),info:()=>h(InfoIcon,null),success:()=>h(SuccessIcon,null),warning:()=>h(WarningIcon,null),error:()=>h(ErrorIcon,null)},NDialog=defineComponent({name:"Dialog",alias:["NimbusConfirmCard","Confirm"],props:Object.assign(Object.assign({},useTheme.props),dialogProps),setup(u){const{mergedComponentPropsRef:a,mergedClsPrefixRef:d,inlineThemeDisabled:m}=useConfig(u),$=computed(()=>{var se,fe;const{iconPlacement:ce}=u;return ce||((fe=(se=a?.value)===null||se===void 0?void 0:se.Dialog)===null||fe===void 0?void 0:fe.iconPlacement)||"left"});function ee(se){const{onPositiveClick:fe}=u;fe&&fe(se)}function te(se){const{onNegativeClick:fe}=u;fe&&fe(se)}function b(){const{onClose:se}=u;se&&se()}const re=useTheme("Dialog","-dialog",style$5,dialogLight$1,u,d),ne=computed(()=>{const{type:se}=u,fe=$.value,{common:{cubicBezierEaseInOut:ce},self:{fontSize:de,lineHeight:ye,border:ge,titleTextColor:_e,textColor:Ee,color:Ae,closeBorderRadius:we,closeColorHover:Me,closeColorPressed:ke,closeIconColor:Re,closeIconColorHover:ze,closeIconColorPressed:Je,closeIconSize:et,borderRadius:Pe,titleFontWeight:ve,titleFontSize:le,padding:ae,iconSize:he,actionSpace:xe,contentMargin:$e,closeSize:He,[fe==="top"?"iconMarginIconTop":"iconMargin"]:Fe,[fe==="top"?"closeMarginIconTop":"closeMargin"]:Ne,[createKey("iconColor",se)]:De}}=re.value;return{"--n-font-size":de,"--n-icon-color":De,"--n-bezier":ce,"--n-close-margin":Ne,"--n-icon-margin":Fe,"--n-icon-size":he,"--n-close-size":He,"--n-close-icon-size":et,"--n-close-border-radius":we,"--n-close-color-hover":Me,"--n-close-color-pressed":ke,"--n-close-icon-color":Re,"--n-close-icon-color-hover":ze,"--n-close-icon-color-pressed":Je,"--n-color":Ae,"--n-text-color":Ee,"--n-border-radius":Pe,"--n-padding":ae,"--n-line-height":ye,"--n-border":ge,"--n-content-margin":$e,"--n-title-font-size":le,"--n-title-font-weight":ve,"--n-title-text-color":_e,"--n-action-space":xe}}),ie=m?useThemeClass("dialog",computed(()=>`${u.type[0]}${$.value[0]}`),ne,u):void 0;return{mergedClsPrefix:d,mergedIconPlacement:$,mergedTheme:re,handlePositiveClick:ee,handleNegativeClick:te,handleCloseClick:b,cssVars:m?void 0:ne,themeClass:ie?.themeClass,onRender:ie?.onRender}},render(){var u;const{bordered:a,mergedIconPlacement:d,cssVars:m,closable:$,showIcon:ee,title:te,content:b,action:re,negativeText:ne,positiveText:ie,positiveButtonProps:se,negativeButtonProps:fe,handlePositiveClick:ce,handleNegativeClick:de,mergedTheme:ye,loading:ge,type:_e,mergedClsPrefix:Ee}=this;(u=this.onRender)===null||u===void 0||u.call(this);const Ae=ee?h(NBaseIcon,{clsPrefix:Ee,class:`${Ee}-dialog__icon`},{default:()=>resolveWrappedSlot(this.$slots.icon,Me=>Me||(this.icon?render$1(this.icon):iconRenderMap[this.type]()))}):null,we=resolveWrappedSlot(this.$slots.action,Me=>Me||ie||ne||re?h("div",{class:`${Ee}-dialog__action`},Me||(re?[render$1(re)]:[this.negativeText&&h(NButton,Object.assign({theme:ye.peers.Button,themeOverrides:ye.peerOverrides.Button,ghost:!0,size:"small",onClick:de},fe),{default:()=>render$1(this.negativeText)}),this.positiveText&&h(NButton,Object.assign({theme:ye.peers.Button,themeOverrides:ye.peerOverrides.Button,size:"small",type:_e==="default"?"primary":_e,disabled:ge,loading:ge,onClick:ce},se),{default:()=>render$1(this.positiveText)})])):null);return h("div",{class:[`${Ee}-dialog`,this.themeClass,this.closable&&`${Ee}-dialog--closable`,`${Ee}-dialog--icon-${d}`,a&&`${Ee}-dialog--bordered`],style:m,role:"dialog"},$?h(NBaseClose,{clsPrefix:Ee,class:`${Ee}-dialog__close`,onClick:this.handleCloseClick}):null,ee&&d==="top"?h("div",{class:`${Ee}-dialog-icon-container`},Ae):null,h("div",{class:`${Ee}-dialog__title`},ee&&d==="left"?Ae:null,resolveSlot(this.$slots.header,()=>[render$1(te)])),h("div",{class:[`${Ee}-dialog__content`,we?"":`${Ee}-dialog__content--last`]},resolveSlot(this.$slots.default,()=>[render$1(b)])),we)}}),dialogProviderInjectionKey="n-dialog-provider",self$5=u=>{const{modalColor:a,textColor2:d,boxShadow3:m}=u;return{color:a,textColor:d,boxShadow:m}},modalLight={name:"Modal",common:commonLight,peers:{Scrollbar:scrollbarLight$1,Dialog:dialogLight$1,Card:cardLight$1},self:self$5},modalLight$1=modalLight,presetProps=Object.assign(Object.assign({},cardBaseProps),dialogProps),presetPropsKeys=keysOf(presetProps),NModalBodyWrapper=defineComponent({name:"ModalBody",inheritAttrs:!1,props:Object.assign(Object.assign({show:{type:Boolean,required:!0},preset:String,displayDirective:{type:String,required:!0},trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},blockScroll:Boolean},presetProps),{renderMask:Function,onClickoutside:Function,onBeforeLeave:{type:Function,required:!0},onAfterLeave:{type:Function,required:!0},onPositiveClick:{type:Function,required:!0},onNegativeClick:{type:Function,required:!0},onClose:{type:Function,required:!0},onAfterEnter:Function,onEsc:Function}),setup(u){const a=ref(null),d=ref(null),m=ref(u.show),$=ref(null),ee=ref(null);watch(toRef(u,"show"),ge=>{ge&&(m.value=!0)}),useLockHtmlScroll(computed(()=>u.blockScroll&&m.value));const te=inject(modalInjectionKey);function b(){if(te.transformOriginRef.value==="center")return"";const{value:ge}=$,{value:_e}=ee;if(ge===null||_e===null)return"";if(d.value){const Ee=d.value.containerScrollTop;return`${ge}px ${_e+Ee}px`}return""}function re(ge){if(te.transformOriginRef.value==="center")return;const _e=te.getMousePosition();if(!_e||!d.value)return;const Ee=d.value.containerScrollTop,{offsetLeft:Ae,offsetTop:we}=ge;if(_e){const Me=_e.y,ke=_e.x;$.value=-(Ae-ke),ee.value=-(we-Me-Ee)}ge.style.transformOrigin=b()}function ne(ge){nextTick(()=>{re(ge)})}function ie(ge){ge.style.transformOrigin=b(),u.onBeforeLeave()}function se(){m.value=!1,$.value=null,ee.value=null,u.onAfterLeave()}function fe(){const{onClose:ge}=u;ge&&ge()}function ce(){u.onNegativeClick()}function de(){u.onPositiveClick()}const ye=ref(null);return watch(ye,ge=>{ge&&nextTick(()=>{const _e=ge.el;_e&&a.value!==_e&&(a.value=_e)})}),provide(modalBodyInjectionKey,a),provide(drawerBodyInjectionKey,null),provide(popoverBodyInjectionKey,null),{mergedTheme:te.mergedThemeRef,appear:te.appearRef,isMounted:te.isMountedRef,mergedClsPrefix:te.mergedClsPrefixRef,bodyRef:a,scrollbarRef:d,displayed:m,childNodeRef:ye,handlePositiveClick:de,handleNegativeClick:ce,handleCloseClick:fe,handleAfterLeave:se,handleBeforeLeave:ie,handleEnter:ne}},render(){const{$slots:u,$attrs:a,handleEnter:d,handleAfterLeave:m,handleBeforeLeave:$,preset:ee,mergedClsPrefix:te}=this;let b=null;if(!ee){if(b=getFirstSlotVNode(u),!b){warn$3("modal","default slot is empty");return}b=cloneVNode(b),b.props=mergeProps({class:`${te}-modal`},a,b.props||{})}return this.displayDirective==="show"||this.displayed||this.show?withDirectives(h("div",{role:"none",class:`${te}-modal-body-wrapper`},h(NScrollbar$1,{ref:"scrollbarRef",theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar,contentClass:`${te}-modal-scroll-content`},{default:()=>{var re;return[(re=this.renderMask)===null||re===void 0?void 0:re.call(this),h(FocusTrap$1,{disabled:!this.trapFocus,active:this.show,onEsc:this.onEsc,autoFocus:this.autoFocus},{default:()=>{var ne;return h(Transition,{name:"fade-in-scale-up-transition",appear:(ne=this.appear)!==null&&ne!==void 0?ne:this.isMounted,onEnter:d,onAfterEnter:this.onAfterEnter,onAfterLeave:m,onBeforeLeave:$},{default:()=>{const ie=[[vShow,this.show]],{onClickoutside:se}=this;return se&&ie.push([clickoutside$1,this.onClickoutside,void 0,{capture:!0}]),withDirectives(this.preset==="confirm"||this.preset==="dialog"?h(NDialog,Object.assign({},this.$attrs,{class:[`${te}-modal`,this.$attrs.class],ref:"bodyRef",theme:this.mergedTheme.peers.Dialog,themeOverrides:this.mergedTheme.peerOverrides.Dialog},keep(this.$props,dialogPropKeys),{"aria-modal":"true"}),u):this.preset==="card"?h(NCard,Object.assign({},this.$attrs,{ref:"bodyRef",class:[`${te}-modal`,this.$attrs.class],theme:this.mergedTheme.peers.Card,themeOverrides:this.mergedTheme.peerOverrides.Card},keep(this.$props,cardBasePropKeys),{"aria-modal":"true",role:"dialog"}),u):this.childNodeRef=b,ie)}})}})]}})),[[vShow,this.displayDirective==="if"||this.displayed||this.show]]):null}}),style$4=c$1([cB("modal-container",`
 position: fixed;
 left: 0;
 top: 0;
 height: 0;
 width: 0;
 display: flex;
 `),cB("modal-mask",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background-color: rgba(0, 0, 0, .4);
 `,[fadeInTransition({enterDuration:".25s",leaveDuration:".25s",enterCubicBezier:"var(--n-bezier-ease-out)",leaveCubicBezier:"var(--n-bezier-ease-out)"})]),cB("modal-body-wrapper",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 overflow: visible;
 `,[cB("modal-scroll-content",`
 min-height: 100%;
 display: flex;
 position: relative;
 `)]),cB("modal",`
 position: relative;
 align-self: center;
 color: var(--n-text-color);
 margin: auto;
 box-shadow: var(--n-box-shadow);
 `,[fadeInScaleUpTransition({duration:".25s",enterScale:".5"})])]),modalProps=Object.assign(Object.assign(Object.assign(Object.assign({},useTheme.props),{show:Boolean,unstableShowMask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},preset:String,to:[String,Object],displayDirective:{type:String,default:"if"},transformOrigin:{type:String,default:"mouse"},zIndex:Number,autoFocus:{type:Boolean,default:!0},trapFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0}}),presetProps),{onEsc:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onBeforeLeave:Function,onAfterLeave:Function,onClose:Function,onPositiveClick:Function,onNegativeClick:Function,onMaskClick:Function,internalDialog:Boolean,internalAppear:{type:Boolean,default:void 0},overlayStyle:[String,Object],onBeforeHide:Function,onAfterHide:Function,onHide:Function}),NModal=defineComponent({name:"Modal",inheritAttrs:!1,props:modalProps,setup(u){const a=ref(null),{mergedClsPrefixRef:d,namespaceRef:m,inlineThemeDisabled:$}=useConfig(u),ee=useTheme("Modal","-modal",style$4,modalLight$1,u,d),te=useClicked(64),b=useClickPosition(),re=isMounted(),ne=u.internalDialog?inject(dialogProviderInjectionKey,null):null,ie=useIsComposing();function se(Me){const{onUpdateShow:ke,"onUpdate:show":Re,onHide:ze}=u;ke&&call(ke,Me),Re&&call(Re,Me),ze&&!Me&&ze(Me)}function fe(){const{onClose:Me}=u;Me?Promise.resolve(Me()).then(ke=>{ke!==!1&&se(!1)}):se(!1)}function ce(){const{onPositiveClick:Me}=u;Me?Promise.resolve(Me()).then(ke=>{ke!==!1&&se(!1)}):se(!1)}function de(){const{onNegativeClick:Me}=u;Me?Promise.resolve(Me()).then(ke=>{ke!==!1&&se(!1)}):se(!1)}function ye(){const{onBeforeLeave:Me,onBeforeHide:ke}=u;Me&&call(Me),ke&&ke()}function ge(){const{onAfterLeave:Me,onAfterHide:ke}=u;Me&&call(Me),ke&&ke()}function _e(Me){var ke;const{onMaskClick:Re}=u;Re&&Re(Me),u.maskClosable&&!((ke=a.value)===null||ke===void 0)&&ke.contains(Me.target)&&se(!1)}function Ee(Me){var ke;(ke=u.onEsc)===null||ke===void 0||ke.call(u),u.show&&u.closeOnEsc&&eventEffectNotPerformed(Me)&&!ie.value&&se(!1)}provide(modalInjectionKey,{getMousePosition:()=>{if(ne){const{clickedRef:Me,clickPositionRef:ke}=ne;if(Me.value&&ke.value)return ke.value}return te.value?b.value:null},mergedClsPrefixRef:d,mergedThemeRef:ee,isMountedRef:re,appearRef:toRef(u,"internalAppear"),transformOriginRef:toRef(u,"transformOrigin")});const Ae=computed(()=>{const{common:{cubicBezierEaseOut:Me},self:{boxShadow:ke,color:Re,textColor:ze}}=ee.value;return{"--n-bezier-ease-out":Me,"--n-box-shadow":ke,"--n-color":Re,"--n-text-color":ze}}),we=$?useThemeClass("theme-class",void 0,Ae,u):void 0;return{mergedClsPrefix:d,namespace:m,isMounted:re,containerRef:a,presetProps:computed(()=>keep(u,presetPropsKeys)),handleEsc:Ee,handleAfterLeave:ge,handleClickoutside:_e,handleBeforeLeave:ye,doUpdateShow:se,handleNegativeClick:de,handlePositiveClick:ce,handleCloseClick:fe,cssVars:$?void 0:Ae,themeClass:we?.themeClass,onRender:we?.onRender}},render(){const{mergedClsPrefix:u}=this;return h(LazyTeleport,{to:this.to,show:this.show},{default:()=>{var a;(a=this.onRender)===null||a===void 0||a.call(this);const{unstableShowMask:d}=this;return withDirectives(h("div",{role:"none",ref:"containerRef",class:[`${u}-modal-container`,this.themeClass,this.namespace],style:this.cssVars},h(NModalBodyWrapper,Object.assign({style:this.overlayStyle},this.$attrs,{ref:"bodyWrapper",displayDirective:this.displayDirective,show:this.show,preset:this.preset,autoFocus:this.autoFocus,trapFocus:this.trapFocus,blockScroll:this.blockScroll},this.presetProps,{onEsc:this.handleEsc,onClose:this.handleCloseClick,onNegativeClick:this.handleNegativeClick,onPositiveClick:this.handlePositiveClick,onBeforeLeave:this.handleBeforeLeave,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave,onClickoutside:d?void 0:this.handleClickoutside,renderMask:d?()=>{var m;return h(Transition,{name:"fade-in-transition",key:"mask",appear:(m=this.internalAppear)!==null&&m!==void 0?m:this.isMounted},{default:()=>this.show?h("div",{"aria-hidden":!0,ref:"containerRef",class:`${u}-modal-mask`,onClick:this.handleClickoutside}):null})}:void 0}),this.$slots)),[[zindexable$1,{zIndex:this.zIndex,enabled:this.show}]])}})}}),commonVars$1={gapSmall:"4px 8px",gapMedium:"8px 12px",gapLarge:"12px 16px"},self$4=()=>commonVars$1,spaceLight={name:"Space",self:self$4},spaceLight$1=spaceLight;let supportFlexGap;const ensureSupportFlexGap=()=>{if(!isBrowser$2)return!0;if(supportFlexGap===void 0){const u=document.createElement("div");u.style.display="flex",u.style.flexDirection="column",u.style.rowGap="1px",u.appendChild(document.createElement("div")),u.appendChild(document.createElement("div")),document.body.appendChild(u);const a=u.scrollHeight===1;return document.body.removeChild(u),supportFlexGap=a}return supportFlexGap},spaceProps=Object.assign(Object.assign({},useTheme.props),{align:String,justify:{type:String,default:"start"},inline:Boolean,vertical:Boolean,size:{type:[String,Number,Array],default:"medium"},wrapItem:{type:Boolean,default:!0},itemStyle:[String,Object],wrap:{type:Boolean,default:!0},internalUseGap:{type:Boolean,default:void 0}}),NSpace=defineComponent({name:"Space",props:spaceProps,setup(u){const{mergedClsPrefixRef:a,mergedRtlRef:d}=useConfig(u),m=useTheme("Space","-space",void 0,spaceLight$1,u,a),$=useRtl("Space",d,a);return{useGap:ensureSupportFlexGap(),rtlEnabled:$,mergedClsPrefix:a,margin:computed(()=>{const{size:ee}=u;if(Array.isArray(ee))return{horizontal:ee[0],vertical:ee[1]};if(typeof ee=="number")return{horizontal:ee,vertical:ee};const{self:{[createKey("gap",ee)]:te}}=m.value,{row:b,col:re}=getGap(te);return{horizontal:depx(re),vertical:depx(b)}})}},render(){const{vertical:u,align:a,inline:d,justify:m,itemStyle:$,margin:ee,wrap:te,mergedClsPrefix:b,rtlEnabled:re,useGap:ne,wrapItem:ie,internalUseGap:se}=this,fe=flatten$2(getSlot$1(this));if(!fe.length)return null;const ce=`${ee.horizontal}px`,de=`${ee.horizontal/2}px`,ye=`${ee.vertical}px`,ge=`${ee.vertical/2}px`,_e=fe.length-1,Ee=m.startsWith("space-");return h("div",{role:"none",class:[`${b}-space`,re&&`${b}-space--rtl`],style:{display:d?"inline-flex":"flex",flexDirection:u?"column":"row",justifyContent:["start","end"].includes(m)?"flex-"+m:m,flexWrap:!te||u?"nowrap":"wrap",marginTop:ne||u?"":`-${ge}`,marginBottom:ne||u?"":`-${ge}`,alignItems:a,gap:ne?`${ee.vertical}px ${ee.horizontal}px`:""}},!ie&&(ne||se)?fe:fe.map((Ae,we)=>h("div",{role:"none",style:[$,{maxWidth:"100%"},ne?"":u?{marginBottom:we!==_e?ye:""}:re?{marginLeft:Ee?m==="space-between"&&we===_e?"":de:we!==_e?ce:"",marginRight:Ee?m==="space-between"&&we===0?"":de:"",paddingTop:ge,paddingBottom:ge}:{marginRight:Ee?m==="space-between"&&we===_e?"":de:we!==_e?ce:"",marginLeft:Ee?m==="space-between"&&we===0?"":de:"",paddingTop:ge,paddingBottom:ge}]},Ae)))}}),defaultSpan$1=1,gridInjectionKey="n-grid",defaultSpan=1,gridItemProps={span:{type:[Number,String],default:defaultSpan},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},NGridItem=defineComponent({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:gridItemProps,setup(){const{isSsrRef:u,xGapRef:a,itemStyleRef:d,overflowRef:m}=inject(gridInjectionKey),$=getCurrentInstance();return{overflow:m,itemStyle:d,deriveStyle:()=>{u.value;const{privateSpan:ee=defaultSpan,privateShow:te=!0,privateColStart:b=void 0,privateOffset:re=0}=$.vnode.props,{value:ne}=a,ie=pxfy(ne||0);return{display:te?"":"none",gridColumn:`${b??`span ${ee}`} / span ${ee}`,marginLeft:re?`calc((100% - (${ee} - 1) * ${ie}) / ${ee} * ${re} + ${ie} * ${re})`:""}}}},render(){var u,a;return h("div",{style:[this.itemStyle,this.deriveStyle()]},(a=(u=this.$slots).default)===null||a===void 0?void 0:a.call(u,{overflow:this.overflow}))}}),positionStyles=Array.apply(null,{length:24}).map((u,a)=>{const d=a+1,m=`calc(100% / 24 * ${d})`;return[cM(`${d}-span`,{width:m}),cM(`${d}-offset`,{marginLeft:m}),cM(`${d}-push`,{left:m}),cM(`${d}-pull`,{right:m})]}),style$3=c$1([cB("row",{width:"100%",display:"flex",flexWrap:"wrap"}),cB("col",{verticalAlign:"top",boxSizing:"border-box",display:"inline-block",position:"relative",zIndex:"auto"},[cE("box",{position:"relative",zIndex:"auto",width:"100%",height:"100%"}),positionStyles])]),rowInjectionKey="n-row",rowProps={gutter:{type:[Array,Number,String],default:0},alignItems:String,justifyContent:String};defineComponent({name:"Row",props:rowProps,setup(u){const{mergedClsPrefixRef:a,mergedRtlRef:d}=useConfig(u);useStyle("-legacy-grid",style$3,a);const m=useRtl("Row",d,a),$=useMemo(()=>{const{gutter:te}=u;return Array.isArray(te)&&te[1]||0}),ee=useMemo(()=>{const{gutter:te}=u;return Array.isArray(te)?te[0]:Number(te)});return provide(rowInjectionKey,{mergedClsPrefixRef:a,gutterRef:toRef(u,"gutter"),verticalGutterRef:$,horizontalGutterRef:ee}),{mergedClsPrefix:a,rtlEnabled:m,styleMargin:useMemo(()=>`-${formatLength($.value,{c:.5})} -${formatLength(ee.value,{c:.5})}`),styleWidth:useMemo(()=>`calc(100% + ${formatLength(ee.value)})`)}},render(){return h("div",{class:[`${this.mergedClsPrefix}-row`,this.rtlEnabled&&`${this.mergedClsPrefix}-row--rtl`],style:{margin:this.styleMargin,width:this.styleWidth,alignItems:this.alignItems,justifyContent:this.justifyContent}},this.$slots)}});const colProps={span:{type:[String,Number],default:1},push:{type:[String,Number],default:0},pull:{type:[String,Number],default:0},offset:{type:[String,Number],default:0}},NCol=defineComponent({name:"Col",props:colProps,setup(u){const a=inject(rowInjectionKey,null);return a||throwError("col","`n-col` must be placed inside `n-row`."),{mergedClsPrefix:a.mergedClsPrefixRef,gutter:a.gutterRef,stylePadding:computed(()=>`${formatLength(a.verticalGutterRef.value,{c:.5})} ${formatLength(a.horizontalGutterRef.value,{c:.5})}`),mergedPush:computed(()=>Number(u.push)-Number(u.pull))}},render(){const{$slots:u,span:a,mergedPush:d,offset:m,stylePadding:$,gutter:ee,mergedClsPrefix:te}=this;return h("div",{class:[`${te}-col`,{[`${te}-col--${a}-span`]:!0,[`${te}-col--${d}-push`]:d>0,[`${te}-col--${-d}-pull`]:d<0,[`${te}-col--${m}-offset`]:m}],style:{padding:$}},ee?h("div",null,u):u)}}),defaultBreakpoints={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},defaultCols=24,SSR_ATTR_NAME="__ssr__",gridProps={responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:defaultCols},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},NGrid=defineComponent({name:"Grid",inheritAttrs:!1,props:gridProps,setup(u){const{mergedClsPrefixRef:a,mergedBreakpointsRef:d}=useConfig(u),m=/^\d+$/,$=ref(void 0),ee=useBreakpoints(d?.value||defaultBreakpoints),te=useMemo(()=>!!(u.itemResponsive||!m.test(u.cols.toString())||!m.test(u.xGap.toString())||!m.test(u.yGap.toString()))),b=computed(()=>{if(!!te.value)return u.responsive==="self"?$.value:ee.value}),re=useMemo(()=>{var _e;return(_e=Number(parseResponsivePropValue(u.cols.toString(),b.value)))!==null&&_e!==void 0?_e:defaultCols}),ne=useMemo(()=>parseResponsivePropValue(u.xGap.toString(),b.value)),ie=useMemo(()=>parseResponsivePropValue(u.yGap.toString(),b.value)),se=_e=>{$.value=_e.contentRect.width},fe=_e=>{beforeNextFrameOnce(se,_e)},ce=ref(!1),de=computed(()=>{if(u.responsive==="self")return fe}),ye=ref(!1),ge=ref();return onMounted(()=>{const{value:_e}=ge;_e&&_e.hasAttribute(SSR_ATTR_NAME)&&(_e.removeAttribute(SSR_ATTR_NAME),ye.value=!0)}),provide(gridInjectionKey,{isSsrRef:ye,itemStyleRef:toRef(u,"itemStyle"),xGapRef:ne,overflowRef:ce}),{isSsr:!isBrowser$2,contentEl:ge,mergedClsPrefix:a,style:computed(()=>({width:"100%",display:"grid",gridTemplateColumns:`repeat(${re.value}, minmax(0, 1fr))`,columnGap:pxfy(ne.value),rowGap:pxfy(ie.value)})),isResponsive:te,responsiveQuery:b,responsiveCols:re,handleResize:de,overflow:ce}},render(){const u=()=>{var a,d,m,$,ee,te,b;this.overflow=!1;const re=flatten$2(getSlot$1(this)),ne=[],{collapsed:ie,collapsedRows:se,responsiveCols:fe,responsiveQuery:ce}=this;re.forEach(Ee=>{var Ae,we,Me,ke;if(((Ae=Ee?.type)===null||Ae===void 0?void 0:Ae.__GRID_ITEM__)!==!0)return;if(isNodeVShowFalse(Ee)){const Je=cloneVNode(Ee);Je.props?Je.props.privateShow=!1:Je.props={privateShow:!1},ne.push({child:Je,rawChildSpan:0});return}Ee.dirs=((we=Ee.dirs)===null||we===void 0?void 0:we.filter(({dir:Je})=>Je!==vShow))||null;const Re=cloneVNode(Ee),ze=Number((ke=parseResponsivePropValue((Me=Re.props)===null||Me===void 0?void 0:Me.span,ce))!==null&&ke!==void 0?ke:defaultSpan$1);ze!==0&&ne.push({child:Re,rawChildSpan:ze})});let de=0;const ye=(a=ne[ne.length-1])===null||a===void 0?void 0:a.child;if(ye?.props){const Ee=(d=ye.props)===null||d===void 0?void 0:d.suffix;Ee!==void 0&&Ee!==!1&&(de=($=(m=ye.props)===null||m===void 0?void 0:m.span)!==null&&$!==void 0?$:defaultSpan$1,ye.props.privateSpan=de,ye.props.privateColStart=fe+1-de,ye.props.privateShow=(ee=ye.props.privateShow)!==null&&ee!==void 0?ee:!0)}let ge=0,_e=!1;for(const{child:Ee,rawChildSpan:Ae}of ne){if(_e&&(this.overflow=!0),!_e){const we=Number((b=parseResponsivePropValue((te=Ee.props)===null||te===void 0?void 0:te.offset,ce))!==null&&b!==void 0?b:0),Me=Math.min(Ae+we,fe);if(Ee.props?(Ee.props.privateSpan=Me,Ee.props.privateOffset=we):Ee.props={privateSpan:Me,privateOffset:we},ie){const ke=ge%fe;Me+ke>fe&&(ge+=fe-ke),Me+ge+de>se*fe?_e=!0:ge+=Me}}_e&&(Ee.props?Ee.props.privateShow!==!0&&(Ee.props.privateShow=!1):Ee.props={privateShow:!1})}return h("div",mergeProps({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[SSR_ATTR_NAME]:this.isSsr||void 0},this.$attrs),ne.map(({child:Ee})=>Ee))};return this.isResponsive&&this.responsive==="self"?h(VResizeObserver,{onResize:this.handleResize},{default:u}):u()}}),self$3=u=>{const{opacityDisabled:a,heightTiny:d,heightSmall:m,heightMedium:$,heightLarge:ee,heightHuge:te,primaryColor:b,fontSize:re}=u;return{fontSize:re,textColor:b,sizeTiny:d,sizeSmall:m,sizeMedium:$,sizeLarge:ee,sizeHuge:te,color:b,opacitySpinning:a}},spinLight={name:"Spin",common:commonLight,self:self$3},spinLight$1=spinLight,sizeVariables={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabPaddingSmallCard:"6px 10px",tabPaddingMediumCard:"8px 12px",tabPaddingLargeCard:"8px 16px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},self$2=u=>{const{textColor2:a,primaryColor:d,textColorDisabled:m,closeIconColor:$,closeIconColorHover:ee,closeIconColorPressed:te,closeColorHover:b,closeColorPressed:re,tabColor:ne,baseColor:ie,dividerColor:se,fontWeight:fe,textColor1:ce,borderRadius:de,fontSize:ye,fontWeightStrong:ge}=u;return Object.assign(Object.assign({},sizeVariables),{colorSegment:ne,tabFontSizeCard:ye,tabTextColorLine:ce,tabTextColorActiveLine:d,tabTextColorHoverLine:d,tabTextColorDisabledLine:m,tabTextColorSegment:ce,tabTextColorActiveSegment:a,tabTextColorHoverSegment:a,tabTextColorDisabledSegment:m,tabTextColorBar:ce,tabTextColorActiveBar:d,tabTextColorHoverBar:d,tabTextColorDisabledBar:m,tabTextColorCard:ce,tabTextColorHoverCard:ce,tabTextColorActiveCard:d,tabTextColorDisabledCard:m,barColor:d,closeIconColor:$,closeIconColorHover:ee,closeIconColorPressed:te,closeColorHover:b,closeColorPressed:re,closeBorderRadius:de,tabColor:ne,tabColorSegment:ie,tabBorderColor:se,tabFontWeightActive:fe,tabFontWeight:fe,tabBorderRadius:de,paneTextColor:a,fontWeightStrong:ge})},tabsLight={name:"Tabs",common:commonLight,self:self$2},tabsLight$1=tabsLight,commonVars={headerFontSize1:"30px",headerFontSize2:"22px",headerFontSize3:"18px",headerFontSize4:"16px",headerFontSize5:"16px",headerFontSize6:"16px",headerMargin1:"28px 0 20px 0",headerMargin2:"28px 0 20px 0",headerMargin3:"28px 0 20px 0",headerMargin4:"28px 0 18px 0",headerMargin5:"28px 0 18px 0",headerMargin6:"28px 0 18px 0",headerPrefixWidth1:"16px",headerPrefixWidth2:"16px",headerPrefixWidth3:"12px",headerPrefixWidth4:"12px",headerPrefixWidth5:"12px",headerPrefixWidth6:"12px",headerBarWidth1:"4px",headerBarWidth2:"4px",headerBarWidth3:"3px",headerBarWidth4:"3px",headerBarWidth5:"3px",headerBarWidth6:"3px",pMargin:"16px 0 16px 0",liMargin:".25em 0 0 0",olPadding:"0 0 0 2em",ulPadding:"0 0 0 2em"},self$1=u=>{const{primaryColor:a,textColor2:d,borderColor:m,lineHeight:$,fontSize:ee,borderRadiusSmall:te,dividerColor:b,fontWeightStrong:re,textColor1:ne,textColor3:ie,infoColor:se,warningColor:fe,errorColor:ce,successColor:de,codeColor:ye}=u;return Object.assign(Object.assign({},commonVars),{aTextColor:a,blockquoteTextColor:d,blockquotePrefixColor:m,blockquoteLineHeight:$,blockquoteFontSize:ee,codeBorderRadius:te,liTextColor:d,liLineHeight:$,liFontSize:ee,hrColor:b,headerFontWeight:re,headerTextColor:ne,pTextColor:d,pTextColor1Depth:ne,pTextColor2Depth:d,pTextColor3Depth:ie,pLineHeight:$,pFontSize:ee,headerBarColor:a,headerBarColorPrimary:a,headerBarColorInfo:se,headerBarColorError:ce,headerBarColorWarning:fe,headerBarColorSuccess:de,textColor:d,textColor1Depth:ne,textColor2Depth:d,textColor3Depth:ie,textColorPrimary:a,textColorInfo:se,textColorSuccess:de,textColorWarning:fe,textColorError:ce,codeTextColor:d,codeColor:ye,codeBorder:"1px solid #0000"})},typographyLight={name:"Typography",common:commonLight,self:self$1},typographyLight$1=typographyLight,scrollbarProps=Object.assign(Object.assign({},useTheme.props),{trigger:String,xScrollable:Boolean,onScroll:Function}),Scrollbar=defineComponent({name:"Scrollbar",props:scrollbarProps,setup(){const u=ref(null);return Object.assign(Object.assign({},{scrollTo:(...d)=>{var m;(m=u.value)===null||m===void 0||m.scrollTo(d[0],d[1])},scrollBy:(...d)=>{var m;(m=u.value)===null||m===void 0||m.scrollBy(d[0],d[1])}}),{scrollbarInstRef:u})},render(){return h(NScrollbar$1,Object.assign({ref:"scrollbarInstRef"},this.$props),this.$slots)}}),NScrollbar=Scrollbar,style$2=c$1([c$1("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),cB("spin-container",{position:"relative"},[cB("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[fadeInTransition()])]),cB("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),cB("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[cM("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),cB("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),cB("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[cM("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),STROKE_WIDTH={small:20,medium:18,large:16},spinProps=Object.assign(Object.assign({},useTheme.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),NSpin=defineComponent({name:"Spin",props:spinProps,setup(u){const{mergedClsPrefixRef:a,inlineThemeDisabled:d}=useConfig(u),m=useTheme("Spin","-spin",style$2,spinLight$1,u,a),$=computed(()=>{const{size:te}=u,{common:{cubicBezierEaseInOut:b},self:re}=m.value,{opacitySpinning:ne,color:ie,textColor:se}=re,fe=typeof te=="number"?pxfy(te):re[createKey("size",te)];return{"--n-bezier":b,"--n-opacity-spinning":ne,"--n-size":fe,"--n-color":ie,"--n-text-color":se}}),ee=d?useThemeClass("spin",computed(()=>{const{size:te}=u;return typeof te=="number"?String(te):te[0]}),$,u):void 0;return{mergedClsPrefix:a,compitableShow:useCompitable(u,["spinning","show"]),mergedStrokeWidth:computed(()=>{const{strokeWidth:te}=u;if(te!==void 0)return te;const{size:b}=u;return STROKE_WIDTH[typeof b=="number"?"medium":b]}),cssVars:d?void 0:$,themeClass:ee?.themeClass,onRender:ee?.onRender}},render(){var u,a;const{$slots:d,mergedClsPrefix:m,description:$}=this,ee=d.icon&&this.rotate,te=($||d.description)&&h("div",{class:`${m}-spin-description`},$||((u=d.description)===null||u===void 0?void 0:u.call(d))),b=d.icon?h("div",{class:[`${m}-spin-body`,this.themeClass]},h("div",{class:[`${m}-spin`,ee&&`${m}-spin--rotate`],style:d.default?"":this.cssVars},d.icon()),te):h("div",{class:[`${m}-spin-body`,this.themeClass]},h(NBaseLoading,{clsPrefix:m,style:d.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${m}-spin`}),te);return(a=this.onRender)===null||a===void 0||a.call(this),d.default?h("div",{class:[`${m}-spin-container`,this.themeClass],style:this.cssVars},h("div",{class:[`${m}-spin-content`,this.compitableShow&&`${m}-spin-content--spinning`]},d),h(Transition,{name:"fade-in-transition"},{default:()=>this.compitableShow?b:null})):b}}),tabsInjectionKey="n-tabs",tabPaneProps={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},NTabPane=defineComponent({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:tabPaneProps,setup(u){const a=inject(tabsInjectionKey,null);return a||throwError("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:a.paneStyleRef,class:a.paneClassRef,mergedClsPrefix:a.mergedClsPrefixRef}},render(){return h("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),tabProps=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},omit$1(tabPaneProps,["displayDirective"])),Tab$1=defineComponent({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:tabProps,setup(u){const{mergedClsPrefixRef:a,valueRef:d,typeRef:m,closableRef:$,tabStyleRef:ee,tabChangeIdRef:te,onBeforeLeaveRef:b,triggerRef:re,handleAdd:ne,activateTab:ie,handleClose:se}=inject(tabsInjectionKey);return{trigger:re,mergedClosable:computed(()=>{if(u.internalAddable)return!1;const{closable:fe}=u;return fe===void 0?$.value:fe}),style:ee,clsPrefix:a,value:d,type:m,handleClose(fe){fe.stopPropagation(),!u.disabled&&se(u.name)},activateTab(){if(u.disabled)return;if(u.internalAddable){ne();return}const{name:fe}=u,ce=++te.id;if(fe!==d.value){const{value:de}=b;de?Promise.resolve(de(u.name,d.value)).then(ye=>{ye&&te.id===ce&&ie(fe)}):ie(fe)}}}},render(){const{internalAddable:u,clsPrefix:a,name:d,disabled:m,label:$,tab:ee,value:te,mergedClosable:b,style:re,trigger:ne,$slots:{default:ie}}=this,se=$??ee;return h("div",{class:`${a}-tabs-tab-wrapper`},this.internalLeftPadded?h("div",{class:`${a}-tabs-tab-pad`}):null,h("div",Object.assign({key:d,"data-name":d,"data-disabled":m?!0:void 0},mergeProps({class:[`${a}-tabs-tab`,te===d&&`${a}-tabs-tab--active`,m&&`${a}-tabs-tab--disabled`,b&&`${a}-tabs-tab--closable`,u&&`${a}-tabs-tab--addable`],onClick:ne==="click"?this.activateTab:void 0,onMouseenter:ne==="hover"?this.activateTab:void 0,style:u?void 0:re},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),h("span",{class:`${a}-tabs-tab__label`},u?h(Fragment,null,h("div",{class:`${a}-tabs-tab__height-placeholder`},"\xA0"),h(NBaseIcon,{clsPrefix:a},{default:()=>h(AddIcon$1,null)})):ie?ie():typeof se=="object"?se:render$1(se??d)),b&&this.type==="card"?h(NBaseClose,{clsPrefix:a,class:`${a}-tabs-tab__close`,onClick:this.handleClose,disabled:m}):null))}}),style$1=cB("tabs",`
 box-sizing: border-box;
 width: 100%;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[cM("segment-type",[cB("tabs-rail",[c$1("&.transition-disabled","color: red;",[cB("tabs-tab",`
 transition: none;
 `)])])]),cB("tabs-rail",`
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[cB("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[cB("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[cM("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 `),c$1("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),cM("flex",[cB("tabs-nav",{width:"100%"},[cB("tabs-wrapper",{width:"100%"},[cB("tabs-tab",{marginRight:0})])])]),cB("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[cE("prefix, suffix",`
 display: flex;
 align-items: center;
 `),cE("prefix","padding-right: 16px;"),cE("suffix","padding-left: 16px;")]),cB("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[cM("shadow-before",[c$1("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),cM("shadow-after",[c$1("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),c$1("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 top: 0;
 bottom: 0;
 width: 20px;
 z-index: 1;
 `),c$1("&::before",`
 left: 0;
 `),c$1("&::after",`
 right: 0;
 `)]),cB("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 width: fit-content;
 `),cB("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),cB("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),cB("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[cM("disabled",{cursor:"not-allowed"}),cE("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),cE("label",`
 display: flex;
 align-items: center;
 `)]),cB("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[c$1("&.transition-disabled",`
 transition: none;
 `),cM("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),cB("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),cB("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 padding: var(--n-pane-padding);
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[c$1("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),c$1("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),c$1("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),c$1("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),c$1("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),cB("tabs-tab-pad",`
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),cM("line-type, bar-type",[cB("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[c$1("&:hover",{color:"var(--n-tab-text-color-hover)"}),cM("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),cM("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),cB("tabs-nav",[cM("line-type",[cE("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),cB("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),cB("tabs-bar",`
 border-radius: 0;
 bottom: -1px;
 `)]),cM("card-type",[cE("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),cB("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),cB("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),cB("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[cM("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 `,[cE("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),cNotM("disabled",[c$1("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),cM("closable","padding-right: 6px;"),cM("active",`
 border-bottom: 1px solid #0000;
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),cM("disabled","color: var(--n-tab-text-color-disabled);")]),cB("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);")])])]),tabsProps=Object.assign(Object.assign({},useTheme.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},tabStyle:[String,Object],barWidth:Number,paneClass:String,paneStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),NTabs=defineComponent({name:"Tabs",props:tabsProps,setup(u,{slots:a}){var d,m,$,ee;const{mergedClsPrefixRef:te,inlineThemeDisabled:b}=useConfig(u),re=useTheme("Tabs","-tabs",style$1,tabsLight$1,u,te),ne=ref(null),ie=ref(null),se=ref(null),fe=ref(null),ce=ref(null),de=ref(!0),ye=ref(!0),ge=useCompitable(u,["labelSize","size"]),_e=useCompitable(u,["activeName","value"]),Ee=ref((m=(d=_e.value)!==null&&d!==void 0?d:u.defaultValue)!==null&&m!==void 0?m:a.default?(ee=($=flatten$2(a.default())[0])===null||$===void 0?void 0:$.props)===null||ee===void 0?void 0:ee.name:null),Ae=useMergedState(_e,Ee),we={id:0},Me=computed(()=>{if(!(!u.justifyContent||u.type==="card"))return{display:"flex",justifyContent:u.justifyContent}});watch(Ae,()=>{we.id=0,ze()});function ke(){var Qe;const{value:ct}=Ae;return ct===null?null:(Qe=ne.value)===null||Qe===void 0?void 0:Qe.querySelector(`[data-name="${ct}"]`)}function Re(Qe){if(u.type==="card")return;const{value:ct}=ie;if(!!ct&&Qe){const ft=`${te.value}-tabs-bar--disabled`,{barWidth:bt}=u;if(Qe.dataset.disabled==="true"?ct.classList.add(ft):ct.classList.remove(ft),typeof bt=="number"&&Qe.offsetWidth>=bt){const St=Math.floor((Qe.offsetWidth-bt)/2)+Qe.offsetLeft;ct.style.left=`${St}px`,ct.style.maxWidth=`${bt}px`}else ct.style.left=`${Qe.offsetLeft}px`,ct.style.maxWidth=`${Qe.offsetWidth}px`;ct.style.width="8192px",ct.offsetWidth}}function ze(){if(u.type==="card")return;const Qe=ke();Qe&&Re(Qe)}const Je=ref(null);let et=0,Pe=null;function ve(Qe){const ct=Je.value;if(ct){et=Qe.getBoundingClientRect().height;const ft=`${et}px`,bt=()=>{ct.style.height=ft,ct.style.maxHeight=ft};Pe?(bt(),Pe(),Pe=null):Pe=bt}}function le(Qe){const ct=Je.value;if(ct){const ft=Qe.getBoundingClientRect().height,bt=()=>{document.body.offsetHeight,ct.style.maxHeight=`${ft}px`,ct.style.height=`${Math.max(et,ft)}px`};Pe?(Pe(),Pe=null,bt()):Pe=bt}}function ae(){const Qe=Je.value;Qe&&(Qe.style.maxHeight="",Qe.style.height="")}const he={value:[]},xe=ref("next");function $e(Qe){const ct=Ae.value;let ft="next";for(const bt of he.value){if(bt===ct)break;if(bt===Qe){ft="prev";break}}xe.value=ft,He(Qe)}function He(Qe){const{onActiveNameChange:ct,onUpdateValue:ft,"onUpdate:value":bt}=u;ct&&call(ct,Qe),ft&&call(ft,Qe),bt&&call(bt,Qe),Ee.value=Qe}function Fe(Qe){const{onClose:ct}=u;ct&&call(ct,Qe)}function Ne(){const{value:Qe}=ie;if(!Qe)return;const ct="transition-disabled";Qe.classList.add(ct),ze(),Qe.classList.remove(ct)}let De=0;function pe(Qe){var ct;if(Qe.contentRect.width===0&&Qe.contentRect.height===0||De===Qe.contentRect.width)return;De=Qe.contentRect.width;const{type:ft}=u;(ft==="line"||ft==="bar")&&Ne(),ft!=="segment"&&rt((ct=ce.value)===null||ct===void 0?void 0:ct.$el)}const Le=throttle$1(pe,64);watch([()=>u.justifyContent,()=>u.size],()=>{nextTick(()=>{const{type:Qe}=u;(Qe==="line"||Qe==="bar")&&Ne()})});const Be=ref(!1);function Ce(Qe){var ct;const{target:ft,contentRect:{width:bt}}=Qe,St=ft.parentElement.offsetWidth;if(!Be.value)St<bt&&(Be.value=!0);else{const{value:xt}=fe;if(!xt)return;St-bt>xt.$el.offsetWidth&&(Be.value=!1)}rt((ct=ce.value)===null||ct===void 0?void 0:ct.$el)}const Ze=throttle$1(Ce,64);function it(){const{onAdd:Qe}=u;Qe&&Qe(),nextTick(()=>{const ct=ke(),{value:ft}=ce;!ct||!ft||ft.scrollTo({left:ct.offsetLeft,top:0,behavior:"smooth"})})}function rt(Qe){if(!Qe)return;const{scrollLeft:ct,scrollWidth:ft,offsetWidth:bt}=Qe;de.value=ct<=0,ye.value=ct+bt>=ft}const Oe=throttle$1(Qe=>{rt(Qe.target)},64);provide(tabsInjectionKey,{triggerRef:toRef(u,"trigger"),tabStyleRef:toRef(u,"tabStyle"),paneClassRef:toRef(u,"paneClass"),paneStyleRef:toRef(u,"paneStyle"),mergedClsPrefixRef:te,typeRef:toRef(u,"type"),closableRef:toRef(u,"closable"),valueRef:Ae,tabChangeIdRef:we,onBeforeLeaveRef:toRef(u,"onBeforeLeave"),activateTab:$e,handleClose:Fe,handleAdd:it}),onFontsReady(()=>{ze()}),watchEffect(()=>{const{value:Qe}=se;if(!Qe)return;const{value:ct}=te,ft=`${ct}-tabs-nav-scroll-wrapper--shadow-before`,bt=`${ct}-tabs-nav-scroll-wrapper--shadow-after`;de.value?Qe.classList.remove(ft):Qe.classList.add(ft),ye.value?Qe.classList.remove(bt):Qe.classList.add(bt)});const Ve=ref(null);watch(Ae,()=>{if(u.type==="segment"){const Qe=Ve.value;Qe&&nextTick(()=>{Qe.classList.add("transition-disabled"),Qe.offsetWidth,Qe.classList.remove("transition-disabled")})}});const We={syncBarPosition:()=>{ze()}},qe=computed(()=>{const{value:Qe}=ge,{type:ct}=u,ft={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[ct],bt=`${Qe}${ft}`,{self:{barColor:St,closeIconColor:xt,closeIconColorHover:$t,closeIconColorPressed:It,tabColor:Et,tabBorderColor:At,paneTextColor:kt,tabFontWeight:Kt,tabBorderRadius:lt,tabFontWeightActive:Se,colorSegment:me,fontWeightStrong:be,tabColorSegment:Ye,closeSize:ut,closeIconSize:yt,closeColorHover:wt,closeColorPressed:Ut,closeBorderRadius:Xt,[createKey("panePadding",Qe)]:Ct,[createKey("tabPadding",bt)]:Ht,[createKey("tabGap",bt)]:Yt,[createKey("tabTextColor",ct)]:ar,[createKey("tabTextColorActive",ct)]:tr,[createKey("tabTextColorHover",ct)]:vr,[createKey("tabTextColorDisabled",ct)]:ur,[createKey("tabFontSize",Qe)]:Sr},common:{cubicBezierEaseInOut:Ar}}=re.value;return{"--n-bezier":Ar,"--n-color-segment":me,"--n-bar-color":St,"--n-tab-font-size":Sr,"--n-tab-text-color":ar,"--n-tab-text-color-active":tr,"--n-tab-text-color-disabled":ur,"--n-tab-text-color-hover":vr,"--n-pane-text-color":kt,"--n-tab-border-color":At,"--n-tab-border-radius":lt,"--n-close-size":ut,"--n-close-icon-size":yt,"--n-close-color-hover":wt,"--n-close-color-pressed":Ut,"--n-close-border-radius":Xt,"--n-close-icon-color":xt,"--n-close-icon-color-hover":$t,"--n-close-icon-color-pressed":It,"--n-tab-color":Et,"--n-tab-font-weight":Kt,"--n-tab-font-weight-active":Se,"--n-tab-padding":Ht,"--n-tab-gap":Yt,"--n-pane-padding":Ct,"--n-font-weight-strong":be,"--n-tab-color-segment":Ye}}),Ge=b?useThemeClass("tabs",computed(()=>`${ge.value[0]}${u.type[0]}`),qe,u):void 0;return Object.assign({mergedClsPrefix:te,mergedValue:Ae,renderedNames:new Set,tabsRailElRef:Ve,tabsPaneWrapperRef:Je,tabsElRef:ne,barElRef:ie,addTabInstRef:fe,xScrollInstRef:ce,scrollWrapperElRef:se,addTabFixed:Be,tabWrapperStyle:Me,handleNavResize:Le,mergedSize:ge,handleScroll:Oe,handleTabsResize:Ze,cssVars:b?void 0:qe,themeClass:Ge?.themeClass,animationDirection:xe,renderNameListRef:he,onAnimationBeforeLeave:ve,onAnimationEnter:le,onAnimationAfterEnter:ae,onRender:Ge?.onRender},We)},render(){const{mergedClsPrefix:u,type:a,addTabFixed:d,addable:m,mergedSize:$,renderNameListRef:ee,onRender:te,$slots:{default:b,prefix:re,suffix:ne}}=this;te?.();const ie=b?flatten$2(b()).filter(ge=>ge.type.__TAB_PANE__===!0):[],se=b?flatten$2(b()).filter(ge=>ge.type.__TAB__===!0):[],fe=!se.length,ce=a==="card",de=a==="segment",ye=!ce&&!de&&this.justifyContent;return ee.value=[],h("div",{class:[`${u}-tabs`,this.themeClass,`${u}-tabs--${a}-type`,`${u}-tabs--${$}-size`,ye&&`${u}-tabs--flex`],style:this.cssVars},h("div",{class:[`${u}-tabs-nav--${a}-type`,`${u}-tabs-nav`]},resolveWrappedSlot(re,ge=>ge&&h("div",{class:`${u}-tabs-nav__prefix`},ge)),de?h("div",{class:`${u}-tabs-rail`,ref:"tabsRailElRef"},fe?ie.map((ge,_e)=>(ee.value.push(ge.props.name),h(Tab$1,Object.assign({},ge.props,{internalCreatedByPane:!0,internalLeftPadded:_e!==0}),ge.children?{default:ge.children.tab}:void 0))):se.map((ge,_e)=>(ee.value.push(ge.props.name),_e===0?ge:createLeftPaddedTabVNode(ge)))):h(VResizeObserver,{onResize:this.handleNavResize},{default:()=>h("div",{class:`${u}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},h(VXScroll,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:()=>{const ge=h("div",{style:this.tabWrapperStyle,class:`${u}-tabs-wrapper`},ye?null:h("div",{class:`${u}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}),fe?ie.map((Ee,Ae)=>(ee.value.push(Ee.props.name),justifyTabDynamicProps(h(Tab$1,Object.assign({},Ee.props,{internalCreatedByPane:!0,internalLeftPadded:Ae!==0&&(!ye||ye==="center"||ye==="start"||ye==="end")}),Ee.children?{default:Ee.children.tab}:void 0)))):se.map((Ee,Ae)=>(ee.value.push(Ee.props.name),justifyTabDynamicProps(Ae!==0&&!ye?createLeftPaddedTabVNode(Ee):Ee))),!d&&m&&ce?createAddTag(m,(fe?ie.length:se.length)!==0):null,ye?null:h("div",{class:`${u}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));let _e=ge;return ce&&m&&(_e=h(VResizeObserver,{onResize:this.handleTabsResize},{default:()=>ge})),h("div",{ref:"tabsElRef",class:`${u}-tabs-nav-scroll-content`},_e,ce?h("div",{class:`${u}-tabs-pad`}):null,ce?null:h("div",{ref:"barElRef",class:`${u}-tabs-bar`}))}}))}),d&&m&&ce?createAddTag(m,!0):null,resolveWrappedSlot(ne,ge=>ge&&h("div",{class:`${u}-tabs-nav__suffix`},ge))),fe&&(this.animated?h("div",{ref:"tabsPaneWrapperRef",class:`${u}-tabs-pane-wrapper`},filterMapTabPanes(ie,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):filterMapTabPanes(ie,this.mergedValue,this.renderedNames)))}});function filterMapTabPanes(u,a,d,m,$,ee,te){const b=[];return u.forEach(re=>{const{name:ne,displayDirective:ie,"display-directive":se}=re.props,fe=de=>ie===de||se===de,ce=a===ne;if(re.key!==void 0&&(re.key=ne),ce||fe("show")||fe("show:lazy")&&d.has(ne)){d.has(ne)||d.add(ne);const de=!fe("if");b.push(de?withDirectives(re,[[vShow,ce]]):re)}}),te?h(TransitionGroup,{name:`${te}-transition`,onBeforeLeave:m,onEnter:$,onAfterEnter:ee},{default:()=>b}):b}function createAddTag(u,a){return h(Tab$1,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:a,disabled:typeof u=="object"&&u.disabled})}function createLeftPaddedTabVNode(u){const a=cloneVNode(u);return a.props?a.props.internalLeftPadded=!0:a.props={internalLeftPadded:!0},a}function justifyTabDynamicProps(u){return Array.isArray(u.dynamicProps)?u.dynamicProps.includes("internalLeftPadded")||u.dynamicProps.push("internalLeftPadded"):u.dynamicProps=["internalLeftPadded"],u}const style=cB("text",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
`,[cM("strong",`
 font-weight: var(--n-font-weight-strong);
 `),cM("italic",{fontStyle:"italic"}),cM("underline",{textDecoration:"underline"}),cM("code",`
 line-height: 1.4;
 display: inline-block;
 font-family: var(--n-font-famliy-mono);
 transition: 
 color .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 box-sizing: border-box;
 padding: .05em .35em 0 .35em;
 border-radius: var(--n-code-border-radius);
 font-size: .9em;
 color: var(--n-code-text-color);
 background-color: var(--n-code-color);
 border: var(--n-code-border);
 `)]),textProps=Object.assign(Object.assign({},useTheme.props),{code:Boolean,type:{type:String,default:"default"},delete:Boolean,strong:Boolean,italic:Boolean,underline:Boolean,depth:[String,Number],tag:String,as:{type:String,validator:()=>!0,default:void 0}}),NText=defineComponent({name:"Text",props:textProps,setup(u){const{mergedClsPrefixRef:a,inlineThemeDisabled:d}=useConfig(u),m=useTheme("Typography","-text",style,typographyLight$1,u,a),$=computed(()=>{const{depth:te,type:b}=u,re=b==="default"?te===void 0?"textColor":`textColor${te}Depth`:createKey("textColor",b),{common:{fontWeightStrong:ne,fontFamilyMono:ie,cubicBezierEaseInOut:se},self:{codeTextColor:fe,codeBorderRadius:ce,codeColor:de,codeBorder:ye,[re]:ge}}=m.value;return{"--n-bezier":se,"--n-text-color":ge,"--n-font-weight-strong":ne,"--n-font-famliy-mono":ie,"--n-code-border-radius":ce,"--n-code-text-color":fe,"--n-code-color":de,"--n-code-border":ye}}),ee=d?useThemeClass("text",computed(()=>`${u.type[0]}${u.depth||""}`),$,u):void 0;return{mergedClsPrefix:a,compitableTag:useCompitable(u,["as","tag"]),cssVars:d?void 0:$,themeClass:ee?.themeClass,onRender:ee?.onRender}},render(){var u,a,d;const{mergedClsPrefix:m}=this;(u=this.onRender)===null||u===void 0||u.call(this);const $=[`${m}-text`,this.themeClass,{[`${m}-text--code`]:this.code,[`${m}-text--delete`]:this.delete,[`${m}-text--strong`]:this.strong,[`${m}-text--italic`]:this.italic,[`${m}-text--underline`]:this.underline}],ee=(d=(a=this.$slots).default)===null||d===void 0?void 0:d.call(a);return this.code?h("code",{class:$,style:this.cssVars},this.delete?h("del",null,ee):ee):this.delete?h("del",{class:$,style:this.cssVars},ee):h(this.compitableTag||"span",{class:$,style:this.cssVars},ee)}}),_hoisted_1$a=createTextVNode("Documentation"),_hoisted_2$a=createTextVNode(" Please follow the instructions below to fully explore the features. "),_hoisted_3$a=createTextVNode(" #1 "),_hoisted_4$9=createTextVNode(" Install "),_hoisted_5$6=createBaseVNode("a",{target:"_blank",href:"https://solflare.com/download"},"Solflare",-1),_hoisted_6$5=createTextVNode(" or "),_hoisted_7$5=createBaseVNode("a",{target:"_blank",href:"https://phantom.app/download"},"Phantom Wallet",-1),_hoisted_8$5=createTextVNode("."),_hoisted_9$5=createBaseVNode("br",null,null,-1),_hoisted_10$4=createTextVNode(" #2 "),_hoisted_11$4=createTextVNode(' Add passphrase as provided in the TypeForm "Additional Information" section. Wallets #1-3 contain NFTs and Tokens readily. '),_hoisted_12$3=createBaseVNode("br",null,null,-1),_hoisted_13$3=createTextVNode("Connect to "),_hoisted_14$1=createBaseVNode("code",null,"DEVNET",-1),_hoisted_15$1=createTextVNode(". You should find some tokens and NFTs readily available. "),_hoisted_16$1=createBaseVNode("br",null,null,-1),_hoisted_17$1=createTextVNode(" Alternatively, you may mint some of your own tokens and/or NFTs to test this."),_hoisted_18$1=createBaseVNode("br",null,null,-1),_hoisted_19$1=createTextVNode(" NOTE: You will require at least 2 accounts that own the same NFTs or Tokens to test out the Group Messaging feature. "),_hoisted_20$1=createTextVNode(" #3 "),_hoisted_21$1=createTextVNode(" Connect your wallet, select a nickname and sign-in."),_hoisted_22=createBaseVNode("br",null,null,-1),_hoisted_23=createTextVNode(" You may optionally select an avatar after signing in. "),_hoisted_24=createTextVNode(" #4 "),_hoisted_25=createTextVNode(" Select NFTs or Tokens to join a channel. NFTs and/or Tokens created by the same project or creator will automatically be allocated the same channel. "),_hoisted_26=createTextVNode(" Got stuck? More instructions are available in "),_hoisted_27=createBaseVNode("code",null,"README.md",-1),_hoisted_28=createTextVNode(" on our "),_hoisted_29=createBaseVNode("a",{target:"_blank",href:"https://github.com/supafoundation/supacharge-solana"},"GitHub",-1),_hoisted_30=createTextVNode(" . "),_sfc_main$7={__name:"TheWelcome",setup(u){return(a,d)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(DocumentationIcon)]),heading:withCtx(()=>[_hoisted_1$a]),default:withCtx(()=>[_hoisted_2$a]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[_hoisted_3$a]),default:withCtx(()=>[_hoisted_4$9,_hoisted_5$6,_hoisted_6$5,_hoisted_7$5,_hoisted_8$5,_hoisted_9$5]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[_hoisted_10$4]),default:withCtx(()=>[_hoisted_11$4,_hoisted_12$3,_hoisted_13$3,_hoisted_14$1,_hoisted_15$1,_hoisted_16$1,_hoisted_17$1,_hoisted_18$1,_hoisted_19$1]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[_hoisted_20$1]),default:withCtx(()=>[_hoisted_21$1,_hoisted_22,_hoisted_23]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[_hoisted_24]),default:withCtx(()=>[_hoisted_25]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(unref(NIcon),{color:"#fefefe",size:"24"},{default:withCtx(()=>[createVNode(HelpIcon)]),_:1})]),default:withCtx(()=>[_hoisted_26,_hoisted_27,_hoisted_28,_hoisted_29,_hoisted_30]),_:1})],64))}};var eventemitter3={exports:{}};(function(u){var a=Object.prototype.hasOwnProperty,d="~";function m(){}Object.create&&(m.prototype=Object.create(null),new m().__proto__||(d=!1));function $(re,ne,ie){this.fn=re,this.context=ne,this.once=ie||!1}function ee(re,ne,ie,se,fe){if(typeof ie!="function")throw new TypeError("The listener must be a function");var ce=new $(ie,se||re,fe),de=d?d+ne:ne;return re._events[de]?re._events[de].fn?re._events[de]=[re._events[de],ce]:re._events[de].push(ce):(re._events[de]=ce,re._eventsCount++),re}function te(re,ne){--re._eventsCount===0?re._events=new m:delete re._events[ne]}function b(){this._events=new m,this._eventsCount=0}b.prototype.eventNames=function(){var ne=[],ie,se;if(this._eventsCount===0)return ne;for(se in ie=this._events)a.call(ie,se)&&ne.push(d?se.slice(1):se);return Object.getOwnPropertySymbols?ne.concat(Object.getOwnPropertySymbols(ie)):ne},b.prototype.listeners=function(ne){var ie=d?d+ne:ne,se=this._events[ie];if(!se)return[];if(se.fn)return[se.fn];for(var fe=0,ce=se.length,de=new Array(ce);fe<ce;fe++)de[fe]=se[fe].fn;return de},b.prototype.listenerCount=function(ne){var ie=d?d+ne:ne,se=this._events[ie];return se?se.fn?1:se.length:0},b.prototype.emit=function(ne,ie,se,fe,ce,de){var ye=d?d+ne:ne;if(!this._events[ye])return!1;var ge=this._events[ye],_e=arguments.length,Ee,Ae;if(ge.fn){switch(ge.once&&this.removeListener(ne,ge.fn,void 0,!0),_e){case 1:return ge.fn.call(ge.context),!0;case 2:return ge.fn.call(ge.context,ie),!0;case 3:return ge.fn.call(ge.context,ie,se),!0;case 4:return ge.fn.call(ge.context,ie,se,fe),!0;case 5:return ge.fn.call(ge.context,ie,se,fe,ce),!0;case 6:return ge.fn.call(ge.context,ie,se,fe,ce,de),!0}for(Ae=1,Ee=new Array(_e-1);Ae<_e;Ae++)Ee[Ae-1]=arguments[Ae];ge.fn.apply(ge.context,Ee)}else{var we=ge.length,Me;for(Ae=0;Ae<we;Ae++)switch(ge[Ae].once&&this.removeListener(ne,ge[Ae].fn,void 0,!0),_e){case 1:ge[Ae].fn.call(ge[Ae].context);break;case 2:ge[Ae].fn.call(ge[Ae].context,ie);break;case 3:ge[Ae].fn.call(ge[Ae].context,ie,se);break;case 4:ge[Ae].fn.call(ge[Ae].context,ie,se,fe);break;default:if(!Ee)for(Me=1,Ee=new Array(_e-1);Me<_e;Me++)Ee[Me-1]=arguments[Me];ge[Ae].fn.apply(ge[Ae].context,Ee)}}return!0},b.prototype.on=function(ne,ie,se){return ee(this,ne,ie,se,!1)},b.prototype.once=function(ne,ie,se){return ee(this,ne,ie,se,!0)},b.prototype.removeListener=function(ne,ie,se,fe){var ce=d?d+ne:ne;if(!this._events[ce])return this;if(!ie)return te(this,ce),this;var de=this._events[ce];if(de.fn)de.fn===ie&&(!fe||de.once)&&(!se||de.context===se)&&te(this,ce);else{for(var ye=0,ge=[],_e=de.length;ye<_e;ye++)(de[ye].fn!==ie||fe&&!de[ye].once||se&&de[ye].context!==se)&&ge.push(de[ye]);ge.length?this._events[ce]=ge.length===1?ge[0]:ge:te(this,ce)}return this},b.prototype.removeAllListeners=function(ne){var ie;return ne?(ie=d?d+ne:ne,this._events[ie]&&te(this,ie)):(this._events=new m,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=d,b.EventEmitter=b,u.exports=b})(eventemitter3);const EventEmitter$2=eventemitter3.exports;class WalletError extends Error{constructor(a,d){super(a),this.error=d}}class WalletNotReadyError extends WalletError{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class WalletLoadError extends WalletError{constructor(){super(...arguments),this.name="WalletLoadError"}}class WalletConfigError extends WalletError{constructor(){super(...arguments),this.name="WalletConfigError"}}class WalletConnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletConnectionError"}}class WalletDisconnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class WalletDisconnectionError extends WalletError{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class WalletAccountError extends WalletError{constructor(){super(...arguments),this.name="WalletAccountError"}}class WalletPublicKeyError extends WalletError{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class WalletNotConnectedError extends WalletError{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class WalletSendTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class WalletSignMessageError extends WalletError{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class WalletSignTransactionError extends WalletError{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var WalletReadyState;(function(u){u.Installed="Installed",u.NotDetected="NotDetected",u.Loadable="Loadable",u.Unsupported="Unsupported"})(WalletReadyState||(WalletReadyState={}));class BaseWalletAdapter extends EventEmitter$2{get connected(){return!!this.publicKey}async prepareTransaction(a,d){const m=this.publicKey;if(!m)throw new WalletNotConnectedError;return a.feePayer=a.feePayer||m,a.recentBlockhash=a.recentBlockhash||(await d.getLatestBlockhash()).blockhash,a}}function scopePollingDetectionStrategy(u){if(typeof window>"u"||typeof document>"u")return;const a=[];function d(){if(u())for(const ee of a)ee()}const m=setInterval(d,1e3);a.push(()=>clearInterval(m)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",d,{once:!0}),a.push(()=>document.removeEventListener("DOMContentLoaded",d))),document.readyState!=="complete"&&(window.addEventListener("load",d,{once:!0}),a.push(()=>window.removeEventListener("load",d))),d()}class BaseSignerWalletAdapter extends BaseWalletAdapter{async sendTransaction(a,d,m={}){let $=!0;try{try{a=await this.prepareTransaction(a,d);const{signers:ee,...te}=m;ee?.length&&a.partialSign(...ee),a=await this.signTransaction(a);const b=a.serialize();return await d.sendRawTransaction(b,te)}catch(ee){throw ee instanceof WalletSignTransactionError?($=!1,ee):new WalletSendTransactionError(ee?.message,ee)}}catch(ee){throw $&&this.emit("error",ee),ee}}}class BaseMessageSignerWalletAdapter extends BaseSignerWalletAdapter{}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(u,a,d)=>a in u?__defProp(u,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[a]=d,__spreadValues=(u,a)=>{for(var d in a||(a={}))__hasOwnProp.call(a,d)&&__defNormalProp(u,d,a[d]);if(__getOwnPropSymbols)for(var d of __getOwnPropSymbols(a))__propIsEnum.call(a,d)&&__defNormalProp(u,d,a[d]);return u},__publicField=(u,a,d)=>(__defNormalProp(u,typeof a!="symbol"?a+"":a,d),d);class WalletNotSelectedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}class WalletNotInitializedError extends WalletError{constructor(){super(...arguments),__publicField(this,"name","WalletNotSelectedError")}}function tryOnScopeDispose(u){return getCurrentScope()?(onScopeDispose(u),!0):!1}const isClient=typeof window<"u",isString$1=u=>typeof u=="string",noop$2=()=>{};function createFilterWrapper(u,a){function d(...m){u(()=>a.apply(this,m),{fn:a,thisArg:this,args:m})}return d}const bypassFilter=u=>u();var __getOwnPropSymbols$9=Object.getOwnPropertySymbols,__hasOwnProp$9=Object.prototype.hasOwnProperty,__propIsEnum$9=Object.prototype.propertyIsEnumerable,__objRest$5=(u,a)=>{var d={};for(var m in u)__hasOwnProp$9.call(u,m)&&a.indexOf(m)<0&&(d[m]=u[m]);if(u!=null&&__getOwnPropSymbols$9)for(var m of __getOwnPropSymbols$9(u))a.indexOf(m)<0&&__propIsEnum$9.call(u,m)&&(d[m]=u[m]);return d};function watchWithFilter(u,a,d={}){const m=d,{eventFilter:$=bypassFilter}=m,ee=__objRest$5(m,["eventFilter"]);return watch(u,createFilterWrapper($,a),ee)}function useTimeoutFn(u,a,d={}){const{immediate:m=!0}=d,$=ref(!1);let ee=null;function te(){ee&&(clearTimeout(ee),ee=null)}function b(){$.value=!1,te()}function re(...ne){te(),$.value=!0,ee=setTimeout(()=>{$.value=!1,ee=null,u(...ne)},unref(a))}return m&&($.value=!0,isClient&&re()),tryOnScopeDispose(b),{isPending:$,start:re,stop:b}}function unrefElement(u){var a;const d=unref(u);return(a=d?.$el)!=null?a:d}const defaultWindow=isClient?window:void 0,defaultNavigator=isClient?window.navigator:void 0;function useEventListener(...u){let a,d,m,$;if(isString$1(u[0])?([d,m,$]=u,a=defaultWindow):[a,d,m,$]=u,!a)return noop$2;let ee=noop$2;const te=watch(()=>unref(a),re=>{ee(),re&&(re.addEventListener(d,m,$),ee=()=>{re.removeEventListener(d,m,$),ee=noop$2})},{immediate:!0,flush:"post"}),b=()=>{te(),ee()};return tryOnScopeDispose(b),b}function onClickOutside(u,a,d={}){const{window:m=defaultWindow}=d;if(!m)return;const $=ref(!0),te=[useEventListener(m,"click",re=>{const ne=unrefElement(u);!ne||ne===re.target||re.composedPath().includes(ne)||!$.value||a(re)},{passive:!0,capture:!0}),useEventListener(m,"pointerdown",re=>{const ne=unrefElement(u);$.value=!!ne&&!re.composedPath().includes(ne)},{passive:!0})];return()=>te.forEach(re=>re())}const createKeyPredicate=u=>typeof u=="function"?u:typeof u=="string"?a=>a.key===u:Array.isArray(u)?a=>u.includes(a.key):u?()=>!0:()=>!1;function onKeyStroke(u,a,d={}){const{target:m=defaultWindow,eventName:$="keydown",passive:ee=!1}=d,te=createKeyPredicate(u);return useEventListener(m,$,re=>{te(re)&&a(re)},ee)}function useClipboard(u={}){const{navigator:a=defaultNavigator,read:d=!1,source:m,copiedDuring:$=1500}=u,ee=["copy","cut"],te=Boolean(a&&"clipboard"in a),b=ref(""),re=ref(!1),ne=useTimeoutFn(()=>re.value=!1,$);function ie(){a.clipboard.readText().then(fe=>{b.value=fe})}if(te&&d)for(const fe of ee)useEventListener(fe,ie);async function se(fe=unref(m)){te&&fe!=null&&(await a.clipboard.writeText(fe),b.value=fe,re.value=!0,ne.start())}return{isSupported:te,text:b,copied:re,copy:se}}const _global=typeof globalThis>"u"?void 0:globalThis,globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};const handlers=_global[globalKey];function getSSRHandler(u,a){return handlers[u]||a}function guessSerializerType(u){return u==null?"any":u instanceof Set?"set":u instanceof Map?"map":typeof u=="boolean"?"boolean":typeof u=="string"?"string":typeof u=="object"||Array.isArray(u)?"object":Number.isNaN(u)?"any":"number"}const StorageSerializers={boolean:{read:u=>u==="true",write:u=>String(u)},object:{read:u=>JSON.parse(u),write:u=>JSON.stringify(u)},number:{read:u=>Number.parseFloat(u),write:u=>String(u)},any:{read:u=>u,write:u=>String(u)},string:{read:u=>u,write:u=>String(u)},map:{read:u=>new Map(JSON.parse(u)),write:u=>JSON.stringify(Array.from(u.entries()))},set:{read:u=>new Set(JSON.parse(u)),write:u=>JSON.stringify(Array.from(u.entries()))}};function useStorage(u,a,d,m={}){var $;const{flush:ee="pre",deep:te=!0,listenToStorageChanges:b=!0,writeDefaults:re=!0,shallow:ne,window:ie=defaultWindow,eventFilter:se,onError:fe=Ee=>{console.error(Ee)}}=m,ce=unref(a),de=guessSerializerType(ce),ye=(ne?shallowRef:ref)(a),ge=($=m.serializer)!=null?$:StorageSerializers[de];if(!d)try{d=getSSRHandler("getDefaultStorage",()=>{var Ee;return(Ee=defaultWindow)==null?void 0:Ee.localStorage})()}catch(Ee){fe(Ee)}function _e(Ee){if(!(!d||Ee&&Ee.key!==u))try{const Ae=Ee?Ee.newValue:d.getItem(u);Ae==null?(ye.value=ce,re&&ce!==null&&d.setItem(u,ge.write(ce))):typeof Ae!="string"?ye.value=Ae:ye.value=ge.read(Ae)}catch(Ae){fe(Ae)}}return _e(),ie&&b&&useEventListener(ie,"storage",Ee=>setTimeout(()=>_e(Ee),0)),d&&watchWithFilter(ye,()=>{try{ye.value==null?d.removeItem(u):d.setItem(u,ge.write(ye.value))}catch(Ee){fe(Ee)}},{flush:ee,deep:te,eventFilter:se}),ye}function useLocalStorage(u,a,d={}){const{window:m=defaultWindow}=d;return useStorage(u,a,m?.localStorage,d)}var _a,_b;function preventDefault(u){const a=u||window.event;return a.touches.length>1?!0:(a.preventDefault&&a.preventDefault(),!1)}const isIOS=isClient&&window?.navigator&&((_a=window?.navigator)==null?void 0:_a.platform)&&/iP(ad|hone|od)/.test((_b=window?.navigator)==null?void 0:_b.platform);function useScrollLock(u,a=!1){const d=ref(a);let m=null,$;const ee=()=>{const b=unref(u);!b||d.value||($=b.style.overflow,isIOS&&(m=useEventListener(document,"touchmove",preventDefault,{passive:!1})),b.style.overflow="hidden",d.value=!0)},te=()=>{const b=unref(u);!b||!d.value||(isIOS&&m?.(),b.style.overflow=$,d.value=!1)};return computed({get(){return d.value},set(b){b?ee():te()}})}var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(u,a,d)=>a in u?__defProp$3(u,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):u[a]=d,__spreadValues$3=(u,a)=>{for(var d in a||(a={}))__hasOwnProp$3.call(a,d)&&__defNormalProp$3(u,d,a[d]);if(__getOwnPropSymbols$3)for(var d of __getOwnPropSymbols$3(a))__propIsEnum$3.call(a,d)&&__defNormalProp$3(u,d,a[d]);return u};const initialRect={top:0,left:0,bottom:0,right:0,height:0,width:0};__spreadValues$3({text:""},initialRect);const createWalletStore=({wallets:u=[],autoConnect:a=!1,onError:d=$=>console.error($),localStorageKey:m="walletName"})=>{const $=shallowRef(u),ee=ref(a),te=useLocalStorage(m,null),b=shallowRef(null),re=ref(null),ne=ref(WalletReadyState.NotDetected),ie=ref(!1),se=ref(!1),fe=ref(!1),ce=computed(()=>ne.value===WalletReadyState.Installed||ne.value===WalletReadyState.Loadable),de=ve=>{var le,ae,he;b.value=ve,ne.value=(le=ve?.readyState)!=null?le:WalletReadyState.NotDetected,re.value=(ae=ve?.publicKey)!=null?ae:null,ie.value=(he=ve?.connected)!=null?he:!1},ye=ve=>(d(ve),ve),ge=computed(()=>$.value.reduce((ve,le)=>(ve[le.name]=le,ve),{}));watch(te,()=>{var ve,le;de((le=(ve=ge.value)==null?void 0:ve[te.value])!=null?le:null)},{immediate:!0});const _e=async ve=>{te.value!==ve&&(te.value=ve)},Ee=()=>de(b.value),Ae=()=>de(b.value),we=()=>te.value=null,Me=watchEffect(ve=>{const le=b.value;!le||(le.on("readyStateChange",Ee),le.on("connect",Ae),le.on("disconnect",we),le.on("error",d),ve(()=>{le.off("readyStateChange",Ee),le.off("connect",Ae),le.off("disconnect",we),le.off("error",d)}))});typeof window<"u"&&window.addEventListener("unload",Me);const ke=async()=>{if(!(ie.value||se.value||fe.value)){if(!b.value)throw ye(new WalletNotSelectedError);if(!ce.value)throw te.value=null,typeof window<"u"&&window.open(b.value.url,"_blank"),ye(new WalletNotReadyError);try{se.value=!0,await b.value.connect()}catch(ve){throw te.value=null,ve}finally{se.value=!1}}},Re=async()=>{if(!fe.value){if(!b.value){te.value=null;return}try{fe.value=!0,await b.value.disconnect()}finally{te.value=null,fe.value=!1}}},ze=async(ve,le,ae)=>{if(!b.value)throw ye(new WalletNotSelectedError);if(!ie.value)throw ye(new WalletNotConnectedError);return await b.value.sendTransaction(ve,le,ae)},Je=computed(()=>{const ve=b.value;if(!!(ve&&"signTransaction"in ve))return async le=>{if(!ie.value)throw ye(new WalletNotConnectedError);return await ve.signTransaction(le)}}),et=computed(()=>{const ve=b.value;if(!!(ve&&"signAllTransactions"in ve))return async le=>{if(!ie.value)throw ye(new WalletNotConnectedError);return await ve.signAllTransactions(le)}}),Pe=computed(()=>{const ve=b.value;if(!!(ve&&"signMessage"in ve))return async le=>{if(!ie.value)throw ye(new WalletNotConnectedError);return await ve.signMessage(le)}});return watchEffect(async()=>{if(!(!ee.value||!b.value||!ce.value||ie.value||se.value))try{se.value=!0,await b.value.connect()}catch{te.value=null}finally{se.value=!1}}),{wallets:$,autoConnect:ee,wallet:b,publicKey:re,readyState:ne,ready:ce,connected:ie,connecting:se,disconnecting:fe,select:_e,connect:ke,disconnect:Re,sendTransaction:ze,signTransaction:Je,signAllTransactions:et,signMessage:Pe}};let walletStore=null;const useWallet=()=>{if(walletStore)return walletStore;throw new WalletNotInitializedError("Wallet not initialized. Please use the `initWallet` method to initialize the wallet.")},initWallet=u=>{walletStore=createWalletStore(u)};var _export_sfc=(u,a)=>{const d=u.__vccOpts||u;for(const[m,$]of a)d[m]=$;return d};const _sfc_main$4$1=defineComponent({props:{wallet:Object},setup(u){return toRefs(u)}}),_hoisted_1$4$1={class:"swv-button-icon"},_hoisted_2$4$1=["src","alt"];function _sfc_render$4(u,a,d,m,$,ee){return openBlock(),createElementBlock("i",_hoisted_1$4$1,[u.wallet?(openBlock(),createElementBlock("img",{key:0,src:u.wallet.icon,alt:`${u.wallet.name} icon`},null,8,_hoisted_2$4$1)):createCommentVNode("",!0)])}var WalletIcon=_export_sfc(_sfc_main$4$1,[["render",_sfc_render$4]]);const _sfc_main$3$1=defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(u,{emit:a}){const{disabled:d}=toRefs(u),{wallet:m,connect:$,connecting:ee,connected:te}=useWallet(),b=computed(()=>ee.value?"Connecting ...":te.value?"Connected":m.value?"Connect":"Connect Wallet"),ne={wallet:m,disabled:d,connecting:ee,connected:te,content:b,onClick:ie=>{a("click",ie),!ie.defaultPrevented&&$().catch(()=>{})}};return __spreadValues({scope:ne},ne)}}),_hoisted_1$3$1=["disabled"],_hoisted_2$3$1=["textContent"];function _sfc_render$3(u,a,d,m,$,ee){const te=resolveComponent("wallet-icon");return renderSlot(u.$slots,"default",normalizeProps(guardReactiveProps(u.scope)),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",disabled:u.disabled||!u.wallet||u.connecting||u.connected,onClick:a[0]||(a[0]=(...b)=>u.onClick&&u.onClick(...b))},[u.wallet?(openBlock(),createBlock(te,{key:0,wallet:u.wallet},null,8,["wallet"])):createCommentVNode("",!0),createBaseVNode("p",{textContent:toDisplayString(u.content)},null,8,_hoisted_2$3$1)],8,_hoisted_1$3$1)])}var WalletConnectButton=_export_sfc(_sfc_main$3$1,[["render",_sfc_render$3]]);defineComponent({components:{WalletIcon},props:{disabled:Boolean},setup(u,{emit:a}){const{disabled:d}=toRefs(u),{wallet:m,disconnect:$,disconnecting:ee}=useWallet(),te=computed(()=>ee.value?"Disconnecting ...":m.value?"Disconnect":"Disconnect Wallet"),re={wallet:m,disconnecting:ee,disabled:d,content:te,handleClick:ne=>{a("click",ne),!ne.defaultPrevented&&$().catch(()=>{})}};return __spreadValues({scope:re},re)}});const _sfc_main$1$1=defineComponent({components:{WalletIcon},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(u,{slots:a}){const{featured:d,container:m,logo:$,dark:ee}=toRefs(u),te=ref(null),b=ref(!1),re=()=>b.value=!0,ne=()=>b.value=!1,ie=computed(()=>!!a.logo||!!$.value),{wallets:se,select:fe}=useWallet(),ce=ref(!1),de=computed(()=>se.value.slice(0,d.value)),ye=computed(()=>se.value.slice(d.value)),ge=computed(()=>ce.value?se.value:de.value);onClickOutside(te,ne),onKeyStroke("Escape",ne),onKeyStroke("Tab",Ae=>{var we,Me;const ke=(Me=(we=te.value)==null?void 0:we.querySelectorAll("button"))!=null?Me:[],Re=ke?.[0],ze=ke?.[ke.length-1];Ae.shiftKey&&document.activeElement===Re&&ze?(ze.focus(),Ae.preventDefault()):!Ae.shiftKey&&document.activeElement===ze&&Re&&(Re.focus(),Ae.preventDefault())}),watch(b,Ae=>{!Ae||nextTick(()=>{var we,Me,ke;return(ke=(Me=(we=te.value)==null?void 0:we.querySelectorAll("button"))==null?void 0:Me[0])==null?void 0:ke.focus()})});const _e=useScrollLock(document.body);watch(b,Ae=>_e.value=Ae);const Ee={dark:ee,logo:$,hasLogo:ie,featured:d,container:m,modalPanel:te,modalOpened:b,openModal:re,closeModal:ne,expandedWallets:ce,walletsToDisplay:ge,featuredWallets:de,hiddenWallets:ye,selectWallet:fe};return __spreadValues({scope:Ee},Ee)}}),_hoisted_1$1$1=createBaseVNode("div",{class:"swv-modal-overlay"},null,-1),_hoisted_2$1$1={class:"swv-modal-container",ref:"modalPanel"},_hoisted_3$1$1={key:0,class:"swv-modal-logo-wrapper"},_hoisted_4$1$1=["src"],_hoisted_5$1$1=createBaseVNode("h1",{class:"swv-modal-title",id:"swv-modal-title"}," Connect Wallet ",-1),_hoisted_6$4=createBaseVNode("svg",{width:"14",height:"14"},[createBaseVNode("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"})],-1),_hoisted_7$4=[_hoisted_6$4],_hoisted_8$4={class:"swv-modal-list"},_hoisted_9$4=["onClick"],_hoisted_10$3={class:"swv-button"},_hoisted_11$3=["textContent"],_hoisted_12$2=["aria-expanded"],_hoisted_13$2=createBaseVNode("i",{class:"swv-button-icon"},[createBaseVNode("svg",{width:"11",height:"6",xmlns:"http://www.w3.org/2000/svg"},[createBaseVNode("path",{d:"m5.938 5.73 4.28-4.126a.915.915 0 0 0 0-1.322 1 1 0 0 0-1.371 0L5.253 3.736 1.659.272a1 1 0 0 0-1.371 0A.93.93 0 0 0 0 .932c0 .246.1.48.288.662l4.28 4.125a.99.99 0 0 0 1.37.01z"})])],-1);function _sfc_render$1$1(u,a,d,m,$,ee){const te=resolveComponent("wallet-icon");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(u.dark?"swv-dark":"")},[renderSlot(u.$slots,"default",normalizeProps(guardReactiveProps(u.scope)))],2),u.modalOpened?(openBlock(),createBlock(Teleport,{key:0,to:u.container},[createBaseVNode("div",{"aria-labelledby":"swv-modal-title","aria-modal":"true",class:normalizeClass(["swv-modal",u.dark?"swv-dark":""]),role:"dialog"},[renderSlot(u.$slots,"overlay",normalizeProps(guardReactiveProps(u.scope)),()=>[_hoisted_1$1$1]),createBaseVNode("div",_hoisted_2$1$1,[renderSlot(u.$slots,"modal",normalizeProps(guardReactiveProps(u.scope)),()=>[createBaseVNode("div",{class:normalizeClass(["swv-modal-wrapper",{"swv-modal-wrapper-no-logo":!u.hasLogo}])},[u.hasLogo?(openBlock(),createElementBlock("div",_hoisted_3$1$1,[renderSlot(u.$slots,"logo",normalizeProps(guardReactiveProps(u.scope)),()=>[createBaseVNode("img",{alt:"logo",class:"swv-modal-logo",src:u.logo},null,8,_hoisted_4$1$1)])])):createCommentVNode("",!0),_hoisted_5$1$1,createBaseVNode("button",{onClick:a[0]||(a[0]=withModifiers((...b)=>u.closeModal&&u.closeModal(...b),["prevent"])),class:"swv-modal-button-close"},_hoisted_7$4),createBaseVNode("ul",_hoisted_8$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.walletsToDisplay,b=>(openBlock(),createElementBlock("li",{key:b.name,onClick:re=>{u.selectWallet(b.name),u.closeModal()}},[createBaseVNode("button",_hoisted_10$3,[createBaseVNode("p",{textContent:toDisplayString(b.name)},null,8,_hoisted_11$3),createVNode(te,{wallet:b},null,8,["wallet"])])],8,_hoisted_9$4))),128))]),u.hiddenWallets.length>0?(openBlock(),createElementBlock("button",{key:1,"aria-controls":"swv-modal-collapse","aria-expanded":u.expandedWallets,class:normalizeClass(["swv-button swv-modal-collapse-button",{"swv-modal-collapse-button-active":u.expandedWallets}]),onClick:a[1]||(a[1]=b=>u.expandedWallets=!u.expandedWallets)},[createTextVNode(toDisplayString(u.expandedWallets?"Less":"More")+" options ",1),_hoisted_13$2],10,_hoisted_12$2)):createCommentVNode("",!0)],2)])],512)],2)],8,["to"])):createCommentVNode("",!0)],64)}var WalletModalProvider=_export_sfc(_sfc_main$1$1,[["render",_sfc_render$1$1]]);const _sfc_main$6=defineComponent({components:{WalletConnectButton,WalletIcon,WalletModalProvider},props:{featured:{type:Number,default:3},container:{type:String,default:"body"},logo:String,dark:Boolean},setup(u){const{featured:a,container:d,logo:m,dark:$}=toRefs(u),{publicKey:ee,wallet:te,disconnect:b}=useWallet(),re=ref(),ne=ref(!1),ie=()=>ne.value=!0,se=()=>ne.value=!1;onClickOutside(re,se);const fe=computed(()=>{var Ae;return(Ae=ee.value)==null?void 0:Ae.toBase58()}),ce=computed(()=>!te.value||!fe.value?null:fe.value.slice(0,4)+".."+fe.value.slice(-4)),{copy:de,copied:ye,isSupported:ge}=useClipboard(),Ee={featured:a,container:d,logo:m,dark:$,wallet:te,publicKey:ee,publicKeyTrimmed:ce,publicKeyBase58:fe,canCopy:ge,addressCopied:ye,dropdownPanel:re,dropdownOpened:ne,openDropdown:ie,closeDropdown:se,copyAddress:()=>fe.value&&de(fe.value),disconnect:b};return __spreadValues({scope:Ee},Ee)}}),_hoisted_1$9=["onClick"],_hoisted_2$9={key:2,class:"swv-dropdown"},_hoisted_3$9=["aria-expanded","title"],_hoisted_4$8=["textContent"],_hoisted_5$5=["onClick"];function _sfc_render$5(u,a,d,m,$,ee){const te=resolveComponent("wallet-connect-button"),b=resolveComponent("wallet-icon"),re=resolveComponent("wallet-modal-provider");return openBlock(),createBlock(re,{featured:u.featured,container:u.container,logo:u.logo,dark:u.dark},{default:withCtx(ne=>[renderSlot(u.$slots,"default",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},ne),u.scope))),()=>[u.wallet?u.publicKeyBase58?(openBlock(),createElementBlock("div",_hoisted_2$9,[renderSlot(u.$slots,"dropdown-button",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},ne),u.scope))),()=>[createBaseVNode("button",{class:"swv-button swv-button-trigger",style:normalizeStyle({pointerEvents:u.dropdownOpened?"none":"auto"}),"aria-expanded":u.dropdownOpened,title:u.publicKeyBase58,onClick:a[0]||(a[0]=(...ie)=>u.openDropdown&&u.openDropdown(...ie))},[createVNode(b,{wallet:u.wallet},null,8,["wallet"]),createBaseVNode("p",{textContent:toDisplayString(u.publicKeyTrimmed)},null,8,_hoisted_4$8)],12,_hoisted_3$9)]),renderSlot(u.$slots,"dropdown",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},ne),u.scope))),()=>[createBaseVNode("ul",{"aria-label":"dropdown-list",class:normalizeClass(["swv-dropdown-list",{"swv-dropdown-list-active":u.dropdownOpened}]),ref:"dropdownPanel",role:"menu"},[renderSlot(u.$slots,"dropdown-list",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},ne),u.scope))),()=>[u.canCopy?(openBlock(),createElementBlock("li",{key:0,onClick:a[1]||(a[1]=(...ie)=>u.copyAddress&&u.copyAddress(...ie)),class:"swv-dropdown-list-item",role:"menuitem"},toDisplayString(u.addressCopied?"Copied":"Copy address"),1)):createCommentVNode("",!0),createBaseVNode("li",{onClick:ie=>{ne.openModal(),u.closeDropdown()},class:"swv-dropdown-list-item",role:"menuitem"}," Change wallet ",8,_hoisted_5$5),createBaseVNode("li",{onClick:a[2]||(a[2]=(...ie)=>u.disconnect&&u.disconnect(...ie)),class:"swv-dropdown-list-item",role:"menuitem"}," Disconnect ")])],2)])])):(openBlock(),createBlock(te,{key:1})):(openBlock(),createElementBlock("button",{key:0,class:"swv-button swv-button-trigger",onClick:ne.openModal}," Select Wallet ",8,_hoisted_1$9))])]),overlay:withCtx(ne=>[renderSlot(u.$slots,"modal-overlay",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},ne),u.scope))))]),modal:withCtx(ne=>[renderSlot(u.$slots,"modal",normalizeProps(guardReactiveProps(__spreadValues(__spreadValues({},ne),u.scope))))]),_:3},8,["featured","container","logo","dark"])}var WalletMultiButton=_export_sfc(_sfc_main$6,[["render",_sfc_render$5]]);function useAnchorWallet(){const u=useWallet();return computed(()=>{if(!u)return;const{signTransaction:a,signAllTransactions:d,publicKey:m}=u;if(!(!m.value||!a.value||!d.value))return{publicKey:m.value,signTransaction:a.value,signAllTransactions:d.value}})}const HelloWorld_vue_vue_type_style_index_0_scoped_72ea8e32_lang="",_withScopeId$4=u=>(pushScopeId("data-v-72ea8e32"),u=u(),popScopeId(),u),_hoisted_1$8={class:"greetings"},_hoisted_2$8=_withScopeId$4(()=>createBaseVNode("h1",{class:"my-2"},[createBaseVNode("span",{style:{color:"#2169fb"}},"SUPA"),createTextVNode("Charge")],-1)),_hoisted_3$8=_withScopeId$4(()=>createBaseVNode("h3",null,"Solana Hackathon Web Demo",-1)),_hoisted_4$7=[_hoisted_2$8,_hoisted_3$8],_sfc_main$5={__name:"HelloWorld",setup(u){const a=useRouter(),d=ref(!1);return onBeforeMount(()=>{}),onMounted(()=>{}),onUpdated(()=>{}),watch(d,m=>{m&&a.push({name:"chat"})}),(m,$)=>(openBlock(),createElementBlock("div",_hoisted_1$8,_hoisted_4$7))}},HelloWorld=_export_sfc$1(_sfc_main$5,[["__scopeId","data-v-72ea8e32"]]),main$2="";var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(u){var a=u.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=u.indexOf("=");d===-1&&(d=a);var m=d===a?0:4-d%4;return[d,m]}function byteLength(u){var a=getLens(u),d=a[0],m=a[1];return(d+m)*3/4-m}function _byteLength(u,a,d){return(a+d)*3/4-d}function toByteArray(u){var a,d=getLens(u),m=d[0],$=d[1],ee=new Arr(_byteLength(u,m,$)),te=0,b=$>0?m-4:m,re;for(re=0;re<b;re+=4)a=revLookup[u.charCodeAt(re)]<<18|revLookup[u.charCodeAt(re+1)]<<12|revLookup[u.charCodeAt(re+2)]<<6|revLookup[u.charCodeAt(re+3)],ee[te++]=a>>16&255,ee[te++]=a>>8&255,ee[te++]=a&255;return $===2&&(a=revLookup[u.charCodeAt(re)]<<2|revLookup[u.charCodeAt(re+1)]>>4,ee[te++]=a&255),$===1&&(a=revLookup[u.charCodeAt(re)]<<10|revLookup[u.charCodeAt(re+1)]<<4|revLookup[u.charCodeAt(re+2)]>>2,ee[te++]=a>>8&255,ee[te++]=a&255),ee}function tripletToBase64(u){return lookup[u>>18&63]+lookup[u>>12&63]+lookup[u>>6&63]+lookup[u&63]}function encodeChunk(u,a,d){for(var m,$=[],ee=a;ee<d;ee+=3)m=(u[ee]<<16&16711680)+(u[ee+1]<<8&65280)+(u[ee+2]&255),$.push(tripletToBase64(m));return $.join("")}function fromByteArray(u){for(var a,d=u.length,m=d%3,$=[],ee=16383,te=0,b=d-m;te<b;te+=ee)$.push(encodeChunk(u,te,te+ee>b?b:te+ee));return m===1?(a=u[d-1],$.push(lookup[a>>2]+lookup[a<<4&63]+"==")):m===2&&(a=(u[d-2]<<8)+u[d-1],$.push(lookup[a>>10]+lookup[a>>4&63]+lookup[a<<2&63]+"=")),$.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(u,a,d,m,$){var ee,te,b=$*8-m-1,re=(1<<b)-1,ne=re>>1,ie=-7,se=d?$-1:0,fe=d?-1:1,ce=u[a+se];for(se+=fe,ee=ce&(1<<-ie)-1,ce>>=-ie,ie+=b;ie>0;ee=ee*256+u[a+se],se+=fe,ie-=8);for(te=ee&(1<<-ie)-1,ee>>=-ie,ie+=m;ie>0;te=te*256+u[a+se],se+=fe,ie-=8);if(ee===0)ee=1-ne;else{if(ee===re)return te?NaN:(ce?-1:1)*(1/0);te=te+Math.pow(2,m),ee=ee-ne}return(ce?-1:1)*te*Math.pow(2,ee-m)};ieee754.write=function(u,a,d,m,$,ee){var te,b,re,ne=ee*8-$-1,ie=(1<<ne)-1,se=ie>>1,fe=$===23?Math.pow(2,-24)-Math.pow(2,-77):0,ce=m?0:ee-1,de=m?1:-1,ye=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(b=isNaN(a)?1:0,te=ie):(te=Math.floor(Math.log(a)/Math.LN2),a*(re=Math.pow(2,-te))<1&&(te--,re*=2),te+se>=1?a+=fe/re:a+=fe*Math.pow(2,1-se),a*re>=2&&(te++,re/=2),te+se>=ie?(b=0,te=ie):te+se>=1?(b=(a*re-1)*Math.pow(2,$),te=te+se):(b=a*Math.pow(2,se-1)*Math.pow(2,$),te=0));$>=8;u[d+ce]=b&255,ce+=de,b/=256,$-=8);for(te=te<<$|b,ne+=$;ne>0;u[d+ce]=te&255,ce+=de,te/=256,ne-=8);u[d+ce-de]|=ye*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(u){const a=base64Js,d=ieee754,m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=b,u.SlowBuffer=Ee,u.INSPECT_MAX_BYTES=50;const $=2147483647;u.kMaxLength=$,b.TYPED_ARRAY_SUPPORT=ee(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ee(){try{const Se=new Uint8Array(1),me={foo:function(){return 42}};return Object.setPrototypeOf(me,Uint8Array.prototype),Object.setPrototypeOf(Se,me),Se.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(!!b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(!!b.isBuffer(this))return this.byteOffset}});function te(Se){if(Se>$)throw new RangeError('The value "'+Se+'" is invalid for option "size"');const me=new Uint8Array(Se);return Object.setPrototypeOf(me,b.prototype),me}function b(Se,me,be){if(typeof Se=="number"){if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return se(Se)}return re(Se,me,be)}b.poolSize=8192;function re(Se,me,be){if(typeof Se=="string")return fe(Se,me);if(ArrayBuffer.isView(Se))return de(Se);if(Se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Se);if(Et(Se,ArrayBuffer)||Se&&Et(Se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Et(Se,SharedArrayBuffer)||Se&&Et(Se.buffer,SharedArrayBuffer)))return ye(Se,me,be);if(typeof Se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ye=Se.valueOf&&Se.valueOf();if(Ye!=null&&Ye!==Se)return b.from(Ye,me,be);const ut=ge(Se);if(ut)return ut;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Se[Symbol.toPrimitive]=="function")return b.from(Se[Symbol.toPrimitive]("string"),me,be);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Se)}b.from=function(Se,me,be){return re(Se,me,be)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function ne(Se){if(typeof Se!="number")throw new TypeError('"size" argument must be of type number');if(Se<0)throw new RangeError('The value "'+Se+'" is invalid for option "size"')}function ie(Se,me,be){return ne(Se),Se<=0?te(Se):me!==void 0?typeof be=="string"?te(Se).fill(me,be):te(Se).fill(me):te(Se)}b.alloc=function(Se,me,be){return ie(Se,me,be)};function se(Se){return ne(Se),te(Se<0?0:_e(Se)|0)}b.allocUnsafe=function(Se){return se(Se)},b.allocUnsafeSlow=function(Se){return se(Se)};function fe(Se,me){if((typeof me!="string"||me==="")&&(me="utf8"),!b.isEncoding(me))throw new TypeError("Unknown encoding: "+me);const be=Ae(Se,me)|0;let Ye=te(be);const ut=Ye.write(Se,me);return ut!==be&&(Ye=Ye.slice(0,ut)),Ye}function ce(Se){const me=Se.length<0?0:_e(Se.length)|0,be=te(me);for(let Ye=0;Ye<me;Ye+=1)be[Ye]=Se[Ye]&255;return be}function de(Se){if(Et(Se,Uint8Array)){const me=new Uint8Array(Se);return ye(me.buffer,me.byteOffset,me.byteLength)}return ce(Se)}function ye(Se,me,be){if(me<0||Se.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(Se.byteLength<me+(be||0))throw new RangeError('"length" is outside of buffer bounds');let Ye;return me===void 0&&be===void 0?Ye=new Uint8Array(Se):be===void 0?Ye=new Uint8Array(Se,me):Ye=new Uint8Array(Se,me,be),Object.setPrototypeOf(Ye,b.prototype),Ye}function ge(Se){if(b.isBuffer(Se)){const me=_e(Se.length)|0,be=te(me);return be.length===0||Se.copy(be,0,0,me),be}if(Se.length!==void 0)return typeof Se.length!="number"||At(Se.length)?te(0):ce(Se);if(Se.type==="Buffer"&&Array.isArray(Se.data))return ce(Se.data)}function _e(Se){if(Se>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return Se|0}function Ee(Se){return+Se!=Se&&(Se=0),b.alloc(+Se)}b.isBuffer=function(me){return me!=null&&me._isBuffer===!0&&me!==b.prototype},b.compare=function(me,be){if(Et(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),Et(be,Uint8Array)&&(be=b.from(be,be.offset,be.byteLength)),!b.isBuffer(me)||!b.isBuffer(be))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===be)return 0;let Ye=me.length,ut=be.length;for(let yt=0,wt=Math.min(Ye,ut);yt<wt;++yt)if(me[yt]!==be[yt]){Ye=me[yt],ut=be[yt];break}return Ye<ut?-1:ut<Ye?1:0},b.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(me,be){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(me.length===0)return b.alloc(0);let Ye;if(be===void 0)for(be=0,Ye=0;Ye<me.length;++Ye)be+=me[Ye].length;const ut=b.allocUnsafe(be);let yt=0;for(Ye=0;Ye<me.length;++Ye){let wt=me[Ye];if(Et(wt,Uint8Array))yt+wt.length>ut.length?(b.isBuffer(wt)||(wt=b.from(wt)),wt.copy(ut,yt)):Uint8Array.prototype.set.call(ut,wt,yt);else if(b.isBuffer(wt))wt.copy(ut,yt);else throw new TypeError('"list" argument must be an Array of Buffers');yt+=wt.length}return ut};function Ae(Se,me){if(b.isBuffer(Se))return Se.length;if(ArrayBuffer.isView(Se)||Et(Se,ArrayBuffer))return Se.byteLength;if(typeof Se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Se);const be=Se.length,Ye=arguments.length>2&&arguments[2]===!0;if(!Ye&&be===0)return 0;let ut=!1;for(;;)switch(me){case"ascii":case"latin1":case"binary":return be;case"utf8":case"utf-8":return bt(Se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be*2;case"hex":return be>>>1;case"base64":return $t(Se).length;default:if(ut)return Ye?-1:bt(Se).length;me=(""+me).toLowerCase(),ut=!0}}b.byteLength=Ae;function we(Se,me,be){let Ye=!1;if((me===void 0||me<0)&&(me=0),me>this.length||((be===void 0||be>this.length)&&(be=this.length),be<=0)||(be>>>=0,me>>>=0,be<=me))return"";for(Se||(Se="utf8");;)switch(Se){case"hex":return Fe(this,me,be);case"utf8":case"utf-8":return ae(this,me,be);case"ascii":return $e(this,me,be);case"latin1":case"binary":return He(this,me,be);case"base64":return le(this,me,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,me,be);default:if(Ye)throw new TypeError("Unknown encoding: "+Se);Se=(Se+"").toLowerCase(),Ye=!0}}b.prototype._isBuffer=!0;function Me(Se,me,be){const Ye=Se[me];Se[me]=Se[be],Se[be]=Ye}b.prototype.swap16=function(){const me=this.length;if(me%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let be=0;be<me;be+=2)Me(this,be,be+1);return this},b.prototype.swap32=function(){const me=this.length;if(me%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let be=0;be<me;be+=4)Me(this,be,be+3),Me(this,be+1,be+2);return this},b.prototype.swap64=function(){const me=this.length;if(me%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let be=0;be<me;be+=8)Me(this,be,be+7),Me(this,be+1,be+6),Me(this,be+2,be+5),Me(this,be+3,be+4);return this},b.prototype.toString=function(){const me=this.length;return me===0?"":arguments.length===0?ae(this,0,me):we.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(me){if(!b.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me?!0:b.compare(this,me)===0},b.prototype.inspect=function(){let me="";const be=u.INSPECT_MAX_BYTES;return me=this.toString("hex",0,be).replace(/(.{2})/g,"$1 ").trim(),this.length>be&&(me+=" ... "),"<Buffer "+me+">"},m&&(b.prototype[m]=b.prototype.inspect),b.prototype.compare=function(me,be,Ye,ut,yt){if(Et(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),!b.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof me);if(be===void 0&&(be=0),Ye===void 0&&(Ye=me?me.length:0),ut===void 0&&(ut=0),yt===void 0&&(yt=this.length),be<0||Ye>me.length||ut<0||yt>this.length)throw new RangeError("out of range index");if(ut>=yt&&be>=Ye)return 0;if(ut>=yt)return-1;if(be>=Ye)return 1;if(be>>>=0,Ye>>>=0,ut>>>=0,yt>>>=0,this===me)return 0;let wt=yt-ut,Ut=Ye-be;const Xt=Math.min(wt,Ut),Ct=this.slice(ut,yt),Ht=me.slice(be,Ye);for(let Yt=0;Yt<Xt;++Yt)if(Ct[Yt]!==Ht[Yt]){wt=Ct[Yt],Ut=Ht[Yt];break}return wt<Ut?-1:Ut<wt?1:0};function ke(Se,me,be,Ye,ut){if(Se.length===0)return-1;if(typeof be=="string"?(Ye=be,be=0):be>2147483647?be=2147483647:be<-2147483648&&(be=-2147483648),be=+be,At(be)&&(be=ut?0:Se.length-1),be<0&&(be=Se.length+be),be>=Se.length){if(ut)return-1;be=Se.length-1}else if(be<0)if(ut)be=0;else return-1;if(typeof me=="string"&&(me=b.from(me,Ye)),b.isBuffer(me))return me.length===0?-1:Re(Se,me,be,Ye,ut);if(typeof me=="number")return me=me&255,typeof Uint8Array.prototype.indexOf=="function"?ut?Uint8Array.prototype.indexOf.call(Se,me,be):Uint8Array.prototype.lastIndexOf.call(Se,me,be):Re(Se,[me],be,Ye,ut);throw new TypeError("val must be string, number or Buffer")}function Re(Se,me,be,Ye,ut){let yt=1,wt=Se.length,Ut=me.length;if(Ye!==void 0&&(Ye=String(Ye).toLowerCase(),Ye==="ucs2"||Ye==="ucs-2"||Ye==="utf16le"||Ye==="utf-16le")){if(Se.length<2||me.length<2)return-1;yt=2,wt/=2,Ut/=2,be/=2}function Xt(Ht,Yt){return yt===1?Ht[Yt]:Ht.readUInt16BE(Yt*yt)}let Ct;if(ut){let Ht=-1;for(Ct=be;Ct<wt;Ct++)if(Xt(Se,Ct)===Xt(me,Ht===-1?0:Ct-Ht)){if(Ht===-1&&(Ht=Ct),Ct-Ht+1===Ut)return Ht*yt}else Ht!==-1&&(Ct-=Ct-Ht),Ht=-1}else for(be+Ut>wt&&(be=wt-Ut),Ct=be;Ct>=0;Ct--){let Ht=!0;for(let Yt=0;Yt<Ut;Yt++)if(Xt(Se,Ct+Yt)!==Xt(me,Yt)){Ht=!1;break}if(Ht)return Ct}return-1}b.prototype.includes=function(me,be,Ye){return this.indexOf(me,be,Ye)!==-1},b.prototype.indexOf=function(me,be,Ye){return ke(this,me,be,Ye,!0)},b.prototype.lastIndexOf=function(me,be,Ye){return ke(this,me,be,Ye,!1)};function ze(Se,me,be,Ye){be=Number(be)||0;const ut=Se.length-be;Ye?(Ye=Number(Ye),Ye>ut&&(Ye=ut)):Ye=ut;const yt=me.length;Ye>yt/2&&(Ye=yt/2);let wt;for(wt=0;wt<Ye;++wt){const Ut=parseInt(me.substr(wt*2,2),16);if(At(Ut))return wt;Se[be+wt]=Ut}return wt}function Je(Se,me,be,Ye){return It(bt(me,Se.length-be),Se,be,Ye)}function et(Se,me,be,Ye){return It(St(me),Se,be,Ye)}function Pe(Se,me,be,Ye){return It($t(me),Se,be,Ye)}function ve(Se,me,be,Ye){return It(xt(me,Se.length-be),Se,be,Ye)}b.prototype.write=function(me,be,Ye,ut){if(be===void 0)ut="utf8",Ye=this.length,be=0;else if(Ye===void 0&&typeof be=="string")ut=be,Ye=this.length,be=0;else if(isFinite(be))be=be>>>0,isFinite(Ye)?(Ye=Ye>>>0,ut===void 0&&(ut="utf8")):(ut=Ye,Ye=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const yt=this.length-be;if((Ye===void 0||Ye>yt)&&(Ye=yt),me.length>0&&(Ye<0||be<0)||be>this.length)throw new RangeError("Attempt to write outside buffer bounds");ut||(ut="utf8");let wt=!1;for(;;)switch(ut){case"hex":return ze(this,me,be,Ye);case"utf8":case"utf-8":return Je(this,me,be,Ye);case"ascii":case"latin1":case"binary":return et(this,me,be,Ye);case"base64":return Pe(this,me,be,Ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,me,be,Ye);default:if(wt)throw new TypeError("Unknown encoding: "+ut);ut=(""+ut).toLowerCase(),wt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(Se,me,be){return me===0&&be===Se.length?a.fromByteArray(Se):a.fromByteArray(Se.slice(me,be))}function ae(Se,me,be){be=Math.min(Se.length,be);const Ye=[];let ut=me;for(;ut<be;){const yt=Se[ut];let wt=null,Ut=yt>239?4:yt>223?3:yt>191?2:1;if(ut+Ut<=be){let Xt,Ct,Ht,Yt;switch(Ut){case 1:yt<128&&(wt=yt);break;case 2:Xt=Se[ut+1],(Xt&192)===128&&(Yt=(yt&31)<<6|Xt&63,Yt>127&&(wt=Yt));break;case 3:Xt=Se[ut+1],Ct=Se[ut+2],(Xt&192)===128&&(Ct&192)===128&&(Yt=(yt&15)<<12|(Xt&63)<<6|Ct&63,Yt>2047&&(Yt<55296||Yt>57343)&&(wt=Yt));break;case 4:Xt=Se[ut+1],Ct=Se[ut+2],Ht=Se[ut+3],(Xt&192)===128&&(Ct&192)===128&&(Ht&192)===128&&(Yt=(yt&15)<<18|(Xt&63)<<12|(Ct&63)<<6|Ht&63,Yt>65535&&Yt<1114112&&(wt=Yt))}}wt===null?(wt=65533,Ut=1):wt>65535&&(wt-=65536,Ye.push(wt>>>10&1023|55296),wt=56320|wt&1023),Ye.push(wt),ut+=Ut}return xe(Ye)}const he=4096;function xe(Se){const me=Se.length;if(me<=he)return String.fromCharCode.apply(String,Se);let be="",Ye=0;for(;Ye<me;)be+=String.fromCharCode.apply(String,Se.slice(Ye,Ye+=he));return be}function $e(Se,me,be){let Ye="";be=Math.min(Se.length,be);for(let ut=me;ut<be;++ut)Ye+=String.fromCharCode(Se[ut]&127);return Ye}function He(Se,me,be){let Ye="";be=Math.min(Se.length,be);for(let ut=me;ut<be;++ut)Ye+=String.fromCharCode(Se[ut]);return Ye}function Fe(Se,me,be){const Ye=Se.length;(!me||me<0)&&(me=0),(!be||be<0||be>Ye)&&(be=Ye);let ut="";for(let yt=me;yt<be;++yt)ut+=kt[Se[yt]];return ut}function Ne(Se,me,be){const Ye=Se.slice(me,be);let ut="";for(let yt=0;yt<Ye.length-1;yt+=2)ut+=String.fromCharCode(Ye[yt]+Ye[yt+1]*256);return ut}b.prototype.slice=function(me,be){const Ye=this.length;me=~~me,be=be===void 0?Ye:~~be,me<0?(me+=Ye,me<0&&(me=0)):me>Ye&&(me=Ye),be<0?(be+=Ye,be<0&&(be=0)):be>Ye&&(be=Ye),be<me&&(be=me);const ut=this.subarray(me,be);return Object.setPrototypeOf(ut,b.prototype),ut};function De(Se,me,be){if(Se%1!==0||Se<0)throw new RangeError("offset is not uint");if(Se+me>be)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(me,be,Ye){me=me>>>0,be=be>>>0,Ye||De(me,be,this.length);let ut=this[me],yt=1,wt=0;for(;++wt<be&&(yt*=256);)ut+=this[me+wt]*yt;return ut},b.prototype.readUintBE=b.prototype.readUIntBE=function(me,be,Ye){me=me>>>0,be=be>>>0,Ye||De(me,be,this.length);let ut=this[me+--be],yt=1;for(;be>0&&(yt*=256);)ut+=this[me+--be]*yt;return ut},b.prototype.readUint8=b.prototype.readUInt8=function(me,be){return me=me>>>0,be||De(me,1,this.length),this[me]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(me,be){return me=me>>>0,be||De(me,2,this.length),this[me]|this[me+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(me,be){return me=me>>>0,be||De(me,2,this.length),this[me]<<8|this[me+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(me,be){return me=me>>>0,be||De(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+this[me+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(me,be){return me=me>>>0,be||De(me,4,this.length),this[me]*16777216+(this[me+1]<<16|this[me+2]<<8|this[me+3])},b.prototype.readBigUInt64LE=Kt(function(me){me=me>>>0,Ge(me,"offset");const be=this[me],Ye=this[me+7];(be===void 0||Ye===void 0)&&Qe(me,this.length-8);const ut=be+this[++me]*2**8+this[++me]*2**16+this[++me]*2**24,yt=this[++me]+this[++me]*2**8+this[++me]*2**16+Ye*2**24;return BigInt(ut)+(BigInt(yt)<<BigInt(32))}),b.prototype.readBigUInt64BE=Kt(function(me){me=me>>>0,Ge(me,"offset");const be=this[me],Ye=this[me+7];(be===void 0||Ye===void 0)&&Qe(me,this.length-8);const ut=be*2**24+this[++me]*2**16+this[++me]*2**8+this[++me],yt=this[++me]*2**24+this[++me]*2**16+this[++me]*2**8+Ye;return(BigInt(ut)<<BigInt(32))+BigInt(yt)}),b.prototype.readIntLE=function(me,be,Ye){me=me>>>0,be=be>>>0,Ye||De(me,be,this.length);let ut=this[me],yt=1,wt=0;for(;++wt<be&&(yt*=256);)ut+=this[me+wt]*yt;return yt*=128,ut>=yt&&(ut-=Math.pow(2,8*be)),ut},b.prototype.readIntBE=function(me,be,Ye){me=me>>>0,be=be>>>0,Ye||De(me,be,this.length);let ut=be,yt=1,wt=this[me+--ut];for(;ut>0&&(yt*=256);)wt+=this[me+--ut]*yt;return yt*=128,wt>=yt&&(wt-=Math.pow(2,8*be)),wt},b.prototype.readInt8=function(me,be){return me=me>>>0,be||De(me,1,this.length),this[me]&128?(255-this[me]+1)*-1:this[me]},b.prototype.readInt16LE=function(me,be){me=me>>>0,be||De(me,2,this.length);const Ye=this[me]|this[me+1]<<8;return Ye&32768?Ye|4294901760:Ye},b.prototype.readInt16BE=function(me,be){me=me>>>0,be||De(me,2,this.length);const Ye=this[me+1]|this[me]<<8;return Ye&32768?Ye|4294901760:Ye},b.prototype.readInt32LE=function(me,be){return me=me>>>0,be||De(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},b.prototype.readInt32BE=function(me,be){return me=me>>>0,be||De(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},b.prototype.readBigInt64LE=Kt(function(me){me=me>>>0,Ge(me,"offset");const be=this[me],Ye=this[me+7];(be===void 0||Ye===void 0)&&Qe(me,this.length-8);const ut=this[me+4]+this[me+5]*2**8+this[me+6]*2**16+(Ye<<24);return(BigInt(ut)<<BigInt(32))+BigInt(be+this[++me]*2**8+this[++me]*2**16+this[++me]*2**24)}),b.prototype.readBigInt64BE=Kt(function(me){me=me>>>0,Ge(me,"offset");const be=this[me],Ye=this[me+7];(be===void 0||Ye===void 0)&&Qe(me,this.length-8);const ut=(be<<24)+this[++me]*2**16+this[++me]*2**8+this[++me];return(BigInt(ut)<<BigInt(32))+BigInt(this[++me]*2**24+this[++me]*2**16+this[++me]*2**8+Ye)}),b.prototype.readFloatLE=function(me,be){return me=me>>>0,be||De(me,4,this.length),d.read(this,me,!0,23,4)},b.prototype.readFloatBE=function(me,be){return me=me>>>0,be||De(me,4,this.length),d.read(this,me,!1,23,4)},b.prototype.readDoubleLE=function(me,be){return me=me>>>0,be||De(me,8,this.length),d.read(this,me,!0,52,8)},b.prototype.readDoubleBE=function(me,be){return me=me>>>0,be||De(me,8,this.length),d.read(this,me,!1,52,8)};function pe(Se,me,be,Ye,ut,yt){if(!b.isBuffer(Se))throw new TypeError('"buffer" argument must be a Buffer instance');if(me>ut||me<yt)throw new RangeError('"value" argument is out of bounds');if(be+Ye>Se.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(me,be,Ye,ut){if(me=+me,be=be>>>0,Ye=Ye>>>0,!ut){const Ut=Math.pow(2,8*Ye)-1;pe(this,me,be,Ye,Ut,0)}let yt=1,wt=0;for(this[be]=me&255;++wt<Ye&&(yt*=256);)this[be+wt]=me/yt&255;return be+Ye},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(me,be,Ye,ut){if(me=+me,be=be>>>0,Ye=Ye>>>0,!ut){const Ut=Math.pow(2,8*Ye)-1;pe(this,me,be,Ye,Ut,0)}let yt=Ye-1,wt=1;for(this[be+yt]=me&255;--yt>=0&&(wt*=256);)this[be+yt]=me/wt&255;return be+Ye},b.prototype.writeUint8=b.prototype.writeUInt8=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,1,255,0),this[be]=me&255,be+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,2,65535,0),this[be]=me&255,this[be+1]=me>>>8,be+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,2,65535,0),this[be]=me>>>8,this[be+1]=me&255,be+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,4,4294967295,0),this[be+3]=me>>>24,this[be+2]=me>>>16,this[be+1]=me>>>8,this[be]=me&255,be+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,4,4294967295,0),this[be]=me>>>24,this[be+1]=me>>>16,this[be+2]=me>>>8,this[be+3]=me&255,be+4};function Le(Se,me,be,Ye,ut){qe(me,Ye,ut,Se,be,7);let yt=Number(me&BigInt(4294967295));Se[be++]=yt,yt=yt>>8,Se[be++]=yt,yt=yt>>8,Se[be++]=yt,yt=yt>>8,Se[be++]=yt;let wt=Number(me>>BigInt(32)&BigInt(4294967295));return Se[be++]=wt,wt=wt>>8,Se[be++]=wt,wt=wt>>8,Se[be++]=wt,wt=wt>>8,Se[be++]=wt,be}function Be(Se,me,be,Ye,ut){qe(me,Ye,ut,Se,be,7);let yt=Number(me&BigInt(4294967295));Se[be+7]=yt,yt=yt>>8,Se[be+6]=yt,yt=yt>>8,Se[be+5]=yt,yt=yt>>8,Se[be+4]=yt;let wt=Number(me>>BigInt(32)&BigInt(4294967295));return Se[be+3]=wt,wt=wt>>8,Se[be+2]=wt,wt=wt>>8,Se[be+1]=wt,wt=wt>>8,Se[be]=wt,be+8}b.prototype.writeBigUInt64LE=Kt(function(me,be=0){return Le(this,me,be,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Kt(function(me,be=0){return Be(this,me,be,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(me,be,Ye,ut){if(me=+me,be=be>>>0,!ut){const Xt=Math.pow(2,8*Ye-1);pe(this,me,be,Ye,Xt-1,-Xt)}let yt=0,wt=1,Ut=0;for(this[be]=me&255;++yt<Ye&&(wt*=256);)me<0&&Ut===0&&this[be+yt-1]!==0&&(Ut=1),this[be+yt]=(me/wt>>0)-Ut&255;return be+Ye},b.prototype.writeIntBE=function(me,be,Ye,ut){if(me=+me,be=be>>>0,!ut){const Xt=Math.pow(2,8*Ye-1);pe(this,me,be,Ye,Xt-1,-Xt)}let yt=Ye-1,wt=1,Ut=0;for(this[be+yt]=me&255;--yt>=0&&(wt*=256);)me<0&&Ut===0&&this[be+yt+1]!==0&&(Ut=1),this[be+yt]=(me/wt>>0)-Ut&255;return be+Ye},b.prototype.writeInt8=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,1,127,-128),me<0&&(me=255+me+1),this[be]=me&255,be+1},b.prototype.writeInt16LE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,2,32767,-32768),this[be]=me&255,this[be+1]=me>>>8,be+2},b.prototype.writeInt16BE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,2,32767,-32768),this[be]=me>>>8,this[be+1]=me&255,be+2},b.prototype.writeInt32LE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,4,2147483647,-2147483648),this[be]=me&255,this[be+1]=me>>>8,this[be+2]=me>>>16,this[be+3]=me>>>24,be+4},b.prototype.writeInt32BE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[be]=me>>>24,this[be+1]=me>>>16,this[be+2]=me>>>8,this[be+3]=me&255,be+4},b.prototype.writeBigInt64LE=Kt(function(me,be=0){return Le(this,me,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Kt(function(me,be=0){return Be(this,me,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(Se,me,be,Ye,ut,yt){if(be+Ye>Se.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("Index out of range")}function Ze(Se,me,be,Ye,ut){return me=+me,be=be>>>0,ut||Ce(Se,me,be,4),d.write(Se,me,be,Ye,23,4),be+4}b.prototype.writeFloatLE=function(me,be,Ye){return Ze(this,me,be,!0,Ye)},b.prototype.writeFloatBE=function(me,be,Ye){return Ze(this,me,be,!1,Ye)};function it(Se,me,be,Ye,ut){return me=+me,be=be>>>0,ut||Ce(Se,me,be,8),d.write(Se,me,be,Ye,52,8),be+8}b.prototype.writeDoubleLE=function(me,be,Ye){return it(this,me,be,!0,Ye)},b.prototype.writeDoubleBE=function(me,be,Ye){return it(this,me,be,!1,Ye)},b.prototype.copy=function(me,be,Ye,ut){if(!b.isBuffer(me))throw new TypeError("argument should be a Buffer");if(Ye||(Ye=0),!ut&&ut!==0&&(ut=this.length),be>=me.length&&(be=me.length),be||(be=0),ut>0&&ut<Ye&&(ut=Ye),ut===Ye||me.length===0||this.length===0)return 0;if(be<0)throw new RangeError("targetStart out of bounds");if(Ye<0||Ye>=this.length)throw new RangeError("Index out of range");if(ut<0)throw new RangeError("sourceEnd out of bounds");ut>this.length&&(ut=this.length),me.length-be<ut-Ye&&(ut=me.length-be+Ye);const yt=ut-Ye;return this===me&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(be,Ye,ut):Uint8Array.prototype.set.call(me,this.subarray(Ye,ut),be),yt},b.prototype.fill=function(me,be,Ye,ut){if(typeof me=="string"){if(typeof be=="string"?(ut=be,be=0,Ye=this.length):typeof Ye=="string"&&(ut=Ye,Ye=this.length),ut!==void 0&&typeof ut!="string")throw new TypeError("encoding must be a string");if(typeof ut=="string"&&!b.isEncoding(ut))throw new TypeError("Unknown encoding: "+ut);if(me.length===1){const wt=me.charCodeAt(0);(ut==="utf8"&&wt<128||ut==="latin1")&&(me=wt)}}else typeof me=="number"?me=me&255:typeof me=="boolean"&&(me=Number(me));if(be<0||this.length<be||this.length<Ye)throw new RangeError("Out of range index");if(Ye<=be)return this;be=be>>>0,Ye=Ye===void 0?this.length:Ye>>>0,me||(me=0);let yt;if(typeof me=="number")for(yt=be;yt<Ye;++yt)this[yt]=me;else{const wt=b.isBuffer(me)?me:b.from(me,ut),Ut=wt.length;if(Ut===0)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(yt=0;yt<Ye-be;++yt)this[yt+be]=wt[yt%Ut]}return this};const rt={};function Oe(Se,me,be){rt[Se]=class extends be{constructor(){super(),Object.defineProperty(this,"message",{value:me.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Se}]`,this.stack,delete this.name}get code(){return Se}set code(ut){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ut,writable:!0})}toString(){return`${this.name} [${Se}]: ${this.message}`}}}Oe("ERR_BUFFER_OUT_OF_BOUNDS",function(Se){return Se?`${Se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Oe("ERR_INVALID_ARG_TYPE",function(Se,me){return`The "${Se}" argument must be of type number. Received type ${typeof me}`},TypeError),Oe("ERR_OUT_OF_RANGE",function(Se,me,be){let Ye=`The value of "${Se}" is out of range.`,ut=be;return Number.isInteger(be)&&Math.abs(be)>2**32?ut=Ve(String(be)):typeof be=="bigint"&&(ut=String(be),(be>BigInt(2)**BigInt(32)||be<-(BigInt(2)**BigInt(32)))&&(ut=Ve(ut)),ut+="n"),Ye+=` It must be ${me}. Received ${ut}`,Ye},RangeError);function Ve(Se){let me="",be=Se.length;const Ye=Se[0]==="-"?1:0;for(;be>=Ye+4;be-=3)me=`_${Se.slice(be-3,be)}${me}`;return`${Se.slice(0,be)}${me}`}function We(Se,me,be){Ge(me,"offset"),(Se[me]===void 0||Se[me+be]===void 0)&&Qe(me,Se.length-(be+1))}function qe(Se,me,be,Ye,ut,yt){if(Se>be||Se<me){const wt=typeof me=="bigint"?"n":"";let Ut;throw yt>3?me===0||me===BigInt(0)?Ut=`>= 0${wt} and < 2${wt} ** ${(yt+1)*8}${wt}`:Ut=`>= -(2${wt} ** ${(yt+1)*8-1}${wt}) and < 2 ** ${(yt+1)*8-1}${wt}`:Ut=`>= ${me}${wt} and <= ${be}${wt}`,new rt.ERR_OUT_OF_RANGE("value",Ut,Se)}We(Ye,ut,yt)}function Ge(Se,me){if(typeof Se!="number")throw new rt.ERR_INVALID_ARG_TYPE(me,"number",Se)}function Qe(Se,me,be){throw Math.floor(Se)!==Se?(Ge(Se,be),new rt.ERR_OUT_OF_RANGE(be||"offset","an integer",Se)):me<0?new rt.ERR_BUFFER_OUT_OF_BOUNDS:new rt.ERR_OUT_OF_RANGE(be||"offset",`>= ${be?1:0} and <= ${me}`,Se)}const ct=/[^+/0-9A-Za-z-_]/g;function ft(Se){if(Se=Se.split("=")[0],Se=Se.trim().replace(ct,""),Se.length<2)return"";for(;Se.length%4!==0;)Se=Se+"=";return Se}function bt(Se,me){me=me||1/0;let be;const Ye=Se.length;let ut=null;const yt=[];for(let wt=0;wt<Ye;++wt){if(be=Se.charCodeAt(wt),be>55295&&be<57344){if(!ut){if(be>56319){(me-=3)>-1&&yt.push(239,191,189);continue}else if(wt+1===Ye){(me-=3)>-1&&yt.push(239,191,189);continue}ut=be;continue}if(be<56320){(me-=3)>-1&&yt.push(239,191,189),ut=be;continue}be=(ut-55296<<10|be-56320)+65536}else ut&&(me-=3)>-1&&yt.push(239,191,189);if(ut=null,be<128){if((me-=1)<0)break;yt.push(be)}else if(be<2048){if((me-=2)<0)break;yt.push(be>>6|192,be&63|128)}else if(be<65536){if((me-=3)<0)break;yt.push(be>>12|224,be>>6&63|128,be&63|128)}else if(be<1114112){if((me-=4)<0)break;yt.push(be>>18|240,be>>12&63|128,be>>6&63|128,be&63|128)}else throw new Error("Invalid code point")}return yt}function St(Se){const me=[];for(let be=0;be<Se.length;++be)me.push(Se.charCodeAt(be)&255);return me}function xt(Se,me){let be,Ye,ut;const yt=[];for(let wt=0;wt<Se.length&&!((me-=2)<0);++wt)be=Se.charCodeAt(wt),Ye=be>>8,ut=be%256,yt.push(ut),yt.push(Ye);return yt}function $t(Se){return a.toByteArray(ft(Se))}function It(Se,me,be,Ye){let ut;for(ut=0;ut<Ye&&!(ut+be>=me.length||ut>=Se.length);++ut)me[ut+be]=Se[ut];return ut}function Et(Se,me){return Se instanceof me||Se!=null&&Se.constructor!=null&&Se.constructor.name!=null&&Se.constructor.name===me.name}function At(Se){return Se!==Se}const kt=function(){const Se="0123456789abcdef",me=new Array(256);for(let be=0;be<16;++be){const Ye=be*16;for(let ut=0;ut<16;++ut)me[Ye+ut]=Se[be]+Se[ut]}return me}();function Kt(Se){return typeof BigInt>"u"?lt:Se}function lt(){throw new Error("BigInt not supported")}})(buffer$1);function commonjsRequire(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var naclFast={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(__viteBrowserExternal$1);(function(u){(function(a){var d=function(je){var Xe,ot=new Float64Array(16);if(je)for(Xe=0;Xe<je.length;Xe++)ot[Xe]=je[Xe];return ot},m=function(){throw new Error("no PRNG")},$=new Uint8Array(16),ee=new Uint8Array(32);ee[0]=9;var te=d(),b=d([1]),re=d([56129,1]),ne=d([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),ie=d([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),se=d([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),fe=d([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ce=d([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function de(je,Xe,ot,Ke){je[Xe]=ot>>24&255,je[Xe+1]=ot>>16&255,je[Xe+2]=ot>>8&255,je[Xe+3]=ot&255,je[Xe+4]=Ke>>24&255,je[Xe+5]=Ke>>16&255,je[Xe+6]=Ke>>8&255,je[Xe+7]=Ke&255}function ye(je,Xe,ot,Ke,pt){var gt,Tt=0;for(gt=0;gt<pt;gt++)Tt|=je[Xe+gt]^ot[Ke+gt];return(1&Tt-1>>>8)-1}function ge(je,Xe,ot,Ke){return ye(je,Xe,ot,Ke,16)}function _e(je,Xe,ot,Ke){return ye(je,Xe,ot,Ke,32)}function Ee(je,Xe,ot,Ke){for(var pt=Ke[0]&255|(Ke[1]&255)<<8|(Ke[2]&255)<<16|(Ke[3]&255)<<24,gt=ot[0]&255|(ot[1]&255)<<8|(ot[2]&255)<<16|(ot[3]&255)<<24,Tt=ot[4]&255|(ot[5]&255)<<8|(ot[6]&255)<<16|(ot[7]&255)<<24,Rt=ot[8]&255|(ot[9]&255)<<8|(ot[10]&255)<<16|(ot[11]&255)<<24,Mt=ot[12]&255|(ot[13]&255)<<8|(ot[14]&255)<<16|(ot[15]&255)<<24,zt=Ke[4]&255|(Ke[5]&255)<<8|(Ke[6]&255)<<16|(Ke[7]&255)<<24,Lt=Xe[0]&255|(Xe[1]&255)<<8|(Xe[2]&255)<<16|(Xe[3]&255)<<24,er=Xe[4]&255|(Xe[5]&255)<<8|(Xe[6]&255)<<16|(Xe[7]&255)<<24,lr=Xe[8]&255|(Xe[9]&255)<<8|(Xe[10]&255)<<16|(Xe[11]&255)<<24,Er=Xe[12]&255|(Xe[13]&255)<<8|(Xe[14]&255)<<16|(Xe[15]&255)<<24,or=Ke[8]&255|(Ke[9]&255)<<8|(Ke[10]&255)<<16|(Ke[11]&255)<<24,Tr=ot[16]&255|(ot[17]&255)<<8|(ot[18]&255)<<16|(ot[19]&255)<<24,Jt=ot[20]&255|(ot[21]&255)<<8|(ot[22]&255)<<16|(ot[23]&255)<<24,Dt=ot[24]&255|(ot[25]&255)<<8|(ot[26]&255)<<16|(ot[27]&255)<<24,Qt=ot[28]&255|(ot[29]&255)<<8|(ot[30]&255)<<16|(ot[31]&255)<<24,Pt=Ke[12]&255|(Ke[13]&255)<<8|(Ke[14]&255)<<16|(Ke[15]&255)<<24,Ot=pt,Bt=gt,nr=Tt,dr=Rt,sr=Mt,gr=zt,Zt=Lt,rr=er,Gt=lr,mr=Er,yr=or,Cr=Tr,Br=Jt,Hr=Dt,zr=Qt,Wr=Pt,jt,Yr=0;Yr<20;Yr+=2)jt=Ot+Br|0,sr^=jt<<7|jt>>>32-7,jt=sr+Ot|0,Gt^=jt<<9|jt>>>32-9,jt=Gt+sr|0,Br^=jt<<13|jt>>>32-13,jt=Br+Gt|0,Ot^=jt<<18|jt>>>32-18,jt=gr+Bt|0,mr^=jt<<7|jt>>>32-7,jt=mr+gr|0,Hr^=jt<<9|jt>>>32-9,jt=Hr+mr|0,Bt^=jt<<13|jt>>>32-13,jt=Bt+Hr|0,gr^=jt<<18|jt>>>32-18,jt=yr+Zt|0,zr^=jt<<7|jt>>>32-7,jt=zr+yr|0,nr^=jt<<9|jt>>>32-9,jt=nr+zr|0,Zt^=jt<<13|jt>>>32-13,jt=Zt+nr|0,yr^=jt<<18|jt>>>32-18,jt=Wr+Cr|0,dr^=jt<<7|jt>>>32-7,jt=dr+Wr|0,rr^=jt<<9|jt>>>32-9,jt=rr+dr|0,Cr^=jt<<13|jt>>>32-13,jt=Cr+rr|0,Wr^=jt<<18|jt>>>32-18,jt=Ot+dr|0,Bt^=jt<<7|jt>>>32-7,jt=Bt+Ot|0,nr^=jt<<9|jt>>>32-9,jt=nr+Bt|0,dr^=jt<<13|jt>>>32-13,jt=dr+nr|0,Ot^=jt<<18|jt>>>32-18,jt=gr+sr|0,Zt^=jt<<7|jt>>>32-7,jt=Zt+gr|0,rr^=jt<<9|jt>>>32-9,jt=rr+Zt|0,sr^=jt<<13|jt>>>32-13,jt=sr+rr|0,gr^=jt<<18|jt>>>32-18,jt=yr+mr|0,Cr^=jt<<7|jt>>>32-7,jt=Cr+yr|0,Gt^=jt<<9|jt>>>32-9,jt=Gt+Cr|0,mr^=jt<<13|jt>>>32-13,jt=mr+Gt|0,yr^=jt<<18|jt>>>32-18,jt=Wr+zr|0,Br^=jt<<7|jt>>>32-7,jt=Br+Wr|0,Hr^=jt<<9|jt>>>32-9,jt=Hr+Br|0,zr^=jt<<13|jt>>>32-13,jt=zr+Hr|0,Wr^=jt<<18|jt>>>32-18;Ot=Ot+pt|0,Bt=Bt+gt|0,nr=nr+Tt|0,dr=dr+Rt|0,sr=sr+Mt|0,gr=gr+zt|0,Zt=Zt+Lt|0,rr=rr+er|0,Gt=Gt+lr|0,mr=mr+Er|0,yr=yr+or|0,Cr=Cr+Tr|0,Br=Br+Jt|0,Hr=Hr+Dt|0,zr=zr+Qt|0,Wr=Wr+Pt|0,je[0]=Ot>>>0&255,je[1]=Ot>>>8&255,je[2]=Ot>>>16&255,je[3]=Ot>>>24&255,je[4]=Bt>>>0&255,je[5]=Bt>>>8&255,je[6]=Bt>>>16&255,je[7]=Bt>>>24&255,je[8]=nr>>>0&255,je[9]=nr>>>8&255,je[10]=nr>>>16&255,je[11]=nr>>>24&255,je[12]=dr>>>0&255,je[13]=dr>>>8&255,je[14]=dr>>>16&255,je[15]=dr>>>24&255,je[16]=sr>>>0&255,je[17]=sr>>>8&255,je[18]=sr>>>16&255,je[19]=sr>>>24&255,je[20]=gr>>>0&255,je[21]=gr>>>8&255,je[22]=gr>>>16&255,je[23]=gr>>>24&255,je[24]=Zt>>>0&255,je[25]=Zt>>>8&255,je[26]=Zt>>>16&255,je[27]=Zt>>>24&255,je[28]=rr>>>0&255,je[29]=rr>>>8&255,je[30]=rr>>>16&255,je[31]=rr>>>24&255,je[32]=Gt>>>0&255,je[33]=Gt>>>8&255,je[34]=Gt>>>16&255,je[35]=Gt>>>24&255,je[36]=mr>>>0&255,je[37]=mr>>>8&255,je[38]=mr>>>16&255,je[39]=mr>>>24&255,je[40]=yr>>>0&255,je[41]=yr>>>8&255,je[42]=yr>>>16&255,je[43]=yr>>>24&255,je[44]=Cr>>>0&255,je[45]=Cr>>>8&255,je[46]=Cr>>>16&255,je[47]=Cr>>>24&255,je[48]=Br>>>0&255,je[49]=Br>>>8&255,je[50]=Br>>>16&255,je[51]=Br>>>24&255,je[52]=Hr>>>0&255,je[53]=Hr>>>8&255,je[54]=Hr>>>16&255,je[55]=Hr>>>24&255,je[56]=zr>>>0&255,je[57]=zr>>>8&255,je[58]=zr>>>16&255,je[59]=zr>>>24&255,je[60]=Wr>>>0&255,je[61]=Wr>>>8&255,je[62]=Wr>>>16&255,je[63]=Wr>>>24&255}function Ae(je,Xe,ot,Ke){for(var pt=Ke[0]&255|(Ke[1]&255)<<8|(Ke[2]&255)<<16|(Ke[3]&255)<<24,gt=ot[0]&255|(ot[1]&255)<<8|(ot[2]&255)<<16|(ot[3]&255)<<24,Tt=ot[4]&255|(ot[5]&255)<<8|(ot[6]&255)<<16|(ot[7]&255)<<24,Rt=ot[8]&255|(ot[9]&255)<<8|(ot[10]&255)<<16|(ot[11]&255)<<24,Mt=ot[12]&255|(ot[13]&255)<<8|(ot[14]&255)<<16|(ot[15]&255)<<24,zt=Ke[4]&255|(Ke[5]&255)<<8|(Ke[6]&255)<<16|(Ke[7]&255)<<24,Lt=Xe[0]&255|(Xe[1]&255)<<8|(Xe[2]&255)<<16|(Xe[3]&255)<<24,er=Xe[4]&255|(Xe[5]&255)<<8|(Xe[6]&255)<<16|(Xe[7]&255)<<24,lr=Xe[8]&255|(Xe[9]&255)<<8|(Xe[10]&255)<<16|(Xe[11]&255)<<24,Er=Xe[12]&255|(Xe[13]&255)<<8|(Xe[14]&255)<<16|(Xe[15]&255)<<24,or=Ke[8]&255|(Ke[9]&255)<<8|(Ke[10]&255)<<16|(Ke[11]&255)<<24,Tr=ot[16]&255|(ot[17]&255)<<8|(ot[18]&255)<<16|(ot[19]&255)<<24,Jt=ot[20]&255|(ot[21]&255)<<8|(ot[22]&255)<<16|(ot[23]&255)<<24,Dt=ot[24]&255|(ot[25]&255)<<8|(ot[26]&255)<<16|(ot[27]&255)<<24,Qt=ot[28]&255|(ot[29]&255)<<8|(ot[30]&255)<<16|(ot[31]&255)<<24,Pt=Ke[12]&255|(Ke[13]&255)<<8|(Ke[14]&255)<<16|(Ke[15]&255)<<24,Ot=pt,Bt=gt,nr=Tt,dr=Rt,sr=Mt,gr=zt,Zt=Lt,rr=er,Gt=lr,mr=Er,yr=or,Cr=Tr,Br=Jt,Hr=Dt,zr=Qt,Wr=Pt,jt,Yr=0;Yr<20;Yr+=2)jt=Ot+Br|0,sr^=jt<<7|jt>>>32-7,jt=sr+Ot|0,Gt^=jt<<9|jt>>>32-9,jt=Gt+sr|0,Br^=jt<<13|jt>>>32-13,jt=Br+Gt|0,Ot^=jt<<18|jt>>>32-18,jt=gr+Bt|0,mr^=jt<<7|jt>>>32-7,jt=mr+gr|0,Hr^=jt<<9|jt>>>32-9,jt=Hr+mr|0,Bt^=jt<<13|jt>>>32-13,jt=Bt+Hr|0,gr^=jt<<18|jt>>>32-18,jt=yr+Zt|0,zr^=jt<<7|jt>>>32-7,jt=zr+yr|0,nr^=jt<<9|jt>>>32-9,jt=nr+zr|0,Zt^=jt<<13|jt>>>32-13,jt=Zt+nr|0,yr^=jt<<18|jt>>>32-18,jt=Wr+Cr|0,dr^=jt<<7|jt>>>32-7,jt=dr+Wr|0,rr^=jt<<9|jt>>>32-9,jt=rr+dr|0,Cr^=jt<<13|jt>>>32-13,jt=Cr+rr|0,Wr^=jt<<18|jt>>>32-18,jt=Ot+dr|0,Bt^=jt<<7|jt>>>32-7,jt=Bt+Ot|0,nr^=jt<<9|jt>>>32-9,jt=nr+Bt|0,dr^=jt<<13|jt>>>32-13,jt=dr+nr|0,Ot^=jt<<18|jt>>>32-18,jt=gr+sr|0,Zt^=jt<<7|jt>>>32-7,jt=Zt+gr|0,rr^=jt<<9|jt>>>32-9,jt=rr+Zt|0,sr^=jt<<13|jt>>>32-13,jt=sr+rr|0,gr^=jt<<18|jt>>>32-18,jt=yr+mr|0,Cr^=jt<<7|jt>>>32-7,jt=Cr+yr|0,Gt^=jt<<9|jt>>>32-9,jt=Gt+Cr|0,mr^=jt<<13|jt>>>32-13,jt=mr+Gt|0,yr^=jt<<18|jt>>>32-18,jt=Wr+zr|0,Br^=jt<<7|jt>>>32-7,jt=Br+Wr|0,Hr^=jt<<9|jt>>>32-9,jt=Hr+Br|0,zr^=jt<<13|jt>>>32-13,jt=zr+Hr|0,Wr^=jt<<18|jt>>>32-18;je[0]=Ot>>>0&255,je[1]=Ot>>>8&255,je[2]=Ot>>>16&255,je[3]=Ot>>>24&255,je[4]=gr>>>0&255,je[5]=gr>>>8&255,je[6]=gr>>>16&255,je[7]=gr>>>24&255,je[8]=yr>>>0&255,je[9]=yr>>>8&255,je[10]=yr>>>16&255,je[11]=yr>>>24&255,je[12]=Wr>>>0&255,je[13]=Wr>>>8&255,je[14]=Wr>>>16&255,je[15]=Wr>>>24&255,je[16]=Zt>>>0&255,je[17]=Zt>>>8&255,je[18]=Zt>>>16&255,je[19]=Zt>>>24&255,je[20]=rr>>>0&255,je[21]=rr>>>8&255,je[22]=rr>>>16&255,je[23]=rr>>>24&255,je[24]=Gt>>>0&255,je[25]=Gt>>>8&255,je[26]=Gt>>>16&255,je[27]=Gt>>>24&255,je[28]=mr>>>0&255,je[29]=mr>>>8&255,je[30]=mr>>>16&255,je[31]=mr>>>24&255}function we(je,Xe,ot,Ke){Ee(je,Xe,ot,Ke)}function Me(je,Xe,ot,Ke){Ae(je,Xe,ot,Ke)}var ke=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Re(je,Xe,ot,Ke,pt,gt,Tt){var Rt=new Uint8Array(16),Mt=new Uint8Array(64),zt,Lt;for(Lt=0;Lt<16;Lt++)Rt[Lt]=0;for(Lt=0;Lt<8;Lt++)Rt[Lt]=gt[Lt];for(;pt>=64;){for(we(Mt,Rt,Tt,ke),Lt=0;Lt<64;Lt++)je[Xe+Lt]=ot[Ke+Lt]^Mt[Lt];for(zt=1,Lt=8;Lt<16;Lt++)zt=zt+(Rt[Lt]&255)|0,Rt[Lt]=zt&255,zt>>>=8;pt-=64,Xe+=64,Ke+=64}if(pt>0)for(we(Mt,Rt,Tt,ke),Lt=0;Lt<pt;Lt++)je[Xe+Lt]=ot[Ke+Lt]^Mt[Lt];return 0}function ze(je,Xe,ot,Ke,pt){var gt=new Uint8Array(16),Tt=new Uint8Array(64),Rt,Mt;for(Mt=0;Mt<16;Mt++)gt[Mt]=0;for(Mt=0;Mt<8;Mt++)gt[Mt]=Ke[Mt];for(;ot>=64;){for(we(Tt,gt,pt,ke),Mt=0;Mt<64;Mt++)je[Xe+Mt]=Tt[Mt];for(Rt=1,Mt=8;Mt<16;Mt++)Rt=Rt+(gt[Mt]&255)|0,gt[Mt]=Rt&255,Rt>>>=8;ot-=64,Xe+=64}if(ot>0)for(we(Tt,gt,pt,ke),Mt=0;Mt<ot;Mt++)je[Xe+Mt]=Tt[Mt];return 0}function Je(je,Xe,ot,Ke,pt){var gt=new Uint8Array(32);Me(gt,Ke,pt,ke);for(var Tt=new Uint8Array(8),Rt=0;Rt<8;Rt++)Tt[Rt]=Ke[Rt+16];return ze(je,Xe,ot,Tt,gt)}function et(je,Xe,ot,Ke,pt,gt,Tt){var Rt=new Uint8Array(32);Me(Rt,gt,Tt,ke);for(var Mt=new Uint8Array(8),zt=0;zt<8;zt++)Mt[zt]=gt[zt+16];return Re(je,Xe,ot,Ke,pt,Mt,Rt)}var Pe=function(je){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var Xe,ot,Ke,pt,gt,Tt,Rt,Mt;Xe=je[0]&255|(je[1]&255)<<8,this.r[0]=Xe&8191,ot=je[2]&255|(je[3]&255)<<8,this.r[1]=(Xe>>>13|ot<<3)&8191,Ke=je[4]&255|(je[5]&255)<<8,this.r[2]=(ot>>>10|Ke<<6)&7939,pt=je[6]&255|(je[7]&255)<<8,this.r[3]=(Ke>>>7|pt<<9)&8191,gt=je[8]&255|(je[9]&255)<<8,this.r[4]=(pt>>>4|gt<<12)&255,this.r[5]=gt>>>1&8190,Tt=je[10]&255|(je[11]&255)<<8,this.r[6]=(gt>>>14|Tt<<2)&8191,Rt=je[12]&255|(je[13]&255)<<8,this.r[7]=(Tt>>>11|Rt<<5)&8065,Mt=je[14]&255|(je[15]&255)<<8,this.r[8]=(Rt>>>8|Mt<<8)&8191,this.r[9]=Mt>>>5&127,this.pad[0]=je[16]&255|(je[17]&255)<<8,this.pad[1]=je[18]&255|(je[19]&255)<<8,this.pad[2]=je[20]&255|(je[21]&255)<<8,this.pad[3]=je[22]&255|(je[23]&255)<<8,this.pad[4]=je[24]&255|(je[25]&255)<<8,this.pad[5]=je[26]&255|(je[27]&255)<<8,this.pad[6]=je[28]&255|(je[29]&255)<<8,this.pad[7]=je[30]&255|(je[31]&255)<<8};Pe.prototype.blocks=function(je,Xe,ot){for(var Ke=this.fin?0:2048,pt,gt,Tt,Rt,Mt,zt,Lt,er,lr,Er,or,Tr,Jt,Dt,Qt,Pt,Ot,Bt,nr,dr=this.h[0],sr=this.h[1],gr=this.h[2],Zt=this.h[3],rr=this.h[4],Gt=this.h[5],mr=this.h[6],yr=this.h[7],Cr=this.h[8],Br=this.h[9],Hr=this.r[0],zr=this.r[1],Wr=this.r[2],jt=this.r[3],Yr=this.r[4],Jr=this.r[5],nn=this.r[6],qr=this.r[7],sn=this.r[8],an=this.r[9];ot>=16;)pt=je[Xe+0]&255|(je[Xe+1]&255)<<8,dr+=pt&8191,gt=je[Xe+2]&255|(je[Xe+3]&255)<<8,sr+=(pt>>>13|gt<<3)&8191,Tt=je[Xe+4]&255|(je[Xe+5]&255)<<8,gr+=(gt>>>10|Tt<<6)&8191,Rt=je[Xe+6]&255|(je[Xe+7]&255)<<8,Zt+=(Tt>>>7|Rt<<9)&8191,Mt=je[Xe+8]&255|(je[Xe+9]&255)<<8,rr+=(Rt>>>4|Mt<<12)&8191,Gt+=Mt>>>1&8191,zt=je[Xe+10]&255|(je[Xe+11]&255)<<8,mr+=(Mt>>>14|zt<<2)&8191,Lt=je[Xe+12]&255|(je[Xe+13]&255)<<8,yr+=(zt>>>11|Lt<<5)&8191,er=je[Xe+14]&255|(je[Xe+15]&255)<<8,Cr+=(Lt>>>8|er<<8)&8191,Br+=er>>>5|Ke,lr=0,Er=lr,Er+=dr*Hr,Er+=sr*(5*an),Er+=gr*(5*sn),Er+=Zt*(5*qr),Er+=rr*(5*nn),lr=Er>>>13,Er&=8191,Er+=Gt*(5*Jr),Er+=mr*(5*Yr),Er+=yr*(5*jt),Er+=Cr*(5*Wr),Er+=Br*(5*zr),lr+=Er>>>13,Er&=8191,or=lr,or+=dr*zr,or+=sr*Hr,or+=gr*(5*an),or+=Zt*(5*sn),or+=rr*(5*qr),lr=or>>>13,or&=8191,or+=Gt*(5*nn),or+=mr*(5*Jr),or+=yr*(5*Yr),or+=Cr*(5*jt),or+=Br*(5*Wr),lr+=or>>>13,or&=8191,Tr=lr,Tr+=dr*Wr,Tr+=sr*zr,Tr+=gr*Hr,Tr+=Zt*(5*an),Tr+=rr*(5*sn),lr=Tr>>>13,Tr&=8191,Tr+=Gt*(5*qr),Tr+=mr*(5*nn),Tr+=yr*(5*Jr),Tr+=Cr*(5*Yr),Tr+=Br*(5*jt),lr+=Tr>>>13,Tr&=8191,Jt=lr,Jt+=dr*jt,Jt+=sr*Wr,Jt+=gr*zr,Jt+=Zt*Hr,Jt+=rr*(5*an),lr=Jt>>>13,Jt&=8191,Jt+=Gt*(5*sn),Jt+=mr*(5*qr),Jt+=yr*(5*nn),Jt+=Cr*(5*Jr),Jt+=Br*(5*Yr),lr+=Jt>>>13,Jt&=8191,Dt=lr,Dt+=dr*Yr,Dt+=sr*jt,Dt+=gr*Wr,Dt+=Zt*zr,Dt+=rr*Hr,lr=Dt>>>13,Dt&=8191,Dt+=Gt*(5*an),Dt+=mr*(5*sn),Dt+=yr*(5*qr),Dt+=Cr*(5*nn),Dt+=Br*(5*Jr),lr+=Dt>>>13,Dt&=8191,Qt=lr,Qt+=dr*Jr,Qt+=sr*Yr,Qt+=gr*jt,Qt+=Zt*Wr,Qt+=rr*zr,lr=Qt>>>13,Qt&=8191,Qt+=Gt*Hr,Qt+=mr*(5*an),Qt+=yr*(5*sn),Qt+=Cr*(5*qr),Qt+=Br*(5*nn),lr+=Qt>>>13,Qt&=8191,Pt=lr,Pt+=dr*nn,Pt+=sr*Jr,Pt+=gr*Yr,Pt+=Zt*jt,Pt+=rr*Wr,lr=Pt>>>13,Pt&=8191,Pt+=Gt*zr,Pt+=mr*Hr,Pt+=yr*(5*an),Pt+=Cr*(5*sn),Pt+=Br*(5*qr),lr+=Pt>>>13,Pt&=8191,Ot=lr,Ot+=dr*qr,Ot+=sr*nn,Ot+=gr*Jr,Ot+=Zt*Yr,Ot+=rr*jt,lr=Ot>>>13,Ot&=8191,Ot+=Gt*Wr,Ot+=mr*zr,Ot+=yr*Hr,Ot+=Cr*(5*an),Ot+=Br*(5*sn),lr+=Ot>>>13,Ot&=8191,Bt=lr,Bt+=dr*sn,Bt+=sr*qr,Bt+=gr*nn,Bt+=Zt*Jr,Bt+=rr*Yr,lr=Bt>>>13,Bt&=8191,Bt+=Gt*jt,Bt+=mr*Wr,Bt+=yr*zr,Bt+=Cr*Hr,Bt+=Br*(5*an),lr+=Bt>>>13,Bt&=8191,nr=lr,nr+=dr*an,nr+=sr*sn,nr+=gr*qr,nr+=Zt*nn,nr+=rr*Jr,lr=nr>>>13,nr&=8191,nr+=Gt*Yr,nr+=mr*jt,nr+=yr*Wr,nr+=Cr*zr,nr+=Br*Hr,lr+=nr>>>13,nr&=8191,lr=(lr<<2)+lr|0,lr=lr+Er|0,Er=lr&8191,lr=lr>>>13,or+=lr,dr=Er,sr=or,gr=Tr,Zt=Jt,rr=Dt,Gt=Qt,mr=Pt,yr=Ot,Cr=Bt,Br=nr,Xe+=16,ot-=16;this.h[0]=dr,this.h[1]=sr,this.h[2]=gr,this.h[3]=Zt,this.h[4]=rr,this.h[5]=Gt,this.h[6]=mr,this.h[7]=yr,this.h[8]=Cr,this.h[9]=Br},Pe.prototype.finish=function(je,Xe){var ot=new Uint16Array(10),Ke,pt,gt,Tt;if(this.leftover){for(Tt=this.leftover,this.buffer[Tt++]=1;Tt<16;Tt++)this.buffer[Tt]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(Ke=this.h[1]>>>13,this.h[1]&=8191,Tt=2;Tt<10;Tt++)this.h[Tt]+=Ke,Ke=this.h[Tt]>>>13,this.h[Tt]&=8191;for(this.h[0]+=Ke*5,Ke=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=Ke,Ke=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=Ke,ot[0]=this.h[0]+5,Ke=ot[0]>>>13,ot[0]&=8191,Tt=1;Tt<10;Tt++)ot[Tt]=this.h[Tt]+Ke,Ke=ot[Tt]>>>13,ot[Tt]&=8191;for(ot[9]-=1<<13,pt=(Ke^1)-1,Tt=0;Tt<10;Tt++)ot[Tt]&=pt;for(pt=~pt,Tt=0;Tt<10;Tt++)this.h[Tt]=this.h[Tt]&pt|ot[Tt];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,gt=this.h[0]+this.pad[0],this.h[0]=gt&65535,Tt=1;Tt<8;Tt++)gt=(this.h[Tt]+this.pad[Tt]|0)+(gt>>>16)|0,this.h[Tt]=gt&65535;je[Xe+0]=this.h[0]>>>0&255,je[Xe+1]=this.h[0]>>>8&255,je[Xe+2]=this.h[1]>>>0&255,je[Xe+3]=this.h[1]>>>8&255,je[Xe+4]=this.h[2]>>>0&255,je[Xe+5]=this.h[2]>>>8&255,je[Xe+6]=this.h[3]>>>0&255,je[Xe+7]=this.h[3]>>>8&255,je[Xe+8]=this.h[4]>>>0&255,je[Xe+9]=this.h[4]>>>8&255,je[Xe+10]=this.h[5]>>>0&255,je[Xe+11]=this.h[5]>>>8&255,je[Xe+12]=this.h[6]>>>0&255,je[Xe+13]=this.h[6]>>>8&255,je[Xe+14]=this.h[7]>>>0&255,je[Xe+15]=this.h[7]>>>8&255},Pe.prototype.update=function(je,Xe,ot){var Ke,pt;if(this.leftover){for(pt=16-this.leftover,pt>ot&&(pt=ot),Ke=0;Ke<pt;Ke++)this.buffer[this.leftover+Ke]=je[Xe+Ke];if(ot-=pt,Xe+=pt,this.leftover+=pt,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(ot>=16&&(pt=ot-ot%16,this.blocks(je,Xe,pt),Xe+=pt,ot-=pt),ot){for(Ke=0;Ke<ot;Ke++)this.buffer[this.leftover+Ke]=je[Xe+Ke];this.leftover+=ot}};function ve(je,Xe,ot,Ke,pt,gt){var Tt=new Pe(gt);return Tt.update(ot,Ke,pt),Tt.finish(je,Xe),0}function le(je,Xe,ot,Ke,pt,gt){var Tt=new Uint8Array(16);return ve(Tt,0,ot,Ke,pt,gt),ge(je,Xe,Tt,0)}function ae(je,Xe,ot,Ke,pt){var gt;if(ot<32)return-1;for(et(je,0,Xe,0,ot,Ke,pt),ve(je,16,je,32,ot-32,je),gt=0;gt<16;gt++)je[gt]=0;return 0}function he(je,Xe,ot,Ke,pt){var gt,Tt=new Uint8Array(32);if(ot<32||(Je(Tt,0,32,Ke,pt),le(Xe,16,Xe,32,ot-32,Tt)!==0))return-1;for(et(je,0,Xe,0,ot,Ke,pt),gt=0;gt<32;gt++)je[gt]=0;return 0}function xe(je,Xe){var ot;for(ot=0;ot<16;ot++)je[ot]=Xe[ot]|0}function $e(je){var Xe,ot,Ke=1;for(Xe=0;Xe<16;Xe++)ot=je[Xe]+Ke+65535,Ke=Math.floor(ot/65536),je[Xe]=ot-Ke*65536;je[0]+=Ke-1+37*(Ke-1)}function He(je,Xe,ot){for(var Ke,pt=~(ot-1),gt=0;gt<16;gt++)Ke=pt&(je[gt]^Xe[gt]),je[gt]^=Ke,Xe[gt]^=Ke}function Fe(je,Xe){var ot,Ke,pt,gt=d(),Tt=d();for(ot=0;ot<16;ot++)Tt[ot]=Xe[ot];for($e(Tt),$e(Tt),$e(Tt),Ke=0;Ke<2;Ke++){for(gt[0]=Tt[0]-65517,ot=1;ot<15;ot++)gt[ot]=Tt[ot]-65535-(gt[ot-1]>>16&1),gt[ot-1]&=65535;gt[15]=Tt[15]-32767-(gt[14]>>16&1),pt=gt[15]>>16&1,gt[14]&=65535,He(Tt,gt,1-pt)}for(ot=0;ot<16;ot++)je[2*ot]=Tt[ot]&255,je[2*ot+1]=Tt[ot]>>8}function Ne(je,Xe){var ot=new Uint8Array(32),Ke=new Uint8Array(32);return Fe(ot,je),Fe(Ke,Xe),_e(ot,0,Ke,0)}function De(je){var Xe=new Uint8Array(32);return Fe(Xe,je),Xe[0]&1}function pe(je,Xe){var ot;for(ot=0;ot<16;ot++)je[ot]=Xe[2*ot]+(Xe[2*ot+1]<<8);je[15]&=32767}function Le(je,Xe,ot){for(var Ke=0;Ke<16;Ke++)je[Ke]=Xe[Ke]+ot[Ke]}function Be(je,Xe,ot){for(var Ke=0;Ke<16;Ke++)je[Ke]=Xe[Ke]-ot[Ke]}function Ce(je,Xe,ot){var Ke,pt,gt=0,Tt=0,Rt=0,Mt=0,zt=0,Lt=0,er=0,lr=0,Er=0,or=0,Tr=0,Jt=0,Dt=0,Qt=0,Pt=0,Ot=0,Bt=0,nr=0,dr=0,sr=0,gr=0,Zt=0,rr=0,Gt=0,mr=0,yr=0,Cr=0,Br=0,Hr=0,zr=0,Wr=0,jt=ot[0],Yr=ot[1],Jr=ot[2],nn=ot[3],qr=ot[4],sn=ot[5],an=ot[6],Xr=ot[7],tn=ot[8],vn=ot[9],hn=ot[10],dn=ot[11],En=ot[12],wn=ot[13],Rn=ot[14],Qr=ot[15];Ke=Xe[0],gt+=Ke*jt,Tt+=Ke*Yr,Rt+=Ke*Jr,Mt+=Ke*nn,zt+=Ke*qr,Lt+=Ke*sn,er+=Ke*an,lr+=Ke*Xr,Er+=Ke*tn,or+=Ke*vn,Tr+=Ke*hn,Jt+=Ke*dn,Dt+=Ke*En,Qt+=Ke*wn,Pt+=Ke*Rn,Ot+=Ke*Qr,Ke=Xe[1],Tt+=Ke*jt,Rt+=Ke*Yr,Mt+=Ke*Jr,zt+=Ke*nn,Lt+=Ke*qr,er+=Ke*sn,lr+=Ke*an,Er+=Ke*Xr,or+=Ke*tn,Tr+=Ke*vn,Jt+=Ke*hn,Dt+=Ke*dn,Qt+=Ke*En,Pt+=Ke*wn,Ot+=Ke*Rn,Bt+=Ke*Qr,Ke=Xe[2],Rt+=Ke*jt,Mt+=Ke*Yr,zt+=Ke*Jr,Lt+=Ke*nn,er+=Ke*qr,lr+=Ke*sn,Er+=Ke*an,or+=Ke*Xr,Tr+=Ke*tn,Jt+=Ke*vn,Dt+=Ke*hn,Qt+=Ke*dn,Pt+=Ke*En,Ot+=Ke*wn,Bt+=Ke*Rn,nr+=Ke*Qr,Ke=Xe[3],Mt+=Ke*jt,zt+=Ke*Yr,Lt+=Ke*Jr,er+=Ke*nn,lr+=Ke*qr,Er+=Ke*sn,or+=Ke*an,Tr+=Ke*Xr,Jt+=Ke*tn,Dt+=Ke*vn,Qt+=Ke*hn,Pt+=Ke*dn,Ot+=Ke*En,Bt+=Ke*wn,nr+=Ke*Rn,dr+=Ke*Qr,Ke=Xe[4],zt+=Ke*jt,Lt+=Ke*Yr,er+=Ke*Jr,lr+=Ke*nn,Er+=Ke*qr,or+=Ke*sn,Tr+=Ke*an,Jt+=Ke*Xr,Dt+=Ke*tn,Qt+=Ke*vn,Pt+=Ke*hn,Ot+=Ke*dn,Bt+=Ke*En,nr+=Ke*wn,dr+=Ke*Rn,sr+=Ke*Qr,Ke=Xe[5],Lt+=Ke*jt,er+=Ke*Yr,lr+=Ke*Jr,Er+=Ke*nn,or+=Ke*qr,Tr+=Ke*sn,Jt+=Ke*an,Dt+=Ke*Xr,Qt+=Ke*tn,Pt+=Ke*vn,Ot+=Ke*hn,Bt+=Ke*dn,nr+=Ke*En,dr+=Ke*wn,sr+=Ke*Rn,gr+=Ke*Qr,Ke=Xe[6],er+=Ke*jt,lr+=Ke*Yr,Er+=Ke*Jr,or+=Ke*nn,Tr+=Ke*qr,Jt+=Ke*sn,Dt+=Ke*an,Qt+=Ke*Xr,Pt+=Ke*tn,Ot+=Ke*vn,Bt+=Ke*hn,nr+=Ke*dn,dr+=Ke*En,sr+=Ke*wn,gr+=Ke*Rn,Zt+=Ke*Qr,Ke=Xe[7],lr+=Ke*jt,Er+=Ke*Yr,or+=Ke*Jr,Tr+=Ke*nn,Jt+=Ke*qr,Dt+=Ke*sn,Qt+=Ke*an,Pt+=Ke*Xr,Ot+=Ke*tn,Bt+=Ke*vn,nr+=Ke*hn,dr+=Ke*dn,sr+=Ke*En,gr+=Ke*wn,Zt+=Ke*Rn,rr+=Ke*Qr,Ke=Xe[8],Er+=Ke*jt,or+=Ke*Yr,Tr+=Ke*Jr,Jt+=Ke*nn,Dt+=Ke*qr,Qt+=Ke*sn,Pt+=Ke*an,Ot+=Ke*Xr,Bt+=Ke*tn,nr+=Ke*vn,dr+=Ke*hn,sr+=Ke*dn,gr+=Ke*En,Zt+=Ke*wn,rr+=Ke*Rn,Gt+=Ke*Qr,Ke=Xe[9],or+=Ke*jt,Tr+=Ke*Yr,Jt+=Ke*Jr,Dt+=Ke*nn,Qt+=Ke*qr,Pt+=Ke*sn,Ot+=Ke*an,Bt+=Ke*Xr,nr+=Ke*tn,dr+=Ke*vn,sr+=Ke*hn,gr+=Ke*dn,Zt+=Ke*En,rr+=Ke*wn,Gt+=Ke*Rn,mr+=Ke*Qr,Ke=Xe[10],Tr+=Ke*jt,Jt+=Ke*Yr,Dt+=Ke*Jr,Qt+=Ke*nn,Pt+=Ke*qr,Ot+=Ke*sn,Bt+=Ke*an,nr+=Ke*Xr,dr+=Ke*tn,sr+=Ke*vn,gr+=Ke*hn,Zt+=Ke*dn,rr+=Ke*En,Gt+=Ke*wn,mr+=Ke*Rn,yr+=Ke*Qr,Ke=Xe[11],Jt+=Ke*jt,Dt+=Ke*Yr,Qt+=Ke*Jr,Pt+=Ke*nn,Ot+=Ke*qr,Bt+=Ke*sn,nr+=Ke*an,dr+=Ke*Xr,sr+=Ke*tn,gr+=Ke*vn,Zt+=Ke*hn,rr+=Ke*dn,Gt+=Ke*En,mr+=Ke*wn,yr+=Ke*Rn,Cr+=Ke*Qr,Ke=Xe[12],Dt+=Ke*jt,Qt+=Ke*Yr,Pt+=Ke*Jr,Ot+=Ke*nn,Bt+=Ke*qr,nr+=Ke*sn,dr+=Ke*an,sr+=Ke*Xr,gr+=Ke*tn,Zt+=Ke*vn,rr+=Ke*hn,Gt+=Ke*dn,mr+=Ke*En,yr+=Ke*wn,Cr+=Ke*Rn,Br+=Ke*Qr,Ke=Xe[13],Qt+=Ke*jt,Pt+=Ke*Yr,Ot+=Ke*Jr,Bt+=Ke*nn,nr+=Ke*qr,dr+=Ke*sn,sr+=Ke*an,gr+=Ke*Xr,Zt+=Ke*tn,rr+=Ke*vn,Gt+=Ke*hn,mr+=Ke*dn,yr+=Ke*En,Cr+=Ke*wn,Br+=Ke*Rn,Hr+=Ke*Qr,Ke=Xe[14],Pt+=Ke*jt,Ot+=Ke*Yr,Bt+=Ke*Jr,nr+=Ke*nn,dr+=Ke*qr,sr+=Ke*sn,gr+=Ke*an,Zt+=Ke*Xr,rr+=Ke*tn,Gt+=Ke*vn,mr+=Ke*hn,yr+=Ke*dn,Cr+=Ke*En,Br+=Ke*wn,Hr+=Ke*Rn,zr+=Ke*Qr,Ke=Xe[15],Ot+=Ke*jt,Bt+=Ke*Yr,nr+=Ke*Jr,dr+=Ke*nn,sr+=Ke*qr,gr+=Ke*sn,Zt+=Ke*an,rr+=Ke*Xr,Gt+=Ke*tn,mr+=Ke*vn,yr+=Ke*hn,Cr+=Ke*dn,Br+=Ke*En,Hr+=Ke*wn,zr+=Ke*Rn,Wr+=Ke*Qr,gt+=38*Bt,Tt+=38*nr,Rt+=38*dr,Mt+=38*sr,zt+=38*gr,Lt+=38*Zt,er+=38*rr,lr+=38*Gt,Er+=38*mr,or+=38*yr,Tr+=38*Cr,Jt+=38*Br,Dt+=38*Hr,Qt+=38*zr,Pt+=38*Wr,pt=1,Ke=gt+pt+65535,pt=Math.floor(Ke/65536),gt=Ke-pt*65536,Ke=Tt+pt+65535,pt=Math.floor(Ke/65536),Tt=Ke-pt*65536,Ke=Rt+pt+65535,pt=Math.floor(Ke/65536),Rt=Ke-pt*65536,Ke=Mt+pt+65535,pt=Math.floor(Ke/65536),Mt=Ke-pt*65536,Ke=zt+pt+65535,pt=Math.floor(Ke/65536),zt=Ke-pt*65536,Ke=Lt+pt+65535,pt=Math.floor(Ke/65536),Lt=Ke-pt*65536,Ke=er+pt+65535,pt=Math.floor(Ke/65536),er=Ke-pt*65536,Ke=lr+pt+65535,pt=Math.floor(Ke/65536),lr=Ke-pt*65536,Ke=Er+pt+65535,pt=Math.floor(Ke/65536),Er=Ke-pt*65536,Ke=or+pt+65535,pt=Math.floor(Ke/65536),or=Ke-pt*65536,Ke=Tr+pt+65535,pt=Math.floor(Ke/65536),Tr=Ke-pt*65536,Ke=Jt+pt+65535,pt=Math.floor(Ke/65536),Jt=Ke-pt*65536,Ke=Dt+pt+65535,pt=Math.floor(Ke/65536),Dt=Ke-pt*65536,Ke=Qt+pt+65535,pt=Math.floor(Ke/65536),Qt=Ke-pt*65536,Ke=Pt+pt+65535,pt=Math.floor(Ke/65536),Pt=Ke-pt*65536,Ke=Ot+pt+65535,pt=Math.floor(Ke/65536),Ot=Ke-pt*65536,gt+=pt-1+37*(pt-1),pt=1,Ke=gt+pt+65535,pt=Math.floor(Ke/65536),gt=Ke-pt*65536,Ke=Tt+pt+65535,pt=Math.floor(Ke/65536),Tt=Ke-pt*65536,Ke=Rt+pt+65535,pt=Math.floor(Ke/65536),Rt=Ke-pt*65536,Ke=Mt+pt+65535,pt=Math.floor(Ke/65536),Mt=Ke-pt*65536,Ke=zt+pt+65535,pt=Math.floor(Ke/65536),zt=Ke-pt*65536,Ke=Lt+pt+65535,pt=Math.floor(Ke/65536),Lt=Ke-pt*65536,Ke=er+pt+65535,pt=Math.floor(Ke/65536),er=Ke-pt*65536,Ke=lr+pt+65535,pt=Math.floor(Ke/65536),lr=Ke-pt*65536,Ke=Er+pt+65535,pt=Math.floor(Ke/65536),Er=Ke-pt*65536,Ke=or+pt+65535,pt=Math.floor(Ke/65536),or=Ke-pt*65536,Ke=Tr+pt+65535,pt=Math.floor(Ke/65536),Tr=Ke-pt*65536,Ke=Jt+pt+65535,pt=Math.floor(Ke/65536),Jt=Ke-pt*65536,Ke=Dt+pt+65535,pt=Math.floor(Ke/65536),Dt=Ke-pt*65536,Ke=Qt+pt+65535,pt=Math.floor(Ke/65536),Qt=Ke-pt*65536,Ke=Pt+pt+65535,pt=Math.floor(Ke/65536),Pt=Ke-pt*65536,Ke=Ot+pt+65535,pt=Math.floor(Ke/65536),Ot=Ke-pt*65536,gt+=pt-1+37*(pt-1),je[0]=gt,je[1]=Tt,je[2]=Rt,je[3]=Mt,je[4]=zt,je[5]=Lt,je[6]=er,je[7]=lr,je[8]=Er,je[9]=or,je[10]=Tr,je[11]=Jt,je[12]=Dt,je[13]=Qt,je[14]=Pt,je[15]=Ot}function Ze(je,Xe){Ce(je,Xe,Xe)}function it(je,Xe){var ot=d(),Ke;for(Ke=0;Ke<16;Ke++)ot[Ke]=Xe[Ke];for(Ke=253;Ke>=0;Ke--)Ze(ot,ot),Ke!==2&&Ke!==4&&Ce(ot,ot,Xe);for(Ke=0;Ke<16;Ke++)je[Ke]=ot[Ke]}function rt(je,Xe){var ot=d(),Ke;for(Ke=0;Ke<16;Ke++)ot[Ke]=Xe[Ke];for(Ke=250;Ke>=0;Ke--)Ze(ot,ot),Ke!==1&&Ce(ot,ot,Xe);for(Ke=0;Ke<16;Ke++)je[Ke]=ot[Ke]}function Oe(je,Xe,ot){var Ke=new Uint8Array(32),pt=new Float64Array(80),gt,Tt,Rt=d(),Mt=d(),zt=d(),Lt=d(),er=d(),lr=d();for(Tt=0;Tt<31;Tt++)Ke[Tt]=Xe[Tt];for(Ke[31]=Xe[31]&127|64,Ke[0]&=248,pe(pt,ot),Tt=0;Tt<16;Tt++)Mt[Tt]=pt[Tt],Lt[Tt]=Rt[Tt]=zt[Tt]=0;for(Rt[0]=Lt[0]=1,Tt=254;Tt>=0;--Tt)gt=Ke[Tt>>>3]>>>(Tt&7)&1,He(Rt,Mt,gt),He(zt,Lt,gt),Le(er,Rt,zt),Be(Rt,Rt,zt),Le(zt,Mt,Lt),Be(Mt,Mt,Lt),Ze(Lt,er),Ze(lr,Rt),Ce(Rt,zt,Rt),Ce(zt,Mt,er),Le(er,Rt,zt),Be(Rt,Rt,zt),Ze(Mt,Rt),Be(zt,Lt,lr),Ce(Rt,zt,re),Le(Rt,Rt,Lt),Ce(zt,zt,Rt),Ce(Rt,Lt,lr),Ce(Lt,Mt,pt),Ze(Mt,er),He(Rt,Mt,gt),He(zt,Lt,gt);for(Tt=0;Tt<16;Tt++)pt[Tt+16]=Rt[Tt],pt[Tt+32]=zt[Tt],pt[Tt+48]=Mt[Tt],pt[Tt+64]=Lt[Tt];var Er=pt.subarray(32),or=pt.subarray(16);return it(Er,Er),Ce(or,or,Er),Fe(je,or),0}function Ve(je,Xe){return Oe(je,Xe,ee)}function We(je,Xe){return m(Xe,32),Ve(je,Xe)}function qe(je,Xe,ot){var Ke=new Uint8Array(32);return Oe(Ke,ot,Xe),Me(je,$,Ke,ke)}var Ge=ae,Qe=he;function ct(je,Xe,ot,Ke,pt,gt){var Tt=new Uint8Array(32);return qe(Tt,pt,gt),Ge(je,Xe,ot,Ke,Tt)}function ft(je,Xe,ot,Ke,pt,gt){var Tt=new Uint8Array(32);return qe(Tt,pt,gt),Qe(je,Xe,ot,Ke,Tt)}var bt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function St(je,Xe,ot,Ke){for(var pt=new Int32Array(16),gt=new Int32Array(16),Tt,Rt,Mt,zt,Lt,er,lr,Er,or,Tr,Jt,Dt,Qt,Pt,Ot,Bt,nr,dr,sr,gr,Zt,rr,Gt,mr,yr,Cr,Br=je[0],Hr=je[1],zr=je[2],Wr=je[3],jt=je[4],Yr=je[5],Jr=je[6],nn=je[7],qr=Xe[0],sn=Xe[1],an=Xe[2],Xr=Xe[3],tn=Xe[4],vn=Xe[5],hn=Xe[6],dn=Xe[7],En=0;Ke>=128;){for(sr=0;sr<16;sr++)gr=8*sr+En,pt[sr]=ot[gr+0]<<24|ot[gr+1]<<16|ot[gr+2]<<8|ot[gr+3],gt[sr]=ot[gr+4]<<24|ot[gr+5]<<16|ot[gr+6]<<8|ot[gr+7];for(sr=0;sr<80;sr++)if(Tt=Br,Rt=Hr,Mt=zr,zt=Wr,Lt=jt,er=Yr,lr=Jr,Er=nn,or=qr,Tr=sn,Jt=an,Dt=Xr,Qt=tn,Pt=vn,Ot=hn,Bt=dn,Zt=nn,rr=dn,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=(jt>>>14|tn<<32-14)^(jt>>>18|tn<<32-18)^(tn>>>41-32|jt<<32-(41-32)),rr=(tn>>>14|jt<<32-14)^(tn>>>18|jt<<32-18)^(jt>>>41-32|tn<<32-(41-32)),Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,Zt=jt&Yr^~jt&Jr,rr=tn&vn^~tn&hn,Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,Zt=bt[sr*2],rr=bt[sr*2+1],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,Zt=pt[sr%16],rr=gt[sr%16],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,nr=yr&65535|Cr<<16,dr=Gt&65535|mr<<16,Zt=nr,rr=dr,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=(Br>>>28|qr<<32-28)^(qr>>>34-32|Br<<32-(34-32))^(qr>>>39-32|Br<<32-(39-32)),rr=(qr>>>28|Br<<32-28)^(Br>>>34-32|qr<<32-(34-32))^(Br>>>39-32|qr<<32-(39-32)),Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,Zt=Br&Hr^Br&zr^Hr&zr,rr=qr&sn^qr&an^sn&an,Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,Er=yr&65535|Cr<<16,Bt=Gt&65535|mr<<16,Zt=zt,rr=Dt,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=nr,rr=dr,Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,zt=yr&65535|Cr<<16,Dt=Gt&65535|mr<<16,Hr=Tt,zr=Rt,Wr=Mt,jt=zt,Yr=Lt,Jr=er,nn=lr,Br=Er,sn=or,an=Tr,Xr=Jt,tn=Dt,vn=Qt,hn=Pt,dn=Ot,qr=Bt,sr%16===15)for(gr=0;gr<16;gr++)Zt=pt[gr],rr=gt[gr],Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=pt[(gr+9)%16],rr=gt[(gr+9)%16],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,nr=pt[(gr+1)%16],dr=gt[(gr+1)%16],Zt=(nr>>>1|dr<<32-1)^(nr>>>8|dr<<32-8)^nr>>>7,rr=(dr>>>1|nr<<32-1)^(dr>>>8|nr<<32-8)^(dr>>>7|nr<<32-7),Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,nr=pt[(gr+14)%16],dr=gt[(gr+14)%16],Zt=(nr>>>19|dr<<32-19)^(dr>>>61-32|nr<<32-(61-32))^nr>>>6,rr=(dr>>>19|nr<<32-19)^(nr>>>61-32|dr<<32-(61-32))^(dr>>>6|nr<<32-6),Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,pt[gr]=yr&65535|Cr<<16,gt[gr]=Gt&65535|mr<<16;Zt=Br,rr=qr,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=je[0],rr=Xe[0],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,je[0]=Br=yr&65535|Cr<<16,Xe[0]=qr=Gt&65535|mr<<16,Zt=Hr,rr=sn,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=je[1],rr=Xe[1],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,je[1]=Hr=yr&65535|Cr<<16,Xe[1]=sn=Gt&65535|mr<<16,Zt=zr,rr=an,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=je[2],rr=Xe[2],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,je[2]=zr=yr&65535|Cr<<16,Xe[2]=an=Gt&65535|mr<<16,Zt=Wr,rr=Xr,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=je[3],rr=Xe[3],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,je[3]=Wr=yr&65535|Cr<<16,Xe[3]=Xr=Gt&65535|mr<<16,Zt=jt,rr=tn,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=je[4],rr=Xe[4],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,je[4]=jt=yr&65535|Cr<<16,Xe[4]=tn=Gt&65535|mr<<16,Zt=Yr,rr=vn,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=je[5],rr=Xe[5],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,je[5]=Yr=yr&65535|Cr<<16,Xe[5]=vn=Gt&65535|mr<<16,Zt=Jr,rr=hn,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=je[6],rr=Xe[6],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,je[6]=Jr=yr&65535|Cr<<16,Xe[6]=hn=Gt&65535|mr<<16,Zt=nn,rr=dn,Gt=rr&65535,mr=rr>>>16,yr=Zt&65535,Cr=Zt>>>16,Zt=je[7],rr=Xe[7],Gt+=rr&65535,mr+=rr>>>16,yr+=Zt&65535,Cr+=Zt>>>16,mr+=Gt>>>16,yr+=mr>>>16,Cr+=yr>>>16,je[7]=nn=yr&65535|Cr<<16,Xe[7]=dn=Gt&65535|mr<<16,En+=128,Ke-=128}return Ke}function xt(je,Xe,ot){var Ke=new Int32Array(8),pt=new Int32Array(8),gt=new Uint8Array(256),Tt,Rt=ot;for(Ke[0]=1779033703,Ke[1]=3144134277,Ke[2]=1013904242,Ke[3]=2773480762,Ke[4]=1359893119,Ke[5]=2600822924,Ke[6]=528734635,Ke[7]=1541459225,pt[0]=4089235720,pt[1]=2227873595,pt[2]=4271175723,pt[3]=1595750129,pt[4]=2917565137,pt[5]=725511199,pt[6]=4215389547,pt[7]=327033209,St(Ke,pt,Xe,ot),ot%=128,Tt=0;Tt<ot;Tt++)gt[Tt]=Xe[Rt-ot+Tt];for(gt[ot]=128,ot=256-128*(ot<112?1:0),gt[ot-9]=0,de(gt,ot-8,Rt/536870912|0,Rt<<3),St(Ke,pt,gt,ot),Tt=0;Tt<8;Tt++)de(je,8*Tt,Ke[Tt],pt[Tt]);return 0}function $t(je,Xe){var ot=d(),Ke=d(),pt=d(),gt=d(),Tt=d(),Rt=d(),Mt=d(),zt=d(),Lt=d();Be(ot,je[1],je[0]),Be(Lt,Xe[1],Xe[0]),Ce(ot,ot,Lt),Le(Ke,je[0],je[1]),Le(Lt,Xe[0],Xe[1]),Ce(Ke,Ke,Lt),Ce(pt,je[3],Xe[3]),Ce(pt,pt,ie),Ce(gt,je[2],Xe[2]),Le(gt,gt,gt),Be(Tt,Ke,ot),Be(Rt,gt,pt),Le(Mt,gt,pt),Le(zt,Ke,ot),Ce(je[0],Tt,Rt),Ce(je[1],zt,Mt),Ce(je[2],Mt,Rt),Ce(je[3],Tt,zt)}function It(je,Xe,ot){var Ke;for(Ke=0;Ke<4;Ke++)He(je[Ke],Xe[Ke],ot)}function Et(je,Xe){var ot=d(),Ke=d(),pt=d();it(pt,Xe[2]),Ce(ot,Xe[0],pt),Ce(Ke,Xe[1],pt),Fe(je,Ke),je[31]^=De(ot)<<7}function At(je,Xe,ot){var Ke,pt;for(xe(je[0],te),xe(je[1],b),xe(je[2],b),xe(je[3],te),pt=255;pt>=0;--pt)Ke=ot[pt/8|0]>>(pt&7)&1,It(je,Xe,Ke),$t(Xe,je),$t(je,je),It(je,Xe,Ke)}function kt(je,Xe){var ot=[d(),d(),d(),d()];xe(ot[0],se),xe(ot[1],fe),xe(ot[2],b),Ce(ot[3],se,fe),At(je,ot,Xe)}function Kt(je,Xe,ot){var Ke=new Uint8Array(64),pt=[d(),d(),d(),d()],gt;for(ot||m(Xe,32),xt(Ke,Xe,32),Ke[0]&=248,Ke[31]&=127,Ke[31]|=64,kt(pt,Ke),Et(je,pt),gt=0;gt<32;gt++)Xe[gt+32]=je[gt];return 0}var lt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Se(je,Xe){var ot,Ke,pt,gt;for(Ke=63;Ke>=32;--Ke){for(ot=0,pt=Ke-32,gt=Ke-12;pt<gt;++pt)Xe[pt]+=ot-16*Xe[Ke]*lt[pt-(Ke-32)],ot=Math.floor((Xe[pt]+128)/256),Xe[pt]-=ot*256;Xe[pt]+=ot,Xe[Ke]=0}for(ot=0,pt=0;pt<32;pt++)Xe[pt]+=ot-(Xe[31]>>4)*lt[pt],ot=Xe[pt]>>8,Xe[pt]&=255;for(pt=0;pt<32;pt++)Xe[pt]-=ot*lt[pt];for(Ke=0;Ke<32;Ke++)Xe[Ke+1]+=Xe[Ke]>>8,je[Ke]=Xe[Ke]&255}function me(je){var Xe=new Float64Array(64),ot;for(ot=0;ot<64;ot++)Xe[ot]=je[ot];for(ot=0;ot<64;ot++)je[ot]=0;Se(je,Xe)}function be(je,Xe,ot,Ke){var pt=new Uint8Array(64),gt=new Uint8Array(64),Tt=new Uint8Array(64),Rt,Mt,zt=new Float64Array(64),Lt=[d(),d(),d(),d()];xt(pt,Ke,32),pt[0]&=248,pt[31]&=127,pt[31]|=64;var er=ot+64;for(Rt=0;Rt<ot;Rt++)je[64+Rt]=Xe[Rt];for(Rt=0;Rt<32;Rt++)je[32+Rt]=pt[32+Rt];for(xt(Tt,je.subarray(32),ot+32),me(Tt),kt(Lt,Tt),Et(je,Lt),Rt=32;Rt<64;Rt++)je[Rt]=Ke[Rt];for(xt(gt,je,ot+64),me(gt),Rt=0;Rt<64;Rt++)zt[Rt]=0;for(Rt=0;Rt<32;Rt++)zt[Rt]=Tt[Rt];for(Rt=0;Rt<32;Rt++)for(Mt=0;Mt<32;Mt++)zt[Rt+Mt]+=gt[Rt]*pt[Mt];return Se(je.subarray(32),zt),er}function Ye(je,Xe){var ot=d(),Ke=d(),pt=d(),gt=d(),Tt=d(),Rt=d(),Mt=d();return xe(je[2],b),pe(je[1],Xe),Ze(pt,je[1]),Ce(gt,pt,ne),Be(pt,pt,je[2]),Le(gt,je[2],gt),Ze(Tt,gt),Ze(Rt,Tt),Ce(Mt,Rt,Tt),Ce(ot,Mt,pt),Ce(ot,ot,gt),rt(ot,ot),Ce(ot,ot,pt),Ce(ot,ot,gt),Ce(ot,ot,gt),Ce(je[0],ot,gt),Ze(Ke,je[0]),Ce(Ke,Ke,gt),Ne(Ke,pt)&&Ce(je[0],je[0],ce),Ze(Ke,je[0]),Ce(Ke,Ke,gt),Ne(Ke,pt)?-1:(De(je[0])===Xe[31]>>7&&Be(je[0],te,je[0]),Ce(je[3],je[0],je[1]),0)}function ut(je,Xe,ot,Ke){var pt,gt=new Uint8Array(32),Tt=new Uint8Array(64),Rt=[d(),d(),d(),d()],Mt=[d(),d(),d(),d()];if(ot<64||Ye(Mt,Ke))return-1;for(pt=0;pt<ot;pt++)je[pt]=Xe[pt];for(pt=0;pt<32;pt++)je[pt+32]=Ke[pt];if(xt(Tt,je,ot),me(Tt),At(Rt,Mt,Tt),kt(Mt,Xe.subarray(32)),$t(Rt,Mt),Et(gt,Rt),ot-=64,_e(Xe,0,gt,0)){for(pt=0;pt<ot;pt++)je[pt]=0;return-1}for(pt=0;pt<ot;pt++)je[pt]=Xe[pt+64];return ot}var yt=32,wt=24,Ut=32,Xt=16,Ct=32,Ht=32,Yt=32,ar=32,tr=32,vr=wt,ur=Ut,Sr=Xt,Ar=64,$r=32,kr=64,ir=32,pr=64;a.lowlevel={crypto_core_hsalsa20:Me,crypto_stream_xor:et,crypto_stream:Je,crypto_stream_salsa20_xor:Re,crypto_stream_salsa20:ze,crypto_onetimeauth:ve,crypto_onetimeauth_verify:le,crypto_verify_16:ge,crypto_verify_32:_e,crypto_secretbox:ae,crypto_secretbox_open:he,crypto_scalarmult:Oe,crypto_scalarmult_base:Ve,crypto_box_beforenm:qe,crypto_box_afternm:Ge,crypto_box:ct,crypto_box_open:ft,crypto_box_keypair:We,crypto_hash:xt,crypto_sign:be,crypto_sign_keypair:Kt,crypto_sign_open:ut,crypto_secretbox_KEYBYTES:yt,crypto_secretbox_NONCEBYTES:wt,crypto_secretbox_ZEROBYTES:Ut,crypto_secretbox_BOXZEROBYTES:Xt,crypto_scalarmult_BYTES:Ct,crypto_scalarmult_SCALARBYTES:Ht,crypto_box_PUBLICKEYBYTES:Yt,crypto_box_SECRETKEYBYTES:ar,crypto_box_BEFORENMBYTES:tr,crypto_box_NONCEBYTES:vr,crypto_box_ZEROBYTES:ur,crypto_box_BOXZEROBYTES:Sr,crypto_sign_BYTES:Ar,crypto_sign_PUBLICKEYBYTES:$r,crypto_sign_SECRETKEYBYTES:kr,crypto_sign_SEEDBYTES:ir,crypto_hash_BYTES:pr,gf:d,D:ne,L:lt,pack25519:Fe,unpack25519:pe,M:Ce,A:Le,S:Ze,Z:Be,pow2523:rt,add:$t,set25519:xe,modL:Se,scalarmult:At,scalarbase:kt};function Ir(je,Xe){if(je.length!==yt)throw new Error("bad key size");if(Xe.length!==wt)throw new Error("bad nonce size")}function Pr(je,Xe){if(je.length!==Yt)throw new Error("bad public key size");if(Xe.length!==ar)throw new Error("bad secret key size")}function Rr(){for(var je=0;je<arguments.length;je++)if(!(arguments[je]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ft(je){for(var Xe=0;Xe<je.length;Xe++)je[Xe]=0}a.randomBytes=function(je){var Xe=new Uint8Array(je);return m(Xe,je),Xe},a.secretbox=function(je,Xe,ot){Rr(je,Xe,ot),Ir(ot,Xe);for(var Ke=new Uint8Array(Ut+je.length),pt=new Uint8Array(Ke.length),gt=0;gt<je.length;gt++)Ke[gt+Ut]=je[gt];return ae(pt,Ke,Ke.length,Xe,ot),pt.subarray(Xt)},a.secretbox.open=function(je,Xe,ot){Rr(je,Xe,ot),Ir(ot,Xe);for(var Ke=new Uint8Array(Xt+je.length),pt=new Uint8Array(Ke.length),gt=0;gt<je.length;gt++)Ke[gt+Xt]=je[gt];return Ke.length<32||he(pt,Ke,Ke.length,Xe,ot)!==0?null:pt.subarray(Ut)},a.secretbox.keyLength=yt,a.secretbox.nonceLength=wt,a.secretbox.overheadLength=Xt,a.scalarMult=function(je,Xe){if(Rr(je,Xe),je.length!==Ht)throw new Error("bad n size");if(Xe.length!==Ct)throw new Error("bad p size");var ot=new Uint8Array(Ct);return Oe(ot,je,Xe),ot},a.scalarMult.base=function(je){if(Rr(je),je.length!==Ht)throw new Error("bad n size");var Xe=new Uint8Array(Ct);return Ve(Xe,je),Xe},a.scalarMult.scalarLength=Ht,a.scalarMult.groupElementLength=Ct,a.box=function(je,Xe,ot,Ke){var pt=a.box.before(ot,Ke);return a.secretbox(je,Xe,pt)},a.box.before=function(je,Xe){Rr(je,Xe),Pr(je,Xe);var ot=new Uint8Array(tr);return qe(ot,je,Xe),ot},a.box.after=a.secretbox,a.box.open=function(je,Xe,ot,Ke){var pt=a.box.before(ot,Ke);return a.secretbox.open(je,Xe,pt)},a.box.open.after=a.secretbox.open,a.box.keyPair=function(){var je=new Uint8Array(Yt),Xe=new Uint8Array(ar);return We(je,Xe),{publicKey:je,secretKey:Xe}},a.box.keyPair.fromSecretKey=function(je){if(Rr(je),je.length!==ar)throw new Error("bad secret key size");var Xe=new Uint8Array(Yt);return Ve(Xe,je),{publicKey:Xe,secretKey:new Uint8Array(je)}},a.box.publicKeyLength=Yt,a.box.secretKeyLength=ar,a.box.sharedKeyLength=tr,a.box.nonceLength=vr,a.box.overheadLength=a.secretbox.overheadLength,a.sign=function(je,Xe){if(Rr(je,Xe),Xe.length!==kr)throw new Error("bad secret key size");var ot=new Uint8Array(Ar+je.length);return be(ot,je,je.length,Xe),ot},a.sign.open=function(je,Xe){if(Rr(je,Xe),Xe.length!==$r)throw new Error("bad public key size");var ot=new Uint8Array(je.length),Ke=ut(ot,je,je.length,Xe);if(Ke<0)return null;for(var pt=new Uint8Array(Ke),gt=0;gt<pt.length;gt++)pt[gt]=ot[gt];return pt},a.sign.detached=function(je,Xe){for(var ot=a.sign(je,Xe),Ke=new Uint8Array(Ar),pt=0;pt<Ke.length;pt++)Ke[pt]=ot[pt];return Ke},a.sign.detached.verify=function(je,Xe,ot){if(Rr(je,Xe,ot),Xe.length!==Ar)throw new Error("bad signature size");if(ot.length!==$r)throw new Error("bad public key size");var Ke=new Uint8Array(Ar+je.length),pt=new Uint8Array(Ar+je.length),gt;for(gt=0;gt<Ar;gt++)Ke[gt]=Xe[gt];for(gt=0;gt<je.length;gt++)Ke[gt+Ar]=je[gt];return ut(pt,Ke,Ke.length,ot)>=0},a.sign.keyPair=function(){var je=new Uint8Array($r),Xe=new Uint8Array(kr);return Kt(je,Xe),{publicKey:je,secretKey:Xe}},a.sign.keyPair.fromSecretKey=function(je){if(Rr(je),je.length!==kr)throw new Error("bad secret key size");for(var Xe=new Uint8Array($r),ot=0;ot<Xe.length;ot++)Xe[ot]=je[32+ot];return{publicKey:Xe,secretKey:new Uint8Array(je)}},a.sign.keyPair.fromSeed=function(je){if(Rr(je),je.length!==ir)throw new Error("bad seed size");for(var Xe=new Uint8Array($r),ot=new Uint8Array(kr),Ke=0;Ke<32;Ke++)ot[Ke]=je[Ke];return Kt(Xe,ot,!0),{publicKey:Xe,secretKey:ot}},a.sign.publicKeyLength=$r,a.sign.secretKeyLength=kr,a.sign.seedLength=ir,a.sign.signatureLength=Ar,a.hash=function(je){Rr(je);var Xe=new Uint8Array(pr);return xt(Xe,je,je.length),Xe},a.hash.hashLength=pr,a.verify=function(je,Xe){return Rr(je,Xe),je.length===0||Xe.length===0||je.length!==Xe.length?!1:ye(je,0,Xe,0,je.length)===0},a.setPRNG=function(je){m=je},function(){var je=typeof self<"u"?self.crypto||self.msCrypto:null;if(je&&je.getRandomValues){var Xe=65536;a.setPRNG(function(ot,Ke){var pt,gt=new Uint8Array(Ke);for(pt=0;pt<Ke;pt+=Xe)je.getRandomValues(gt.subarray(pt,pt+Math.min(Ke-pt,Xe)));for(pt=0;pt<Ke;pt++)ot[pt]=gt[pt];Ft(gt)})}else typeof commonjsRequire<"u"&&(je=require$$1,je&&je.randomBytes&&a.setPRNG(function(ot,Ke){var pt,gt=je.randomBytes(Ke);for(pt=0;pt<Ke;pt++)ot[pt]=gt[pt];Ft(gt)}))}()})(u.exports?u.exports:self.nacl=self.nacl||{})})(naclFast);const nacl=naclFast.exports;var buffer={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(u){const a=base64Js,d=ieee754,m=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;u.Buffer=b,u.SlowBuffer=Ee,u.INSPECT_MAX_BYTES=50;const $=2147483647;u.kMaxLength=$,b.TYPED_ARRAY_SUPPORT=ee(),!b.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ee(){try{const Se=new Uint8Array(1),me={foo:function(){return 42}};return Object.setPrototypeOf(me,Uint8Array.prototype),Object.setPrototypeOf(Se,me),Se.foo()===42}catch{return!1}}Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(!!b.isBuffer(this))return this.buffer}}),Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(!!b.isBuffer(this))return this.byteOffset}});function te(Se){if(Se>$)throw new RangeError('The value "'+Se+'" is invalid for option "size"');const me=new Uint8Array(Se);return Object.setPrototypeOf(me,b.prototype),me}function b(Se,me,be){if(typeof Se=="number"){if(typeof me=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return se(Se)}return re(Se,me,be)}b.poolSize=8192;function re(Se,me,be){if(typeof Se=="string")return fe(Se,me);if(ArrayBuffer.isView(Se))return de(Se);if(Se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Se);if(Et(Se,ArrayBuffer)||Se&&Et(Se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Et(Se,SharedArrayBuffer)||Se&&Et(Se.buffer,SharedArrayBuffer)))return ye(Se,me,be);if(typeof Se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Ye=Se.valueOf&&Se.valueOf();if(Ye!=null&&Ye!==Se)return b.from(Ye,me,be);const ut=ge(Se);if(ut)return ut;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Se[Symbol.toPrimitive]=="function")return b.from(Se[Symbol.toPrimitive]("string"),me,be);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Se)}b.from=function(Se,me,be){return re(Se,me,be)},Object.setPrototypeOf(b.prototype,Uint8Array.prototype),Object.setPrototypeOf(b,Uint8Array);function ne(Se){if(typeof Se!="number")throw new TypeError('"size" argument must be of type number');if(Se<0)throw new RangeError('The value "'+Se+'" is invalid for option "size"')}function ie(Se,me,be){return ne(Se),Se<=0?te(Se):me!==void 0?typeof be=="string"?te(Se).fill(me,be):te(Se).fill(me):te(Se)}b.alloc=function(Se,me,be){return ie(Se,me,be)};function se(Se){return ne(Se),te(Se<0?0:_e(Se)|0)}b.allocUnsafe=function(Se){return se(Se)},b.allocUnsafeSlow=function(Se){return se(Se)};function fe(Se,me){if((typeof me!="string"||me==="")&&(me="utf8"),!b.isEncoding(me))throw new TypeError("Unknown encoding: "+me);const be=Ae(Se,me)|0;let Ye=te(be);const ut=Ye.write(Se,me);return ut!==be&&(Ye=Ye.slice(0,ut)),Ye}function ce(Se){const me=Se.length<0?0:_e(Se.length)|0,be=te(me);for(let Ye=0;Ye<me;Ye+=1)be[Ye]=Se[Ye]&255;return be}function de(Se){if(Et(Se,Uint8Array)){const me=new Uint8Array(Se);return ye(me.buffer,me.byteOffset,me.byteLength)}return ce(Se)}function ye(Se,me,be){if(me<0||Se.byteLength<me)throw new RangeError('"offset" is outside of buffer bounds');if(Se.byteLength<me+(be||0))throw new RangeError('"length" is outside of buffer bounds');let Ye;return me===void 0&&be===void 0?Ye=new Uint8Array(Se):be===void 0?Ye=new Uint8Array(Se,me):Ye=new Uint8Array(Se,me,be),Object.setPrototypeOf(Ye,b.prototype),Ye}function ge(Se){if(b.isBuffer(Se)){const me=_e(Se.length)|0,be=te(me);return be.length===0||Se.copy(be,0,0,me),be}if(Se.length!==void 0)return typeof Se.length!="number"||At(Se.length)?te(0):ce(Se);if(Se.type==="Buffer"&&Array.isArray(Se.data))return ce(Se.data)}function _e(Se){if(Se>=$)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$.toString(16)+" bytes");return Se|0}function Ee(Se){return+Se!=Se&&(Se=0),b.alloc(+Se)}b.isBuffer=function(me){return me!=null&&me._isBuffer===!0&&me!==b.prototype},b.compare=function(me,be){if(Et(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),Et(be,Uint8Array)&&(be=b.from(be,be.offset,be.byteLength)),!b.isBuffer(me)||!b.isBuffer(be))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(me===be)return 0;let Ye=me.length,ut=be.length;for(let yt=0,wt=Math.min(Ye,ut);yt<wt;++yt)if(me[yt]!==be[yt]){Ye=me[yt],ut=be[yt];break}return Ye<ut?-1:ut<Ye?1:0},b.isEncoding=function(me){switch(String(me).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(me,be){if(!Array.isArray(me))throw new TypeError('"list" argument must be an Array of Buffers');if(me.length===0)return b.alloc(0);let Ye;if(be===void 0)for(be=0,Ye=0;Ye<me.length;++Ye)be+=me[Ye].length;const ut=b.allocUnsafe(be);let yt=0;for(Ye=0;Ye<me.length;++Ye){let wt=me[Ye];if(Et(wt,Uint8Array))yt+wt.length>ut.length?(b.isBuffer(wt)||(wt=b.from(wt)),wt.copy(ut,yt)):Uint8Array.prototype.set.call(ut,wt,yt);else if(b.isBuffer(wt))wt.copy(ut,yt);else throw new TypeError('"list" argument must be an Array of Buffers');yt+=wt.length}return ut};function Ae(Se,me){if(b.isBuffer(Se))return Se.length;if(ArrayBuffer.isView(Se)||Et(Se,ArrayBuffer))return Se.byteLength;if(typeof Se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Se);const be=Se.length,Ye=arguments.length>2&&arguments[2]===!0;if(!Ye&&be===0)return 0;let ut=!1;for(;;)switch(me){case"ascii":case"latin1":case"binary":return be;case"utf8":case"utf-8":return bt(Se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be*2;case"hex":return be>>>1;case"base64":return $t(Se).length;default:if(ut)return Ye?-1:bt(Se).length;me=(""+me).toLowerCase(),ut=!0}}b.byteLength=Ae;function we(Se,me,be){let Ye=!1;if((me===void 0||me<0)&&(me=0),me>this.length||((be===void 0||be>this.length)&&(be=this.length),be<=0)||(be>>>=0,me>>>=0,be<=me))return"";for(Se||(Se="utf8");;)switch(Se){case"hex":return Fe(this,me,be);case"utf8":case"utf-8":return ae(this,me,be);case"ascii":return $e(this,me,be);case"latin1":case"binary":return He(this,me,be);case"base64":return le(this,me,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,me,be);default:if(Ye)throw new TypeError("Unknown encoding: "+Se);Se=(Se+"").toLowerCase(),Ye=!0}}b.prototype._isBuffer=!0;function Me(Se,me,be){const Ye=Se[me];Se[me]=Se[be],Se[be]=Ye}b.prototype.swap16=function(){const me=this.length;if(me%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let be=0;be<me;be+=2)Me(this,be,be+1);return this},b.prototype.swap32=function(){const me=this.length;if(me%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let be=0;be<me;be+=4)Me(this,be,be+3),Me(this,be+1,be+2);return this},b.prototype.swap64=function(){const me=this.length;if(me%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let be=0;be<me;be+=8)Me(this,be,be+7),Me(this,be+1,be+6),Me(this,be+2,be+5),Me(this,be+3,be+4);return this},b.prototype.toString=function(){const me=this.length;return me===0?"":arguments.length===0?ae(this,0,me):we.apply(this,arguments)},b.prototype.toLocaleString=b.prototype.toString,b.prototype.equals=function(me){if(!b.isBuffer(me))throw new TypeError("Argument must be a Buffer");return this===me?!0:b.compare(this,me)===0},b.prototype.inspect=function(){let me="";const be=u.INSPECT_MAX_BYTES;return me=this.toString("hex",0,be).replace(/(.{2})/g,"$1 ").trim(),this.length>be&&(me+=" ... "),"<Buffer "+me+">"},m&&(b.prototype[m]=b.prototype.inspect),b.prototype.compare=function(me,be,Ye,ut,yt){if(Et(me,Uint8Array)&&(me=b.from(me,me.offset,me.byteLength)),!b.isBuffer(me))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof me);if(be===void 0&&(be=0),Ye===void 0&&(Ye=me?me.length:0),ut===void 0&&(ut=0),yt===void 0&&(yt=this.length),be<0||Ye>me.length||ut<0||yt>this.length)throw new RangeError("out of range index");if(ut>=yt&&be>=Ye)return 0;if(ut>=yt)return-1;if(be>=Ye)return 1;if(be>>>=0,Ye>>>=0,ut>>>=0,yt>>>=0,this===me)return 0;let wt=yt-ut,Ut=Ye-be;const Xt=Math.min(wt,Ut),Ct=this.slice(ut,yt),Ht=me.slice(be,Ye);for(let Yt=0;Yt<Xt;++Yt)if(Ct[Yt]!==Ht[Yt]){wt=Ct[Yt],Ut=Ht[Yt];break}return wt<Ut?-1:Ut<wt?1:0};function ke(Se,me,be,Ye,ut){if(Se.length===0)return-1;if(typeof be=="string"?(Ye=be,be=0):be>2147483647?be=2147483647:be<-2147483648&&(be=-2147483648),be=+be,At(be)&&(be=ut?0:Se.length-1),be<0&&(be=Se.length+be),be>=Se.length){if(ut)return-1;be=Se.length-1}else if(be<0)if(ut)be=0;else return-1;if(typeof me=="string"&&(me=b.from(me,Ye)),b.isBuffer(me))return me.length===0?-1:Re(Se,me,be,Ye,ut);if(typeof me=="number")return me=me&255,typeof Uint8Array.prototype.indexOf=="function"?ut?Uint8Array.prototype.indexOf.call(Se,me,be):Uint8Array.prototype.lastIndexOf.call(Se,me,be):Re(Se,[me],be,Ye,ut);throw new TypeError("val must be string, number or Buffer")}function Re(Se,me,be,Ye,ut){let yt=1,wt=Se.length,Ut=me.length;if(Ye!==void 0&&(Ye=String(Ye).toLowerCase(),Ye==="ucs2"||Ye==="ucs-2"||Ye==="utf16le"||Ye==="utf-16le")){if(Se.length<2||me.length<2)return-1;yt=2,wt/=2,Ut/=2,be/=2}function Xt(Ht,Yt){return yt===1?Ht[Yt]:Ht.readUInt16BE(Yt*yt)}let Ct;if(ut){let Ht=-1;for(Ct=be;Ct<wt;Ct++)if(Xt(Se,Ct)===Xt(me,Ht===-1?0:Ct-Ht)){if(Ht===-1&&(Ht=Ct),Ct-Ht+1===Ut)return Ht*yt}else Ht!==-1&&(Ct-=Ct-Ht),Ht=-1}else for(be+Ut>wt&&(be=wt-Ut),Ct=be;Ct>=0;Ct--){let Ht=!0;for(let Yt=0;Yt<Ut;Yt++)if(Xt(Se,Ct+Yt)!==Xt(me,Yt)){Ht=!1;break}if(Ht)return Ct}return-1}b.prototype.includes=function(me,be,Ye){return this.indexOf(me,be,Ye)!==-1},b.prototype.indexOf=function(me,be,Ye){return ke(this,me,be,Ye,!0)},b.prototype.lastIndexOf=function(me,be,Ye){return ke(this,me,be,Ye,!1)};function ze(Se,me,be,Ye){be=Number(be)||0;const ut=Se.length-be;Ye?(Ye=Number(Ye),Ye>ut&&(Ye=ut)):Ye=ut;const yt=me.length;Ye>yt/2&&(Ye=yt/2);let wt;for(wt=0;wt<Ye;++wt){const Ut=parseInt(me.substr(wt*2,2),16);if(At(Ut))return wt;Se[be+wt]=Ut}return wt}function Je(Se,me,be,Ye){return It(bt(me,Se.length-be),Se,be,Ye)}function et(Se,me,be,Ye){return It(St(me),Se,be,Ye)}function Pe(Se,me,be,Ye){return It($t(me),Se,be,Ye)}function ve(Se,me,be,Ye){return It(xt(me,Se.length-be),Se,be,Ye)}b.prototype.write=function(me,be,Ye,ut){if(be===void 0)ut="utf8",Ye=this.length,be=0;else if(Ye===void 0&&typeof be=="string")ut=be,Ye=this.length,be=0;else if(isFinite(be))be=be>>>0,isFinite(Ye)?(Ye=Ye>>>0,ut===void 0&&(ut="utf8")):(ut=Ye,Ye=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const yt=this.length-be;if((Ye===void 0||Ye>yt)&&(Ye=yt),me.length>0&&(Ye<0||be<0)||be>this.length)throw new RangeError("Attempt to write outside buffer bounds");ut||(ut="utf8");let wt=!1;for(;;)switch(ut){case"hex":return ze(this,me,be,Ye);case"utf8":case"utf-8":return Je(this,me,be,Ye);case"ascii":case"latin1":case"binary":return et(this,me,be,Ye);case"base64":return Pe(this,me,be,Ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,me,be,Ye);default:if(wt)throw new TypeError("Unknown encoding: "+ut);ut=(""+ut).toLowerCase(),wt=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(Se,me,be){return me===0&&be===Se.length?a.fromByteArray(Se):a.fromByteArray(Se.slice(me,be))}function ae(Se,me,be){be=Math.min(Se.length,be);const Ye=[];let ut=me;for(;ut<be;){const yt=Se[ut];let wt=null,Ut=yt>239?4:yt>223?3:yt>191?2:1;if(ut+Ut<=be){let Xt,Ct,Ht,Yt;switch(Ut){case 1:yt<128&&(wt=yt);break;case 2:Xt=Se[ut+1],(Xt&192)===128&&(Yt=(yt&31)<<6|Xt&63,Yt>127&&(wt=Yt));break;case 3:Xt=Se[ut+1],Ct=Se[ut+2],(Xt&192)===128&&(Ct&192)===128&&(Yt=(yt&15)<<12|(Xt&63)<<6|Ct&63,Yt>2047&&(Yt<55296||Yt>57343)&&(wt=Yt));break;case 4:Xt=Se[ut+1],Ct=Se[ut+2],Ht=Se[ut+3],(Xt&192)===128&&(Ct&192)===128&&(Ht&192)===128&&(Yt=(yt&15)<<18|(Xt&63)<<12|(Ct&63)<<6|Ht&63,Yt>65535&&Yt<1114112&&(wt=Yt))}}wt===null?(wt=65533,Ut=1):wt>65535&&(wt-=65536,Ye.push(wt>>>10&1023|55296),wt=56320|wt&1023),Ye.push(wt),ut+=Ut}return xe(Ye)}const he=4096;function xe(Se){const me=Se.length;if(me<=he)return String.fromCharCode.apply(String,Se);let be="",Ye=0;for(;Ye<me;)be+=String.fromCharCode.apply(String,Se.slice(Ye,Ye+=he));return be}function $e(Se,me,be){let Ye="";be=Math.min(Se.length,be);for(let ut=me;ut<be;++ut)Ye+=String.fromCharCode(Se[ut]&127);return Ye}function He(Se,me,be){let Ye="";be=Math.min(Se.length,be);for(let ut=me;ut<be;++ut)Ye+=String.fromCharCode(Se[ut]);return Ye}function Fe(Se,me,be){const Ye=Se.length;(!me||me<0)&&(me=0),(!be||be<0||be>Ye)&&(be=Ye);let ut="";for(let yt=me;yt<be;++yt)ut+=kt[Se[yt]];return ut}function Ne(Se,me,be){const Ye=Se.slice(me,be);let ut="";for(let yt=0;yt<Ye.length-1;yt+=2)ut+=String.fromCharCode(Ye[yt]+Ye[yt+1]*256);return ut}b.prototype.slice=function(me,be){const Ye=this.length;me=~~me,be=be===void 0?Ye:~~be,me<0?(me+=Ye,me<0&&(me=0)):me>Ye&&(me=Ye),be<0?(be+=Ye,be<0&&(be=0)):be>Ye&&(be=Ye),be<me&&(be=me);const ut=this.subarray(me,be);return Object.setPrototypeOf(ut,b.prototype),ut};function De(Se,me,be){if(Se%1!==0||Se<0)throw new RangeError("offset is not uint");if(Se+me>be)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUintLE=b.prototype.readUIntLE=function(me,be,Ye){me=me>>>0,be=be>>>0,Ye||De(me,be,this.length);let ut=this[me],yt=1,wt=0;for(;++wt<be&&(yt*=256);)ut+=this[me+wt]*yt;return ut},b.prototype.readUintBE=b.prototype.readUIntBE=function(me,be,Ye){me=me>>>0,be=be>>>0,Ye||De(me,be,this.length);let ut=this[me+--be],yt=1;for(;be>0&&(yt*=256);)ut+=this[me+--be]*yt;return ut},b.prototype.readUint8=b.prototype.readUInt8=function(me,be){return me=me>>>0,be||De(me,1,this.length),this[me]},b.prototype.readUint16LE=b.prototype.readUInt16LE=function(me,be){return me=me>>>0,be||De(me,2,this.length),this[me]|this[me+1]<<8},b.prototype.readUint16BE=b.prototype.readUInt16BE=function(me,be){return me=me>>>0,be||De(me,2,this.length),this[me]<<8|this[me+1]},b.prototype.readUint32LE=b.prototype.readUInt32LE=function(me,be){return me=me>>>0,be||De(me,4,this.length),(this[me]|this[me+1]<<8|this[me+2]<<16)+this[me+3]*16777216},b.prototype.readUint32BE=b.prototype.readUInt32BE=function(me,be){return me=me>>>0,be||De(me,4,this.length),this[me]*16777216+(this[me+1]<<16|this[me+2]<<8|this[me+3])},b.prototype.readBigUInt64LE=Kt(function(me){me=me>>>0,Ge(me,"offset");const be=this[me],Ye=this[me+7];(be===void 0||Ye===void 0)&&Qe(me,this.length-8);const ut=be+this[++me]*2**8+this[++me]*2**16+this[++me]*2**24,yt=this[++me]+this[++me]*2**8+this[++me]*2**16+Ye*2**24;return BigInt(ut)+(BigInt(yt)<<BigInt(32))}),b.prototype.readBigUInt64BE=Kt(function(me){me=me>>>0,Ge(me,"offset");const be=this[me],Ye=this[me+7];(be===void 0||Ye===void 0)&&Qe(me,this.length-8);const ut=be*2**24+this[++me]*2**16+this[++me]*2**8+this[++me],yt=this[++me]*2**24+this[++me]*2**16+this[++me]*2**8+Ye;return(BigInt(ut)<<BigInt(32))+BigInt(yt)}),b.prototype.readIntLE=function(me,be,Ye){me=me>>>0,be=be>>>0,Ye||De(me,be,this.length);let ut=this[me],yt=1,wt=0;for(;++wt<be&&(yt*=256);)ut+=this[me+wt]*yt;return yt*=128,ut>=yt&&(ut-=Math.pow(2,8*be)),ut},b.prototype.readIntBE=function(me,be,Ye){me=me>>>0,be=be>>>0,Ye||De(me,be,this.length);let ut=be,yt=1,wt=this[me+--ut];for(;ut>0&&(yt*=256);)wt+=this[me+--ut]*yt;return yt*=128,wt>=yt&&(wt-=Math.pow(2,8*be)),wt},b.prototype.readInt8=function(me,be){return me=me>>>0,be||De(me,1,this.length),this[me]&128?(255-this[me]+1)*-1:this[me]},b.prototype.readInt16LE=function(me,be){me=me>>>0,be||De(me,2,this.length);const Ye=this[me]|this[me+1]<<8;return Ye&32768?Ye|4294901760:Ye},b.prototype.readInt16BE=function(me,be){me=me>>>0,be||De(me,2,this.length);const Ye=this[me+1]|this[me]<<8;return Ye&32768?Ye|4294901760:Ye},b.prototype.readInt32LE=function(me,be){return me=me>>>0,be||De(me,4,this.length),this[me]|this[me+1]<<8|this[me+2]<<16|this[me+3]<<24},b.prototype.readInt32BE=function(me,be){return me=me>>>0,be||De(me,4,this.length),this[me]<<24|this[me+1]<<16|this[me+2]<<8|this[me+3]},b.prototype.readBigInt64LE=Kt(function(me){me=me>>>0,Ge(me,"offset");const be=this[me],Ye=this[me+7];(be===void 0||Ye===void 0)&&Qe(me,this.length-8);const ut=this[me+4]+this[me+5]*2**8+this[me+6]*2**16+(Ye<<24);return(BigInt(ut)<<BigInt(32))+BigInt(be+this[++me]*2**8+this[++me]*2**16+this[++me]*2**24)}),b.prototype.readBigInt64BE=Kt(function(me){me=me>>>0,Ge(me,"offset");const be=this[me],Ye=this[me+7];(be===void 0||Ye===void 0)&&Qe(me,this.length-8);const ut=(be<<24)+this[++me]*2**16+this[++me]*2**8+this[++me];return(BigInt(ut)<<BigInt(32))+BigInt(this[++me]*2**24+this[++me]*2**16+this[++me]*2**8+Ye)}),b.prototype.readFloatLE=function(me,be){return me=me>>>0,be||De(me,4,this.length),d.read(this,me,!0,23,4)},b.prototype.readFloatBE=function(me,be){return me=me>>>0,be||De(me,4,this.length),d.read(this,me,!1,23,4)},b.prototype.readDoubleLE=function(me,be){return me=me>>>0,be||De(me,8,this.length),d.read(this,me,!0,52,8)},b.prototype.readDoubleBE=function(me,be){return me=me>>>0,be||De(me,8,this.length),d.read(this,me,!1,52,8)};function pe(Se,me,be,Ye,ut,yt){if(!b.isBuffer(Se))throw new TypeError('"buffer" argument must be a Buffer instance');if(me>ut||me<yt)throw new RangeError('"value" argument is out of bounds');if(be+Ye>Se.length)throw new RangeError("Index out of range")}b.prototype.writeUintLE=b.prototype.writeUIntLE=function(me,be,Ye,ut){if(me=+me,be=be>>>0,Ye=Ye>>>0,!ut){const Ut=Math.pow(2,8*Ye)-1;pe(this,me,be,Ye,Ut,0)}let yt=1,wt=0;for(this[be]=me&255;++wt<Ye&&(yt*=256);)this[be+wt]=me/yt&255;return be+Ye},b.prototype.writeUintBE=b.prototype.writeUIntBE=function(me,be,Ye,ut){if(me=+me,be=be>>>0,Ye=Ye>>>0,!ut){const Ut=Math.pow(2,8*Ye)-1;pe(this,me,be,Ye,Ut,0)}let yt=Ye-1,wt=1;for(this[be+yt]=me&255;--yt>=0&&(wt*=256);)this[be+yt]=me/wt&255;return be+Ye},b.prototype.writeUint8=b.prototype.writeUInt8=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,1,255,0),this[be]=me&255,be+1},b.prototype.writeUint16LE=b.prototype.writeUInt16LE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,2,65535,0),this[be]=me&255,this[be+1]=me>>>8,be+2},b.prototype.writeUint16BE=b.prototype.writeUInt16BE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,2,65535,0),this[be]=me>>>8,this[be+1]=me&255,be+2},b.prototype.writeUint32LE=b.prototype.writeUInt32LE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,4,4294967295,0),this[be+3]=me>>>24,this[be+2]=me>>>16,this[be+1]=me>>>8,this[be]=me&255,be+4},b.prototype.writeUint32BE=b.prototype.writeUInt32BE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,4,4294967295,0),this[be]=me>>>24,this[be+1]=me>>>16,this[be+2]=me>>>8,this[be+3]=me&255,be+4};function Le(Se,me,be,Ye,ut){qe(me,Ye,ut,Se,be,7);let yt=Number(me&BigInt(4294967295));Se[be++]=yt,yt=yt>>8,Se[be++]=yt,yt=yt>>8,Se[be++]=yt,yt=yt>>8,Se[be++]=yt;let wt=Number(me>>BigInt(32)&BigInt(4294967295));return Se[be++]=wt,wt=wt>>8,Se[be++]=wt,wt=wt>>8,Se[be++]=wt,wt=wt>>8,Se[be++]=wt,be}function Be(Se,me,be,Ye,ut){qe(me,Ye,ut,Se,be,7);let yt=Number(me&BigInt(4294967295));Se[be+7]=yt,yt=yt>>8,Se[be+6]=yt,yt=yt>>8,Se[be+5]=yt,yt=yt>>8,Se[be+4]=yt;let wt=Number(me>>BigInt(32)&BigInt(4294967295));return Se[be+3]=wt,wt=wt>>8,Se[be+2]=wt,wt=wt>>8,Se[be+1]=wt,wt=wt>>8,Se[be]=wt,be+8}b.prototype.writeBigUInt64LE=Kt(function(me,be=0){return Le(this,me,be,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeBigUInt64BE=Kt(function(me,be=0){return Be(this,me,be,BigInt(0),BigInt("0xffffffffffffffff"))}),b.prototype.writeIntLE=function(me,be,Ye,ut){if(me=+me,be=be>>>0,!ut){const Xt=Math.pow(2,8*Ye-1);pe(this,me,be,Ye,Xt-1,-Xt)}let yt=0,wt=1,Ut=0;for(this[be]=me&255;++yt<Ye&&(wt*=256);)me<0&&Ut===0&&this[be+yt-1]!==0&&(Ut=1),this[be+yt]=(me/wt>>0)-Ut&255;return be+Ye},b.prototype.writeIntBE=function(me,be,Ye,ut){if(me=+me,be=be>>>0,!ut){const Xt=Math.pow(2,8*Ye-1);pe(this,me,be,Ye,Xt-1,-Xt)}let yt=Ye-1,wt=1,Ut=0;for(this[be+yt]=me&255;--yt>=0&&(wt*=256);)me<0&&Ut===0&&this[be+yt+1]!==0&&(Ut=1),this[be+yt]=(me/wt>>0)-Ut&255;return be+Ye},b.prototype.writeInt8=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,1,127,-128),me<0&&(me=255+me+1),this[be]=me&255,be+1},b.prototype.writeInt16LE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,2,32767,-32768),this[be]=me&255,this[be+1]=me>>>8,be+2},b.prototype.writeInt16BE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,2,32767,-32768),this[be]=me>>>8,this[be+1]=me&255,be+2},b.prototype.writeInt32LE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,4,2147483647,-2147483648),this[be]=me&255,this[be+1]=me>>>8,this[be+2]=me>>>16,this[be+3]=me>>>24,be+4},b.prototype.writeInt32BE=function(me,be,Ye){return me=+me,be=be>>>0,Ye||pe(this,me,be,4,2147483647,-2147483648),me<0&&(me=4294967295+me+1),this[be]=me>>>24,this[be+1]=me>>>16,this[be+2]=me>>>8,this[be+3]=me&255,be+4},b.prototype.writeBigInt64LE=Kt(function(me,be=0){return Le(this,me,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),b.prototype.writeBigInt64BE=Kt(function(me,be=0){return Be(this,me,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(Se,me,be,Ye,ut,yt){if(be+Ye>Se.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("Index out of range")}function Ze(Se,me,be,Ye,ut){return me=+me,be=be>>>0,ut||Ce(Se,me,be,4),d.write(Se,me,be,Ye,23,4),be+4}b.prototype.writeFloatLE=function(me,be,Ye){return Ze(this,me,be,!0,Ye)},b.prototype.writeFloatBE=function(me,be,Ye){return Ze(this,me,be,!1,Ye)};function it(Se,me,be,Ye,ut){return me=+me,be=be>>>0,ut||Ce(Se,me,be,8),d.write(Se,me,be,Ye,52,8),be+8}b.prototype.writeDoubleLE=function(me,be,Ye){return it(this,me,be,!0,Ye)},b.prototype.writeDoubleBE=function(me,be,Ye){return it(this,me,be,!1,Ye)},b.prototype.copy=function(me,be,Ye,ut){if(!b.isBuffer(me))throw new TypeError("argument should be a Buffer");if(Ye||(Ye=0),!ut&&ut!==0&&(ut=this.length),be>=me.length&&(be=me.length),be||(be=0),ut>0&&ut<Ye&&(ut=Ye),ut===Ye||me.length===0||this.length===0)return 0;if(be<0)throw new RangeError("targetStart out of bounds");if(Ye<0||Ye>=this.length)throw new RangeError("Index out of range");if(ut<0)throw new RangeError("sourceEnd out of bounds");ut>this.length&&(ut=this.length),me.length-be<ut-Ye&&(ut=me.length-be+Ye);const yt=ut-Ye;return this===me&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(be,Ye,ut):Uint8Array.prototype.set.call(me,this.subarray(Ye,ut),be),yt},b.prototype.fill=function(me,be,Ye,ut){if(typeof me=="string"){if(typeof be=="string"?(ut=be,be=0,Ye=this.length):typeof Ye=="string"&&(ut=Ye,Ye=this.length),ut!==void 0&&typeof ut!="string")throw new TypeError("encoding must be a string");if(typeof ut=="string"&&!b.isEncoding(ut))throw new TypeError("Unknown encoding: "+ut);if(me.length===1){const wt=me.charCodeAt(0);(ut==="utf8"&&wt<128||ut==="latin1")&&(me=wt)}}else typeof me=="number"?me=me&255:typeof me=="boolean"&&(me=Number(me));if(be<0||this.length<be||this.length<Ye)throw new RangeError("Out of range index");if(Ye<=be)return this;be=be>>>0,Ye=Ye===void 0?this.length:Ye>>>0,me||(me=0);let yt;if(typeof me=="number")for(yt=be;yt<Ye;++yt)this[yt]=me;else{const wt=b.isBuffer(me)?me:b.from(me,ut),Ut=wt.length;if(Ut===0)throw new TypeError('The value "'+me+'" is invalid for argument "value"');for(yt=0;yt<Ye-be;++yt)this[yt+be]=wt[yt%Ut]}return this};const rt={};function Oe(Se,me,be){rt[Se]=class extends be{constructor(){super(),Object.defineProperty(this,"message",{value:me.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Se}]`,this.stack,delete this.name}get code(){return Se}set code(ut){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ut,writable:!0})}toString(){return`${this.name} [${Se}]: ${this.message}`}}}Oe("ERR_BUFFER_OUT_OF_BOUNDS",function(Se){return Se?`${Se} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Oe("ERR_INVALID_ARG_TYPE",function(Se,me){return`The "${Se}" argument must be of type number. Received type ${typeof me}`},TypeError),Oe("ERR_OUT_OF_RANGE",function(Se,me,be){let Ye=`The value of "${Se}" is out of range.`,ut=be;return Number.isInteger(be)&&Math.abs(be)>2**32?ut=Ve(String(be)):typeof be=="bigint"&&(ut=String(be),(be>BigInt(2)**BigInt(32)||be<-(BigInt(2)**BigInt(32)))&&(ut=Ve(ut)),ut+="n"),Ye+=` It must be ${me}. Received ${ut}`,Ye},RangeError);function Ve(Se){let me="",be=Se.length;const Ye=Se[0]==="-"?1:0;for(;be>=Ye+4;be-=3)me=`_${Se.slice(be-3,be)}${me}`;return`${Se.slice(0,be)}${me}`}function We(Se,me,be){Ge(me,"offset"),(Se[me]===void 0||Se[me+be]===void 0)&&Qe(me,Se.length-(be+1))}function qe(Se,me,be,Ye,ut,yt){if(Se>be||Se<me){const wt=typeof me=="bigint"?"n":"";let Ut;throw yt>3?me===0||me===BigInt(0)?Ut=`>= 0${wt} and < 2${wt} ** ${(yt+1)*8}${wt}`:Ut=`>= -(2${wt} ** ${(yt+1)*8-1}${wt}) and < 2 ** ${(yt+1)*8-1}${wt}`:Ut=`>= ${me}${wt} and <= ${be}${wt}`,new rt.ERR_OUT_OF_RANGE("value",Ut,Se)}We(Ye,ut,yt)}function Ge(Se,me){if(typeof Se!="number")throw new rt.ERR_INVALID_ARG_TYPE(me,"number",Se)}function Qe(Se,me,be){throw Math.floor(Se)!==Se?(Ge(Se,be),new rt.ERR_OUT_OF_RANGE(be||"offset","an integer",Se)):me<0?new rt.ERR_BUFFER_OUT_OF_BOUNDS:new rt.ERR_OUT_OF_RANGE(be||"offset",`>= ${be?1:0} and <= ${me}`,Se)}const ct=/[^+/0-9A-Za-z-_]/g;function ft(Se){if(Se=Se.split("=")[0],Se=Se.trim().replace(ct,""),Se.length<2)return"";for(;Se.length%4!==0;)Se=Se+"=";return Se}function bt(Se,me){me=me||1/0;let be;const Ye=Se.length;let ut=null;const yt=[];for(let wt=0;wt<Ye;++wt){if(be=Se.charCodeAt(wt),be>55295&&be<57344){if(!ut){if(be>56319){(me-=3)>-1&&yt.push(239,191,189);continue}else if(wt+1===Ye){(me-=3)>-1&&yt.push(239,191,189);continue}ut=be;continue}if(be<56320){(me-=3)>-1&&yt.push(239,191,189),ut=be;continue}be=(ut-55296<<10|be-56320)+65536}else ut&&(me-=3)>-1&&yt.push(239,191,189);if(ut=null,be<128){if((me-=1)<0)break;yt.push(be)}else if(be<2048){if((me-=2)<0)break;yt.push(be>>6|192,be&63|128)}else if(be<65536){if((me-=3)<0)break;yt.push(be>>12|224,be>>6&63|128,be&63|128)}else if(be<1114112){if((me-=4)<0)break;yt.push(be>>18|240,be>>12&63|128,be>>6&63|128,be&63|128)}else throw new Error("Invalid code point")}return yt}function St(Se){const me=[];for(let be=0;be<Se.length;++be)me.push(Se.charCodeAt(be)&255);return me}function xt(Se,me){let be,Ye,ut;const yt=[];for(let wt=0;wt<Se.length&&!((me-=2)<0);++wt)be=Se.charCodeAt(wt),Ye=be>>8,ut=be%256,yt.push(ut),yt.push(Ye);return yt}function $t(Se){return a.toByteArray(ft(Se))}function It(Se,me,be,Ye){let ut;for(ut=0;ut<Ye&&!(ut+be>=me.length||ut>=Se.length);++ut)me[ut+be]=Se[ut];return ut}function Et(Se,me){return Se instanceof me||Se!=null&&Se.constructor!=null&&Se.constructor.name!=null&&Se.constructor.name===me.name}function At(Se){return Se!==Se}const kt=function(){const Se="0123456789abcdef",me=new Array(256);for(let be=0;be<16;++be){const Ye=be*16;for(let ut=0;ut<16;++ut)me[Ye+ut]=Se[be]+Se[ut]}return me}();function Kt(Se){return typeof BigInt>"u"?lt:Se}function lt(){throw new Error("BigInt not supported")}})(buffer);var bn$1={exports:{}};(function(u){(function(a,d){function m(le,ae){if(!le)throw new Error(ae||"Assertion failed")}function $(le,ae){le.super_=ae;var he=function(){};he.prototype=ae.prototype,le.prototype=new he,le.prototype.constructor=le}function ee(le,ae,he){if(ee.isBN(le))return le;this.negative=0,this.words=null,this.length=0,this.red=null,le!==null&&((ae==="le"||ae==="be")&&(he=ae,ae=10),this._init(le||0,ae||10,he||"be"))}typeof a=="object"?a.exports=ee:d.BN=ee,ee.BN=ee,ee.wordSize=26;var te;try{typeof window<"u"&&typeof window.Buffer<"u"?te=window.Buffer:te=require$$1.Buffer}catch{}ee.isBN=function(ae){return ae instanceof ee?!0:ae!==null&&typeof ae=="object"&&ae.constructor.wordSize===ee.wordSize&&Array.isArray(ae.words)},ee.max=function(ae,he){return ae.cmp(he)>0?ae:he},ee.min=function(ae,he){return ae.cmp(he)<0?ae:he},ee.prototype._init=function(ae,he,xe){if(typeof ae=="number")return this._initNumber(ae,he,xe);if(typeof ae=="object")return this._initArray(ae,he,xe);he==="hex"&&(he=16),m(he===(he|0)&&he>=2&&he<=36),ae=ae.toString().replace(/\s+/g,"");var $e=0;ae[0]==="-"&&($e++,this.negative=1),$e<ae.length&&(he===16?this._parseHex(ae,$e,xe):(this._parseBase(ae,he,$e),xe==="le"&&this._initArray(this.toArray(),he,xe)))},ee.prototype._initNumber=function(ae,he,xe){ae<0&&(this.negative=1,ae=-ae),ae<67108864?(this.words=[ae&67108863],this.length=1):ae<4503599627370496?(this.words=[ae&67108863,ae/67108864&67108863],this.length=2):(m(ae<9007199254740992),this.words=[ae&67108863,ae/67108864&67108863,1],this.length=3),xe==="le"&&this._initArray(this.toArray(),he,xe)},ee.prototype._initArray=function(ae,he,xe){if(m(typeof ae.length=="number"),ae.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ae.length/3),this.words=new Array(this.length);for(var $e=0;$e<this.length;$e++)this.words[$e]=0;var He,Fe,Ne=0;if(xe==="be")for($e=ae.length-1,He=0;$e>=0;$e-=3)Fe=ae[$e]|ae[$e-1]<<8|ae[$e-2]<<16,this.words[He]|=Fe<<Ne&67108863,this.words[He+1]=Fe>>>26-Ne&67108863,Ne+=24,Ne>=26&&(Ne-=26,He++);else if(xe==="le")for($e=0,He=0;$e<ae.length;$e+=3)Fe=ae[$e]|ae[$e+1]<<8|ae[$e+2]<<16,this.words[He]|=Fe<<Ne&67108863,this.words[He+1]=Fe>>>26-Ne&67108863,Ne+=24,Ne>=26&&(Ne-=26,He++);return this._strip()};function b(le,ae){var he=le.charCodeAt(ae);if(he>=48&&he<=57)return he-48;if(he>=65&&he<=70)return he-55;if(he>=97&&he<=102)return he-87;m(!1,"Invalid character in "+le)}function re(le,ae,he){var xe=b(le,he);return he-1>=ae&&(xe|=b(le,he-1)<<4),xe}ee.prototype._parseHex=function(ae,he,xe){this.length=Math.ceil((ae.length-he)/6),this.words=new Array(this.length);for(var $e=0;$e<this.length;$e++)this.words[$e]=0;var He=0,Fe=0,Ne;if(xe==="be")for($e=ae.length-1;$e>=he;$e-=2)Ne=re(ae,he,$e)<<He,this.words[Fe]|=Ne&67108863,He>=18?(He-=18,Fe+=1,this.words[Fe]|=Ne>>>26):He+=8;else{var De=ae.length-he;for($e=De%2===0?he+1:he;$e<ae.length;$e+=2)Ne=re(ae,he,$e)<<He,this.words[Fe]|=Ne&67108863,He>=18?(He-=18,Fe+=1,this.words[Fe]|=Ne>>>26):He+=8}this._strip()};function ne(le,ae,he,xe){for(var $e=0,He=0,Fe=Math.min(le.length,he),Ne=ae;Ne<Fe;Ne++){var De=le.charCodeAt(Ne)-48;$e*=xe,De>=49?He=De-49+10:De>=17?He=De-17+10:He=De,m(De>=0&&He<xe,"Invalid character"),$e+=He}return $e}ee.prototype._parseBase=function(ae,he,xe){this.words=[0],this.length=1;for(var $e=0,He=1;He<=67108863;He*=he)$e++;$e--,He=He/he|0;for(var Fe=ae.length-xe,Ne=Fe%$e,De=Math.min(Fe,Fe-Ne)+xe,pe=0,Le=xe;Le<De;Le+=$e)pe=ne(ae,Le,Le+$e,he),this.imuln(He),this.words[0]+pe<67108864?this.words[0]+=pe:this._iaddn(pe);if(Ne!==0){var Be=1;for(pe=ne(ae,Le,ae.length,he),Le=0;Le<Ne;Le++)Be*=he;this.imuln(Be),this.words[0]+pe<67108864?this.words[0]+=pe:this._iaddn(pe)}this._strip()},ee.prototype.copy=function(ae){ae.words=new Array(this.length);for(var he=0;he<this.length;he++)ae.words[he]=this.words[he];ae.length=this.length,ae.negative=this.negative,ae.red=this.red};function ie(le,ae){le.words=ae.words,le.length=ae.length,le.negative=ae.negative,le.red=ae.red}if(ee.prototype._move=function(ae){ie(ae,this)},ee.prototype.clone=function(){var ae=new ee(null);return this.copy(ae),ae},ee.prototype._expand=function(ae){for(;this.length<ae;)this.words[this.length++]=0;return this},ee.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ee.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{ee.prototype[Symbol.for("nodejs.util.inspect.custom")]=se}catch{ee.prototype.inspect=se}else ee.prototype.inspect=se;function se(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var fe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],ce=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],de=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ee.prototype.toString=function(ae,he){ae=ae||10,he=he|0||1;var xe;if(ae===16||ae==="hex"){xe="";for(var $e=0,He=0,Fe=0;Fe<this.length;Fe++){var Ne=this.words[Fe],De=((Ne<<$e|He)&16777215).toString(16);He=Ne>>>24-$e&16777215,$e+=2,$e>=26&&($e-=26,Fe--),He!==0||Fe!==this.length-1?xe=fe[6-De.length]+De+xe:xe=De+xe}for(He!==0&&(xe=He.toString(16)+xe);xe.length%he!==0;)xe="0"+xe;return this.negative!==0&&(xe="-"+xe),xe}if(ae===(ae|0)&&ae>=2&&ae<=36){var pe=ce[ae],Le=de[ae];xe="";var Be=this.clone();for(Be.negative=0;!Be.isZero();){var Ce=Be.modrn(Le).toString(ae);Be=Be.idivn(Le),Be.isZero()?xe=Ce+xe:xe=fe[pe-Ce.length]+Ce+xe}for(this.isZero()&&(xe="0"+xe);xe.length%he!==0;)xe="0"+xe;return this.negative!==0&&(xe="-"+xe),xe}m(!1,"Base should be between 2 and 36")},ee.prototype.toNumber=function(){var ae=this.words[0];return this.length===2?ae+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ae+=4503599627370496+this.words[1]*67108864:this.length>2&&m(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ae:ae},ee.prototype.toJSON=function(){return this.toString(16,2)},te&&(ee.prototype.toBuffer=function(ae,he){return this.toArrayLike(te,ae,he)}),ee.prototype.toArray=function(ae,he){return this.toArrayLike(Array,ae,he)};var ye=function(ae,he){return ae.allocUnsafe?ae.allocUnsafe(he):new ae(he)};ee.prototype.toArrayLike=function(ae,he,xe){this._strip();var $e=this.byteLength(),He=xe||Math.max(1,$e);m($e<=He,"byte array longer than desired length"),m(He>0,"Requested array length <= 0");var Fe=ye(ae,He),Ne=he==="le"?"LE":"BE";return this["_toArrayLike"+Ne](Fe,$e),Fe},ee.prototype._toArrayLikeLE=function(ae,he){for(var xe=0,$e=0,He=0,Fe=0;He<this.length;He++){var Ne=this.words[He]<<Fe|$e;ae[xe++]=Ne&255,xe<ae.length&&(ae[xe++]=Ne>>8&255),xe<ae.length&&(ae[xe++]=Ne>>16&255),Fe===6?(xe<ae.length&&(ae[xe++]=Ne>>24&255),$e=0,Fe=0):($e=Ne>>>24,Fe+=2)}if(xe<ae.length)for(ae[xe++]=$e;xe<ae.length;)ae[xe++]=0},ee.prototype._toArrayLikeBE=function(ae,he){for(var xe=ae.length-1,$e=0,He=0,Fe=0;He<this.length;He++){var Ne=this.words[He]<<Fe|$e;ae[xe--]=Ne&255,xe>=0&&(ae[xe--]=Ne>>8&255),xe>=0&&(ae[xe--]=Ne>>16&255),Fe===6?(xe>=0&&(ae[xe--]=Ne>>24&255),$e=0,Fe=0):($e=Ne>>>24,Fe+=2)}if(xe>=0)for(ae[xe--]=$e;xe>=0;)ae[xe--]=0},Math.clz32?ee.prototype._countBits=function(ae){return 32-Math.clz32(ae)}:ee.prototype._countBits=function(ae){var he=ae,xe=0;return he>=4096&&(xe+=13,he>>>=13),he>=64&&(xe+=7,he>>>=7),he>=8&&(xe+=4,he>>>=4),he>=2&&(xe+=2,he>>>=2),xe+he},ee.prototype._zeroBits=function(ae){if(ae===0)return 26;var he=ae,xe=0;return(he&8191)===0&&(xe+=13,he>>>=13),(he&127)===0&&(xe+=7,he>>>=7),(he&15)===0&&(xe+=4,he>>>=4),(he&3)===0&&(xe+=2,he>>>=2),(he&1)===0&&xe++,xe},ee.prototype.bitLength=function(){var ae=this.words[this.length-1],he=this._countBits(ae);return(this.length-1)*26+he};function ge(le){for(var ae=new Array(le.bitLength()),he=0;he<ae.length;he++){var xe=he/26|0,$e=he%26;ae[he]=le.words[xe]>>>$e&1}return ae}ee.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ae=0,he=0;he<this.length;he++){var xe=this._zeroBits(this.words[he]);if(ae+=xe,xe!==26)break}return ae},ee.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ee.prototype.toTwos=function(ae){return this.negative!==0?this.abs().inotn(ae).iaddn(1):this.clone()},ee.prototype.fromTwos=function(ae){return this.testn(ae-1)?this.notn(ae).iaddn(1).ineg():this.clone()},ee.prototype.isNeg=function(){return this.negative!==0},ee.prototype.neg=function(){return this.clone().ineg()},ee.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ee.prototype.iuor=function(ae){for(;this.length<ae.length;)this.words[this.length++]=0;for(var he=0;he<ae.length;he++)this.words[he]=this.words[he]|ae.words[he];return this._strip()},ee.prototype.ior=function(ae){return m((this.negative|ae.negative)===0),this.iuor(ae)},ee.prototype.or=function(ae){return this.length>ae.length?this.clone().ior(ae):ae.clone().ior(this)},ee.prototype.uor=function(ae){return this.length>ae.length?this.clone().iuor(ae):ae.clone().iuor(this)},ee.prototype.iuand=function(ae){var he;this.length>ae.length?he=ae:he=this;for(var xe=0;xe<he.length;xe++)this.words[xe]=this.words[xe]&ae.words[xe];return this.length=he.length,this._strip()},ee.prototype.iand=function(ae){return m((this.negative|ae.negative)===0),this.iuand(ae)},ee.prototype.and=function(ae){return this.length>ae.length?this.clone().iand(ae):ae.clone().iand(this)},ee.prototype.uand=function(ae){return this.length>ae.length?this.clone().iuand(ae):ae.clone().iuand(this)},ee.prototype.iuxor=function(ae){var he,xe;this.length>ae.length?(he=this,xe=ae):(he=ae,xe=this);for(var $e=0;$e<xe.length;$e++)this.words[$e]=he.words[$e]^xe.words[$e];if(this!==he)for(;$e<he.length;$e++)this.words[$e]=he.words[$e];return this.length=he.length,this._strip()},ee.prototype.ixor=function(ae){return m((this.negative|ae.negative)===0),this.iuxor(ae)},ee.prototype.xor=function(ae){return this.length>ae.length?this.clone().ixor(ae):ae.clone().ixor(this)},ee.prototype.uxor=function(ae){return this.length>ae.length?this.clone().iuxor(ae):ae.clone().iuxor(this)},ee.prototype.inotn=function(ae){m(typeof ae=="number"&&ae>=0);var he=Math.ceil(ae/26)|0,xe=ae%26;this._expand(he),xe>0&&he--;for(var $e=0;$e<he;$e++)this.words[$e]=~this.words[$e]&67108863;return xe>0&&(this.words[$e]=~this.words[$e]&67108863>>26-xe),this._strip()},ee.prototype.notn=function(ae){return this.clone().inotn(ae)},ee.prototype.setn=function(ae,he){m(typeof ae=="number"&&ae>=0);var xe=ae/26|0,$e=ae%26;return this._expand(xe+1),he?this.words[xe]=this.words[xe]|1<<$e:this.words[xe]=this.words[xe]&~(1<<$e),this._strip()},ee.prototype.iadd=function(ae){var he;if(this.negative!==0&&ae.negative===0)return this.negative=0,he=this.isub(ae),this.negative^=1,this._normSign();if(this.negative===0&&ae.negative!==0)return ae.negative=0,he=this.isub(ae),ae.negative=1,he._normSign();var xe,$e;this.length>ae.length?(xe=this,$e=ae):(xe=ae,$e=this);for(var He=0,Fe=0;Fe<$e.length;Fe++)he=(xe.words[Fe]|0)+($e.words[Fe]|0)+He,this.words[Fe]=he&67108863,He=he>>>26;for(;He!==0&&Fe<xe.length;Fe++)he=(xe.words[Fe]|0)+He,this.words[Fe]=he&67108863,He=he>>>26;if(this.length=xe.length,He!==0)this.words[this.length]=He,this.length++;else if(xe!==this)for(;Fe<xe.length;Fe++)this.words[Fe]=xe.words[Fe];return this},ee.prototype.add=function(ae){var he;return ae.negative!==0&&this.negative===0?(ae.negative=0,he=this.sub(ae),ae.negative^=1,he):ae.negative===0&&this.negative!==0?(this.negative=0,he=ae.sub(this),this.negative=1,he):this.length>ae.length?this.clone().iadd(ae):ae.clone().iadd(this)},ee.prototype.isub=function(ae){if(ae.negative!==0){ae.negative=0;var he=this.iadd(ae);return ae.negative=1,he._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ae),this.negative=1,this._normSign();var xe=this.cmp(ae);if(xe===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $e,He;xe>0?($e=this,He=ae):($e=ae,He=this);for(var Fe=0,Ne=0;Ne<He.length;Ne++)he=($e.words[Ne]|0)-(He.words[Ne]|0)+Fe,Fe=he>>26,this.words[Ne]=he&67108863;for(;Fe!==0&&Ne<$e.length;Ne++)he=($e.words[Ne]|0)+Fe,Fe=he>>26,this.words[Ne]=he&67108863;if(Fe===0&&Ne<$e.length&&$e!==this)for(;Ne<$e.length;Ne++)this.words[Ne]=$e.words[Ne];return this.length=Math.max(this.length,Ne),$e!==this&&(this.negative=1),this._strip()},ee.prototype.sub=function(ae){return this.clone().isub(ae)};function _e(le,ae,he){he.negative=ae.negative^le.negative;var xe=le.length+ae.length|0;he.length=xe,xe=xe-1|0;var $e=le.words[0]|0,He=ae.words[0]|0,Fe=$e*He,Ne=Fe&67108863,De=Fe/67108864|0;he.words[0]=Ne;for(var pe=1;pe<xe;pe++){for(var Le=De>>>26,Be=De&67108863,Ce=Math.min(pe,ae.length-1),Ze=Math.max(0,pe-le.length+1);Ze<=Ce;Ze++){var it=pe-Ze|0;$e=le.words[it]|0,He=ae.words[Ze]|0,Fe=$e*He+Be,Le+=Fe/67108864|0,Be=Fe&67108863}he.words[pe]=Be|0,De=Le|0}return De!==0?he.words[pe]=De|0:he.length--,he._strip()}var Ee=function(ae,he,xe){var $e=ae.words,He=he.words,Fe=xe.words,Ne=0,De,pe,Le,Be=$e[0]|0,Ce=Be&8191,Ze=Be>>>13,it=$e[1]|0,rt=it&8191,Oe=it>>>13,Ve=$e[2]|0,We=Ve&8191,qe=Ve>>>13,Ge=$e[3]|0,Qe=Ge&8191,ct=Ge>>>13,ft=$e[4]|0,bt=ft&8191,St=ft>>>13,xt=$e[5]|0,$t=xt&8191,It=xt>>>13,Et=$e[6]|0,At=Et&8191,kt=Et>>>13,Kt=$e[7]|0,lt=Kt&8191,Se=Kt>>>13,me=$e[8]|0,be=me&8191,Ye=me>>>13,ut=$e[9]|0,yt=ut&8191,wt=ut>>>13,Ut=He[0]|0,Xt=Ut&8191,Ct=Ut>>>13,Ht=He[1]|0,Yt=Ht&8191,ar=Ht>>>13,tr=He[2]|0,vr=tr&8191,ur=tr>>>13,Sr=He[3]|0,Ar=Sr&8191,$r=Sr>>>13,kr=He[4]|0,ir=kr&8191,pr=kr>>>13,Ir=He[5]|0,Pr=Ir&8191,Rr=Ir>>>13,Ft=He[6]|0,je=Ft&8191,Xe=Ft>>>13,ot=He[7]|0,Ke=ot&8191,pt=ot>>>13,gt=He[8]|0,Tt=gt&8191,Rt=gt>>>13,Mt=He[9]|0,zt=Mt&8191,Lt=Mt>>>13;xe.negative=ae.negative^he.negative,xe.length=19,De=Math.imul(Ce,Xt),pe=Math.imul(Ce,Ct),pe=pe+Math.imul(Ze,Xt)|0,Le=Math.imul(Ze,Ct);var er=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(er>>>26)|0,er&=67108863,De=Math.imul(rt,Xt),pe=Math.imul(rt,Ct),pe=pe+Math.imul(Oe,Xt)|0,Le=Math.imul(Oe,Ct),De=De+Math.imul(Ce,Yt)|0,pe=pe+Math.imul(Ce,ar)|0,pe=pe+Math.imul(Ze,Yt)|0,Le=Le+Math.imul(Ze,ar)|0;var lr=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(lr>>>26)|0,lr&=67108863,De=Math.imul(We,Xt),pe=Math.imul(We,Ct),pe=pe+Math.imul(qe,Xt)|0,Le=Math.imul(qe,Ct),De=De+Math.imul(rt,Yt)|0,pe=pe+Math.imul(rt,ar)|0,pe=pe+Math.imul(Oe,Yt)|0,Le=Le+Math.imul(Oe,ar)|0,De=De+Math.imul(Ce,vr)|0,pe=pe+Math.imul(Ce,ur)|0,pe=pe+Math.imul(Ze,vr)|0,Le=Le+Math.imul(Ze,ur)|0;var Er=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Er>>>26)|0,Er&=67108863,De=Math.imul(Qe,Xt),pe=Math.imul(Qe,Ct),pe=pe+Math.imul(ct,Xt)|0,Le=Math.imul(ct,Ct),De=De+Math.imul(We,Yt)|0,pe=pe+Math.imul(We,ar)|0,pe=pe+Math.imul(qe,Yt)|0,Le=Le+Math.imul(qe,ar)|0,De=De+Math.imul(rt,vr)|0,pe=pe+Math.imul(rt,ur)|0,pe=pe+Math.imul(Oe,vr)|0,Le=Le+Math.imul(Oe,ur)|0,De=De+Math.imul(Ce,Ar)|0,pe=pe+Math.imul(Ce,$r)|0,pe=pe+Math.imul(Ze,Ar)|0,Le=Le+Math.imul(Ze,$r)|0;var or=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(or>>>26)|0,or&=67108863,De=Math.imul(bt,Xt),pe=Math.imul(bt,Ct),pe=pe+Math.imul(St,Xt)|0,Le=Math.imul(St,Ct),De=De+Math.imul(Qe,Yt)|0,pe=pe+Math.imul(Qe,ar)|0,pe=pe+Math.imul(ct,Yt)|0,Le=Le+Math.imul(ct,ar)|0,De=De+Math.imul(We,vr)|0,pe=pe+Math.imul(We,ur)|0,pe=pe+Math.imul(qe,vr)|0,Le=Le+Math.imul(qe,ur)|0,De=De+Math.imul(rt,Ar)|0,pe=pe+Math.imul(rt,$r)|0,pe=pe+Math.imul(Oe,Ar)|0,Le=Le+Math.imul(Oe,$r)|0,De=De+Math.imul(Ce,ir)|0,pe=pe+Math.imul(Ce,pr)|0,pe=pe+Math.imul(Ze,ir)|0,Le=Le+Math.imul(Ze,pr)|0;var Tr=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,De=Math.imul($t,Xt),pe=Math.imul($t,Ct),pe=pe+Math.imul(It,Xt)|0,Le=Math.imul(It,Ct),De=De+Math.imul(bt,Yt)|0,pe=pe+Math.imul(bt,ar)|0,pe=pe+Math.imul(St,Yt)|0,Le=Le+Math.imul(St,ar)|0,De=De+Math.imul(Qe,vr)|0,pe=pe+Math.imul(Qe,ur)|0,pe=pe+Math.imul(ct,vr)|0,Le=Le+Math.imul(ct,ur)|0,De=De+Math.imul(We,Ar)|0,pe=pe+Math.imul(We,$r)|0,pe=pe+Math.imul(qe,Ar)|0,Le=Le+Math.imul(qe,$r)|0,De=De+Math.imul(rt,ir)|0,pe=pe+Math.imul(rt,pr)|0,pe=pe+Math.imul(Oe,ir)|0,Le=Le+Math.imul(Oe,pr)|0,De=De+Math.imul(Ce,Pr)|0,pe=pe+Math.imul(Ce,Rr)|0,pe=pe+Math.imul(Ze,Pr)|0,Le=Le+Math.imul(Ze,Rr)|0;var Jt=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,De=Math.imul(At,Xt),pe=Math.imul(At,Ct),pe=pe+Math.imul(kt,Xt)|0,Le=Math.imul(kt,Ct),De=De+Math.imul($t,Yt)|0,pe=pe+Math.imul($t,ar)|0,pe=pe+Math.imul(It,Yt)|0,Le=Le+Math.imul(It,ar)|0,De=De+Math.imul(bt,vr)|0,pe=pe+Math.imul(bt,ur)|0,pe=pe+Math.imul(St,vr)|0,Le=Le+Math.imul(St,ur)|0,De=De+Math.imul(Qe,Ar)|0,pe=pe+Math.imul(Qe,$r)|0,pe=pe+Math.imul(ct,Ar)|0,Le=Le+Math.imul(ct,$r)|0,De=De+Math.imul(We,ir)|0,pe=pe+Math.imul(We,pr)|0,pe=pe+Math.imul(qe,ir)|0,Le=Le+Math.imul(qe,pr)|0,De=De+Math.imul(rt,Pr)|0,pe=pe+Math.imul(rt,Rr)|0,pe=pe+Math.imul(Oe,Pr)|0,Le=Le+Math.imul(Oe,Rr)|0,De=De+Math.imul(Ce,je)|0,pe=pe+Math.imul(Ce,Xe)|0,pe=pe+Math.imul(Ze,je)|0,Le=Le+Math.imul(Ze,Xe)|0;var Dt=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,De=Math.imul(lt,Xt),pe=Math.imul(lt,Ct),pe=pe+Math.imul(Se,Xt)|0,Le=Math.imul(Se,Ct),De=De+Math.imul(At,Yt)|0,pe=pe+Math.imul(At,ar)|0,pe=pe+Math.imul(kt,Yt)|0,Le=Le+Math.imul(kt,ar)|0,De=De+Math.imul($t,vr)|0,pe=pe+Math.imul($t,ur)|0,pe=pe+Math.imul(It,vr)|0,Le=Le+Math.imul(It,ur)|0,De=De+Math.imul(bt,Ar)|0,pe=pe+Math.imul(bt,$r)|0,pe=pe+Math.imul(St,Ar)|0,Le=Le+Math.imul(St,$r)|0,De=De+Math.imul(Qe,ir)|0,pe=pe+Math.imul(Qe,pr)|0,pe=pe+Math.imul(ct,ir)|0,Le=Le+Math.imul(ct,pr)|0,De=De+Math.imul(We,Pr)|0,pe=pe+Math.imul(We,Rr)|0,pe=pe+Math.imul(qe,Pr)|0,Le=Le+Math.imul(qe,Rr)|0,De=De+Math.imul(rt,je)|0,pe=pe+Math.imul(rt,Xe)|0,pe=pe+Math.imul(Oe,je)|0,Le=Le+Math.imul(Oe,Xe)|0,De=De+Math.imul(Ce,Ke)|0,pe=pe+Math.imul(Ce,pt)|0,pe=pe+Math.imul(Ze,Ke)|0,Le=Le+Math.imul(Ze,pt)|0;var Qt=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,De=Math.imul(be,Xt),pe=Math.imul(be,Ct),pe=pe+Math.imul(Ye,Xt)|0,Le=Math.imul(Ye,Ct),De=De+Math.imul(lt,Yt)|0,pe=pe+Math.imul(lt,ar)|0,pe=pe+Math.imul(Se,Yt)|0,Le=Le+Math.imul(Se,ar)|0,De=De+Math.imul(At,vr)|0,pe=pe+Math.imul(At,ur)|0,pe=pe+Math.imul(kt,vr)|0,Le=Le+Math.imul(kt,ur)|0,De=De+Math.imul($t,Ar)|0,pe=pe+Math.imul($t,$r)|0,pe=pe+Math.imul(It,Ar)|0,Le=Le+Math.imul(It,$r)|0,De=De+Math.imul(bt,ir)|0,pe=pe+Math.imul(bt,pr)|0,pe=pe+Math.imul(St,ir)|0,Le=Le+Math.imul(St,pr)|0,De=De+Math.imul(Qe,Pr)|0,pe=pe+Math.imul(Qe,Rr)|0,pe=pe+Math.imul(ct,Pr)|0,Le=Le+Math.imul(ct,Rr)|0,De=De+Math.imul(We,je)|0,pe=pe+Math.imul(We,Xe)|0,pe=pe+Math.imul(qe,je)|0,Le=Le+Math.imul(qe,Xe)|0,De=De+Math.imul(rt,Ke)|0,pe=pe+Math.imul(rt,pt)|0,pe=pe+Math.imul(Oe,Ke)|0,Le=Le+Math.imul(Oe,pt)|0,De=De+Math.imul(Ce,Tt)|0,pe=pe+Math.imul(Ce,Rt)|0,pe=pe+Math.imul(Ze,Tt)|0,Le=Le+Math.imul(Ze,Rt)|0;var Pt=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,De=Math.imul(yt,Xt),pe=Math.imul(yt,Ct),pe=pe+Math.imul(wt,Xt)|0,Le=Math.imul(wt,Ct),De=De+Math.imul(be,Yt)|0,pe=pe+Math.imul(be,ar)|0,pe=pe+Math.imul(Ye,Yt)|0,Le=Le+Math.imul(Ye,ar)|0,De=De+Math.imul(lt,vr)|0,pe=pe+Math.imul(lt,ur)|0,pe=pe+Math.imul(Se,vr)|0,Le=Le+Math.imul(Se,ur)|0,De=De+Math.imul(At,Ar)|0,pe=pe+Math.imul(At,$r)|0,pe=pe+Math.imul(kt,Ar)|0,Le=Le+Math.imul(kt,$r)|0,De=De+Math.imul($t,ir)|0,pe=pe+Math.imul($t,pr)|0,pe=pe+Math.imul(It,ir)|0,Le=Le+Math.imul(It,pr)|0,De=De+Math.imul(bt,Pr)|0,pe=pe+Math.imul(bt,Rr)|0,pe=pe+Math.imul(St,Pr)|0,Le=Le+Math.imul(St,Rr)|0,De=De+Math.imul(Qe,je)|0,pe=pe+Math.imul(Qe,Xe)|0,pe=pe+Math.imul(ct,je)|0,Le=Le+Math.imul(ct,Xe)|0,De=De+Math.imul(We,Ke)|0,pe=pe+Math.imul(We,pt)|0,pe=pe+Math.imul(qe,Ke)|0,Le=Le+Math.imul(qe,pt)|0,De=De+Math.imul(rt,Tt)|0,pe=pe+Math.imul(rt,Rt)|0,pe=pe+Math.imul(Oe,Tt)|0,Le=Le+Math.imul(Oe,Rt)|0,De=De+Math.imul(Ce,zt)|0,pe=pe+Math.imul(Ce,Lt)|0,pe=pe+Math.imul(Ze,zt)|0,Le=Le+Math.imul(Ze,Lt)|0;var Ot=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,De=Math.imul(yt,Yt),pe=Math.imul(yt,ar),pe=pe+Math.imul(wt,Yt)|0,Le=Math.imul(wt,ar),De=De+Math.imul(be,vr)|0,pe=pe+Math.imul(be,ur)|0,pe=pe+Math.imul(Ye,vr)|0,Le=Le+Math.imul(Ye,ur)|0,De=De+Math.imul(lt,Ar)|0,pe=pe+Math.imul(lt,$r)|0,pe=pe+Math.imul(Se,Ar)|0,Le=Le+Math.imul(Se,$r)|0,De=De+Math.imul(At,ir)|0,pe=pe+Math.imul(At,pr)|0,pe=pe+Math.imul(kt,ir)|0,Le=Le+Math.imul(kt,pr)|0,De=De+Math.imul($t,Pr)|0,pe=pe+Math.imul($t,Rr)|0,pe=pe+Math.imul(It,Pr)|0,Le=Le+Math.imul(It,Rr)|0,De=De+Math.imul(bt,je)|0,pe=pe+Math.imul(bt,Xe)|0,pe=pe+Math.imul(St,je)|0,Le=Le+Math.imul(St,Xe)|0,De=De+Math.imul(Qe,Ke)|0,pe=pe+Math.imul(Qe,pt)|0,pe=pe+Math.imul(ct,Ke)|0,Le=Le+Math.imul(ct,pt)|0,De=De+Math.imul(We,Tt)|0,pe=pe+Math.imul(We,Rt)|0,pe=pe+Math.imul(qe,Tt)|0,Le=Le+Math.imul(qe,Rt)|0,De=De+Math.imul(rt,zt)|0,pe=pe+Math.imul(rt,Lt)|0,pe=pe+Math.imul(Oe,zt)|0,Le=Le+Math.imul(Oe,Lt)|0;var Bt=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,De=Math.imul(yt,vr),pe=Math.imul(yt,ur),pe=pe+Math.imul(wt,vr)|0,Le=Math.imul(wt,ur),De=De+Math.imul(be,Ar)|0,pe=pe+Math.imul(be,$r)|0,pe=pe+Math.imul(Ye,Ar)|0,Le=Le+Math.imul(Ye,$r)|0,De=De+Math.imul(lt,ir)|0,pe=pe+Math.imul(lt,pr)|0,pe=pe+Math.imul(Se,ir)|0,Le=Le+Math.imul(Se,pr)|0,De=De+Math.imul(At,Pr)|0,pe=pe+Math.imul(At,Rr)|0,pe=pe+Math.imul(kt,Pr)|0,Le=Le+Math.imul(kt,Rr)|0,De=De+Math.imul($t,je)|0,pe=pe+Math.imul($t,Xe)|0,pe=pe+Math.imul(It,je)|0,Le=Le+Math.imul(It,Xe)|0,De=De+Math.imul(bt,Ke)|0,pe=pe+Math.imul(bt,pt)|0,pe=pe+Math.imul(St,Ke)|0,Le=Le+Math.imul(St,pt)|0,De=De+Math.imul(Qe,Tt)|0,pe=pe+Math.imul(Qe,Rt)|0,pe=pe+Math.imul(ct,Tt)|0,Le=Le+Math.imul(ct,Rt)|0,De=De+Math.imul(We,zt)|0,pe=pe+Math.imul(We,Lt)|0,pe=pe+Math.imul(qe,zt)|0,Le=Le+Math.imul(qe,Lt)|0;var nr=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(nr>>>26)|0,nr&=67108863,De=Math.imul(yt,Ar),pe=Math.imul(yt,$r),pe=pe+Math.imul(wt,Ar)|0,Le=Math.imul(wt,$r),De=De+Math.imul(be,ir)|0,pe=pe+Math.imul(be,pr)|0,pe=pe+Math.imul(Ye,ir)|0,Le=Le+Math.imul(Ye,pr)|0,De=De+Math.imul(lt,Pr)|0,pe=pe+Math.imul(lt,Rr)|0,pe=pe+Math.imul(Se,Pr)|0,Le=Le+Math.imul(Se,Rr)|0,De=De+Math.imul(At,je)|0,pe=pe+Math.imul(At,Xe)|0,pe=pe+Math.imul(kt,je)|0,Le=Le+Math.imul(kt,Xe)|0,De=De+Math.imul($t,Ke)|0,pe=pe+Math.imul($t,pt)|0,pe=pe+Math.imul(It,Ke)|0,Le=Le+Math.imul(It,pt)|0,De=De+Math.imul(bt,Tt)|0,pe=pe+Math.imul(bt,Rt)|0,pe=pe+Math.imul(St,Tt)|0,Le=Le+Math.imul(St,Rt)|0,De=De+Math.imul(Qe,zt)|0,pe=pe+Math.imul(Qe,Lt)|0,pe=pe+Math.imul(ct,zt)|0,Le=Le+Math.imul(ct,Lt)|0;var dr=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(dr>>>26)|0,dr&=67108863,De=Math.imul(yt,ir),pe=Math.imul(yt,pr),pe=pe+Math.imul(wt,ir)|0,Le=Math.imul(wt,pr),De=De+Math.imul(be,Pr)|0,pe=pe+Math.imul(be,Rr)|0,pe=pe+Math.imul(Ye,Pr)|0,Le=Le+Math.imul(Ye,Rr)|0,De=De+Math.imul(lt,je)|0,pe=pe+Math.imul(lt,Xe)|0,pe=pe+Math.imul(Se,je)|0,Le=Le+Math.imul(Se,Xe)|0,De=De+Math.imul(At,Ke)|0,pe=pe+Math.imul(At,pt)|0,pe=pe+Math.imul(kt,Ke)|0,Le=Le+Math.imul(kt,pt)|0,De=De+Math.imul($t,Tt)|0,pe=pe+Math.imul($t,Rt)|0,pe=pe+Math.imul(It,Tt)|0,Le=Le+Math.imul(It,Rt)|0,De=De+Math.imul(bt,zt)|0,pe=pe+Math.imul(bt,Lt)|0,pe=pe+Math.imul(St,zt)|0,Le=Le+Math.imul(St,Lt)|0;var sr=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(sr>>>26)|0,sr&=67108863,De=Math.imul(yt,Pr),pe=Math.imul(yt,Rr),pe=pe+Math.imul(wt,Pr)|0,Le=Math.imul(wt,Rr),De=De+Math.imul(be,je)|0,pe=pe+Math.imul(be,Xe)|0,pe=pe+Math.imul(Ye,je)|0,Le=Le+Math.imul(Ye,Xe)|0,De=De+Math.imul(lt,Ke)|0,pe=pe+Math.imul(lt,pt)|0,pe=pe+Math.imul(Se,Ke)|0,Le=Le+Math.imul(Se,pt)|0,De=De+Math.imul(At,Tt)|0,pe=pe+Math.imul(At,Rt)|0,pe=pe+Math.imul(kt,Tt)|0,Le=Le+Math.imul(kt,Rt)|0,De=De+Math.imul($t,zt)|0,pe=pe+Math.imul($t,Lt)|0,pe=pe+Math.imul(It,zt)|0,Le=Le+Math.imul(It,Lt)|0;var gr=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(gr>>>26)|0,gr&=67108863,De=Math.imul(yt,je),pe=Math.imul(yt,Xe),pe=pe+Math.imul(wt,je)|0,Le=Math.imul(wt,Xe),De=De+Math.imul(be,Ke)|0,pe=pe+Math.imul(be,pt)|0,pe=pe+Math.imul(Ye,Ke)|0,Le=Le+Math.imul(Ye,pt)|0,De=De+Math.imul(lt,Tt)|0,pe=pe+Math.imul(lt,Rt)|0,pe=pe+Math.imul(Se,Tt)|0,Le=Le+Math.imul(Se,Rt)|0,De=De+Math.imul(At,zt)|0,pe=pe+Math.imul(At,Lt)|0,pe=pe+Math.imul(kt,zt)|0,Le=Le+Math.imul(kt,Lt)|0;var Zt=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,De=Math.imul(yt,Ke),pe=Math.imul(yt,pt),pe=pe+Math.imul(wt,Ke)|0,Le=Math.imul(wt,pt),De=De+Math.imul(be,Tt)|0,pe=pe+Math.imul(be,Rt)|0,pe=pe+Math.imul(Ye,Tt)|0,Le=Le+Math.imul(Ye,Rt)|0,De=De+Math.imul(lt,zt)|0,pe=pe+Math.imul(lt,Lt)|0,pe=pe+Math.imul(Se,zt)|0,Le=Le+Math.imul(Se,Lt)|0;var rr=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(rr>>>26)|0,rr&=67108863,De=Math.imul(yt,Tt),pe=Math.imul(yt,Rt),pe=pe+Math.imul(wt,Tt)|0,Le=Math.imul(wt,Rt),De=De+Math.imul(be,zt)|0,pe=pe+Math.imul(be,Lt)|0,pe=pe+Math.imul(Ye,zt)|0,Le=Le+Math.imul(Ye,Lt)|0;var Gt=(Ne+De|0)+((pe&8191)<<13)|0;Ne=(Le+(pe>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,De=Math.imul(yt,zt),pe=Math.imul(yt,Lt),pe=pe+Math.imul(wt,zt)|0,Le=Math.imul(wt,Lt);var mr=(Ne+De|0)+((pe&8191)<<13)|0;return Ne=(Le+(pe>>>13)|0)+(mr>>>26)|0,mr&=67108863,Fe[0]=er,Fe[1]=lr,Fe[2]=Er,Fe[3]=or,Fe[4]=Tr,Fe[5]=Jt,Fe[6]=Dt,Fe[7]=Qt,Fe[8]=Pt,Fe[9]=Ot,Fe[10]=Bt,Fe[11]=nr,Fe[12]=dr,Fe[13]=sr,Fe[14]=gr,Fe[15]=Zt,Fe[16]=rr,Fe[17]=Gt,Fe[18]=mr,Ne!==0&&(Fe[19]=Ne,xe.length++),xe};Math.imul||(Ee=_e);function Ae(le,ae,he){he.negative=ae.negative^le.negative,he.length=le.length+ae.length;for(var xe=0,$e=0,He=0;He<he.length-1;He++){var Fe=$e;$e=0;for(var Ne=xe&67108863,De=Math.min(He,ae.length-1),pe=Math.max(0,He-le.length+1);pe<=De;pe++){var Le=He-pe,Be=le.words[Le]|0,Ce=ae.words[pe]|0,Ze=Be*Ce,it=Ze&67108863;Fe=Fe+(Ze/67108864|0)|0,it=it+Ne|0,Ne=it&67108863,Fe=Fe+(it>>>26)|0,$e+=Fe>>>26,Fe&=67108863}he.words[He]=Ne,xe=Fe,Fe=$e}return xe!==0?he.words[He]=xe:he.length--,he._strip()}function we(le,ae,he){return Ae(le,ae,he)}ee.prototype.mulTo=function(ae,he){var xe,$e=this.length+ae.length;return this.length===10&&ae.length===10?xe=Ee(this,ae,he):$e<63?xe=_e(this,ae,he):$e<1024?xe=Ae(this,ae,he):xe=we(this,ae,he),xe},ee.prototype.mul=function(ae){var he=new ee(null);return he.words=new Array(this.length+ae.length),this.mulTo(ae,he)},ee.prototype.mulf=function(ae){var he=new ee(null);return he.words=new Array(this.length+ae.length),we(this,ae,he)},ee.prototype.imul=function(ae){return this.clone().mulTo(ae,this)},ee.prototype.imuln=function(ae){var he=ae<0;he&&(ae=-ae),m(typeof ae=="number"),m(ae<67108864);for(var xe=0,$e=0;$e<this.length;$e++){var He=(this.words[$e]|0)*ae,Fe=(He&67108863)+(xe&67108863);xe>>=26,xe+=He/67108864|0,xe+=Fe>>>26,this.words[$e]=Fe&67108863}return xe!==0&&(this.words[$e]=xe,this.length++),he?this.ineg():this},ee.prototype.muln=function(ae){return this.clone().imuln(ae)},ee.prototype.sqr=function(){return this.mul(this)},ee.prototype.isqr=function(){return this.imul(this.clone())},ee.prototype.pow=function(ae){var he=ge(ae);if(he.length===0)return new ee(1);for(var xe=this,$e=0;$e<he.length&&he[$e]===0;$e++,xe=xe.sqr());if(++$e<he.length)for(var He=xe.sqr();$e<he.length;$e++,He=He.sqr())he[$e]!==0&&(xe=xe.mul(He));return xe},ee.prototype.iushln=function(ae){m(typeof ae=="number"&&ae>=0);var he=ae%26,xe=(ae-he)/26,$e=67108863>>>26-he<<26-he,He;if(he!==0){var Fe=0;for(He=0;He<this.length;He++){var Ne=this.words[He]&$e,De=(this.words[He]|0)-Ne<<he;this.words[He]=De|Fe,Fe=Ne>>>26-he}Fe&&(this.words[He]=Fe,this.length++)}if(xe!==0){for(He=this.length-1;He>=0;He--)this.words[He+xe]=this.words[He];for(He=0;He<xe;He++)this.words[He]=0;this.length+=xe}return this._strip()},ee.prototype.ishln=function(ae){return m(this.negative===0),this.iushln(ae)},ee.prototype.iushrn=function(ae,he,xe){m(typeof ae=="number"&&ae>=0);var $e;he?$e=(he-he%26)/26:$e=0;var He=ae%26,Fe=Math.min((ae-He)/26,this.length),Ne=67108863^67108863>>>He<<He,De=xe;if($e-=Fe,$e=Math.max(0,$e),De){for(var pe=0;pe<Fe;pe++)De.words[pe]=this.words[pe];De.length=Fe}if(Fe!==0)if(this.length>Fe)for(this.length-=Fe,pe=0;pe<this.length;pe++)this.words[pe]=this.words[pe+Fe];else this.words[0]=0,this.length=1;var Le=0;for(pe=this.length-1;pe>=0&&(Le!==0||pe>=$e);pe--){var Be=this.words[pe]|0;this.words[pe]=Le<<26-He|Be>>>He,Le=Be&Ne}return De&&Le!==0&&(De.words[De.length++]=Le),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},ee.prototype.ishrn=function(ae,he,xe){return m(this.negative===0),this.iushrn(ae,he,xe)},ee.prototype.shln=function(ae){return this.clone().ishln(ae)},ee.prototype.ushln=function(ae){return this.clone().iushln(ae)},ee.prototype.shrn=function(ae){return this.clone().ishrn(ae)},ee.prototype.ushrn=function(ae){return this.clone().iushrn(ae)},ee.prototype.testn=function(ae){m(typeof ae=="number"&&ae>=0);var he=ae%26,xe=(ae-he)/26,$e=1<<he;if(this.length<=xe)return!1;var He=this.words[xe];return!!(He&$e)},ee.prototype.imaskn=function(ae){m(typeof ae=="number"&&ae>=0);var he=ae%26,xe=(ae-he)/26;if(m(this.negative===0,"imaskn works only with positive numbers"),this.length<=xe)return this;if(he!==0&&xe++,this.length=Math.min(xe,this.length),he!==0){var $e=67108863^67108863>>>he<<he;this.words[this.length-1]&=$e}return this._strip()},ee.prototype.maskn=function(ae){return this.clone().imaskn(ae)},ee.prototype.iaddn=function(ae){return m(typeof ae=="number"),m(ae<67108864),ae<0?this.isubn(-ae):this.negative!==0?this.length===1&&(this.words[0]|0)<=ae?(this.words[0]=ae-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ae),this.negative=1,this):this._iaddn(ae)},ee.prototype._iaddn=function(ae){this.words[0]+=ae;for(var he=0;he<this.length&&this.words[he]>=67108864;he++)this.words[he]-=67108864,he===this.length-1?this.words[he+1]=1:this.words[he+1]++;return this.length=Math.max(this.length,he+1),this},ee.prototype.isubn=function(ae){if(m(typeof ae=="number"),m(ae<67108864),ae<0)return this.iaddn(-ae);if(this.negative!==0)return this.negative=0,this.iaddn(ae),this.negative=1,this;if(this.words[0]-=ae,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var he=0;he<this.length&&this.words[he]<0;he++)this.words[he]+=67108864,this.words[he+1]-=1;return this._strip()},ee.prototype.addn=function(ae){return this.clone().iaddn(ae)},ee.prototype.subn=function(ae){return this.clone().isubn(ae)},ee.prototype.iabs=function(){return this.negative=0,this},ee.prototype.abs=function(){return this.clone().iabs()},ee.prototype._ishlnsubmul=function(ae,he,xe){var $e=ae.length+xe,He;this._expand($e);var Fe,Ne=0;for(He=0;He<ae.length;He++){Fe=(this.words[He+xe]|0)+Ne;var De=(ae.words[He]|0)*he;Fe-=De&67108863,Ne=(Fe>>26)-(De/67108864|0),this.words[He+xe]=Fe&67108863}for(;He<this.length-xe;He++)Fe=(this.words[He+xe]|0)+Ne,Ne=Fe>>26,this.words[He+xe]=Fe&67108863;if(Ne===0)return this._strip();for(m(Ne===-1),Ne=0,He=0;He<this.length;He++)Fe=-(this.words[He]|0)+Ne,Ne=Fe>>26,this.words[He]=Fe&67108863;return this.negative=1,this._strip()},ee.prototype._wordDiv=function(ae,he){var xe=this.length-ae.length,$e=this.clone(),He=ae,Fe=He.words[He.length-1]|0,Ne=this._countBits(Fe);xe=26-Ne,xe!==0&&(He=He.ushln(xe),$e.iushln(xe),Fe=He.words[He.length-1]|0);var De=$e.length-He.length,pe;if(he!=="mod"){pe=new ee(null),pe.length=De+1,pe.words=new Array(pe.length);for(var Le=0;Le<pe.length;Le++)pe.words[Le]=0}var Be=$e.clone()._ishlnsubmul(He,1,De);Be.negative===0&&($e=Be,pe&&(pe.words[De]=1));for(var Ce=De-1;Ce>=0;Ce--){var Ze=($e.words[He.length+Ce]|0)*67108864+($e.words[He.length+Ce-1]|0);for(Ze=Math.min(Ze/Fe|0,67108863),$e._ishlnsubmul(He,Ze,Ce);$e.negative!==0;)Ze--,$e.negative=0,$e._ishlnsubmul(He,1,Ce),$e.isZero()||($e.negative^=1);pe&&(pe.words[Ce]=Ze)}return pe&&pe._strip(),$e._strip(),he!=="div"&&xe!==0&&$e.iushrn(xe),{div:pe||null,mod:$e}},ee.prototype.divmod=function(ae,he,xe){if(m(!ae.isZero()),this.isZero())return{div:new ee(0),mod:new ee(0)};var $e,He,Fe;return this.negative!==0&&ae.negative===0?(Fe=this.neg().divmod(ae,he),he!=="mod"&&($e=Fe.div.neg()),he!=="div"&&(He=Fe.mod.neg(),xe&&He.negative!==0&&He.iadd(ae)),{div:$e,mod:He}):this.negative===0&&ae.negative!==0?(Fe=this.divmod(ae.neg(),he),he!=="mod"&&($e=Fe.div.neg()),{div:$e,mod:Fe.mod}):(this.negative&ae.negative)!==0?(Fe=this.neg().divmod(ae.neg(),he),he!=="div"&&(He=Fe.mod.neg(),xe&&He.negative!==0&&He.isub(ae)),{div:Fe.div,mod:He}):ae.length>this.length||this.cmp(ae)<0?{div:new ee(0),mod:this}:ae.length===1?he==="div"?{div:this.divn(ae.words[0]),mod:null}:he==="mod"?{div:null,mod:new ee(this.modrn(ae.words[0]))}:{div:this.divn(ae.words[0]),mod:new ee(this.modrn(ae.words[0]))}:this._wordDiv(ae,he)},ee.prototype.div=function(ae){return this.divmod(ae,"div",!1).div},ee.prototype.mod=function(ae){return this.divmod(ae,"mod",!1).mod},ee.prototype.umod=function(ae){return this.divmod(ae,"mod",!0).mod},ee.prototype.divRound=function(ae){var he=this.divmod(ae);if(he.mod.isZero())return he.div;var xe=he.div.negative!==0?he.mod.isub(ae):he.mod,$e=ae.ushrn(1),He=ae.andln(1),Fe=xe.cmp($e);return Fe<0||He===1&&Fe===0?he.div:he.div.negative!==0?he.div.isubn(1):he.div.iaddn(1)},ee.prototype.modrn=function(ae){var he=ae<0;he&&(ae=-ae),m(ae<=67108863);for(var xe=(1<<26)%ae,$e=0,He=this.length-1;He>=0;He--)$e=(xe*$e+(this.words[He]|0))%ae;return he?-$e:$e},ee.prototype.modn=function(ae){return this.modrn(ae)},ee.prototype.idivn=function(ae){var he=ae<0;he&&(ae=-ae),m(ae<=67108863);for(var xe=0,$e=this.length-1;$e>=0;$e--){var He=(this.words[$e]|0)+xe*67108864;this.words[$e]=He/ae|0,xe=He%ae}return this._strip(),he?this.ineg():this},ee.prototype.divn=function(ae){return this.clone().idivn(ae)},ee.prototype.egcd=function(ae){m(ae.negative===0),m(!ae.isZero());var he=this,xe=ae.clone();he.negative!==0?he=he.umod(ae):he=he.clone();for(var $e=new ee(1),He=new ee(0),Fe=new ee(0),Ne=new ee(1),De=0;he.isEven()&&xe.isEven();)he.iushrn(1),xe.iushrn(1),++De;for(var pe=xe.clone(),Le=he.clone();!he.isZero();){for(var Be=0,Ce=1;(he.words[0]&Ce)===0&&Be<26;++Be,Ce<<=1);if(Be>0)for(he.iushrn(Be);Be-- >0;)($e.isOdd()||He.isOdd())&&($e.iadd(pe),He.isub(Le)),$e.iushrn(1),He.iushrn(1);for(var Ze=0,it=1;(xe.words[0]&it)===0&&Ze<26;++Ze,it<<=1);if(Ze>0)for(xe.iushrn(Ze);Ze-- >0;)(Fe.isOdd()||Ne.isOdd())&&(Fe.iadd(pe),Ne.isub(Le)),Fe.iushrn(1),Ne.iushrn(1);he.cmp(xe)>=0?(he.isub(xe),$e.isub(Fe),He.isub(Ne)):(xe.isub(he),Fe.isub($e),Ne.isub(He))}return{a:Fe,b:Ne,gcd:xe.iushln(De)}},ee.prototype._invmp=function(ae){m(ae.negative===0),m(!ae.isZero());var he=this,xe=ae.clone();he.negative!==0?he=he.umod(ae):he=he.clone();for(var $e=new ee(1),He=new ee(0),Fe=xe.clone();he.cmpn(1)>0&&xe.cmpn(1)>0;){for(var Ne=0,De=1;(he.words[0]&De)===0&&Ne<26;++Ne,De<<=1);if(Ne>0)for(he.iushrn(Ne);Ne-- >0;)$e.isOdd()&&$e.iadd(Fe),$e.iushrn(1);for(var pe=0,Le=1;(xe.words[0]&Le)===0&&pe<26;++pe,Le<<=1);if(pe>0)for(xe.iushrn(pe);pe-- >0;)He.isOdd()&&He.iadd(Fe),He.iushrn(1);he.cmp(xe)>=0?(he.isub(xe),$e.isub(He)):(xe.isub(he),He.isub($e))}var Be;return he.cmpn(1)===0?Be=$e:Be=He,Be.cmpn(0)<0&&Be.iadd(ae),Be},ee.prototype.gcd=function(ae){if(this.isZero())return ae.abs();if(ae.isZero())return this.abs();var he=this.clone(),xe=ae.clone();he.negative=0,xe.negative=0;for(var $e=0;he.isEven()&&xe.isEven();$e++)he.iushrn(1),xe.iushrn(1);do{for(;he.isEven();)he.iushrn(1);for(;xe.isEven();)xe.iushrn(1);var He=he.cmp(xe);if(He<0){var Fe=he;he=xe,xe=Fe}else if(He===0||xe.cmpn(1)===0)break;he.isub(xe)}while(!0);return xe.iushln($e)},ee.prototype.invm=function(ae){return this.egcd(ae).a.umod(ae)},ee.prototype.isEven=function(){return(this.words[0]&1)===0},ee.prototype.isOdd=function(){return(this.words[0]&1)===1},ee.prototype.andln=function(ae){return this.words[0]&ae},ee.prototype.bincn=function(ae){m(typeof ae=="number");var he=ae%26,xe=(ae-he)/26,$e=1<<he;if(this.length<=xe)return this._expand(xe+1),this.words[xe]|=$e,this;for(var He=$e,Fe=xe;He!==0&&Fe<this.length;Fe++){var Ne=this.words[Fe]|0;Ne+=He,He=Ne>>>26,Ne&=67108863,this.words[Fe]=Ne}return He!==0&&(this.words[Fe]=He,this.length++),this},ee.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ee.prototype.cmpn=function(ae){var he=ae<0;if(this.negative!==0&&!he)return-1;if(this.negative===0&&he)return 1;this._strip();var xe;if(this.length>1)xe=1;else{he&&(ae=-ae),m(ae<=67108863,"Number is too big");var $e=this.words[0]|0;xe=$e===ae?0:$e<ae?-1:1}return this.negative!==0?-xe|0:xe},ee.prototype.cmp=function(ae){if(this.negative!==0&&ae.negative===0)return-1;if(this.negative===0&&ae.negative!==0)return 1;var he=this.ucmp(ae);return this.negative!==0?-he|0:he},ee.prototype.ucmp=function(ae){if(this.length>ae.length)return 1;if(this.length<ae.length)return-1;for(var he=0,xe=this.length-1;xe>=0;xe--){var $e=this.words[xe]|0,He=ae.words[xe]|0;if($e!==He){$e<He?he=-1:$e>He&&(he=1);break}}return he},ee.prototype.gtn=function(ae){return this.cmpn(ae)===1},ee.prototype.gt=function(ae){return this.cmp(ae)===1},ee.prototype.gten=function(ae){return this.cmpn(ae)>=0},ee.prototype.gte=function(ae){return this.cmp(ae)>=0},ee.prototype.ltn=function(ae){return this.cmpn(ae)===-1},ee.prototype.lt=function(ae){return this.cmp(ae)===-1},ee.prototype.lten=function(ae){return this.cmpn(ae)<=0},ee.prototype.lte=function(ae){return this.cmp(ae)<=0},ee.prototype.eqn=function(ae){return this.cmpn(ae)===0},ee.prototype.eq=function(ae){return this.cmp(ae)===0},ee.red=function(ae){return new Pe(ae)},ee.prototype.toRed=function(ae){return m(!this.red,"Already a number in reduction context"),m(this.negative===0,"red works only with positives"),ae.convertTo(this)._forceRed(ae)},ee.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ee.prototype._forceRed=function(ae){return this.red=ae,this},ee.prototype.forceRed=function(ae){return m(!this.red,"Already a number in reduction context"),this._forceRed(ae)},ee.prototype.redAdd=function(ae){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,ae)},ee.prototype.redIAdd=function(ae){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ae)},ee.prototype.redSub=function(ae){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,ae)},ee.prototype.redISub=function(ae){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,ae)},ee.prototype.redShl=function(ae){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,ae)},ee.prototype.redMul=function(ae){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.mul(this,ae)},ee.prototype.redIMul=function(ae){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,ae),this.red.imul(this,ae)},ee.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ee.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ee.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ee.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ee.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ee.prototype.redPow=function(ae){return m(this.red&&!ae.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ae)};var Me={k256:null,p224:null,p192:null,p25519:null};function ke(le,ae){this.name=le,this.p=new ee(ae,16),this.n=this.p.bitLength(),this.k=new ee(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ke.prototype._tmp=function(){var ae=new ee(null);return ae.words=new Array(Math.ceil(this.n/13)),ae},ke.prototype.ireduce=function(ae){var he=ae,xe;do this.split(he,this.tmp),he=this.imulK(he),he=he.iadd(this.tmp),xe=he.bitLength();while(xe>this.n);var $e=xe<this.n?-1:he.ucmp(this.p);return $e===0?(he.words[0]=0,he.length=1):$e>0?he.isub(this.p):he.strip!==void 0?he.strip():he._strip(),he},ke.prototype.split=function(ae,he){ae.iushrn(this.n,0,he)},ke.prototype.imulK=function(ae){return ae.imul(this.k)};function Re(){ke.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Re,ke),Re.prototype.split=function(ae,he){for(var xe=4194303,$e=Math.min(ae.length,9),He=0;He<$e;He++)he.words[He]=ae.words[He];if(he.length=$e,ae.length<=9){ae.words[0]=0,ae.length=1;return}var Fe=ae.words[9];for(he.words[he.length++]=Fe&xe,He=10;He<ae.length;He++){var Ne=ae.words[He]|0;ae.words[He-10]=(Ne&xe)<<4|Fe>>>22,Fe=Ne}Fe>>>=22,ae.words[He-10]=Fe,Fe===0&&ae.length>10?ae.length-=10:ae.length-=9},Re.prototype.imulK=function(ae){ae.words[ae.length]=0,ae.words[ae.length+1]=0,ae.length+=2;for(var he=0,xe=0;xe<ae.length;xe++){var $e=ae.words[xe]|0;he+=$e*977,ae.words[xe]=he&67108863,he=$e*64+(he/67108864|0)}return ae.words[ae.length-1]===0&&(ae.length--,ae.words[ae.length-1]===0&&ae.length--),ae};function ze(){ke.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(ze,ke);function Je(){ke.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Je,ke);function et(){ke.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(et,ke),et.prototype.imulK=function(ae){for(var he=0,xe=0;xe<ae.length;xe++){var $e=(ae.words[xe]|0)*19+he,He=$e&67108863;$e>>>=26,ae.words[xe]=He,he=$e}return he!==0&&(ae.words[ae.length++]=he),ae},ee._prime=function(ae){if(Me[ae])return Me[ae];var he;if(ae==="k256")he=new Re;else if(ae==="p224")he=new ze;else if(ae==="p192")he=new Je;else if(ae==="p25519")he=new et;else throw new Error("Unknown prime "+ae);return Me[ae]=he,he};function Pe(le){if(typeof le=="string"){var ae=ee._prime(le);this.m=ae.p,this.prime=ae}else m(le.gtn(1),"modulus must be greater than 1"),this.m=le,this.prime=null}Pe.prototype._verify1=function(ae){m(ae.negative===0,"red works only with positives"),m(ae.red,"red works only with red numbers")},Pe.prototype._verify2=function(ae,he){m((ae.negative|he.negative)===0,"red works only with positives"),m(ae.red&&ae.red===he.red,"red works only with red numbers")},Pe.prototype.imod=function(ae){return this.prime?this.prime.ireduce(ae)._forceRed(this):(ie(ae,ae.umod(this.m)._forceRed(this)),ae)},Pe.prototype.neg=function(ae){return ae.isZero()?ae.clone():this.m.sub(ae)._forceRed(this)},Pe.prototype.add=function(ae,he){this._verify2(ae,he);var xe=ae.add(he);return xe.cmp(this.m)>=0&&xe.isub(this.m),xe._forceRed(this)},Pe.prototype.iadd=function(ae,he){this._verify2(ae,he);var xe=ae.iadd(he);return xe.cmp(this.m)>=0&&xe.isub(this.m),xe},Pe.prototype.sub=function(ae,he){this._verify2(ae,he);var xe=ae.sub(he);return xe.cmpn(0)<0&&xe.iadd(this.m),xe._forceRed(this)},Pe.prototype.isub=function(ae,he){this._verify2(ae,he);var xe=ae.isub(he);return xe.cmpn(0)<0&&xe.iadd(this.m),xe},Pe.prototype.shl=function(ae,he){return this._verify1(ae),this.imod(ae.ushln(he))},Pe.prototype.imul=function(ae,he){return this._verify2(ae,he),this.imod(ae.imul(he))},Pe.prototype.mul=function(ae,he){return this._verify2(ae,he),this.imod(ae.mul(he))},Pe.prototype.isqr=function(ae){return this.imul(ae,ae.clone())},Pe.prototype.sqr=function(ae){return this.mul(ae,ae)},Pe.prototype.sqrt=function(ae){if(ae.isZero())return ae.clone();var he=this.m.andln(3);if(m(he%2===1),he===3){var xe=this.m.add(new ee(1)).iushrn(2);return this.pow(ae,xe)}for(var $e=this.m.subn(1),He=0;!$e.isZero()&&$e.andln(1)===0;)He++,$e.iushrn(1);m(!$e.isZero());var Fe=new ee(1).toRed(this),Ne=Fe.redNeg(),De=this.m.subn(1).iushrn(1),pe=this.m.bitLength();for(pe=new ee(2*pe*pe).toRed(this);this.pow(pe,De).cmp(Ne)!==0;)pe.redIAdd(Ne);for(var Le=this.pow(pe,$e),Be=this.pow(ae,$e.addn(1).iushrn(1)),Ce=this.pow(ae,$e),Ze=He;Ce.cmp(Fe)!==0;){for(var it=Ce,rt=0;it.cmp(Fe)!==0;rt++)it=it.redSqr();m(rt<Ze);var Oe=this.pow(Le,new ee(1).iushln(Ze-rt-1));Be=Be.redMul(Oe),Le=Oe.redSqr(),Ce=Ce.redMul(Le),Ze=rt}return Be},Pe.prototype.invm=function(ae){var he=ae._invmp(this.m);return he.negative!==0?(he.negative=0,this.imod(he).redNeg()):this.imod(he)},Pe.prototype.pow=function(ae,he){if(he.isZero())return new ee(1).toRed(this);if(he.cmpn(1)===0)return ae.clone();var xe=4,$e=new Array(1<<xe);$e[0]=new ee(1).toRed(this),$e[1]=ae;for(var He=2;He<$e.length;He++)$e[He]=this.mul($e[He-1],ae);var Fe=$e[0],Ne=0,De=0,pe=he.bitLength()%26;for(pe===0&&(pe=26),He=he.length-1;He>=0;He--){for(var Le=he.words[He],Be=pe-1;Be>=0;Be--){var Ce=Le>>Be&1;if(Fe!==$e[0]&&(Fe=this.sqr(Fe)),Ce===0&&Ne===0){De=0;continue}Ne<<=1,Ne|=Ce,De++,!(De!==xe&&(He!==0||Be!==0))&&(Fe=this.mul(Fe,$e[Ne]),De=0,Ne=0)}pe=26}return Fe},Pe.prototype.convertTo=function(ae){var he=ae.umod(this.m);return he===ae?he.clone():he},Pe.prototype.convertFrom=function(ae){var he=ae.clone();return he.red=null,he},ee.mont=function(ae){return new ve(ae)};function ve(le){Pe.call(this,le),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ee(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(ve,Pe),ve.prototype.convertTo=function(ae){return this.imod(ae.ushln(this.shift))},ve.prototype.convertFrom=function(ae){var he=this.imod(ae.mul(this.rinv));return he.red=null,he},ve.prototype.imul=function(ae,he){if(ae.isZero()||he.isZero())return ae.words[0]=0,ae.length=1,ae;var xe=ae.imul(he),$e=xe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),He=xe.isub($e).iushrn(this.shift),Fe=He;return He.cmp(this.m)>=0?Fe=He.isub(this.m):He.cmpn(0)<0&&(Fe=He.iadd(this.m)),Fe._forceRed(this)},ve.prototype.mul=function(ae,he){if(ae.isZero()||he.isZero())return new ee(0)._forceRed(this);var xe=ae.mul(he),$e=xe.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),He=xe.isub($e).iushrn(this.shift),Fe=He;return He.cmp(this.m)>=0?Fe=He.isub(this.m):He.cmpn(0)<0&&(Fe=He.iadd(this.m)),Fe._forceRed(this)},ve.prototype.invm=function(ae){var he=this.imod(ae._invmp(this.m).mul(this.r2));return he._forceRed(this)}})(u,commonjsGlobal$1)})(bn$1);const BN$9=bn$1.exports;var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(u,a){var d=buffer$1,m=d.Buffer;function $(te,b){for(var re in te)b[re]=te[re]}m.from&&m.alloc&&m.allocUnsafe&&m.allocUnsafeSlow?u.exports=d:($(d,a),a.Buffer=ee);function ee(te,b,re){return m(te,b,re)}ee.prototype=Object.create(m.prototype),$(m,ee),ee.from=function(te,b,re){if(typeof te=="number")throw new TypeError("Argument must not be a number");return m(te,b,re)},ee.alloc=function(te,b,re){if(typeof te!="number")throw new TypeError("Argument must be a number");var ne=m(te);return b!==void 0?typeof re=="string"?ne.fill(b,re):ne.fill(b):ne.fill(0),ne},ee.allocUnsafe=function(te){if(typeof te!="number")throw new TypeError("Argument must be a number");return m(te)},ee.allocUnsafeSlow=function(te){if(typeof te!="number")throw new TypeError("Argument must be a number");return d.SlowBuffer(te)}})(safeBuffer,safeBuffer.exports);var _Buffer$3=safeBuffer.exports.Buffer;function base$5(u){if(u.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),d=0;d<a.length;d++)a[d]=255;for(var m=0;m<u.length;m++){var $=u.charAt(m),ee=$.charCodeAt(0);if(a[ee]!==255)throw new TypeError($+" is ambiguous");a[ee]=m}var te=u.length,b=u.charAt(0),re=Math.log(te)/Math.log(256),ne=Math.log(256)/Math.log(te);function ie(ce){if((Array.isArray(ce)||ce instanceof Uint8Array)&&(ce=_Buffer$3.from(ce)),!_Buffer$3.isBuffer(ce))throw new TypeError("Expected Buffer");if(ce.length===0)return"";for(var de=0,ye=0,ge=0,_e=ce.length;ge!==_e&&ce[ge]===0;)ge++,de++;for(var Ee=(_e-ge)*ne+1>>>0,Ae=new Uint8Array(Ee);ge!==_e;){for(var we=ce[ge],Me=0,ke=Ee-1;(we!==0||Me<ye)&&ke!==-1;ke--,Me++)we+=256*Ae[ke]>>>0,Ae[ke]=we%te>>>0,we=we/te>>>0;if(we!==0)throw new Error("Non-zero carry");ye=Me,ge++}for(var Re=Ee-ye;Re!==Ee&&Ae[Re]===0;)Re++;for(var ze=b.repeat(de);Re<Ee;++Re)ze+=u.charAt(Ae[Re]);return ze}function se(ce){if(typeof ce!="string")throw new TypeError("Expected String");if(ce.length===0)return _Buffer$3.alloc(0);for(var de=0,ye=0,ge=0;ce[de]===b;)ye++,de++;for(var _e=(ce.length-de)*re+1>>>0,Ee=new Uint8Array(_e);ce[de];){var Ae=a[ce.charCodeAt(de)];if(Ae===255)return;for(var we=0,Me=_e-1;(Ae!==0||we<ge)&&Me!==-1;Me--,we++)Ae+=te*Ee[Me]>>>0,Ee[Me]=Ae%256>>>0,Ae=Ae/256>>>0;if(Ae!==0)throw new Error("Non-zero carry");ge=we,de++}for(var ke=_e-ge;ke!==_e&&Ee[ke]===0;)ke++;var Re=_Buffer$3.allocUnsafe(ye+(_e-ke));Re.fill(0,0,ye);for(var ze=ye;ke!==_e;)Re[ze++]=Ee[ke++];return Re}function fe(ce){var de=se(ce);if(de)return de;throw new Error("Non-base"+te+" character")}return{encode:ie,decodeUnsafe:se,decode:fe}}var src$5=base$5,basex$4=src$5,ALPHABET$4="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$4=basex$4(ALPHABET$4),lib$2={},_Buffer$2=safeBuffer.exports.Buffer;function base$4(u){if(u.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),d=0;d<a.length;d++)a[d]=255;for(var m=0;m<u.length;m++){var $=u.charAt(m),ee=$.charCodeAt(0);if(a[ee]!==255)throw new TypeError($+" is ambiguous");a[ee]=m}var te=u.length,b=u.charAt(0),re=Math.log(te)/Math.log(256),ne=Math.log(256)/Math.log(te);function ie(ce){if((Array.isArray(ce)||ce instanceof Uint8Array)&&(ce=_Buffer$2.from(ce)),!_Buffer$2.isBuffer(ce))throw new TypeError("Expected Buffer");if(ce.length===0)return"";for(var de=0,ye=0,ge=0,_e=ce.length;ge!==_e&&ce[ge]===0;)ge++,de++;for(var Ee=(_e-ge)*ne+1>>>0,Ae=new Uint8Array(Ee);ge!==_e;){for(var we=ce[ge],Me=0,ke=Ee-1;(we!==0||Me<ye)&&ke!==-1;ke--,Me++)we+=256*Ae[ke]>>>0,Ae[ke]=we%te>>>0,we=we/te>>>0;if(we!==0)throw new Error("Non-zero carry");ye=Me,ge++}for(var Re=Ee-ye;Re!==Ee&&Ae[Re]===0;)Re++;for(var ze=b.repeat(de);Re<Ee;++Re)ze+=u.charAt(Ae[Re]);return ze}function se(ce){if(typeof ce!="string")throw new TypeError("Expected String");if(ce.length===0)return _Buffer$2.alloc(0);for(var de=0,ye=0,ge=0;ce[de]===b;)ye++,de++;for(var _e=(ce.length-de)*re+1>>>0,Ee=new Uint8Array(_e);ce[de];){var Ae=a[ce.charCodeAt(de)];if(Ae===255)return;for(var we=0,Me=_e-1;(Ae!==0||we<ge)&&Me!==-1;Me--,we++)Ae+=te*Ee[Me]>>>0,Ee[Me]=Ae%256>>>0,Ae=Ae/256>>>0;if(Ae!==0)throw new Error("Non-zero carry");ge=we,de++}for(var ke=_e-ge;ke!==_e&&Ee[ke]===0;)ke++;var Re=_Buffer$2.allocUnsafe(ye+(_e-ke));Re.fill(0,0,ye);for(var ze=ye;ke!==_e;)Re[ze++]=Ee[ke++];return Re}function fe(ce){var de=se(ce);if(de)return de;throw new Error("Non-base"+te+" character")}return{encode:ie,decodeUnsafe:se,decode:fe}}var src$4=base$4,basex$3=src$4,ALPHABET$3="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$3=basex$3(ALPHABET$3);function inRange(u,a,d){return a<=u&&u<=d}function ToDictionary(u){if(u===void 0)return{};if(u===Object(u))return u;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(u){for(var a=String(u),d=a.length,m=0,$=[];m<d;){var ee=a.charCodeAt(m);if(ee<55296||ee>57343)$.push(ee);else if(56320<=ee&&ee<=57343)$.push(65533);else if(55296<=ee&&ee<=56319)if(m===d-1)$.push(65533);else{var te=u.charCodeAt(m+1);if(56320<=te&&te<=57343){var b=ee&1023,re=te&1023;$.push(65536+(b<<10)+re),m+=1}else $.push(65533)}m+=1}return $}function codePointsToString(u){for(var a="",d=0;d<u.length;++d){var m=u[d];m<=65535?a+=String.fromCharCode(m):(m-=65536,a+=String.fromCharCode((m>>10)+55296,(m&1023)+56320))}return a}var end_of_stream=-1;function Stream(u){this.tokens=[].slice.call(u)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(u){if(Array.isArray(u))for(var a=u;a.length;)this.tokens.unshift(a.pop());else this.tokens.unshift(u)},push:function(u){if(Array.isArray(u))for(var a=u;a.length;)this.tokens.push(a.shift());else this.tokens.push(u)}};var finished=-1;function decoderError(u,a){if(u)throw TypeError("Decoder error");return a||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(u,a){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(u,a);if(u=u!==void 0?String(u).toLowerCase():DEFAULT_ENCODING,u!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");a=ToDictionary(a),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(a.fatal),this._ignoreBOM=Boolean(a.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function(a,d){var m;typeof a=="object"&&a instanceof ArrayBuffer?m=new Uint8Array(a):typeof a=="object"&&"buffer"in a&&a.buffer instanceof ArrayBuffer?m=new Uint8Array(a.buffer,a.byteOffset,a.byteLength):m=new Uint8Array(0),d=ToDictionary(d),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(d.stream);for(var $=new Stream(m),ee=[],te;!$.endOfStream()&&(te=this._decoder.handler($,$.read()),te!==finished);)te!==null&&(Array.isArray(te)?ee.push.apply(ee,te):ee.push(te));if(!this._streaming){do{if(te=this._decoder.handler($,$.read()),te===finished)break;te!==null&&(Array.isArray(te)?ee.push.apply(ee,te):ee.push(te))}while(!$.endOfStream());this._decoder=null}return ee.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(ee[0]===65279?(this._BOMseen=!0,ee.shift()):this._BOMseen=!0),codePointsToString(ee)}};function TextEncoder$1(u,a){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(u,a);if(u=u!==void 0?String(u).toLowerCase():DEFAULT_ENCODING,u!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");a=ToDictionary(a),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(a.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function(a,d){a=a?String(a):"",d=ToDictionary(d),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=Boolean(d.stream);for(var m=[],$=new Stream(stringToCodePoints(a)),ee;!$.endOfStream()&&(ee=this._encoder.handler($,$.read()),ee!==finished);)Array.isArray(ee)?m.push.apply(m,ee):m.push(ee);if(!this._streaming){for(;ee=this._encoder.handler($,$.read()),ee!==finished;)Array.isArray(ee)?m.push.apply(m,ee):m.push(ee);this._encoder=null}return new Uint8Array(m)}};function UTF8Decoder(u){var a=u.fatal,d=0,m=0,$=0,ee=128,te=191;this.handler=function(b,re){if(re===end_of_stream&&$!==0)return $=0,decoderError(a);if(re===end_of_stream)return finished;if($===0){if(inRange(re,0,127))return re;if(inRange(re,194,223))$=1,d=re-192;else if(inRange(re,224,239))re===224&&(ee=160),re===237&&(te=159),$=2,d=re-224;else if(inRange(re,240,244))re===240&&(ee=144),re===244&&(te=143),$=3,d=re-240;else return decoderError(a);return d=d<<6*$,null}if(!inRange(re,ee,te))return d=$=m=0,ee=128,te=191,b.prepend(re),decoderError(a);if(ee=128,te=191,m+=1,d+=re-128<<6*($-m),m!==$)return null;var ne=d;return d=$=m=0,ne}}function UTF8Encoder(u){u.fatal,this.handler=function(a,d){if(d===end_of_stream)return finished;if(inRange(d,0,127))return d;var m,$;inRange(d,128,2047)?(m=1,$=192):inRange(d,2048,65535)?(m=2,$=224):inRange(d,65536,1114111)&&(m=3,$=240);for(var ee=[(d>>6*m)+$];m>0;){var te=d>>6*(m-1);ee.push(128|te&63),m-=1}return ee}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:TextEncoder$1,TextDecoder:TextDecoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(encoding$1);var __createBinding=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(u,a,d,m){m===void 0&&(m=d),Object.defineProperty(u,m,{enumerable:!0,get:function(){return a[d]}})}:function(u,a,d,m){m===void 0&&(m=d),u[m]=a[d]}),__setModuleDefault=commonjsGlobal$1&&commonjsGlobal$1.__setModuleDefault||(Object.create?function(u,a){Object.defineProperty(u,"default",{enumerable:!0,value:a})}:function(u,a){u.default=a}),__decorate=commonjsGlobal$1&&commonjsGlobal$1.__decorate||function(u,a,d,m){var $=arguments.length,ee=$<3?a:m===null?m=Object.getOwnPropertyDescriptor(a,d):m,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(u,a,d,m);else for(var b=u.length-1;b>=0;b--)(te=u[b])&&(ee=($<3?te(ee):$>3?te(a,d,ee):te(a,d))||ee);return $>3&&ee&&Object.defineProperty(a,d,ee),ee},__importStar=commonjsGlobal$1&&commonjsGlobal$1.__importStar||function(u){if(u&&u.__esModule)return u;var a={};if(u!=null)for(var d in u)d!=="default"&&Object.hasOwnProperty.call(u,d)&&__createBinding(a,u,d);return __setModuleDefault(a,u),a},__importDefault$2=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(lib$2,"__esModule",{value:!0});var deserializeUnchecked_1=lib$2.deserializeUnchecked=deserialize_1=lib$2.deserialize=serialize_1=lib$2.serialize=lib$2.BinaryReader=lib$2.BinaryWriter=lib$2.BorshError=lib$2.baseDecode=lib$2.baseEncode=void 0;const bn_js_1=__importDefault$2(bn$1.exports),bs58_1=__importDefault$2(bs58$3),encoding=__importStar(require$$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(u){return typeof u=="string"&&(u=Buffer.from(u,"utf8")),bs58_1.default.encode(Buffer.from(u))}lib$2.baseEncode=baseEncode;function baseDecode(u){return Buffer.from(bs58_1.default.decode(u))}lib$2.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(a){super(a),this.fieldPath=[],this.originalMessage=a}addToFieldPath(a){this.fieldPath.splice(0,0,a),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib$2.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(a){this.maybeResize(),this.buf.writeUInt8(a,this.length),this.length+=1}writeU16(a){this.maybeResize(),this.buf.writeUInt16LE(a,this.length),this.length+=2}writeU32(a){this.maybeResize(),this.buf.writeUInt32LE(a,this.length),this.length+=4}writeU64(a){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(a).toArray("le",8)))}writeU128(a){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(a).toArray("le",16)))}writeU256(a){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(a).toArray("le",32)))}writeU512(a){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(a).toArray("le",64)))}writeBuffer(a){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),a,Buffer.alloc(INITIAL_LENGTH)]),this.length+=a.length}writeString(a){this.maybeResize();const d=Buffer.from(a,"utf8");this.writeU32(d.length),this.writeBuffer(d)}writeFixedArray(a){this.writeBuffer(Buffer.from(a))}writeArray(a,d){this.maybeResize(),this.writeU32(a.length);for(const m of a)this.maybeResize(),d(m)}toArray(){return this.buf.subarray(0,this.length)}}lib$2.BinaryWriter=BinaryWriter;function handlingRangeError(u,a,d){const m=d.value;d.value=function(...$){try{return m.apply(this,$)}catch(ee){if(ee instanceof RangeError){const te=ee.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(te)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw ee}}}class BinaryReader{constructor(a){this.buf=a,this.offset=0}readU8(){const a=this.buf.readUInt8(this.offset);return this.offset+=1,a}readU16(){const a=this.buf.readUInt16LE(this.offset);return this.offset+=2,a}readU32(){const a=this.buf.readUInt32LE(this.offset);return this.offset+=4,a}readU64(){const a=this.readBuffer(8);return new bn_js_1.default(a,"le")}readU128(){const a=this.readBuffer(16);return new bn_js_1.default(a,"le")}readU256(){const a=this.readBuffer(32);return new bn_js_1.default(a,"le")}readU512(){const a=this.readBuffer(64);return new bn_js_1.default(a,"le")}readBuffer(a){if(this.offset+a>this.buf.length)throw new BorshError(`Expected buffer length ${a} isn't within bounds`);const d=this.buf.slice(this.offset,this.offset+a);return this.offset+=a,d}readString(){const a=this.readU32(),d=this.readBuffer(a);try{return textDecoder.decode(d)}catch(m){throw new BorshError(`Error decoding UTF-8 string: ${m}`)}}readFixedArray(a){return new Uint8Array(this.readBuffer(a))}readArray(a){const d=this.readU32(),m=Array();for(let $=0;$<d;++$)m.push(a());return m}}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null);lib$2.BinaryReader=BinaryReader;function capitalizeFirstLetter(u){return u.charAt(0).toUpperCase()+u.slice(1)}function serializeField(u,a,d,m,$){try{if(typeof m=="string")$[`write${capitalizeFirstLetter(m)}`](d);else if(m instanceof Array)if(typeof m[0]=="number"){if(d.length!==m[0])throw new BorshError(`Expecting byte array of length ${m[0]}, but got ${d.length} bytes`);$.writeFixedArray(d)}else if(m.length===2&&typeof m[1]=="number"){if(d.length!==m[1])throw new BorshError(`Expecting byte array of length ${m[1]}, but got ${d.length} bytes`);for(let ee=0;ee<m[1];ee++)serializeField(u,null,d[ee],m[0],$)}else $.writeArray(d,ee=>{serializeField(u,a,ee,m[0],$)});else if(m.kind!==void 0)switch(m.kind){case"option":{d==null?$.writeU8(0):($.writeU8(1),serializeField(u,a,d,m.type,$));break}case"map":{$.writeU32(d.size),d.forEach((ee,te)=>{serializeField(u,a,te,m.key,$),serializeField(u,a,ee,m.value,$)});break}default:throw new BorshError(`FieldType ${m} unrecognized`)}else serializeStruct(u,d,$)}catch(ee){throw ee instanceof BorshError&&ee.addToFieldPath(a),ee}}function serializeStruct(u,a,d){if(typeof a.borshSerialize=="function"){a.borshSerialize(d);return}const m=u.get(a.constructor);if(!m)throw new BorshError(`Class ${a.constructor.name} is missing in schema`);if(m.kind==="struct")m.fields.map(([$,ee])=>{serializeField(u,$,a[$],ee,d)});else if(m.kind==="enum"){const $=a[m.field];for(let ee=0;ee<m.values.length;++ee){const[te,b]=m.values[ee];if(te===$){d.writeU8(ee),serializeField(u,te,a[te],b,d);break}}}else throw new BorshError(`Unexpected schema kind: ${m.kind} for ${a.constructor.name}`)}function serialize(u,a,d=BinaryWriter){const m=new d;return serializeStruct(u,a,m),m.toArray()}var serialize_1=lib$2.serialize=serialize;function deserializeField(u,a,d,m){try{if(typeof d=="string")return m[`read${capitalizeFirstLetter(d)}`]();if(d instanceof Array){if(typeof d[0]=="number")return m.readFixedArray(d[0]);if(typeof d[1]=="number"){const $=[];for(let ee=0;ee<d[1];ee++)$.push(deserializeField(u,null,d[0],m));return $}else return m.readArray(()=>deserializeField(u,a,d[0],m))}if(d.kind==="option")return m.readU8()?deserializeField(u,a,d.type,m):void 0;if(d.kind==="map"){let $=new Map;const ee=m.readU32();for(let te=0;te<ee;te++){const b=deserializeField(u,a,d.key,m),re=deserializeField(u,a,d.value,m);$.set(b,re)}return $}return deserializeStruct(u,d,m)}catch($){throw $ instanceof BorshError&&$.addToFieldPath(a),$}}function deserializeStruct(u,a,d){if(typeof a.borshDeserialize=="function")return a.borshDeserialize(d);const m=u.get(a);if(!m)throw new BorshError(`Class ${a.name} is missing in schema`);if(m.kind==="struct"){const $={};for(const[ee,te]of u.get(a).fields)$[ee]=deserializeField(u,ee,te,d);return new a($)}if(m.kind==="enum"){const $=d.readU8();if($>=m.values.length)throw new BorshError(`Enum index: ${$} is out of range`);const[ee,te]=m.values[$],b=deserializeField(u,ee,te,d);return new a({[ee]:b})}throw new BorshError(`Unexpected schema kind: ${m.kind} for ${a.constructor.name}`)}function deserialize(u,a,d,m=BinaryReader){const $=new m(d),ee=deserializeStruct(u,a,$);if($.offset<d.length)throw new BorshError(`Unexpected ${d.length-$.offset} bytes after deserialized data`);return ee}var deserialize_1=lib$2.deserialize=deserialize;function deserializeUnchecked(u,a,d,m=BinaryReader){const $=new m(d);return deserializeStruct(u,a,$)}deserializeUnchecked_1=lib$2.deserializeUnchecked=deserializeUnchecked;var browser$1={};Object.defineProperty(browser$1,"__esModule",{value:!0});function toBigIntLE(u){{const a=Buffer.from(u);a.reverse();const d=a.toString("hex");return d.length===0?BigInt(0):BigInt(`0x${d}`)}}var toBigIntLE_1=browser$1.toBigIntLE=toBigIntLE;function toBigIntBE(u){{const a=u.toString("hex");return a.length===0?BigInt(0):BigInt(`0x${a}`)}}browser$1.toBigIntBE=toBigIntBE;function toBufferLE(u,a){{const d=u.toString(16),m=Buffer.from(d.padStart(a*2,"0").slice(0,a*2),"hex");return m.reverse(),m}}var toBufferLE_1=browser$1.toBufferLE=toBufferLE;function toBufferBE(u,a){{const d=u.toString(16);return Buffer.from(d.padStart(a*2,"0").slice(0,a*2),"hex")}}browser$1.toBufferBE=toBufferBE;var Layout$3={};Object.defineProperty(Layout$3,"__esModule",{value:!0});Layout$3.s16=Layout$3.s8=Layout$3.nu64be=Layout$3.u48be=Layout$3.u40be=Layout$3.u32be=Layout$3.u24be=Layout$3.u16be=nu64$1=Layout$3.nu64=Layout$3.u48=Layout$3.u40=u32$1=Layout$3.u32=Layout$3.u24=u16=Layout$3.u16=u8$1=Layout$3.u8=offset$3=Layout$3.offset=Layout$3.greedy=Layout$3.Constant=Layout$3.UTF8=Layout$3.CString=Layout$3.Blob=Layout$3.Boolean=Layout$3.BitField=Layout$3.BitStructure=Layout$3.VariantLayout=Layout$3.Union=Layout$3.UnionLayoutDiscriminator=Layout$3.UnionDiscriminator=Layout$3.Structure=Layout$3.Sequence=Layout$3.DoubleBE=Layout$3.Double=Layout$3.FloatBE=Layout$3.Float=Layout$3.NearInt64BE=Layout$3.NearInt64=Layout$3.NearUInt64BE=Layout$3.NearUInt64=Layout$3.IntBE=Layout$3.Int=Layout$3.UIntBE=Layout$3.UInt=Layout$3.OffsetLayout=Layout$3.GreedyCount=Layout$3.ExternalLayout=Layout$3.bindConstructorLayout=Layout$3.nameWithProperty=Layout$3.Layout=Layout$3.uint8ArrayToBuffer=Layout$3.checkUint8Array=void 0;Layout$3.constant=Layout$3.utf8=Layout$3.cstr=blob$1=Layout$3.blob=Layout$3.unionLayoutDiscriminator=Layout$3.union=seq=Layout$3.seq=Layout$3.bits=struct$1=Layout$3.struct=Layout$3.f64be=Layout$3.f64=Layout$3.f32be=Layout$3.f32=Layout$3.ns64be=Layout$3.s48be=Layout$3.s40be=Layout$3.s32be=Layout$3.s24be=Layout$3.s16be=ns64$1=Layout$3.ns64=Layout$3.s48=Layout$3.s40=Layout$3.s32=Layout$3.s24=void 0;const buffer_1=buffer$1;function checkUint8Array(u){if(!(u instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$3.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(u){return checkUint8Array(u),buffer_1.Buffer.from(u.buffer,u.byteOffset,u.length)}Layout$3.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout$2{constructor(a,d){if(!Number.isInteger(a))throw new TypeError("span must be an integer");this.span=a,this.property=d}makeDestinationObject(){return{}}getSpan(a,d){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(a){const d=Object.create(this.constructor.prototype);return Object.assign(d,this),d.property=a,d}fromArray(a){}}Layout$3.Layout=Layout$2;function nameWithProperty$1(u,a){return a.property?u+"["+a.property+"]":u}Layout$3.nameWithProperty=nameWithProperty$1;function bindConstructorLayout$1(u,a){if(typeof u!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(u,"layout_"))throw new Error("Class is already bound to a layout");if(!(a&&a instanceof Layout$2))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(a,"boundConstructor_"))throw new Error("layout is already bound to a constructor");u.layout_=a,a.boundConstructor_=u,a.makeDestinationObject=()=>new u,Object.defineProperty(u.prototype,"encode",{value(d,m){return a.encode(this,d,m)},writable:!0}),Object.defineProperty(u,"decode",{value(d,m){return a.decode(d,m)},writable:!0})}Layout$3.bindConstructorLayout=bindConstructorLayout$1;class ExternalLayout$1 extends Layout$2{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$3.ExternalLayout=ExternalLayout$1;class GreedyCount$1 extends ExternalLayout$1{constructor(a=1,d){if(!Number.isInteger(a)||0>=a)throw new TypeError("elementSpan must be a (positive) integer");super(-1,d),this.elementSpan=a}isCount(){return!0}decode(a,d=0){checkUint8Array(a);const m=a.length-d;return Math.floor(m/this.elementSpan)}encode(a,d,m){return 0}}Layout$3.GreedyCount=GreedyCount$1;class OffsetLayout$1 extends ExternalLayout$1{constructor(a,d=0,m){if(!(a instanceof Layout$2))throw new TypeError("layout must be a Layout");if(!Number.isInteger(d))throw new TypeError("offset must be integer or undefined");super(a.span,m||a.property),this.layout=a,this.offset=d}isCount(){return this.layout instanceof UInt$1||this.layout instanceof UIntBE$1}decode(a,d=0){return this.layout.decode(a,d+this.offset)}encode(a,d,m=0){return this.layout.encode(a,d,m+this.offset)}}Layout$3.OffsetLayout=OffsetLayout$1;class UInt$1 extends Layout$2{constructor(a,d){if(super(a,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(a,d=0){return uint8ArrayToBuffer(a).readUIntLE(d,this.span)}encode(a,d,m=0){return uint8ArrayToBuffer(d).writeUIntLE(a,m,this.span),this.span}}Layout$3.UInt=UInt$1;class UIntBE$1 extends Layout$2{constructor(a,d){if(super(a,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(a,d=0){return uint8ArrayToBuffer(a).readUIntBE(d,this.span)}encode(a,d,m=0){return uint8ArrayToBuffer(d).writeUIntBE(a,m,this.span),this.span}}Layout$3.UIntBE=UIntBE$1;class Int$1 extends Layout$2{constructor(a,d){if(super(a,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(a,d=0){return uint8ArrayToBuffer(a).readIntLE(d,this.span)}encode(a,d,m=0){return uint8ArrayToBuffer(d).writeIntLE(a,m,this.span),this.span}}Layout$3.Int=Int$1;class IntBE$1 extends Layout$2{constructor(a,d){if(super(a,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(a,d=0){return uint8ArrayToBuffer(a).readIntBE(d,this.span)}encode(a,d,m=0){return uint8ArrayToBuffer(d).writeIntBE(a,m,this.span),this.span}}Layout$3.IntBE=IntBE$1;const V2E32$1=Math.pow(2,32);function divmodInt64$1(u){const a=Math.floor(u/V2E32$1),d=u-a*V2E32$1;return{hi32:a,lo32:d}}function roundedInt64$1(u,a){return u*V2E32$1+a}class NearUInt64$1 extends Layout$2{constructor(a){super(8,a)}decode(a,d=0){const m=uint8ArrayToBuffer(a),$=m.readUInt32LE(d),ee=m.readUInt32LE(d+4);return roundedInt64$1(ee,$)}encode(a,d,m=0){const $=divmodInt64$1(a),ee=uint8ArrayToBuffer(d);return ee.writeUInt32LE($.lo32,m),ee.writeUInt32LE($.hi32,m+4),8}}Layout$3.NearUInt64=NearUInt64$1;class NearUInt64BE$1 extends Layout$2{constructor(a){super(8,a)}decode(a,d=0){const m=uint8ArrayToBuffer(a),$=m.readUInt32BE(d),ee=m.readUInt32BE(d+4);return roundedInt64$1($,ee)}encode(a,d,m=0){const $=divmodInt64$1(a),ee=uint8ArrayToBuffer(d);return ee.writeUInt32BE($.hi32,m),ee.writeUInt32BE($.lo32,m+4),8}}Layout$3.NearUInt64BE=NearUInt64BE$1;class NearInt64$1 extends Layout$2{constructor(a){super(8,a)}decode(a,d=0){const m=uint8ArrayToBuffer(a),$=m.readUInt32LE(d),ee=m.readInt32LE(d+4);return roundedInt64$1(ee,$)}encode(a,d,m=0){const $=divmodInt64$1(a),ee=uint8ArrayToBuffer(d);return ee.writeUInt32LE($.lo32,m),ee.writeInt32LE($.hi32,m+4),8}}Layout$3.NearInt64=NearInt64$1;class NearInt64BE$1 extends Layout$2{constructor(a){super(8,a)}decode(a,d=0){const m=uint8ArrayToBuffer(a),$=m.readInt32BE(d),ee=m.readUInt32BE(d+4);return roundedInt64$1($,ee)}encode(a,d,m=0){const $=divmodInt64$1(a),ee=uint8ArrayToBuffer(d);return ee.writeInt32BE($.hi32,m),ee.writeUInt32BE($.lo32,m+4),8}}Layout$3.NearInt64BE=NearInt64BE$1;class Float$1 extends Layout$2{constructor(a){super(4,a)}decode(a,d=0){return uint8ArrayToBuffer(a).readFloatLE(d)}encode(a,d,m=0){return uint8ArrayToBuffer(d).writeFloatLE(a,m),4}}Layout$3.Float=Float$1;class FloatBE$1 extends Layout$2{constructor(a){super(4,a)}decode(a,d=0){return uint8ArrayToBuffer(a).readFloatBE(d)}encode(a,d,m=0){return uint8ArrayToBuffer(d).writeFloatBE(a,m),4}}Layout$3.FloatBE=FloatBE$1;class Double$1 extends Layout$2{constructor(a){super(8,a)}decode(a,d=0){return uint8ArrayToBuffer(a).readDoubleLE(d)}encode(a,d,m=0){return uint8ArrayToBuffer(d).writeDoubleLE(a,m),8}}Layout$3.Double=Double$1;class DoubleBE$1 extends Layout$2{constructor(a){super(8,a)}decode(a,d=0){return uint8ArrayToBuffer(a).readDoubleBE(d)}encode(a,d,m=0){return uint8ArrayToBuffer(d).writeDoubleBE(a,m),8}}Layout$3.DoubleBE=DoubleBE$1;class Sequence$1 extends Layout$2{constructor(a,d,m){if(!(a instanceof Layout$2))throw new TypeError("elementLayout must be a Layout");if(!(d instanceof ExternalLayout$1&&d.isCount()||Number.isInteger(d)&&0<=d))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let $=-1;!(d instanceof ExternalLayout$1)&&0<a.span&&($=d*a.span),super($,m),this.elementLayout=a,this.count=d}getSpan(a,d=0){if(0<=this.span)return this.span;let m=0,$=this.count;if($ instanceof ExternalLayout$1&&($=$.decode(a,d)),0<this.elementLayout.span)m=$*this.elementLayout.span;else{let ee=0;for(;ee<$;)m+=this.elementLayout.getSpan(a,d+m),++ee}return m}decode(a,d=0){const m=[];let $=0,ee=this.count;for(ee instanceof ExternalLayout$1&&(ee=ee.decode(a,d));$<ee;)m.push(this.elementLayout.decode(a,d)),d+=this.elementLayout.getSpan(a,d),$+=1;return m}encode(a,d,m=0){const $=this.elementLayout,ee=a.reduce((te,b)=>te+$.encode(b,d,m+te),0);return this.count instanceof ExternalLayout$1&&this.count.encode(a.length,d,m),ee}}Layout$3.Sequence=Sequence$1;class Structure$1 extends Layout$2{constructor(a,d,m){if(!(Array.isArray(a)&&a.reduce((ee,te)=>ee&&te instanceof Layout$2,!0)))throw new TypeError("fields must be array of Layout instances");typeof d=="boolean"&&m===void 0&&(m=d,d=void 0);for(const ee of a)if(0>ee.span&&ee.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let $=-1;try{$=a.reduce((ee,te)=>ee+te.getSpan(),0)}catch{}super($,d),this.fields=a,this.decodePrefixes=!!m}getSpan(a,d=0){if(0<=this.span)return this.span;let m=0;try{m=this.fields.reduce(($,ee)=>{const te=ee.getSpan(a,d);return d+=te,$+te},0)}catch{throw new RangeError("indeterminate span")}return m}decode(a,d=0){checkUint8Array(a);const m=this.makeDestinationObject();for(const $ of this.fields)if($.property!==void 0&&(m[$.property]=$.decode(a,d)),d+=$.getSpan(a,d),this.decodePrefixes&&a.length===d)break;return m}encode(a,d,m=0){const $=m;let ee=0,te=0;for(const b of this.fields){let re=b.span;if(te=0<re?re:0,b.property!==void 0){const ne=a[b.property];ne!==void 0&&(te=b.encode(ne,d,m),0>re&&(re=b.getSpan(d,m)))}ee=m,m+=re}return ee+te-$}fromArray(a){const d=this.makeDestinationObject();for(const m of this.fields)m.property!==void 0&&0<a.length&&(d[m.property]=a.shift());return d}layoutFor(a){if(typeof a!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===a)return d}offsetOf(a){if(typeof a!="string")throw new TypeError("property must be string");let d=0;for(const m of this.fields){if(m.property===a)return d;0>m.span?d=-1:0<=d&&(d+=m.span)}}}Layout$3.Structure=Structure$1;class UnionDiscriminator$1{constructor(a){this.property=a}decode(a,d){throw new Error("UnionDiscriminator is abstract")}encode(a,d,m){throw new Error("UnionDiscriminator is abstract")}}Layout$3.UnionDiscriminator=UnionDiscriminator$1;class UnionLayoutDiscriminator$1 extends UnionDiscriminator$1{constructor(a,d){if(!(a instanceof ExternalLayout$1&&a.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(d||a.property||"variant"),this.layout=a}decode(a,d){return this.layout.decode(a,d)}encode(a,d,m){return this.layout.encode(a,d,m)}}Layout$3.UnionLayoutDiscriminator=UnionLayoutDiscriminator$1;class Union$1 extends Layout$2{constructor(a,d,m){let $;if(a instanceof UInt$1||a instanceof UIntBE$1)$=new UnionLayoutDiscriminator$1(new OffsetLayout$1(a));else if(a instanceof ExternalLayout$1&&a.isCount())$=new UnionLayoutDiscriminator$1(a);else if(a instanceof UnionDiscriminator$1)$=a;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(d===void 0&&(d=null),!(d===null||d instanceof Layout$2))throw new TypeError("defaultLayout must be null or a Layout");if(d!==null){if(0>d.span)throw new Error("defaultLayout must have constant span");d.property===void 0&&(d=d.replicate("content"))}let ee=-1;d&&(ee=d.span,0<=ee&&(a instanceof UInt$1||a instanceof UIntBE$1)&&(ee+=$.layout.span)),super(ee,m),this.discriminator=$,this.usesPrefixDiscriminator=a instanceof UInt$1||a instanceof UIntBE$1,this.defaultLayout=d,this.registry={};let te=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(b){return te(b)},this.configGetSourceVariant=function(b){te=b.bind(this)}}getSpan(a,d=0){if(0<=this.span)return this.span;const m=this.getVariant(a,d);if(!m)throw new Error("unable to determine span for unrecognized variant");return m.getSpan(a,d)}defaultGetSourceVariant(a){if(Object.prototype.hasOwnProperty.call(a,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(a,this.defaultLayout.property))return;const d=this.registry[a[this.discriminator.property]];if(d&&(!d.layout||d.property&&Object.prototype.hasOwnProperty.call(a,d.property)))return d}else for(const d in this.registry){const m=this.registry[d];if(m.property&&Object.prototype.hasOwnProperty.call(a,m.property))return m}throw new Error("unable to infer src variant")}decode(a,d=0){let m;const $=this.discriminator,ee=$.decode(a,d),te=this.registry[ee];if(te===void 0){const b=this.defaultLayout;let re=0;this.usesPrefixDiscriminator&&(re=$.layout.span),m=this.makeDestinationObject(),m[$.property]=ee,m[b.property]=b.decode(a,d+re)}else m=te.decode(a,d);return m}encode(a,d,m=0){const $=this.getSourceVariant(a);if($===void 0){const ee=this.discriminator,te=this.defaultLayout;let b=0;return this.usesPrefixDiscriminator&&(b=ee.layout.span),ee.encode(a[ee.property],d,m),b+te.encode(a[te.property],d,m+b)}return $.encode(a,d,m)}addVariant(a,d,m){const $=new VariantLayout$1(this,a,d,m);return this.registry[a]=$,$}getVariant(a,d=0){let m;return a instanceof Uint8Array?m=this.discriminator.decode(a,d):m=a,this.registry[m]}}Layout$3.Union=Union$1;class VariantLayout$1 extends Layout$2{constructor(a,d,m,$){if(!(a instanceof Union$1))throw new TypeError("union must be a Union");if(!Number.isInteger(d)||0>d)throw new TypeError("variant must be a (non-negative) integer");if(typeof m=="string"&&$===void 0&&($=m,m=null),m){if(!(m instanceof Layout$2))throw new TypeError("layout must be a Layout");if(a.defaultLayout!==null&&0<=m.span&&m.span>a.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof $!="string")throw new TypeError("variant must have a String property")}let ee=a.span;0>a.span&&(ee=m?m.span:0,0<=ee&&a.usesPrefixDiscriminator&&(ee+=a.discriminator.layout.span)),super(ee,$),this.union=a,this.variant=d,this.layout=m||null}getSpan(a,d=0){if(0<=this.span)return this.span;let m=0;this.union.usesPrefixDiscriminator&&(m=this.union.discriminator.layout.span);let $=0;return this.layout&&($=this.layout.getSpan(a,d+m)),m+$}decode(a,d=0){const m=this.makeDestinationObject();if(this!==this.union.getVariant(a,d))throw new Error("variant mismatch");let $=0;return this.union.usesPrefixDiscriminator&&($=this.union.discriminator.layout.span),this.layout?m[this.property]=this.layout.decode(a,d+$):this.property?m[this.property]=!0:this.union.usesPrefixDiscriminator&&(m[this.union.discriminator.property]=this.variant),m}encode(a,d,m=0){let $=0;if(this.union.usesPrefixDiscriminator&&($=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(a,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,d,m);let ee=$;if(this.layout&&(this.layout.encode(a[this.property],d,m+$),ee+=this.layout.getSpan(d,m+$),0<=this.union.span&&ee>this.union.span))throw new Error("encoded variant overruns containing union");return ee}fromArray(a){if(this.layout)return this.layout.fromArray(a)}}Layout$3.VariantLayout=VariantLayout$1;function fixBitwiseResult$1(u){return 0>u&&(u+=4294967296),u}class BitStructure$1 extends Layout$2{constructor(a,d,m){if(!(a instanceof UInt$1||a instanceof UIntBE$1))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof d=="string"&&m===void 0&&(m=d,d=!1),4<a.span)throw new RangeError("word cannot exceed 32 bits");super(a.span,m),this.word=a,this.msb=!!d,this.fields=[];let $=0;this._packedSetValue=function(ee){return $=fixBitwiseResult$1(ee),this},this._packedGetValue=function(){return $}}decode(a,d=0){const m=this.makeDestinationObject(),$=this.word.decode(a,d);this._packedSetValue($);for(const ee of this.fields)ee.property!==void 0&&(m[ee.property]=ee.decode(a));return m}encode(a,d,m=0){const $=this.word.decode(d,m);this._packedSetValue($);for(const ee of this.fields)if(ee.property!==void 0){const te=a[ee.property];te!==void 0&&ee.encode(te)}return this.word.encode(this._packedGetValue(),d,m)}addField(a,d){const m=new BitField$1(this,a,d);return this.fields.push(m),m}addBoolean(a){const d=new Boolean$2(this,a);return this.fields.push(d),d}fieldFor(a){if(typeof a!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===a)return d}}Layout$3.BitStructure=BitStructure$1;class BitField$1{constructor(a,d,m){if(!(a instanceof BitStructure$1))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(d)||0>=d)throw new TypeError("bits must be positive integer");const $=8*a.span,ee=a.fields.reduce((te,b)=>te+b.bits,0);if(d+ee>$)throw new Error("bits too long for span remainder ("+($-ee)+" of "+$+" remain)");this.container=a,this.bits=d,this.valueMask=(1<<d)-1,d===32&&(this.valueMask=4294967295),this.start=ee,this.container.msb&&(this.start=$-ee-d),this.wordMask=fixBitwiseResult$1(this.valueMask<<this.start),this.property=m}decode(a,d){const m=this.container._packedGetValue();return fixBitwiseResult$1(m&this.wordMask)>>>this.start}encode(a){if(typeof a!="number"||!Number.isInteger(a)||a!==fixBitwiseResult$1(a&this.valueMask))throw new TypeError(nameWithProperty$1("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const d=this.container._packedGetValue(),m=fixBitwiseResult$1(a<<this.start);this.container._packedSetValue(fixBitwiseResult$1(d&~this.wordMask)|m)}}Layout$3.BitField=BitField$1;class Boolean$2 extends BitField$1{constructor(a,d){super(a,1,d)}decode(a,d){return!!super.decode(a,d)}encode(a){typeof a=="boolean"&&(a=+a),super.encode(a)}}Layout$3.Boolean=Boolean$2;class Blob$2 extends Layout$2{constructor(a,d){if(!(a instanceof ExternalLayout$1&&a.isCount()||Number.isInteger(a)&&0<=a))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let m=-1;a instanceof ExternalLayout$1||(m=a),super(m,d),this.length=a}getSpan(a,d){let m=this.span;return 0>m&&(m=this.length.decode(a,d)),m}decode(a,d=0){let m=this.span;return 0>m&&(m=this.length.decode(a,d)),uint8ArrayToBuffer(a).slice(d,d+m)}encode(a,d,m){let $=this.length;if(this.length instanceof ExternalLayout$1&&($=a.length),!(a instanceof Uint8Array&&$===a.length))throw new TypeError(nameWithProperty$1("Blob.encode",this)+" requires (length "+$+") Uint8Array as src");if(m+$>d.length)throw new RangeError("encoding overruns Uint8Array");const ee=uint8ArrayToBuffer(a);return uint8ArrayToBuffer(d).write(ee.toString("hex"),m,$,"hex"),this.length instanceof ExternalLayout$1&&this.length.encode($,d,m),$}}Layout$3.Blob=Blob$2;class CString$1 extends Layout$2{constructor(a){super(-1,a)}getSpan(a,d=0){checkUint8Array(a);let m=d;for(;m<a.length&&a[m]!==0;)m+=1;return 1+m-d}decode(a,d=0){const m=this.getSpan(a,d);return uint8ArrayToBuffer(a).slice(d,d+m-1).toString("utf-8")}encode(a,d,m=0){typeof a!="string"&&(a=String(a));const $=buffer_1.Buffer.from(a,"utf8"),ee=$.length;if(m+ee>d.length)throw new RangeError("encoding overruns Buffer");const te=uint8ArrayToBuffer(d);return $.copy(te,m),te[m+ee]=0,ee+1}}Layout$3.CString=CString$1;class UTF8$1 extends Layout$2{constructor(a,d){if(typeof a=="string"&&d===void 0&&(d=a,a=void 0),a===void 0)a=-1;else if(!Number.isInteger(a))throw new TypeError("maxSpan must be an integer");super(-1,d),this.maxSpan=a}getSpan(a,d=0){return checkUint8Array(a),a.length-d}decode(a,d=0){const m=this.getSpan(a,d);if(0<=this.maxSpan&&this.maxSpan<m)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(a).slice(d,d+m).toString("utf-8")}encode(a,d,m=0){typeof a!="string"&&(a=String(a));const $=buffer_1.Buffer.from(a,"utf8"),ee=$.length;if(0<=this.maxSpan&&this.maxSpan<ee)throw new RangeError("text length exceeds maxSpan");if(m+ee>d.length)throw new RangeError("encoding overruns Buffer");return $.copy(uint8ArrayToBuffer(d),m),ee}}Layout$3.UTF8=UTF8$1;class Constant$1 extends Layout$2{constructor(a,d){super(0,d),this.value=a}decode(a,d){return this.value}encode(a,d,m){return 0}}Layout$3.Constant=Constant$1;Layout$3.greedy=(u,a)=>new GreedyCount$1(u,a);var offset$3=Layout$3.offset=(u,a,d)=>new OffsetLayout$1(u,a,d),u8$1=Layout$3.u8=u=>new UInt$1(1,u),u16=Layout$3.u16=u=>new UInt$1(2,u);Layout$3.u24=u=>new UInt$1(3,u);var u32$1=Layout$3.u32=u=>new UInt$1(4,u);Layout$3.u40=u=>new UInt$1(5,u);Layout$3.u48=u=>new UInt$1(6,u);var nu64$1=Layout$3.nu64=u=>new NearUInt64$1(u);Layout$3.u16be=u=>new UIntBE$1(2,u);Layout$3.u24be=u=>new UIntBE$1(3,u);Layout$3.u32be=u=>new UIntBE$1(4,u);Layout$3.u40be=u=>new UIntBE$1(5,u);Layout$3.u48be=u=>new UIntBE$1(6,u);Layout$3.nu64be=u=>new NearUInt64BE$1(u);Layout$3.s8=u=>new Int$1(1,u);Layout$3.s16=u=>new Int$1(2,u);Layout$3.s24=u=>new Int$1(3,u);Layout$3.s32=u=>new Int$1(4,u);Layout$3.s40=u=>new Int$1(5,u);Layout$3.s48=u=>new Int$1(6,u);var ns64$1=Layout$3.ns64=u=>new NearInt64$1(u);Layout$3.s16be=u=>new IntBE$1(2,u);Layout$3.s24be=u=>new IntBE$1(3,u);Layout$3.s32be=u=>new IntBE$1(4,u);Layout$3.s40be=u=>new IntBE$1(5,u);Layout$3.s48be=u=>new IntBE$1(6,u);Layout$3.ns64be=u=>new NearInt64BE$1(u);Layout$3.f32=u=>new Float$1(u);Layout$3.f32be=u=>new FloatBE$1(u);Layout$3.f64=u=>new Double$1(u);Layout$3.f64be=u=>new DoubleBE$1(u);var struct$1=Layout$3.struct=(u,a,d)=>new Structure$1(u,a,d);Layout$3.bits=(u,a,d)=>new BitStructure$1(u,a,d);var seq=Layout$3.seq=(u,a,d)=>new Sequence$1(u,a,d);Layout$3.union=(u,a,d)=>new Union$1(u,a,d);Layout$3.unionLayoutDiscriminator=(u,a)=>new UnionLayoutDiscriminator$1(u,a);var blob$1=Layout$3.blob=(u,a)=>new Blob$2(u,a);Layout$3.cstr=u=>new CString$1(u);Layout$3.utf8=(u,a)=>new UTF8$1(u,a);Layout$3.constant=(u,a)=>new Constant$1(u,a);class StructError$1 extends TypeError{constructor(a,d){let m;const{message:$,...ee}=a,{path:te}=a,b=te.length===0?$:"At path: "+te.join(".")+" -- "+$;super(b),Object.assign(this,ee),this.name=this.constructor.name,this.failures=()=>{var re;return(re=m)!=null?re:m=[a,...d()]}}}function isIterable$1(u){return isObject$3(u)&&typeof u[Symbol.iterator]=="function"}function isObject$3(u){return typeof u=="object"&&u!=null}function print$1(u){return typeof u=="string"?JSON.stringify(u):""+u}function shiftIterator$1(u){const{done:a,value:d}=u.next();return a?void 0:d}function toFailure$1(u,a,d,m){if(u===!0)return;u===!1?u={}:typeof u=="string"&&(u={message:u});const{path:$,branch:ee}=a,{type:te}=d,{refinement:b,message:re="Expected a value of type `"+te+"`"+(b?" with refinement `"+b+"`":"")+", but received: `"+print$1(m)+"`"}=u;return{value:m,type:te,refinement:b,key:$[$.length-1],path:$,branch:ee,...u,message:re}}function*toFailures$1(u,a,d,m){isIterable$1(u)||(u=[u]);for(const $ of u){const ee=toFailure$1($,a,d,m);ee&&(yield ee)}}function*run$1(u,a,d={}){const{path:m=[],branch:$=[u],coerce:ee=!1,mask:te=!1}=d,b={path:m,branch:$};if(ee&&(u=a.coercer(u,b),te&&a.type!=="type"&&isObject$3(a.schema)&&isObject$3(u)&&!Array.isArray(u)))for(const ne in u)a.schema[ne]===void 0&&delete u[ne];let re=!0;for(const ne of a.validator(u,b))re=!1,yield[ne,void 0];for(let[ne,ie,se]of a.entries(u,b)){const fe=run$1(ie,se,{path:ne===void 0?m:[...m,ne],branch:ne===void 0?$:[...$,ie],coerce:ee,mask:te});for(const ce of fe)ce[0]?(re=!1,yield[ce[0],void 0]):ee&&(ie=ce[1],ne===void 0?u=ie:u instanceof Map?u.set(ne,ie):u instanceof Set?u.add(ie):isObject$3(u)&&(u[ne]=ie))}if(re)for(const ne of a.refiner(u,b))re=!1,yield[ne,void 0];re&&(yield[void 0,u])}class Struct$2{constructor(a){const{type:d,schema:m,validator:$,refiner:ee,coercer:te=re=>re,entries:b=function*(){}}=a;this.type=d,this.schema=m,this.entries=b,this.coercer=te,$?this.validator=(re,ne)=>{const ie=$(re,ne);return toFailures$1(ie,ne,this,re)}:this.validator=()=>[],ee?this.refiner=(re,ne)=>{const ie=ee(re,ne);return toFailures$1(ie,ne,this,re)}:this.refiner=()=>[]}assert(a){return assert$p(a,this)}create(a){return create$2(a,this)}is(a){return is$1(a,this)}mask(a){return mask$1(a,this)}validate(a,d={}){return validate$2(a,this,d)}}function assert$p(u,a){const d=validate$2(u,a);if(d[0])throw d[0]}function create$2(u,a){const d=validate$2(u,a,{coerce:!0});if(d[0])throw d[0];return d[1]}function mask$1(u,a){const d=validate$2(u,a,{coerce:!0,mask:!0});if(d[0])throw d[0];return d[1]}function is$1(u,a){return!validate$2(u,a)[0]}function validate$2(u,a,d={}){const m=run$1(u,a,d),$=shiftIterator$1(m);if($[0])return[new StructError$1($[0],function*(){for(const te of m)te[0]&&(yield te[0])}),void 0];{const ee=$[1];return[void 0,ee]}}function define$1(u,a){return new Struct$2({type:u,schema:null,validator:a})}function any$1(){return define$1("any",()=>!0)}function array$1(u){return new Struct$2({type:"array",schema:u,*entries(a){if(u&&Array.isArray(a))for(const[d,m]of a.entries())yield[d,m,u]},coercer(a){return Array.isArray(a)?a.slice():a},validator(a){return Array.isArray(a)||"Expected an array value, but received: "+print$1(a)}})}function boolean$1(){return define$1("boolean",u=>typeof u=="boolean")}function instance(u){return define$1("instance",a=>a instanceof u||"Expected a `"+u.name+"` instance, but received: "+print$1(a))}function literal$1(u){const a=print$1(u),d=typeof u;return new Struct$2({type:"literal",schema:d==="string"||d==="number"||d==="boolean"?u:null,validator(m){return m===u||"Expected the literal `"+a+"`, but received: "+print$1(m)}})}function never(){return define$1("never",()=>!1)}function nullable$1(u){return new Struct$2({...u,validator:(a,d)=>a===null||u.validator(a,d),refiner:(a,d)=>a===null||u.refiner(a,d)})}function number$1(){return define$1("number",u=>typeof u=="number"&&!isNaN(u)||"Expected a number, but received: "+print$1(u))}function optional$1(u){return new Struct$2({...u,validator:(a,d)=>a===void 0||u.validator(a,d),refiner:(a,d)=>a===void 0||u.refiner(a,d)})}function record(u,a){return new Struct$2({type:"record",schema:null,*entries(d){if(isObject$3(d))for(const m in d){const $=d[m];yield[m,m,u],yield[m,$,a]}},validator(d){return isObject$3(d)||"Expected an object, but received: "+print$1(d)}})}function string$1(){return define$1("string",u=>typeof u=="string"||"Expected a string, but received: "+print$1(u))}function tuple(u){const a=never();return new Struct$2({type:"tuple",schema:null,*entries(d){if(Array.isArray(d)){const m=Math.max(u.length,d.length);for(let $=0;$<m;$++)yield[$,d[$],u[$]||a]}},validator(d){return Array.isArray(d)||"Expected an array, but received: "+print$1(d)}})}function type$1(u){const a=Object.keys(u);return new Struct$2({type:"type",schema:u,*entries(d){if(isObject$3(d))for(const m of a)yield[m,d[m],u[m]]},validator(d){return isObject$3(d)||"Expected an object, but received: "+print$1(d)}})}function union$3(u){const a=u.map(d=>d.type).join(" | ");return new Struct$2({type:"union",schema:null,validator(d,m){const $=[];for(const ee of u){const[...te]=run$1(d,ee,m),[b]=te;if(b[0])for(const[re]of te)re&&$.push(re);else return[]}return["Expected the value to satisfy a union of `"+a+"`, but received: "+print$1(d),...$]}})}function unknown$2(){return define$1("unknown",()=>!0)}function coerce$1(u,a,d){return new Struct$2({...u,coercer:(m,$)=>is$1(m,a)?u.coercer(d(m,$),$):u.coercer(m,$)})}var index_browser={},interopRequireDefault={exports:{}};(function(u){function a(d){return d&&d.__esModule?d:{default:d}}u.exports=a,u.exports.__esModule=!0,u.exports.default=u.exports})(interopRequireDefault);var createClass={exports:{}},hasRequiredCreateClass;function requireCreateClass(){return hasRequiredCreateClass||(hasRequiredCreateClass=1,function(u){function a(m,$){for(var ee=0;ee<$.length;ee++){var te=$[ee];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(m,te.key,te)}}function d(m,$,ee){return $&&a(m.prototype,$),ee&&a(m,ee),Object.defineProperty(m,"prototype",{writable:!1}),m}u.exports=d,u.exports.__esModule=!0,u.exports.default=u.exports}(createClass)),createClass.exports}var classCallCheck={exports:{}},hasRequiredClassCallCheck;function requireClassCallCheck(){return hasRequiredClassCallCheck||(hasRequiredClassCallCheck=1,function(u){function a(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")}u.exports=a,u.exports.__esModule=!0,u.exports.default=u.exports}(classCallCheck)),classCallCheck.exports}var inherits$5={exports:{}},setPrototypeOf={exports:{}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(u){function a(d,m){return u.exports=a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ee,te){return ee.__proto__=te,ee},u.exports.__esModule=!0,u.exports.default=u.exports,a(d,m)}u.exports=a,u.exports.__esModule=!0,u.exports.default=u.exports}(setPrototypeOf)),setPrototypeOf.exports}var hasRequiredInherits;function requireInherits(){return hasRequiredInherits||(hasRequiredInherits=1,function(u){var a=requireSetPrototypeOf();function d(m,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create($&&$.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),$&&a(m,$)}u.exports=d,u.exports.__esModule=!0,u.exports.default=u.exports}(inherits$5)),inherits$5.exports}var possibleConstructorReturn={exports:{}},_typeof={exports:{}},hasRequired_typeof;function require_typeof(){return hasRequired_typeof||(hasRequired_typeof=1,function(u){function a(d){return u.exports=a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},u.exports.__esModule=!0,u.exports.default=u.exports,a(d)}u.exports=a,u.exports.__esModule=!0,u.exports.default=u.exports}(_typeof)),_typeof.exports}var assertThisInitialized={exports:{}},hasRequiredAssertThisInitialized;function requireAssertThisInitialized(){return hasRequiredAssertThisInitialized||(hasRequiredAssertThisInitialized=1,function(u){function a(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}u.exports=a,u.exports.__esModule=!0,u.exports.default=u.exports}(assertThisInitialized)),assertThisInitialized.exports}var hasRequiredPossibleConstructorReturn;function requirePossibleConstructorReturn(){return hasRequiredPossibleConstructorReturn||(hasRequiredPossibleConstructorReturn=1,function(u){var a=require_typeof().default,d=requireAssertThisInitialized();function m($,ee){if(ee&&(a(ee)==="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d($)}u.exports=m,u.exports.__esModule=!0,u.exports.default=u.exports}(possibleConstructorReturn)),possibleConstructorReturn.exports}var getPrototypeOf$2={exports:{}},hasRequiredGetPrototypeOf;function requireGetPrototypeOf(){return hasRequiredGetPrototypeOf||(hasRequiredGetPrototypeOf=1,function(u){function a(d){return u.exports=a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},u.exports.__esModule=!0,u.exports.default=u.exports,a(d)}u.exports=a,u.exports.__esModule=!0,u.exports.default=u.exports}(getPrototypeOf$2)),getPrototypeOf$2.exports}var websocket_browser={},hasRequiredWebsocket_browser;function requireWebsocket_browser(){return hasRequiredWebsocket_browser||(hasRequiredWebsocket_browser=1,function(u){var a=interopRequireDefault.exports;Object.defineProperty(u,"__esModule",{value:!0}),u.default=se;var d=a(requireClassCallCheck()),m=a(requireCreateClass()),$=a(requireInherits()),ee=a(requirePossibleConstructorReturn()),te=a(requireGetPrototypeOf()),b=eventemitter3.exports;function re(fe){var ce=ne();return function(){var ye=(0,te.default)(fe),ge;if(ce){var _e=(0,te.default)(this).constructor;ge=Reflect.construct(ye,arguments,_e)}else ge=ye.apply(this,arguments);return(0,ee.default)(this,ge)}}function ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ie=function(fe){(0,$.default)(de,fe);var ce=re(de);function de(ye,ge,_e){var Ee;return(0,d.default)(this,de),Ee=ce.call(this),Ee.socket=new window.WebSocket(ye,_e),Ee.socket.onopen=function(){return Ee.emit("open")},Ee.socket.onmessage=function(Ae){return Ee.emit("message",Ae.data)},Ee.socket.onerror=function(Ae){return Ee.emit("error",Ae)},Ee.socket.onclose=function(Ae){Ee.emit("close",Ae.code,Ae.reason)},Ee}return(0,m.default)(de,[{key:"send",value:function(ge,_e,Ee){var Ae=Ee||_e;try{this.socket.send(ge),Ae()}catch(we){Ae(we)}}},{key:"close",value:function(ge,_e){this.socket.close(ge,_e)}},{key:"addEventListener",value:function(ge,_e,Ee){this.socket.addEventListener(ge,_e,Ee)}}]),de}(b.EventEmitter);function se(fe,ce){return new ie(fe,ce)}}(websocket_browser)),websocket_browser}var client={},regeneratorRuntime$1={exports:{}},hasRequiredRegeneratorRuntime;function requireRegeneratorRuntime(){return hasRequiredRegeneratorRuntime||(hasRequiredRegeneratorRuntime=1,function(u){var a=require_typeof().default;function d(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u.exports=d=function(){return m},u.exports.__esModule=!0,u.exports.default=u.exports;var m={},$=Object.prototype,ee=$.hasOwnProperty,te=typeof Symbol=="function"?Symbol:{},b=te.iterator||"@@iterator",re=te.asyncIterator||"@@asyncIterator",ne=te.toStringTag||"@@toStringTag";function ie(le,ae,he){return Object.defineProperty(le,ae,{value:he,enumerable:!0,configurable:!0,writable:!0}),le[ae]}try{ie({},"")}catch{ie=function(he,xe,$e){return he[xe]=$e}}function se(le,ae,he,xe){var $e=ae&&ae.prototype instanceof de?ae:de,He=Object.create($e.prototype),Fe=new et(xe||[]);return He._invoke=function(Ne,De,pe){var Le="suspendedStart";return function(Be,Ce){if(Le==="executing")throw new Error("Generator is already running");if(Le==="completed"){if(Be==="throw")throw Ce;return ve()}for(pe.method=Be,pe.arg=Ce;;){var Ze=pe.delegate;if(Ze){var it=Re(Ze,pe);if(it){if(it===ce)continue;return it}}if(pe.method==="next")pe.sent=pe._sent=pe.arg;else if(pe.method==="throw"){if(Le==="suspendedStart")throw Le="completed",pe.arg;pe.dispatchException(pe.arg)}else pe.method==="return"&&pe.abrupt("return",pe.arg);Le="executing";var rt=fe(Ne,De,pe);if(rt.type==="normal"){if(Le=pe.done?"completed":"suspendedYield",rt.arg===ce)continue;return{value:rt.arg,done:pe.done}}rt.type==="throw"&&(Le="completed",pe.method="throw",pe.arg=rt.arg)}}}(le,he,Fe),He}function fe(le,ae,he){try{return{type:"normal",arg:le.call(ae,he)}}catch(xe){return{type:"throw",arg:xe}}}m.wrap=se;var ce={};function de(){}function ye(){}function ge(){}var _e={};ie(_e,b,function(){return this});var Ee=Object.getPrototypeOf,Ae=Ee&&Ee(Ee(Pe([])));Ae&&Ae!==$&&ee.call(Ae,b)&&(_e=Ae);var we=ge.prototype=de.prototype=Object.create(_e);function Me(le){["next","throw","return"].forEach(function(ae){ie(le,ae,function(he){return this._invoke(ae,he)})})}function ke(le,ae){function he($e,He,Fe,Ne){var De=fe(le[$e],le,He);if(De.type!=="throw"){var pe=De.arg,Le=pe.value;return Le&&a(Le)=="object"&&ee.call(Le,"__await")?ae.resolve(Le.__await).then(function(Be){he("next",Be,Fe,Ne)},function(Be){he("throw",Be,Fe,Ne)}):ae.resolve(Le).then(function(Be){pe.value=Be,Fe(pe)},function(Be){return he("throw",Be,Fe,Ne)})}Ne(De.arg)}var xe;this._invoke=function($e,He){function Fe(){return new ae(function(Ne,De){he($e,He,Ne,De)})}return xe=xe?xe.then(Fe,Fe):Fe()}}function Re(le,ae){var he=le.iterator[ae.method];if(he===void 0){if(ae.delegate=null,ae.method==="throw"){if(le.iterator.return&&(ae.method="return",ae.arg=void 0,Re(le,ae),ae.method==="throw"))return ce;ae.method="throw",ae.arg=new TypeError("The iterator does not provide a 'throw' method")}return ce}var xe=fe(he,le.iterator,ae.arg);if(xe.type==="throw")return ae.method="throw",ae.arg=xe.arg,ae.delegate=null,ce;var $e=xe.arg;return $e?$e.done?(ae[le.resultName]=$e.value,ae.next=le.nextLoc,ae.method!=="return"&&(ae.method="next",ae.arg=void 0),ae.delegate=null,ce):$e:(ae.method="throw",ae.arg=new TypeError("iterator result is not an object"),ae.delegate=null,ce)}function ze(le){var ae={tryLoc:le[0]};1 in le&&(ae.catchLoc=le[1]),2 in le&&(ae.finallyLoc=le[2],ae.afterLoc=le[3]),this.tryEntries.push(ae)}function Je(le){var ae=le.completion||{};ae.type="normal",delete ae.arg,le.completion=ae}function et(le){this.tryEntries=[{tryLoc:"root"}],le.forEach(ze,this),this.reset(!0)}function Pe(le){if(le){var ae=le[b];if(ae)return ae.call(le);if(typeof le.next=="function")return le;if(!isNaN(le.length)){var he=-1,xe=function $e(){for(;++he<le.length;)if(ee.call(le,he))return $e.value=le[he],$e.done=!1,$e;return $e.value=void 0,$e.done=!0,$e};return xe.next=xe}}return{next:ve}}function ve(){return{value:void 0,done:!0}}return ye.prototype=ge,ie(we,"constructor",ge),ie(ge,"constructor",ye),ye.displayName=ie(ge,ne,"GeneratorFunction"),m.isGeneratorFunction=function(le){var ae=typeof le=="function"&&le.constructor;return!!ae&&(ae===ye||(ae.displayName||ae.name)==="GeneratorFunction")},m.mark=function(le){return Object.setPrototypeOf?Object.setPrototypeOf(le,ge):(le.__proto__=ge,ie(le,ne,"GeneratorFunction")),le.prototype=Object.create(we),le},m.awrap=function(le){return{__await:le}},Me(ke.prototype),ie(ke.prototype,re,function(){return this}),m.AsyncIterator=ke,m.async=function(le,ae,he,xe,$e){$e===void 0&&($e=Promise);var He=new ke(se(le,ae,he,xe),$e);return m.isGeneratorFunction(ae)?He:He.next().then(function(Fe){return Fe.done?Fe.value:He.next()})},Me(we),ie(we,ne,"Generator"),ie(we,b,function(){return this}),ie(we,"toString",function(){return"[object Generator]"}),m.keys=function(le){var ae=[];for(var he in le)ae.push(he);return ae.reverse(),function xe(){for(;ae.length;){var $e=ae.pop();if($e in le)return xe.value=$e,xe.done=!1,xe}return xe.done=!0,xe}},m.values=Pe,et.prototype={constructor:et,reset:function(ae){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Je),!ae)for(var he in this)he.charAt(0)==="t"&&ee.call(this,he)&&!isNaN(+he.slice(1))&&(this[he]=void 0)},stop:function(){this.done=!0;var ae=this.tryEntries[0].completion;if(ae.type==="throw")throw ae.arg;return this.rval},dispatchException:function(ae){if(this.done)throw ae;var he=this;function xe(pe,Le){return Fe.type="throw",Fe.arg=ae,he.next=pe,Le&&(he.method="next",he.arg=void 0),!!Le}for(var $e=this.tryEntries.length-1;$e>=0;--$e){var He=this.tryEntries[$e],Fe=He.completion;if(He.tryLoc==="root")return xe("end");if(He.tryLoc<=this.prev){var Ne=ee.call(He,"catchLoc"),De=ee.call(He,"finallyLoc");if(Ne&&De){if(this.prev<He.catchLoc)return xe(He.catchLoc,!0);if(this.prev<He.finallyLoc)return xe(He.finallyLoc)}else if(Ne){if(this.prev<He.catchLoc)return xe(He.catchLoc,!0)}else{if(!De)throw new Error("try statement without catch or finally");if(this.prev<He.finallyLoc)return xe(He.finallyLoc)}}}},abrupt:function(ae,he){for(var xe=this.tryEntries.length-1;xe>=0;--xe){var $e=this.tryEntries[xe];if($e.tryLoc<=this.prev&&ee.call($e,"finallyLoc")&&this.prev<$e.finallyLoc){var He=$e;break}}He&&(ae==="break"||ae==="continue")&&He.tryLoc<=he&&he<=He.finallyLoc&&(He=null);var Fe=He?He.completion:{};return Fe.type=ae,Fe.arg=he,He?(this.method="next",this.next=He.finallyLoc,ce):this.complete(Fe)},complete:function(ae,he){if(ae.type==="throw")throw ae.arg;return ae.type==="break"||ae.type==="continue"?this.next=ae.arg:ae.type==="return"?(this.rval=this.arg=ae.arg,this.method="return",this.next="end"):ae.type==="normal"&&he&&(this.next=he),ce},finish:function(ae){for(var he=this.tryEntries.length-1;he>=0;--he){var xe=this.tryEntries[he];if(xe.finallyLoc===ae)return this.complete(xe.completion,xe.afterLoc),Je(xe),ce}},catch:function(ae){for(var he=this.tryEntries.length-1;he>=0;--he){var xe=this.tryEntries[he];if(xe.tryLoc===ae){var $e=xe.completion;if($e.type==="throw"){var He=$e.arg;Je(xe)}return He}}throw new Error("illegal catch attempt")},delegateYield:function(ae,he,xe){return this.delegate={iterator:Pe(ae),resultName:he,nextLoc:xe},this.method==="next"&&(this.arg=void 0),ce}},m}u.exports=d,u.exports.__esModule=!0,u.exports.default=u.exports}(regeneratorRuntime$1)),regeneratorRuntime$1.exports}var regenerator,hasRequiredRegenerator;function requireRegenerator(){if(hasRequiredRegenerator)return regenerator;hasRequiredRegenerator=1;var u=requireRegeneratorRuntime()();regenerator=u;try{regeneratorRuntime=u}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=u:Function("r","regeneratorRuntime = r")(u)}return regenerator}var asyncToGenerator={exports:{}},hasRequiredAsyncToGenerator;function requireAsyncToGenerator(){return hasRequiredAsyncToGenerator||(hasRequiredAsyncToGenerator=1,function(u){function a(m,$,ee,te,b,re,ne){try{var ie=m[re](ne),se=ie.value}catch(fe){ee(fe);return}ie.done?$(se):Promise.resolve(se).then(te,b)}function d(m){return function(){var $=this,ee=arguments;return new Promise(function(te,b){var re=m.apply($,ee);function ne(se){a(re,te,b,ne,ie,"next",se)}function ie(se){a(re,te,b,ne,ie,"throw",se)}ne(void 0)})}}u.exports=d,u.exports.__esModule=!0,u.exports.default=u.exports}(asyncToGenerator)),asyncToGenerator.exports}var hasRequiredClient;function requireClient(){return hasRequiredClient||(hasRequiredClient=1,function(u){var a=interopRequireDefault.exports;Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var d=a(requireRegenerator()),m=a(requireAsyncToGenerator()),$=a(require_typeof()),ee=a(requireClassCallCheck()),te=a(requireCreateClass()),b=a(requireInherits()),re=a(requirePossibleConstructorReturn()),ne=a(requireGetPrototypeOf()),ie=eventemitter3.exports;function se(ye){var ge=fe();return function(){var Ee=(0,ne.default)(ye),Ae;if(ge){var we=(0,ne.default)(this).constructor;Ae=Reflect.construct(Ee,arguments,we)}else Ae=Ee.apply(this,arguments);return(0,re.default)(this,Ae)}}function fe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ce=function(ye,ge){var _e={};for(var Ee in ye)Object.prototype.hasOwnProperty.call(ye,Ee)&&ge.indexOf(Ee)<0&&(_e[Ee]=ye[Ee]);if(ye!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Ae=0,Ee=Object.getOwnPropertySymbols(ye);Ae<Ee.length;Ae++)ge.indexOf(Ee[Ae])<0&&Object.prototype.propertyIsEnumerable.call(ye,Ee[Ae])&&(_e[Ee[Ae]]=ye[Ee[Ae]]);return _e},de=function(ye){(0,b.default)(_e,ye);var ge=se(_e);function _e(Ee){var Ae,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",Me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ke=arguments.length>3?arguments[3]:void 0;(0,ee.default)(this,_e);var Re=Me.autoconnect,ze=Re===void 0?!0:Re,Je=Me.reconnect,et=Je===void 0?!0:Je,Pe=Me.reconnect_interval,ve=Pe===void 0?1e3:Pe,le=Me.max_reconnects,ae=le===void 0?5:le,he=ce(Me,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return Ae=ge.call(this),Ae.webSocketFactory=Ee,Ae.queue={},Ae.rpc_id=0,Ae.address=we,Ae.autoconnect=ze,Ae.ready=!1,Ae.reconnect=et,Ae.reconnect_interval=ve,Ae.max_reconnects=ae,Ae.rest_options=he,Ae.current_reconnects=0,Ae.generate_request_id=ke||function(){return++Ae.rpc_id},Ae.autoconnect&&Ae._connect(Ae.address,Object.assign({autoconnect:Ae.autoconnect,reconnect:Ae.reconnect,reconnect_interval:Ae.reconnect_interval,max_reconnects:Ae.max_reconnects},Ae.rest_options)),Ae}return(0,te.default)(_e,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(Ae,we,Me,ke){var Re=this;return!ke&&(0,$.default)(Me)==="object"&&(ke=Me,Me=null),new Promise(function(ze,Je){if(!Re.ready)return Je(new Error("socket not ready"));var et=Re.generate_request_id(Ae,we),Pe={jsonrpc:"2.0",method:Ae,params:we||null,id:et};Re.socket.send(JSON.stringify(Pe),ke,function(ve){if(ve)return Je(ve);Re.queue[et]={promise:[ze,Je]},Me&&(Re.queue[et].timeout=setTimeout(function(){delete Re.queue[et],Je(new Error("reply timeout"))},Me))})})}},{key:"login",value:function(){var Ee=(0,m.default)(d.default.mark(function we(Me){var ke;return d.default.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.next=2,this.call("rpc.login",Me);case 2:if(ke=ze.sent,ke){ze.next=5;break}throw new Error("authentication failed");case 5:return ze.abrupt("return",ke);case 6:case"end":return ze.stop()}},we,this)}));function Ae(we){return Ee.apply(this,arguments)}return Ae}()},{key:"listMethods",value:function(){var Ee=(0,m.default)(d.default.mark(function we(){return d.default.wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,this.call("__listMethods");case 2:return ke.abrupt("return",ke.sent);case 3:case"end":return ke.stop()}},we,this)}));function Ae(){return Ee.apply(this,arguments)}return Ae}()},{key:"notify",value:function(Ae,we){var Me=this;return new Promise(function(ke,Re){if(!Me.ready)return Re(new Error("socket not ready"));var ze={jsonrpc:"2.0",method:Ae,params:we||null};Me.socket.send(JSON.stringify(ze),function(Je){if(Je)return Re(Je);ke()})})}},{key:"subscribe",value:function(){var Ee=(0,m.default)(d.default.mark(function we(Me){var ke;return d.default.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return typeof Me=="string"&&(Me=[Me]),ze.next=3,this.call("rpc.on",Me);case 3:if(ke=ze.sent,!(typeof Me=="string"&&ke[Me]!=="ok")){ze.next=6;break}throw new Error("Failed subscribing to an event '"+Me+"' with: "+ke[Me]);case 6:return ze.abrupt("return",ke);case 7:case"end":return ze.stop()}},we,this)}));function Ae(we){return Ee.apply(this,arguments)}return Ae}()},{key:"unsubscribe",value:function(){var Ee=(0,m.default)(d.default.mark(function we(Me){var ke;return d.default.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return typeof Me=="string"&&(Me=[Me]),ze.next=3,this.call("rpc.off",Me);case 3:if(ke=ze.sent,!(typeof Me=="string"&&ke[Me]!=="ok")){ze.next=6;break}throw new Error("Failed unsubscribing from an event with: "+ke);case 6:return ze.abrupt("return",ke);case 7:case"end":return ze.stop()}},we,this)}));function Ae(we){return Ee.apply(this,arguments)}return Ae}()},{key:"close",value:function(Ae,we){this.socket.close(Ae||1e3,we)}},{key:"_connect",value:function(Ae,we){var Me=this;this.socket=this.webSocketFactory(Ae,we),this.socket.addEventListener("open",function(){Me.ready=!0,Me.emit("open"),Me.current_reconnects=0}),this.socket.addEventListener("message",function(ke){var Re=ke.data;Re instanceof ArrayBuffer&&(Re=Buffer.from(Re).toString());try{Re=JSON.parse(Re)}catch{return}if(Re.notification&&Me.listeners(Re.notification).length){if(!Object.keys(Re.params).length)return Me.emit(Re.notification);var ze=[Re.notification];if(Re.params.constructor===Object)ze.push(Re.params);else for(var Je=0;Je<Re.params.length;Je++)ze.push(Re.params[Je]);return Promise.resolve().then(function(){Me.emit.apply(Me,ze)})}if(!Me.queue[Re.id])return Re.method&&Re.params?Promise.resolve().then(function(){Me.emit(Re.method,Re.params)}):void 0;"error"in Re=="result"in Re&&Me.queue[Re.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),Me.queue[Re.id].timeout&&clearTimeout(Me.queue[Re.id].timeout),Re.error?Me.queue[Re.id].promise[1](Re.error):Me.queue[Re.id].promise[0](Re.result),delete Me.queue[Re.id]}),this.socket.addEventListener("error",function(ke){return Me.emit("error",ke)}),this.socket.addEventListener("close",function(ke){var Re=ke.code,ze=ke.reason;Me.ready&&setTimeout(function(){return Me.emit("close",Re,ze)},0),Me.ready=!1,Me.socket=void 0,Re!==1e3&&(Me.current_reconnects++,Me.reconnect&&(Me.max_reconnects>Me.current_reconnects||Me.max_reconnects===0)&&setTimeout(function(){return Me._connect(Ae,we)},Me.reconnect_interval))})}}]),_e}(ie.EventEmitter);u.default=de}(client)),client}var _interopRequireDefault=interopRequireDefault.exports;Object.defineProperty(index_browser,"__esModule",{value:!0});var Client_1=index_browser.Client=void 0,_createClass2=_interopRequireDefault(requireCreateClass()),_classCallCheck2=_interopRequireDefault(requireClassCallCheck()),_inherits2=_interopRequireDefault(requireInherits()),_possibleConstructorReturn2=_interopRequireDefault(requirePossibleConstructorReturn()),_getPrototypeOf2=_interopRequireDefault(requireGetPrototypeOf()),_websocket=_interopRequireDefault(requireWebsocket_browser()),_client=_interopRequireDefault(requireClient());function _createSuper(u){var a=_isNativeReflectConstruct();return function(){var m=(0,_getPrototypeOf2.default)(u),$;if(a){var ee=(0,_getPrototypeOf2.default)(this).constructor;$=Reflect.construct(m,arguments,ee)}else $=m.apply(this,arguments);return(0,_possibleConstructorReturn2.default)(this,$)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var Client=function(u){(0,_inherits2.default)(d,u);var a=_createSuper(d);function d(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=$.autoconnect,te=ee===void 0?!0:ee,b=$.reconnect,re=b===void 0?!0:b,ne=$.reconnect_interval,ie=ne===void 0?1e3:ne,se=$.max_reconnects,fe=se===void 0?5:se,ce=arguments.length>2?arguments[2]:void 0;return(0,_classCallCheck2.default)(this,d),a.call(this,_websocket.default,m,{autoconnect:te,reconnect:re,reconnect_interval:ie,max_reconnects:fe},ce)}return(0,_createClass2.default)(d)}(_client.default);Client_1=index_browser.Client=Client;var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(u){return typeof u=="string"&&REGEX.test(u)}var byteToHex=[];for(var i=0;i<256;++i)byteToHex.push((i+256).toString(16).substr(1));function stringify$2(u){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,d=(byteToHex[u[a+0]]+byteToHex[u[a+1]]+byteToHex[u[a+2]]+byteToHex[u[a+3]]+"-"+byteToHex[u[a+4]]+byteToHex[u[a+5]]+"-"+byteToHex[u[a+6]]+byteToHex[u[a+7]]+"-"+byteToHex[u[a+8]]+byteToHex[u[a+9]]+"-"+byteToHex[u[a+10]]+byteToHex[u[a+11]]+byteToHex[u[a+12]]+byteToHex[u[a+13]]+byteToHex[u[a+14]]+byteToHex[u[a+15]]).toLowerCase();if(!validate$1(d))throw TypeError("Stringified UUID is invalid");return d}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(u,a,d){var m=a&&d||0,$=a||new Array(16);u=u||{};var ee=u.node||_nodeId,te=u.clockseq!==void 0?u.clockseq:_clockseq;if(ee==null||te==null){var b=u.random||(u.rng||rng)();ee==null&&(ee=_nodeId=[b[0]|1,b[1],b[2],b[3],b[4],b[5]]),te==null&&(te=_clockseq=(b[6]<<8|b[7])&16383)}var re=u.msecs!==void 0?u.msecs:Date.now(),ne=u.nsecs!==void 0?u.nsecs:_lastNSecs+1,ie=re-_lastMSecs+(ne-_lastNSecs)/1e4;if(ie<0&&u.clockseq===void 0&&(te=te+1&16383),(ie<0||re>_lastMSecs)&&u.nsecs===void 0&&(ne=0),ne>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=re,_lastNSecs=ne,_clockseq=te,re+=122192928e5;var se=((re&268435455)*1e4+ne)%4294967296;$[m++]=se>>>24&255,$[m++]=se>>>16&255,$[m++]=se>>>8&255,$[m++]=se&255;var fe=re/4294967296*1e4&268435455;$[m++]=fe>>>8&255,$[m++]=fe&255,$[m++]=fe>>>24&15|16,$[m++]=fe>>>16&255,$[m++]=te>>>8|128,$[m++]=te&255;for(var ce=0;ce<6;++ce)$[m+ce]=ee[ce];return a||stringify$2($)}function parse(u){if(!validate$1(u))throw TypeError("Invalid UUID");var a,d=new Uint8Array(16);return d[0]=(a=parseInt(u.slice(0,8),16))>>>24,d[1]=a>>>16&255,d[2]=a>>>8&255,d[3]=a&255,d[4]=(a=parseInt(u.slice(9,13),16))>>>8,d[5]=a&255,d[6]=(a=parseInt(u.slice(14,18),16))>>>8,d[7]=a&255,d[8]=(a=parseInt(u.slice(19,23),16))>>>8,d[9]=a&255,d[10]=(a=parseInt(u.slice(24,36),16))/1099511627776&255,d[11]=a/4294967296&255,d[12]=a>>>24&255,d[13]=a>>>16&255,d[14]=a>>>8&255,d[15]=a&255,d}function stringToBytes(u){u=unescape(encodeURIComponent(u));for(var a=[],d=0;d<u.length;++d)a.push(u.charCodeAt(d));return a}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$2="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(u,a,d){function m($,ee,te,b){if(typeof $=="string"&&($=stringToBytes($)),typeof ee=="string"&&(ee=parse(ee)),ee.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var re=new Uint8Array(16+$.length);if(re.set(ee),re.set($,ee.length),re=d(re),re[6]=re[6]&15|a,re[8]=re[8]&63|128,te){b=b||0;for(var ne=0;ne<16;++ne)te[b+ne]=re[ne];return te}return stringify$2(re)}try{m.name=u}catch{}return m.DNS=DNS,m.URL=URL$2,m}function md5(u){if(typeof u=="string"){var a=unescape(encodeURIComponent(u));u=new Uint8Array(a.length);for(var d=0;d<a.length;++d)u[d]=a.charCodeAt(d)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(u),u.length*8))}function md5ToHexEncodedArray(u){for(var a=[],d=u.length*32,m="0123456789abcdef",$=0;$<d;$+=8){var ee=u[$>>5]>>>$%32&255,te=parseInt(m.charAt(ee>>>4&15)+m.charAt(ee&15),16);a.push(te)}return a}function getOutputLength(u){return(u+64>>>9<<4)+14+1}function wordsToMd5(u,a){u[a>>5]|=128<<a%32,u[getOutputLength(a)-1]=a;for(var d=1732584193,m=-271733879,$=-1732584194,ee=271733878,te=0;te<u.length;te+=16){var b=d,re=m,ne=$,ie=ee;d=md5ff(d,m,$,ee,u[te],7,-680876936),ee=md5ff(ee,d,m,$,u[te+1],12,-389564586),$=md5ff($,ee,d,m,u[te+2],17,606105819),m=md5ff(m,$,ee,d,u[te+3],22,-1044525330),d=md5ff(d,m,$,ee,u[te+4],7,-176418897),ee=md5ff(ee,d,m,$,u[te+5],12,1200080426),$=md5ff($,ee,d,m,u[te+6],17,-1473231341),m=md5ff(m,$,ee,d,u[te+7],22,-45705983),d=md5ff(d,m,$,ee,u[te+8],7,1770035416),ee=md5ff(ee,d,m,$,u[te+9],12,-1958414417),$=md5ff($,ee,d,m,u[te+10],17,-42063),m=md5ff(m,$,ee,d,u[te+11],22,-1990404162),d=md5ff(d,m,$,ee,u[te+12],7,1804603682),ee=md5ff(ee,d,m,$,u[te+13],12,-40341101),$=md5ff($,ee,d,m,u[te+14],17,-1502002290),m=md5ff(m,$,ee,d,u[te+15],22,1236535329),d=md5gg(d,m,$,ee,u[te+1],5,-165796510),ee=md5gg(ee,d,m,$,u[te+6],9,-1069501632),$=md5gg($,ee,d,m,u[te+11],14,643717713),m=md5gg(m,$,ee,d,u[te],20,-373897302),d=md5gg(d,m,$,ee,u[te+5],5,-701558691),ee=md5gg(ee,d,m,$,u[te+10],9,38016083),$=md5gg($,ee,d,m,u[te+15],14,-660478335),m=md5gg(m,$,ee,d,u[te+4],20,-405537848),d=md5gg(d,m,$,ee,u[te+9],5,568446438),ee=md5gg(ee,d,m,$,u[te+14],9,-1019803690),$=md5gg($,ee,d,m,u[te+3],14,-187363961),m=md5gg(m,$,ee,d,u[te+8],20,1163531501),d=md5gg(d,m,$,ee,u[te+13],5,-1444681467),ee=md5gg(ee,d,m,$,u[te+2],9,-51403784),$=md5gg($,ee,d,m,u[te+7],14,1735328473),m=md5gg(m,$,ee,d,u[te+12],20,-1926607734),d=md5hh(d,m,$,ee,u[te+5],4,-378558),ee=md5hh(ee,d,m,$,u[te+8],11,-2022574463),$=md5hh($,ee,d,m,u[te+11],16,1839030562),m=md5hh(m,$,ee,d,u[te+14],23,-35309556),d=md5hh(d,m,$,ee,u[te+1],4,-1530992060),ee=md5hh(ee,d,m,$,u[te+4],11,1272893353),$=md5hh($,ee,d,m,u[te+7],16,-155497632),m=md5hh(m,$,ee,d,u[te+10],23,-1094730640),d=md5hh(d,m,$,ee,u[te+13],4,681279174),ee=md5hh(ee,d,m,$,u[te],11,-358537222),$=md5hh($,ee,d,m,u[te+3],16,-722521979),m=md5hh(m,$,ee,d,u[te+6],23,76029189),d=md5hh(d,m,$,ee,u[te+9],4,-640364487),ee=md5hh(ee,d,m,$,u[te+12],11,-421815835),$=md5hh($,ee,d,m,u[te+15],16,530742520),m=md5hh(m,$,ee,d,u[te+2],23,-995338651),d=md5ii(d,m,$,ee,u[te],6,-198630844),ee=md5ii(ee,d,m,$,u[te+7],10,1126891415),$=md5ii($,ee,d,m,u[te+14],15,-1416354905),m=md5ii(m,$,ee,d,u[te+5],21,-57434055),d=md5ii(d,m,$,ee,u[te+12],6,1700485571),ee=md5ii(ee,d,m,$,u[te+3],10,-1894986606),$=md5ii($,ee,d,m,u[te+10],15,-1051523),m=md5ii(m,$,ee,d,u[te+1],21,-2054922799),d=md5ii(d,m,$,ee,u[te+8],6,1873313359),ee=md5ii(ee,d,m,$,u[te+15],10,-30611744),$=md5ii($,ee,d,m,u[te+6],15,-1560198380),m=md5ii(m,$,ee,d,u[te+13],21,1309151649),d=md5ii(d,m,$,ee,u[te+4],6,-145523070),ee=md5ii(ee,d,m,$,u[te+11],10,-1120210379),$=md5ii($,ee,d,m,u[te+2],15,718787259),m=md5ii(m,$,ee,d,u[te+9],21,-343485551),d=safeAdd(d,b),m=safeAdd(m,re),$=safeAdd($,ne),ee=safeAdd(ee,ie)}return[d,m,$,ee]}function bytesToWords(u){if(u.length===0)return[];for(var a=u.length*8,d=new Uint32Array(getOutputLength(a)),m=0;m<a;m+=8)d[m>>5]|=(u[m/8]&255)<<m%32;return d}function safeAdd(u,a){var d=(u&65535)+(a&65535),m=(u>>16)+(a>>16)+(d>>16);return m<<16|d&65535}function bitRotateLeft(u,a){return u<<a|u>>>32-a}function md5cmn(u,a,d,m,$,ee){return safeAdd(bitRotateLeft(safeAdd(safeAdd(a,u),safeAdd(m,ee)),$),d)}function md5ff(u,a,d,m,$,ee,te){return md5cmn(a&d|~a&m,u,a,$,ee,te)}function md5gg(u,a,d,m,$,ee,te){return md5cmn(a&m|d&~m,u,a,$,ee,te)}function md5hh(u,a,d,m,$,ee,te){return md5cmn(a^d^m,u,a,$,ee,te)}function md5ii(u,a,d,m,$,ee,te){return md5cmn(d^(a|~m),u,a,$,ee,te)}var v3=v35("v3",48,md5);const v3$1=v3;function v4(u,a,d){u=u||{};var m=u.random||(u.rng||rng)();if(m[6]=m[6]&15|64,m[8]=m[8]&63|128,a){d=d||0;for(var $=0;$<16;++$)a[d+$]=m[$];return a}return stringify$2(m)}function f$2(u,a,d,m){switch(u){case 0:return a&d^~a&m;case 1:return a^d^m;case 2:return a&d^a&m^d&m;case 3:return a^d^m}}function ROTL(u,a){return u<<a|u>>>32-a}function sha1$1(u){var a=[1518500249,1859775393,2400959708,3395469782],d=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof u=="string"){var m=unescape(encodeURIComponent(u));u=[];for(var $=0;$<m.length;++$)u.push(m.charCodeAt($))}else Array.isArray(u)||(u=Array.prototype.slice.call(u));u.push(128);for(var ee=u.length/4+2,te=Math.ceil(ee/16),b=new Array(te),re=0;re<te;++re){for(var ne=new Uint32Array(16),ie=0;ie<16;++ie)ne[ie]=u[re*64+ie*4]<<24|u[re*64+ie*4+1]<<16|u[re*64+ie*4+2]<<8|u[re*64+ie*4+3];b[re]=ne}b[te-1][14]=(u.length-1)*8/Math.pow(2,32),b[te-1][14]=Math.floor(b[te-1][14]),b[te-1][15]=(u.length-1)*8&4294967295;for(var se=0;se<te;++se){for(var fe=new Uint32Array(80),ce=0;ce<16;++ce)fe[ce]=b[se][ce];for(var de=16;de<80;++de)fe[de]=ROTL(fe[de-3]^fe[de-8]^fe[de-14]^fe[de-16],1);for(var ye=d[0],ge=d[1],_e=d[2],Ee=d[3],Ae=d[4],we=0;we<80;++we){var Me=Math.floor(we/20),ke=ROTL(ye,5)+f$2(Me,ge,_e,Ee)+Ae+a[Me]+fe[we]>>>0;Ae=Ee,Ee=_e,_e=ROTL(ge,30)>>>0,ge=ye,ye=ke}d[0]=d[0]+ye>>>0,d[1]=d[1]+ge>>>0,d[2]=d[2]+_e>>>0,d[3]=d[3]+Ee>>>0,d[4]=d[4]+Ae>>>0}return[d[0]>>24&255,d[0]>>16&255,d[0]>>8&255,d[0]&255,d[1]>>24&255,d[1]>>16&255,d[1]>>8&255,d[1]&255,d[2]>>24&255,d[2]>>16&255,d[2]>>8&255,d[2]&255,d[3]>>24&255,d[3]>>16&255,d[3]>>8&255,d[3]&255,d[4]>>24&255,d[4]>>16&255,d[4]>>8&255,d[4]&255]}var v5=v35("v5",80,sha1$1);const v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version$6(u){if(!validate$1(u))throw TypeError("Invalid UUID");return parseInt(u.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,v1,v3:v3$1,v4,v5:v5$1,NIL:nil,version:version$6,validate:validate$1,stringify:stringify$2,parse},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(esmBrowser),uuid$1=require$$4.v4,generateRequest$1=function(u,a,d,m){if(typeof u!="string")throw new TypeError(u+" must be a string");m=m||{};const $=typeof m.version=="number"?m.version:2;if($!==1&&$!==2)throw new TypeError($+" must be 1 or 2");const ee={method:u};if($===2&&(ee.jsonrpc="2.0"),a){if(typeof a!="object"&&!Array.isArray(a))throw new TypeError(a+" must be an object, array or omitted");ee.params=a}if(typeof d>"u"){const te=typeof m.generator=="function"?m.generator:function(){return uuid$1()};ee.id=te(ee,m)}else $===2&&d===null?m.notificationIdNull&&(ee.id=null):ee.id=d;return ee};var generateRequest_1=generateRequest$1;const uuid=require$$4.v4,generateRequest=generateRequest_1,ClientBrowser=function(u,a){if(!(this instanceof ClientBrowser))return new ClientBrowser(u,a);a||(a={}),this.options={reviver:typeof a.reviver<"u"?a.reviver:null,replacer:typeof a.replacer<"u"?a.replacer:null,generator:typeof a.generator<"u"?a.generator:function(){return uuid()},version:typeof a.version<"u"?a.version:2,notificationIdNull:typeof a.notificationIdNull=="boolean"?a.notificationIdNull:!1},this.callServer=u};var browser=ClientBrowser;ClientBrowser.prototype.request=function(u,a,d,m){const $=this;let ee=null;const te=Array.isArray(u)&&typeof a=="function";if(this.options.version===1&&te)throw new TypeError("JSON-RPC 1.0 does not support batching");if(te||!te&&u&&typeof u=="object"&&typeof a=="function")m=a,ee=u;else{typeof d=="function"&&(m=d,d=void 0);const ne=typeof m=="function";try{ee=generateRequest(u,a,d,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(ie){if(ne)return m(ie);throw ie}if(!ne)return ee}let re;try{re=JSON.stringify(ee,this.options.replacer)}catch(ne){return m(ne)}return this.callServer(re,function(ne,ie){$._parseResponse(ne,ie,m)}),ee};ClientBrowser.prototype._parseResponse=function(u,a,d){if(u){d(u);return}if(!a)return d();let m;try{m=JSON.parse(a,this.options.reviver)}catch($){return d($)}if(d.length===3)if(Array.isArray(m)){const $=function(te){return typeof te.error<"u"},ee=function(te){return!$(te)};return d(null,m.filter($),m.filter(ee))}else return d(null,m.error,m.result);d(null,m)};const errors$1={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function assert$o(u,a){if(!u)throw new Error(a)}function isUint8Array(u,a,d){if(assert$o(a instanceof Uint8Array,`Expected ${u} to be an Uint8Array`),d!==void 0)if(Array.isArray(d)){const m=d.join(", "),$=`Expected ${u} to be an Uint8Array with length [${m}]`;assert$o(d.includes(a.length),$)}else{const m=`Expected ${u} to be an Uint8Array with length ${d}`;assert$o(a.length===d,m)}}function isCompressed(u){assert$o(toTypeString(u)==="Boolean","Expected compressed to be a Boolean")}function getAssertedOutput(u=d=>new Uint8Array(d),a){return typeof u=="function"&&(u=u(a)),isUint8Array("output",u,a),u}function toTypeString(u){return Object.prototype.toString.call(u).slice(8,-1)}var lib$1=u=>({contextRandomize(a){switch(assert$o(a===null||a instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),a!==null&&isUint8Array("seed",a,32),u.contextRandomize(a)){case 1:throw new Error(errors$1.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(a){return isUint8Array("private key",a,32),u.privateKeyVerify(a)===0},privateKeyNegate(a){switch(isUint8Array("private key",a,32),u.privateKeyNegate(a)){case 0:return a;case 1:throw new Error(errors$1.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(a,d){switch(isUint8Array("private key",a,32),isUint8Array("tweak",d,32),u.privateKeyTweakAdd(a,d)){case 0:return a;case 1:throw new Error(errors$1.TWEAK_ADD)}},privateKeyTweakMul(a,d){switch(isUint8Array("private key",a,32),isUint8Array("tweak",d,32),u.privateKeyTweakMul(a,d)){case 0:return a;case 1:throw new Error(errors$1.TWEAK_MUL)}},publicKeyVerify(a){return isUint8Array("public key",a,[33,65]),u.publicKeyVerify(a)===0},publicKeyCreate(a,d=!0,m){switch(isUint8Array("private key",a,32),isCompressed(d),m=getAssertedOutput(m,d?33:65),u.publicKeyCreate(m,a)){case 0:return m;case 1:throw new Error(errors$1.SECKEY_INVALID);case 2:throw new Error(errors$1.PUBKEY_SERIALIZE)}},publicKeyConvert(a,d=!0,m){switch(isUint8Array("public key",a,[33,65]),isCompressed(d),m=getAssertedOutput(m,d?33:65),u.publicKeyConvert(m,a)){case 0:return m;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.PUBKEY_SERIALIZE)}},publicKeyNegate(a,d=!0,m){switch(isUint8Array("public key",a,[33,65]),isCompressed(d),m=getAssertedOutput(m,d?33:65),u.publicKeyNegate(m,a)){case 0:return m;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.IMPOSSIBLE_CASE);case 3:throw new Error(errors$1.PUBKEY_SERIALIZE)}},publicKeyCombine(a,d=!0,m){assert$o(Array.isArray(a),"Expected public keys to be an Array"),assert$o(a.length>0,"Expected public keys array will have more than zero items");for(const $ of a)isUint8Array("public key",$,[33,65]);switch(isCompressed(d),m=getAssertedOutput(m,d?33:65),u.publicKeyCombine(m,a)){case 0:return m;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.PUBKEY_COMBINE);case 3:throw new Error(errors$1.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(a,d,m=!0,$){switch(isUint8Array("public key",a,[33,65]),isUint8Array("tweak",d,32),isCompressed(m),$=getAssertedOutput($,m?33:65),u.publicKeyTweakAdd($,a,d)){case 0:return $;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.TWEAK_ADD)}},publicKeyTweakMul(a,d,m=!0,$){switch(isUint8Array("public key",a,[33,65]),isUint8Array("tweak",d,32),isCompressed(m),$=getAssertedOutput($,m?33:65),u.publicKeyTweakMul($,a,d)){case 0:return $;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.TWEAK_MUL)}},signatureNormalize(a){switch(isUint8Array("signature",a,64),u.signatureNormalize(a)){case 0:return a;case 1:throw new Error(errors$1.SIG_PARSE)}},signatureExport(a,d){isUint8Array("signature",a,64),d=getAssertedOutput(d,72);const m={output:d,outputlen:72};switch(u.signatureExport(m,a)){case 0:return d.slice(0,m.outputlen);case 1:throw new Error(errors$1.SIG_PARSE);case 2:throw new Error(errors$1.IMPOSSIBLE_CASE)}},signatureImport(a,d){switch(isUint8Array("signature",a),d=getAssertedOutput(d,64),u.signatureImport(d,a)){case 0:return d;case 1:throw new Error(errors$1.SIG_PARSE);case 2:throw new Error(errors$1.IMPOSSIBLE_CASE)}},ecdsaSign(a,d,m={},$){isUint8Array("message",a,32),isUint8Array("private key",d,32),assert$o(toTypeString(m)==="Object","Expected options to be an Object"),m.data!==void 0&&isUint8Array("options.data",m.data),m.noncefn!==void 0&&assert$o(toTypeString(m.noncefn)==="Function","Expected options.noncefn to be a Function"),$=getAssertedOutput($,64);const ee={signature:$,recid:null};switch(u.ecdsaSign(ee,a,d,m.data,m.noncefn)){case 0:return ee;case 1:throw new Error(errors$1.SIGN);case 2:throw new Error(errors$1.IMPOSSIBLE_CASE)}},ecdsaVerify(a,d,m){switch(isUint8Array("signature",a,64),isUint8Array("message",d,32),isUint8Array("public key",m,[33,65]),u.ecdsaVerify(a,d,m)){case 0:return!0;case 3:return!1;case 1:throw new Error(errors$1.SIG_PARSE);case 2:throw new Error(errors$1.PUBKEY_PARSE)}},ecdsaRecover(a,d,m,$=!0,ee){switch(isUint8Array("signature",a,64),assert$o(toTypeString(d)==="Number"&&d>=0&&d<=3,"Expected recovery id to be a Number within interval [0, 3]"),isUint8Array("message",m,32),isCompressed($),ee=getAssertedOutput(ee,$?33:65),u.ecdsaRecover(ee,a,d,m)){case 0:return ee;case 1:throw new Error(errors$1.SIG_PARSE);case 2:throw new Error(errors$1.RECOVER);case 3:throw new Error(errors$1.IMPOSSIBLE_CASE)}},ecdh(a,d,m={},$){switch(isUint8Array("public key",a,[33,65]),isUint8Array("private key",d,32),assert$o(toTypeString(m)==="Object","Expected options to be an Object"),m.data!==void 0&&isUint8Array("options.data",m.data),m.hashfn!==void 0?(assert$o(toTypeString(m.hashfn)==="Function","Expected options.hashfn to be a Function"),m.xbuf!==void 0&&isUint8Array("options.xbuf",m.xbuf,32),m.ybuf!==void 0&&isUint8Array("options.ybuf",m.ybuf,32),isUint8Array("output",$)):$=getAssertedOutput($,32),u.ecdh($,a,d,m.data,m.hashfn,m.xbuf,m.ybuf)){case 0:return $;case 1:throw new Error(errors$1.PUBKEY_PARSE);case 2:throw new Error(errors$1.ECDH)}}}),elliptic$2={};const _args=[["elliptic@6.5.4","/Users/brianng/Downloads/sol-aris"]],_from="elliptic@6.5.4",_id="elliptic@6.5.4",_inBundle=!1,_integrity="sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location="/elliptic",_phantomChildren={},_requested={type:"version",registry:!0,raw:"elliptic@6.5.4",name:"elliptic",escapedName:"elliptic",rawSpec:"6.5.4",saveSpec:null,fetchSpec:"6.5.4"},_requiredBy=["/@toruslabs/eccrypto","/@toruslabs/eccrypto/secp256k1","/@toruslabs/metadata-helpers","/browserify-sign","/create-ecdh","/secp256k1"],_resolved="https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_spec="6.5.4",_where="/Users/brianng/Downloads/sol-aris",author={name:"Fedor Indutny",email:"fedor@indutny.com"},bugs={url:"https://github.com/indutny/elliptic/issues"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},description="EC cryptography",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files=["lib"],homepage="https://github.com/indutny/elliptic",keywords=["EC","Elliptic","curve","Cryptography"],license="MIT",main$1="lib/elliptic.js",name$q="elliptic",repository={type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version$5="6.5.4",require$$0$1={_args,_from,_id,_inBundle,_integrity,_location,_phantomChildren,_requested,_requiredBy,_resolved,_spec,_where,author,bugs,dependencies,description,devDependencies,files,homepage,keywords,license,main:main$1,name:name$q,repository,scripts,version:version$5};var utils$x={},bn={exports:{}};(function(u){(function(a,d){function m(Pe,ve){if(!Pe)throw new Error(ve||"Assertion failed")}function $(Pe,ve){Pe.super_=ve;var le=function(){};le.prototype=ve.prototype,Pe.prototype=new le,Pe.prototype.constructor=Pe}function ee(Pe,ve,le){if(ee.isBN(Pe))return Pe;this.negative=0,this.words=null,this.length=0,this.red=null,Pe!==null&&((ve==="le"||ve==="be")&&(le=ve,ve=10),this._init(Pe||0,ve||10,le||"be"))}typeof a=="object"?a.exports=ee:d.BN=ee,ee.BN=ee,ee.wordSize=26;var te;try{typeof window<"u"&&typeof window.Buffer<"u"?te=window.Buffer:te=require$$1.Buffer}catch{}ee.isBN=function(ve){return ve instanceof ee?!0:ve!==null&&typeof ve=="object"&&ve.constructor.wordSize===ee.wordSize&&Array.isArray(ve.words)},ee.max=function(ve,le){return ve.cmp(le)>0?ve:le},ee.min=function(ve,le){return ve.cmp(le)<0?ve:le},ee.prototype._init=function(ve,le,ae){if(typeof ve=="number")return this._initNumber(ve,le,ae);if(typeof ve=="object")return this._initArray(ve,le,ae);le==="hex"&&(le=16),m(le===(le|0)&&le>=2&&le<=36),ve=ve.toString().replace(/\s+/g,"");var he=0;ve[0]==="-"&&(he++,this.negative=1),he<ve.length&&(le===16?this._parseHex(ve,he,ae):(this._parseBase(ve,le,he),ae==="le"&&this._initArray(this.toArray(),le,ae)))},ee.prototype._initNumber=function(ve,le,ae){ve<0&&(this.negative=1,ve=-ve),ve<67108864?(this.words=[ve&67108863],this.length=1):ve<4503599627370496?(this.words=[ve&67108863,ve/67108864&67108863],this.length=2):(m(ve<9007199254740992),this.words=[ve&67108863,ve/67108864&67108863,1],this.length=3),ae==="le"&&this._initArray(this.toArray(),le,ae)},ee.prototype._initArray=function(ve,le,ae){if(m(typeof ve.length=="number"),ve.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(ve.length/3),this.words=new Array(this.length);for(var he=0;he<this.length;he++)this.words[he]=0;var xe,$e,He=0;if(ae==="be")for(he=ve.length-1,xe=0;he>=0;he-=3)$e=ve[he]|ve[he-1]<<8|ve[he-2]<<16,this.words[xe]|=$e<<He&67108863,this.words[xe+1]=$e>>>26-He&67108863,He+=24,He>=26&&(He-=26,xe++);else if(ae==="le")for(he=0,xe=0;he<ve.length;he+=3)$e=ve[he]|ve[he+1]<<8|ve[he+2]<<16,this.words[xe]|=$e<<He&67108863,this.words[xe+1]=$e>>>26-He&67108863,He+=24,He>=26&&(He-=26,xe++);return this.strip()};function b(Pe,ve){var le=Pe.charCodeAt(ve);return le>=65&&le<=70?le-55:le>=97&&le<=102?le-87:le-48&15}function re(Pe,ve,le){var ae=b(Pe,le);return le-1>=ve&&(ae|=b(Pe,le-1)<<4),ae}ee.prototype._parseHex=function(ve,le,ae){this.length=Math.ceil((ve.length-le)/6),this.words=new Array(this.length);for(var he=0;he<this.length;he++)this.words[he]=0;var xe=0,$e=0,He;if(ae==="be")for(he=ve.length-1;he>=le;he-=2)He=re(ve,le,he)<<xe,this.words[$e]|=He&67108863,xe>=18?(xe-=18,$e+=1,this.words[$e]|=He>>>26):xe+=8;else{var Fe=ve.length-le;for(he=Fe%2===0?le+1:le;he<ve.length;he+=2)He=re(ve,le,he)<<xe,this.words[$e]|=He&67108863,xe>=18?(xe-=18,$e+=1,this.words[$e]|=He>>>26):xe+=8}this.strip()};function ne(Pe,ve,le,ae){for(var he=0,xe=Math.min(Pe.length,le),$e=ve;$e<xe;$e++){var He=Pe.charCodeAt($e)-48;he*=ae,He>=49?he+=He-49+10:He>=17?he+=He-17+10:he+=He}return he}ee.prototype._parseBase=function(ve,le,ae){this.words=[0],this.length=1;for(var he=0,xe=1;xe<=67108863;xe*=le)he++;he--,xe=xe/le|0;for(var $e=ve.length-ae,He=$e%he,Fe=Math.min($e,$e-He)+ae,Ne=0,De=ae;De<Fe;De+=he)Ne=ne(ve,De,De+he,le),this.imuln(xe),this.words[0]+Ne<67108864?this.words[0]+=Ne:this._iaddn(Ne);if(He!==0){var pe=1;for(Ne=ne(ve,De,ve.length,le),De=0;De<He;De++)pe*=le;this.imuln(pe),this.words[0]+Ne<67108864?this.words[0]+=Ne:this._iaddn(Ne)}this.strip()},ee.prototype.copy=function(ve){ve.words=new Array(this.length);for(var le=0;le<this.length;le++)ve.words[le]=this.words[le];ve.length=this.length,ve.negative=this.negative,ve.red=this.red},ee.prototype.clone=function(){var ve=new ee(null);return this.copy(ve),ve},ee.prototype._expand=function(ve){for(;this.length<ve;)this.words[this.length++]=0;return this},ee.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},ee.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},ee.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var ie=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],se=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],fe=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];ee.prototype.toString=function(ve,le){ve=ve||10,le=le|0||1;var ae;if(ve===16||ve==="hex"){ae="";for(var he=0,xe=0,$e=0;$e<this.length;$e++){var He=this.words[$e],Fe=((He<<he|xe)&16777215).toString(16);xe=He>>>24-he&16777215,xe!==0||$e!==this.length-1?ae=ie[6-Fe.length]+Fe+ae:ae=Fe+ae,he+=2,he>=26&&(he-=26,$e--)}for(xe!==0&&(ae=xe.toString(16)+ae);ae.length%le!==0;)ae="0"+ae;return this.negative!==0&&(ae="-"+ae),ae}if(ve===(ve|0)&&ve>=2&&ve<=36){var Ne=se[ve],De=fe[ve];ae="";var pe=this.clone();for(pe.negative=0;!pe.isZero();){var Le=pe.modn(De).toString(ve);pe=pe.idivn(De),pe.isZero()?ae=Le+ae:ae=ie[Ne-Le.length]+Le+ae}for(this.isZero()&&(ae="0"+ae);ae.length%le!==0;)ae="0"+ae;return this.negative!==0&&(ae="-"+ae),ae}m(!1,"Base should be between 2 and 36")},ee.prototype.toNumber=function(){var ve=this.words[0];return this.length===2?ve+=this.words[1]*67108864:this.length===3&&this.words[2]===1?ve+=4503599627370496+this.words[1]*67108864:this.length>2&&m(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-ve:ve},ee.prototype.toJSON=function(){return this.toString(16)},ee.prototype.toBuffer=function(ve,le){return m(typeof te<"u"),this.toArrayLike(te,ve,le)},ee.prototype.toArray=function(ve,le){return this.toArrayLike(Array,ve,le)},ee.prototype.toArrayLike=function(ve,le,ae){var he=this.byteLength(),xe=ae||Math.max(1,he);m(he<=xe,"byte array longer than desired length"),m(xe>0,"Requested array length <= 0"),this.strip();var $e=le==="le",He=new ve(xe),Fe,Ne,De=this.clone();if($e){for(Ne=0;!De.isZero();Ne++)Fe=De.andln(255),De.iushrn(8),He[Ne]=Fe;for(;Ne<xe;Ne++)He[Ne]=0}else{for(Ne=0;Ne<xe-he;Ne++)He[Ne]=0;for(Ne=0;!De.isZero();Ne++)Fe=De.andln(255),De.iushrn(8),He[xe-Ne-1]=Fe}return He},Math.clz32?ee.prototype._countBits=function(ve){return 32-Math.clz32(ve)}:ee.prototype._countBits=function(ve){var le=ve,ae=0;return le>=4096&&(ae+=13,le>>>=13),le>=64&&(ae+=7,le>>>=7),le>=8&&(ae+=4,le>>>=4),le>=2&&(ae+=2,le>>>=2),ae+le},ee.prototype._zeroBits=function(ve){if(ve===0)return 26;var le=ve,ae=0;return(le&8191)===0&&(ae+=13,le>>>=13),(le&127)===0&&(ae+=7,le>>>=7),(le&15)===0&&(ae+=4,le>>>=4),(le&3)===0&&(ae+=2,le>>>=2),(le&1)===0&&ae++,ae},ee.prototype.bitLength=function(){var ve=this.words[this.length-1],le=this._countBits(ve);return(this.length-1)*26+le};function ce(Pe){for(var ve=new Array(Pe.bitLength()),le=0;le<ve.length;le++){var ae=le/26|0,he=le%26;ve[le]=(Pe.words[ae]&1<<he)>>>he}return ve}ee.prototype.zeroBits=function(){if(this.isZero())return 0;for(var ve=0,le=0;le<this.length;le++){var ae=this._zeroBits(this.words[le]);if(ve+=ae,ae!==26)break}return ve},ee.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},ee.prototype.toTwos=function(ve){return this.negative!==0?this.abs().inotn(ve).iaddn(1):this.clone()},ee.prototype.fromTwos=function(ve){return this.testn(ve-1)?this.notn(ve).iaddn(1).ineg():this.clone()},ee.prototype.isNeg=function(){return this.negative!==0},ee.prototype.neg=function(){return this.clone().ineg()},ee.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},ee.prototype.iuor=function(ve){for(;this.length<ve.length;)this.words[this.length++]=0;for(var le=0;le<ve.length;le++)this.words[le]=this.words[le]|ve.words[le];return this.strip()},ee.prototype.ior=function(ve){return m((this.negative|ve.negative)===0),this.iuor(ve)},ee.prototype.or=function(ve){return this.length>ve.length?this.clone().ior(ve):ve.clone().ior(this)},ee.prototype.uor=function(ve){return this.length>ve.length?this.clone().iuor(ve):ve.clone().iuor(this)},ee.prototype.iuand=function(ve){var le;this.length>ve.length?le=ve:le=this;for(var ae=0;ae<le.length;ae++)this.words[ae]=this.words[ae]&ve.words[ae];return this.length=le.length,this.strip()},ee.prototype.iand=function(ve){return m((this.negative|ve.negative)===0),this.iuand(ve)},ee.prototype.and=function(ve){return this.length>ve.length?this.clone().iand(ve):ve.clone().iand(this)},ee.prototype.uand=function(ve){return this.length>ve.length?this.clone().iuand(ve):ve.clone().iuand(this)},ee.prototype.iuxor=function(ve){var le,ae;this.length>ve.length?(le=this,ae=ve):(le=ve,ae=this);for(var he=0;he<ae.length;he++)this.words[he]=le.words[he]^ae.words[he];if(this!==le)for(;he<le.length;he++)this.words[he]=le.words[he];return this.length=le.length,this.strip()},ee.prototype.ixor=function(ve){return m((this.negative|ve.negative)===0),this.iuxor(ve)},ee.prototype.xor=function(ve){return this.length>ve.length?this.clone().ixor(ve):ve.clone().ixor(this)},ee.prototype.uxor=function(ve){return this.length>ve.length?this.clone().iuxor(ve):ve.clone().iuxor(this)},ee.prototype.inotn=function(ve){m(typeof ve=="number"&&ve>=0);var le=Math.ceil(ve/26)|0,ae=ve%26;this._expand(le),ae>0&&le--;for(var he=0;he<le;he++)this.words[he]=~this.words[he]&67108863;return ae>0&&(this.words[he]=~this.words[he]&67108863>>26-ae),this.strip()},ee.prototype.notn=function(ve){return this.clone().inotn(ve)},ee.prototype.setn=function(ve,le){m(typeof ve=="number"&&ve>=0);var ae=ve/26|0,he=ve%26;return this._expand(ae+1),le?this.words[ae]=this.words[ae]|1<<he:this.words[ae]=this.words[ae]&~(1<<he),this.strip()},ee.prototype.iadd=function(ve){var le;if(this.negative!==0&&ve.negative===0)return this.negative=0,le=this.isub(ve),this.negative^=1,this._normSign();if(this.negative===0&&ve.negative!==0)return ve.negative=0,le=this.isub(ve),ve.negative=1,le._normSign();var ae,he;this.length>ve.length?(ae=this,he=ve):(ae=ve,he=this);for(var xe=0,$e=0;$e<he.length;$e++)le=(ae.words[$e]|0)+(he.words[$e]|0)+xe,this.words[$e]=le&67108863,xe=le>>>26;for(;xe!==0&&$e<ae.length;$e++)le=(ae.words[$e]|0)+xe,this.words[$e]=le&67108863,xe=le>>>26;if(this.length=ae.length,xe!==0)this.words[this.length]=xe,this.length++;else if(ae!==this)for(;$e<ae.length;$e++)this.words[$e]=ae.words[$e];return this},ee.prototype.add=function(ve){var le;return ve.negative!==0&&this.negative===0?(ve.negative=0,le=this.sub(ve),ve.negative^=1,le):ve.negative===0&&this.negative!==0?(this.negative=0,le=ve.sub(this),this.negative=1,le):this.length>ve.length?this.clone().iadd(ve):ve.clone().iadd(this)},ee.prototype.isub=function(ve){if(ve.negative!==0){ve.negative=0;var le=this.iadd(ve);return ve.negative=1,le._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(ve),this.negative=1,this._normSign();var ae=this.cmp(ve);if(ae===0)return this.negative=0,this.length=1,this.words[0]=0,this;var he,xe;ae>0?(he=this,xe=ve):(he=ve,xe=this);for(var $e=0,He=0;He<xe.length;He++)le=(he.words[He]|0)-(xe.words[He]|0)+$e,$e=le>>26,this.words[He]=le&67108863;for(;$e!==0&&He<he.length;He++)le=(he.words[He]|0)+$e,$e=le>>26,this.words[He]=le&67108863;if($e===0&&He<he.length&&he!==this)for(;He<he.length;He++)this.words[He]=he.words[He];return this.length=Math.max(this.length,He),he!==this&&(this.negative=1),this.strip()},ee.prototype.sub=function(ve){return this.clone().isub(ve)};function de(Pe,ve,le){le.negative=ve.negative^Pe.negative;var ae=Pe.length+ve.length|0;le.length=ae,ae=ae-1|0;var he=Pe.words[0]|0,xe=ve.words[0]|0,$e=he*xe,He=$e&67108863,Fe=$e/67108864|0;le.words[0]=He;for(var Ne=1;Ne<ae;Ne++){for(var De=Fe>>>26,pe=Fe&67108863,Le=Math.min(Ne,ve.length-1),Be=Math.max(0,Ne-Pe.length+1);Be<=Le;Be++){var Ce=Ne-Be|0;he=Pe.words[Ce]|0,xe=ve.words[Be]|0,$e=he*xe+pe,De+=$e/67108864|0,pe=$e&67108863}le.words[Ne]=pe|0,Fe=De|0}return Fe!==0?le.words[Ne]=Fe|0:le.length--,le.strip()}var ye=function(ve,le,ae){var he=ve.words,xe=le.words,$e=ae.words,He=0,Fe,Ne,De,pe=he[0]|0,Le=pe&8191,Be=pe>>>13,Ce=he[1]|0,Ze=Ce&8191,it=Ce>>>13,rt=he[2]|0,Oe=rt&8191,Ve=rt>>>13,We=he[3]|0,qe=We&8191,Ge=We>>>13,Qe=he[4]|0,ct=Qe&8191,ft=Qe>>>13,bt=he[5]|0,St=bt&8191,xt=bt>>>13,$t=he[6]|0,It=$t&8191,Et=$t>>>13,At=he[7]|0,kt=At&8191,Kt=At>>>13,lt=he[8]|0,Se=lt&8191,me=lt>>>13,be=he[9]|0,Ye=be&8191,ut=be>>>13,yt=xe[0]|0,wt=yt&8191,Ut=yt>>>13,Xt=xe[1]|0,Ct=Xt&8191,Ht=Xt>>>13,Yt=xe[2]|0,ar=Yt&8191,tr=Yt>>>13,vr=xe[3]|0,ur=vr&8191,Sr=vr>>>13,Ar=xe[4]|0,$r=Ar&8191,kr=Ar>>>13,ir=xe[5]|0,pr=ir&8191,Ir=ir>>>13,Pr=xe[6]|0,Rr=Pr&8191,Ft=Pr>>>13,je=xe[7]|0,Xe=je&8191,ot=je>>>13,Ke=xe[8]|0,pt=Ke&8191,gt=Ke>>>13,Tt=xe[9]|0,Rt=Tt&8191,Mt=Tt>>>13;ae.negative=ve.negative^le.negative,ae.length=19,Fe=Math.imul(Le,wt),Ne=Math.imul(Le,Ut),Ne=Ne+Math.imul(Be,wt)|0,De=Math.imul(Be,Ut);var zt=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(zt>>>26)|0,zt&=67108863,Fe=Math.imul(Ze,wt),Ne=Math.imul(Ze,Ut),Ne=Ne+Math.imul(it,wt)|0,De=Math.imul(it,Ut),Fe=Fe+Math.imul(Le,Ct)|0,Ne=Ne+Math.imul(Le,Ht)|0,Ne=Ne+Math.imul(Be,Ct)|0,De=De+Math.imul(Be,Ht)|0;var Lt=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,Fe=Math.imul(Oe,wt),Ne=Math.imul(Oe,Ut),Ne=Ne+Math.imul(Ve,wt)|0,De=Math.imul(Ve,Ut),Fe=Fe+Math.imul(Ze,Ct)|0,Ne=Ne+Math.imul(Ze,Ht)|0,Ne=Ne+Math.imul(it,Ct)|0,De=De+Math.imul(it,Ht)|0,Fe=Fe+Math.imul(Le,ar)|0,Ne=Ne+Math.imul(Le,tr)|0,Ne=Ne+Math.imul(Be,ar)|0,De=De+Math.imul(Be,tr)|0;var er=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(er>>>26)|0,er&=67108863,Fe=Math.imul(qe,wt),Ne=Math.imul(qe,Ut),Ne=Ne+Math.imul(Ge,wt)|0,De=Math.imul(Ge,Ut),Fe=Fe+Math.imul(Oe,Ct)|0,Ne=Ne+Math.imul(Oe,Ht)|0,Ne=Ne+Math.imul(Ve,Ct)|0,De=De+Math.imul(Ve,Ht)|0,Fe=Fe+Math.imul(Ze,ar)|0,Ne=Ne+Math.imul(Ze,tr)|0,Ne=Ne+Math.imul(it,ar)|0,De=De+Math.imul(it,tr)|0,Fe=Fe+Math.imul(Le,ur)|0,Ne=Ne+Math.imul(Le,Sr)|0,Ne=Ne+Math.imul(Be,ur)|0,De=De+Math.imul(Be,Sr)|0;var lr=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(lr>>>26)|0,lr&=67108863,Fe=Math.imul(ct,wt),Ne=Math.imul(ct,Ut),Ne=Ne+Math.imul(ft,wt)|0,De=Math.imul(ft,Ut),Fe=Fe+Math.imul(qe,Ct)|0,Ne=Ne+Math.imul(qe,Ht)|0,Ne=Ne+Math.imul(Ge,Ct)|0,De=De+Math.imul(Ge,Ht)|0,Fe=Fe+Math.imul(Oe,ar)|0,Ne=Ne+Math.imul(Oe,tr)|0,Ne=Ne+Math.imul(Ve,ar)|0,De=De+Math.imul(Ve,tr)|0,Fe=Fe+Math.imul(Ze,ur)|0,Ne=Ne+Math.imul(Ze,Sr)|0,Ne=Ne+Math.imul(it,ur)|0,De=De+Math.imul(it,Sr)|0,Fe=Fe+Math.imul(Le,$r)|0,Ne=Ne+Math.imul(Le,kr)|0,Ne=Ne+Math.imul(Be,$r)|0,De=De+Math.imul(Be,kr)|0;var Er=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Er>>>26)|0,Er&=67108863,Fe=Math.imul(St,wt),Ne=Math.imul(St,Ut),Ne=Ne+Math.imul(xt,wt)|0,De=Math.imul(xt,Ut),Fe=Fe+Math.imul(ct,Ct)|0,Ne=Ne+Math.imul(ct,Ht)|0,Ne=Ne+Math.imul(ft,Ct)|0,De=De+Math.imul(ft,Ht)|0,Fe=Fe+Math.imul(qe,ar)|0,Ne=Ne+Math.imul(qe,tr)|0,Ne=Ne+Math.imul(Ge,ar)|0,De=De+Math.imul(Ge,tr)|0,Fe=Fe+Math.imul(Oe,ur)|0,Ne=Ne+Math.imul(Oe,Sr)|0,Ne=Ne+Math.imul(Ve,ur)|0,De=De+Math.imul(Ve,Sr)|0,Fe=Fe+Math.imul(Ze,$r)|0,Ne=Ne+Math.imul(Ze,kr)|0,Ne=Ne+Math.imul(it,$r)|0,De=De+Math.imul(it,kr)|0,Fe=Fe+Math.imul(Le,pr)|0,Ne=Ne+Math.imul(Le,Ir)|0,Ne=Ne+Math.imul(Be,pr)|0,De=De+Math.imul(Be,Ir)|0;var or=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(or>>>26)|0,or&=67108863,Fe=Math.imul(It,wt),Ne=Math.imul(It,Ut),Ne=Ne+Math.imul(Et,wt)|0,De=Math.imul(Et,Ut),Fe=Fe+Math.imul(St,Ct)|0,Ne=Ne+Math.imul(St,Ht)|0,Ne=Ne+Math.imul(xt,Ct)|0,De=De+Math.imul(xt,Ht)|0,Fe=Fe+Math.imul(ct,ar)|0,Ne=Ne+Math.imul(ct,tr)|0,Ne=Ne+Math.imul(ft,ar)|0,De=De+Math.imul(ft,tr)|0,Fe=Fe+Math.imul(qe,ur)|0,Ne=Ne+Math.imul(qe,Sr)|0,Ne=Ne+Math.imul(Ge,ur)|0,De=De+Math.imul(Ge,Sr)|0,Fe=Fe+Math.imul(Oe,$r)|0,Ne=Ne+Math.imul(Oe,kr)|0,Ne=Ne+Math.imul(Ve,$r)|0,De=De+Math.imul(Ve,kr)|0,Fe=Fe+Math.imul(Ze,pr)|0,Ne=Ne+Math.imul(Ze,Ir)|0,Ne=Ne+Math.imul(it,pr)|0,De=De+Math.imul(it,Ir)|0,Fe=Fe+Math.imul(Le,Rr)|0,Ne=Ne+Math.imul(Le,Ft)|0,Ne=Ne+Math.imul(Be,Rr)|0,De=De+Math.imul(Be,Ft)|0;var Tr=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,Fe=Math.imul(kt,wt),Ne=Math.imul(kt,Ut),Ne=Ne+Math.imul(Kt,wt)|0,De=Math.imul(Kt,Ut),Fe=Fe+Math.imul(It,Ct)|0,Ne=Ne+Math.imul(It,Ht)|0,Ne=Ne+Math.imul(Et,Ct)|0,De=De+Math.imul(Et,Ht)|0,Fe=Fe+Math.imul(St,ar)|0,Ne=Ne+Math.imul(St,tr)|0,Ne=Ne+Math.imul(xt,ar)|0,De=De+Math.imul(xt,tr)|0,Fe=Fe+Math.imul(ct,ur)|0,Ne=Ne+Math.imul(ct,Sr)|0,Ne=Ne+Math.imul(ft,ur)|0,De=De+Math.imul(ft,Sr)|0,Fe=Fe+Math.imul(qe,$r)|0,Ne=Ne+Math.imul(qe,kr)|0,Ne=Ne+Math.imul(Ge,$r)|0,De=De+Math.imul(Ge,kr)|0,Fe=Fe+Math.imul(Oe,pr)|0,Ne=Ne+Math.imul(Oe,Ir)|0,Ne=Ne+Math.imul(Ve,pr)|0,De=De+Math.imul(Ve,Ir)|0,Fe=Fe+Math.imul(Ze,Rr)|0,Ne=Ne+Math.imul(Ze,Ft)|0,Ne=Ne+Math.imul(it,Rr)|0,De=De+Math.imul(it,Ft)|0,Fe=Fe+Math.imul(Le,Xe)|0,Ne=Ne+Math.imul(Le,ot)|0,Ne=Ne+Math.imul(Be,Xe)|0,De=De+Math.imul(Be,ot)|0;var Jt=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,Fe=Math.imul(Se,wt),Ne=Math.imul(Se,Ut),Ne=Ne+Math.imul(me,wt)|0,De=Math.imul(me,Ut),Fe=Fe+Math.imul(kt,Ct)|0,Ne=Ne+Math.imul(kt,Ht)|0,Ne=Ne+Math.imul(Kt,Ct)|0,De=De+Math.imul(Kt,Ht)|0,Fe=Fe+Math.imul(It,ar)|0,Ne=Ne+Math.imul(It,tr)|0,Ne=Ne+Math.imul(Et,ar)|0,De=De+Math.imul(Et,tr)|0,Fe=Fe+Math.imul(St,ur)|0,Ne=Ne+Math.imul(St,Sr)|0,Ne=Ne+Math.imul(xt,ur)|0,De=De+Math.imul(xt,Sr)|0,Fe=Fe+Math.imul(ct,$r)|0,Ne=Ne+Math.imul(ct,kr)|0,Ne=Ne+Math.imul(ft,$r)|0,De=De+Math.imul(ft,kr)|0,Fe=Fe+Math.imul(qe,pr)|0,Ne=Ne+Math.imul(qe,Ir)|0,Ne=Ne+Math.imul(Ge,pr)|0,De=De+Math.imul(Ge,Ir)|0,Fe=Fe+Math.imul(Oe,Rr)|0,Ne=Ne+Math.imul(Oe,Ft)|0,Ne=Ne+Math.imul(Ve,Rr)|0,De=De+Math.imul(Ve,Ft)|0,Fe=Fe+Math.imul(Ze,Xe)|0,Ne=Ne+Math.imul(Ze,ot)|0,Ne=Ne+Math.imul(it,Xe)|0,De=De+Math.imul(it,ot)|0,Fe=Fe+Math.imul(Le,pt)|0,Ne=Ne+Math.imul(Le,gt)|0,Ne=Ne+Math.imul(Be,pt)|0,De=De+Math.imul(Be,gt)|0;var Dt=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,Fe=Math.imul(Ye,wt),Ne=Math.imul(Ye,Ut),Ne=Ne+Math.imul(ut,wt)|0,De=Math.imul(ut,Ut),Fe=Fe+Math.imul(Se,Ct)|0,Ne=Ne+Math.imul(Se,Ht)|0,Ne=Ne+Math.imul(me,Ct)|0,De=De+Math.imul(me,Ht)|0,Fe=Fe+Math.imul(kt,ar)|0,Ne=Ne+Math.imul(kt,tr)|0,Ne=Ne+Math.imul(Kt,ar)|0,De=De+Math.imul(Kt,tr)|0,Fe=Fe+Math.imul(It,ur)|0,Ne=Ne+Math.imul(It,Sr)|0,Ne=Ne+Math.imul(Et,ur)|0,De=De+Math.imul(Et,Sr)|0,Fe=Fe+Math.imul(St,$r)|0,Ne=Ne+Math.imul(St,kr)|0,Ne=Ne+Math.imul(xt,$r)|0,De=De+Math.imul(xt,kr)|0,Fe=Fe+Math.imul(ct,pr)|0,Ne=Ne+Math.imul(ct,Ir)|0,Ne=Ne+Math.imul(ft,pr)|0,De=De+Math.imul(ft,Ir)|0,Fe=Fe+Math.imul(qe,Rr)|0,Ne=Ne+Math.imul(qe,Ft)|0,Ne=Ne+Math.imul(Ge,Rr)|0,De=De+Math.imul(Ge,Ft)|0,Fe=Fe+Math.imul(Oe,Xe)|0,Ne=Ne+Math.imul(Oe,ot)|0,Ne=Ne+Math.imul(Ve,Xe)|0,De=De+Math.imul(Ve,ot)|0,Fe=Fe+Math.imul(Ze,pt)|0,Ne=Ne+Math.imul(Ze,gt)|0,Ne=Ne+Math.imul(it,pt)|0,De=De+Math.imul(it,gt)|0,Fe=Fe+Math.imul(Le,Rt)|0,Ne=Ne+Math.imul(Le,Mt)|0,Ne=Ne+Math.imul(Be,Rt)|0,De=De+Math.imul(Be,Mt)|0;var Qt=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,Fe=Math.imul(Ye,Ct),Ne=Math.imul(Ye,Ht),Ne=Ne+Math.imul(ut,Ct)|0,De=Math.imul(ut,Ht),Fe=Fe+Math.imul(Se,ar)|0,Ne=Ne+Math.imul(Se,tr)|0,Ne=Ne+Math.imul(me,ar)|0,De=De+Math.imul(me,tr)|0,Fe=Fe+Math.imul(kt,ur)|0,Ne=Ne+Math.imul(kt,Sr)|0,Ne=Ne+Math.imul(Kt,ur)|0,De=De+Math.imul(Kt,Sr)|0,Fe=Fe+Math.imul(It,$r)|0,Ne=Ne+Math.imul(It,kr)|0,Ne=Ne+Math.imul(Et,$r)|0,De=De+Math.imul(Et,kr)|0,Fe=Fe+Math.imul(St,pr)|0,Ne=Ne+Math.imul(St,Ir)|0,Ne=Ne+Math.imul(xt,pr)|0,De=De+Math.imul(xt,Ir)|0,Fe=Fe+Math.imul(ct,Rr)|0,Ne=Ne+Math.imul(ct,Ft)|0,Ne=Ne+Math.imul(ft,Rr)|0,De=De+Math.imul(ft,Ft)|0,Fe=Fe+Math.imul(qe,Xe)|0,Ne=Ne+Math.imul(qe,ot)|0,Ne=Ne+Math.imul(Ge,Xe)|0,De=De+Math.imul(Ge,ot)|0,Fe=Fe+Math.imul(Oe,pt)|0,Ne=Ne+Math.imul(Oe,gt)|0,Ne=Ne+Math.imul(Ve,pt)|0,De=De+Math.imul(Ve,gt)|0,Fe=Fe+Math.imul(Ze,Rt)|0,Ne=Ne+Math.imul(Ze,Mt)|0,Ne=Ne+Math.imul(it,Rt)|0,De=De+Math.imul(it,Mt)|0;var Pt=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,Fe=Math.imul(Ye,ar),Ne=Math.imul(Ye,tr),Ne=Ne+Math.imul(ut,ar)|0,De=Math.imul(ut,tr),Fe=Fe+Math.imul(Se,ur)|0,Ne=Ne+Math.imul(Se,Sr)|0,Ne=Ne+Math.imul(me,ur)|0,De=De+Math.imul(me,Sr)|0,Fe=Fe+Math.imul(kt,$r)|0,Ne=Ne+Math.imul(kt,kr)|0,Ne=Ne+Math.imul(Kt,$r)|0,De=De+Math.imul(Kt,kr)|0,Fe=Fe+Math.imul(It,pr)|0,Ne=Ne+Math.imul(It,Ir)|0,Ne=Ne+Math.imul(Et,pr)|0,De=De+Math.imul(Et,Ir)|0,Fe=Fe+Math.imul(St,Rr)|0,Ne=Ne+Math.imul(St,Ft)|0,Ne=Ne+Math.imul(xt,Rr)|0,De=De+Math.imul(xt,Ft)|0,Fe=Fe+Math.imul(ct,Xe)|0,Ne=Ne+Math.imul(ct,ot)|0,Ne=Ne+Math.imul(ft,Xe)|0,De=De+Math.imul(ft,ot)|0,Fe=Fe+Math.imul(qe,pt)|0,Ne=Ne+Math.imul(qe,gt)|0,Ne=Ne+Math.imul(Ge,pt)|0,De=De+Math.imul(Ge,gt)|0,Fe=Fe+Math.imul(Oe,Rt)|0,Ne=Ne+Math.imul(Oe,Mt)|0,Ne=Ne+Math.imul(Ve,Rt)|0,De=De+Math.imul(Ve,Mt)|0;var Ot=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,Fe=Math.imul(Ye,ur),Ne=Math.imul(Ye,Sr),Ne=Ne+Math.imul(ut,ur)|0,De=Math.imul(ut,Sr),Fe=Fe+Math.imul(Se,$r)|0,Ne=Ne+Math.imul(Se,kr)|0,Ne=Ne+Math.imul(me,$r)|0,De=De+Math.imul(me,kr)|0,Fe=Fe+Math.imul(kt,pr)|0,Ne=Ne+Math.imul(kt,Ir)|0,Ne=Ne+Math.imul(Kt,pr)|0,De=De+Math.imul(Kt,Ir)|0,Fe=Fe+Math.imul(It,Rr)|0,Ne=Ne+Math.imul(It,Ft)|0,Ne=Ne+Math.imul(Et,Rr)|0,De=De+Math.imul(Et,Ft)|0,Fe=Fe+Math.imul(St,Xe)|0,Ne=Ne+Math.imul(St,ot)|0,Ne=Ne+Math.imul(xt,Xe)|0,De=De+Math.imul(xt,ot)|0,Fe=Fe+Math.imul(ct,pt)|0,Ne=Ne+Math.imul(ct,gt)|0,Ne=Ne+Math.imul(ft,pt)|0,De=De+Math.imul(ft,gt)|0,Fe=Fe+Math.imul(qe,Rt)|0,Ne=Ne+Math.imul(qe,Mt)|0,Ne=Ne+Math.imul(Ge,Rt)|0,De=De+Math.imul(Ge,Mt)|0;var Bt=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,Fe=Math.imul(Ye,$r),Ne=Math.imul(Ye,kr),Ne=Ne+Math.imul(ut,$r)|0,De=Math.imul(ut,kr),Fe=Fe+Math.imul(Se,pr)|0,Ne=Ne+Math.imul(Se,Ir)|0,Ne=Ne+Math.imul(me,pr)|0,De=De+Math.imul(me,Ir)|0,Fe=Fe+Math.imul(kt,Rr)|0,Ne=Ne+Math.imul(kt,Ft)|0,Ne=Ne+Math.imul(Kt,Rr)|0,De=De+Math.imul(Kt,Ft)|0,Fe=Fe+Math.imul(It,Xe)|0,Ne=Ne+Math.imul(It,ot)|0,Ne=Ne+Math.imul(Et,Xe)|0,De=De+Math.imul(Et,ot)|0,Fe=Fe+Math.imul(St,pt)|0,Ne=Ne+Math.imul(St,gt)|0,Ne=Ne+Math.imul(xt,pt)|0,De=De+Math.imul(xt,gt)|0,Fe=Fe+Math.imul(ct,Rt)|0,Ne=Ne+Math.imul(ct,Mt)|0,Ne=Ne+Math.imul(ft,Rt)|0,De=De+Math.imul(ft,Mt)|0;var nr=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(nr>>>26)|0,nr&=67108863,Fe=Math.imul(Ye,pr),Ne=Math.imul(Ye,Ir),Ne=Ne+Math.imul(ut,pr)|0,De=Math.imul(ut,Ir),Fe=Fe+Math.imul(Se,Rr)|0,Ne=Ne+Math.imul(Se,Ft)|0,Ne=Ne+Math.imul(me,Rr)|0,De=De+Math.imul(me,Ft)|0,Fe=Fe+Math.imul(kt,Xe)|0,Ne=Ne+Math.imul(kt,ot)|0,Ne=Ne+Math.imul(Kt,Xe)|0,De=De+Math.imul(Kt,ot)|0,Fe=Fe+Math.imul(It,pt)|0,Ne=Ne+Math.imul(It,gt)|0,Ne=Ne+Math.imul(Et,pt)|0,De=De+Math.imul(Et,gt)|0,Fe=Fe+Math.imul(St,Rt)|0,Ne=Ne+Math.imul(St,Mt)|0,Ne=Ne+Math.imul(xt,Rt)|0,De=De+Math.imul(xt,Mt)|0;var dr=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(dr>>>26)|0,dr&=67108863,Fe=Math.imul(Ye,Rr),Ne=Math.imul(Ye,Ft),Ne=Ne+Math.imul(ut,Rr)|0,De=Math.imul(ut,Ft),Fe=Fe+Math.imul(Se,Xe)|0,Ne=Ne+Math.imul(Se,ot)|0,Ne=Ne+Math.imul(me,Xe)|0,De=De+Math.imul(me,ot)|0,Fe=Fe+Math.imul(kt,pt)|0,Ne=Ne+Math.imul(kt,gt)|0,Ne=Ne+Math.imul(Kt,pt)|0,De=De+Math.imul(Kt,gt)|0,Fe=Fe+Math.imul(It,Rt)|0,Ne=Ne+Math.imul(It,Mt)|0,Ne=Ne+Math.imul(Et,Rt)|0,De=De+Math.imul(Et,Mt)|0;var sr=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(sr>>>26)|0,sr&=67108863,Fe=Math.imul(Ye,Xe),Ne=Math.imul(Ye,ot),Ne=Ne+Math.imul(ut,Xe)|0,De=Math.imul(ut,ot),Fe=Fe+Math.imul(Se,pt)|0,Ne=Ne+Math.imul(Se,gt)|0,Ne=Ne+Math.imul(me,pt)|0,De=De+Math.imul(me,gt)|0,Fe=Fe+Math.imul(kt,Rt)|0,Ne=Ne+Math.imul(kt,Mt)|0,Ne=Ne+Math.imul(Kt,Rt)|0,De=De+Math.imul(Kt,Mt)|0;var gr=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(gr>>>26)|0,gr&=67108863,Fe=Math.imul(Ye,pt),Ne=Math.imul(Ye,gt),Ne=Ne+Math.imul(ut,pt)|0,De=Math.imul(ut,gt),Fe=Fe+Math.imul(Se,Rt)|0,Ne=Ne+Math.imul(Se,Mt)|0,Ne=Ne+Math.imul(me,Rt)|0,De=De+Math.imul(me,Mt)|0;var Zt=(He+Fe|0)+((Ne&8191)<<13)|0;He=(De+(Ne>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,Fe=Math.imul(Ye,Rt),Ne=Math.imul(Ye,Mt),Ne=Ne+Math.imul(ut,Rt)|0,De=Math.imul(ut,Mt);var rr=(He+Fe|0)+((Ne&8191)<<13)|0;return He=(De+(Ne>>>13)|0)+(rr>>>26)|0,rr&=67108863,$e[0]=zt,$e[1]=Lt,$e[2]=er,$e[3]=lr,$e[4]=Er,$e[5]=or,$e[6]=Tr,$e[7]=Jt,$e[8]=Dt,$e[9]=Qt,$e[10]=Pt,$e[11]=Ot,$e[12]=Bt,$e[13]=nr,$e[14]=dr,$e[15]=sr,$e[16]=gr,$e[17]=Zt,$e[18]=rr,He!==0&&($e[19]=He,ae.length++),ae};Math.imul||(ye=de);function ge(Pe,ve,le){le.negative=ve.negative^Pe.negative,le.length=Pe.length+ve.length;for(var ae=0,he=0,xe=0;xe<le.length-1;xe++){var $e=he;he=0;for(var He=ae&67108863,Fe=Math.min(xe,ve.length-1),Ne=Math.max(0,xe-Pe.length+1);Ne<=Fe;Ne++){var De=xe-Ne,pe=Pe.words[De]|0,Le=ve.words[Ne]|0,Be=pe*Le,Ce=Be&67108863;$e=$e+(Be/67108864|0)|0,Ce=Ce+He|0,He=Ce&67108863,$e=$e+(Ce>>>26)|0,he+=$e>>>26,$e&=67108863}le.words[xe]=He,ae=$e,$e=he}return ae!==0?le.words[xe]=ae:le.length--,le.strip()}function _e(Pe,ve,le){var ae=new Ee;return ae.mulp(Pe,ve,le)}ee.prototype.mulTo=function(ve,le){var ae,he=this.length+ve.length;return this.length===10&&ve.length===10?ae=ye(this,ve,le):he<63?ae=de(this,ve,le):he<1024?ae=ge(this,ve,le):ae=_e(this,ve,le),ae};function Ee(Pe,ve){this.x=Pe,this.y=ve}Ee.prototype.makeRBT=function(ve){for(var le=new Array(ve),ae=ee.prototype._countBits(ve)-1,he=0;he<ve;he++)le[he]=this.revBin(he,ae,ve);return le},Ee.prototype.revBin=function(ve,le,ae){if(ve===0||ve===ae-1)return ve;for(var he=0,xe=0;xe<le;xe++)he|=(ve&1)<<le-xe-1,ve>>=1;return he},Ee.prototype.permute=function(ve,le,ae,he,xe,$e){for(var He=0;He<$e;He++)he[He]=le[ve[He]],xe[He]=ae[ve[He]]},Ee.prototype.transform=function(ve,le,ae,he,xe,$e){this.permute($e,ve,le,ae,he,xe);for(var He=1;He<xe;He<<=1)for(var Fe=He<<1,Ne=Math.cos(2*Math.PI/Fe),De=Math.sin(2*Math.PI/Fe),pe=0;pe<xe;pe+=Fe)for(var Le=Ne,Be=De,Ce=0;Ce<He;Ce++){var Ze=ae[pe+Ce],it=he[pe+Ce],rt=ae[pe+Ce+He],Oe=he[pe+Ce+He],Ve=Le*rt-Be*Oe;Oe=Le*Oe+Be*rt,rt=Ve,ae[pe+Ce]=Ze+rt,he[pe+Ce]=it+Oe,ae[pe+Ce+He]=Ze-rt,he[pe+Ce+He]=it-Oe,Ce!==Fe&&(Ve=Ne*Le-De*Be,Be=Ne*Be+De*Le,Le=Ve)}},Ee.prototype.guessLen13b=function(ve,le){var ae=Math.max(le,ve)|1,he=ae&1,xe=0;for(ae=ae/2|0;ae;ae=ae>>>1)xe++;return 1<<xe+1+he},Ee.prototype.conjugate=function(ve,le,ae){if(!(ae<=1))for(var he=0;he<ae/2;he++){var xe=ve[he];ve[he]=ve[ae-he-1],ve[ae-he-1]=xe,xe=le[he],le[he]=-le[ae-he-1],le[ae-he-1]=-xe}},Ee.prototype.normalize13b=function(ve,le){for(var ae=0,he=0;he<le/2;he++){var xe=Math.round(ve[2*he+1]/le)*8192+Math.round(ve[2*he]/le)+ae;ve[he]=xe&67108863,xe<67108864?ae=0:ae=xe/67108864|0}return ve},Ee.prototype.convert13b=function(ve,le,ae,he){for(var xe=0,$e=0;$e<le;$e++)xe=xe+(ve[$e]|0),ae[2*$e]=xe&8191,xe=xe>>>13,ae[2*$e+1]=xe&8191,xe=xe>>>13;for($e=2*le;$e<he;++$e)ae[$e]=0;m(xe===0),m((xe&-8192)===0)},Ee.prototype.stub=function(ve){for(var le=new Array(ve),ae=0;ae<ve;ae++)le[ae]=0;return le},Ee.prototype.mulp=function(ve,le,ae){var he=2*this.guessLen13b(ve.length,le.length),xe=this.makeRBT(he),$e=this.stub(he),He=new Array(he),Fe=new Array(he),Ne=new Array(he),De=new Array(he),pe=new Array(he),Le=new Array(he),Be=ae.words;Be.length=he,this.convert13b(ve.words,ve.length,He,he),this.convert13b(le.words,le.length,De,he),this.transform(He,$e,Fe,Ne,he,xe),this.transform(De,$e,pe,Le,he,xe);for(var Ce=0;Ce<he;Ce++){var Ze=Fe[Ce]*pe[Ce]-Ne[Ce]*Le[Ce];Ne[Ce]=Fe[Ce]*Le[Ce]+Ne[Ce]*pe[Ce],Fe[Ce]=Ze}return this.conjugate(Fe,Ne,he),this.transform(Fe,Ne,Be,$e,he,xe),this.conjugate(Be,$e,he),this.normalize13b(Be,he),ae.negative=ve.negative^le.negative,ae.length=ve.length+le.length,ae.strip()},ee.prototype.mul=function(ve){var le=new ee(null);return le.words=new Array(this.length+ve.length),this.mulTo(ve,le)},ee.prototype.mulf=function(ve){var le=new ee(null);return le.words=new Array(this.length+ve.length),_e(this,ve,le)},ee.prototype.imul=function(ve){return this.clone().mulTo(ve,this)},ee.prototype.imuln=function(ve){m(typeof ve=="number"),m(ve<67108864);for(var le=0,ae=0;ae<this.length;ae++){var he=(this.words[ae]|0)*ve,xe=(he&67108863)+(le&67108863);le>>=26,le+=he/67108864|0,le+=xe>>>26,this.words[ae]=xe&67108863}return le!==0&&(this.words[ae]=le,this.length++),this},ee.prototype.muln=function(ve){return this.clone().imuln(ve)},ee.prototype.sqr=function(){return this.mul(this)},ee.prototype.isqr=function(){return this.imul(this.clone())},ee.prototype.pow=function(ve){var le=ce(ve);if(le.length===0)return new ee(1);for(var ae=this,he=0;he<le.length&&le[he]===0;he++,ae=ae.sqr());if(++he<le.length)for(var xe=ae.sqr();he<le.length;he++,xe=xe.sqr())le[he]!==0&&(ae=ae.mul(xe));return ae},ee.prototype.iushln=function(ve){m(typeof ve=="number"&&ve>=0);var le=ve%26,ae=(ve-le)/26,he=67108863>>>26-le<<26-le,xe;if(le!==0){var $e=0;for(xe=0;xe<this.length;xe++){var He=this.words[xe]&he,Fe=(this.words[xe]|0)-He<<le;this.words[xe]=Fe|$e,$e=He>>>26-le}$e&&(this.words[xe]=$e,this.length++)}if(ae!==0){for(xe=this.length-1;xe>=0;xe--)this.words[xe+ae]=this.words[xe];for(xe=0;xe<ae;xe++)this.words[xe]=0;this.length+=ae}return this.strip()},ee.prototype.ishln=function(ve){return m(this.negative===0),this.iushln(ve)},ee.prototype.iushrn=function(ve,le,ae){m(typeof ve=="number"&&ve>=0);var he;le?he=(le-le%26)/26:he=0;var xe=ve%26,$e=Math.min((ve-xe)/26,this.length),He=67108863^67108863>>>xe<<xe,Fe=ae;if(he-=$e,he=Math.max(0,he),Fe){for(var Ne=0;Ne<$e;Ne++)Fe.words[Ne]=this.words[Ne];Fe.length=$e}if($e!==0)if(this.length>$e)for(this.length-=$e,Ne=0;Ne<this.length;Ne++)this.words[Ne]=this.words[Ne+$e];else this.words[0]=0,this.length=1;var De=0;for(Ne=this.length-1;Ne>=0&&(De!==0||Ne>=he);Ne--){var pe=this.words[Ne]|0;this.words[Ne]=De<<26-xe|pe>>>xe,De=pe&He}return Fe&&De!==0&&(Fe.words[Fe.length++]=De),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},ee.prototype.ishrn=function(ve,le,ae){return m(this.negative===0),this.iushrn(ve,le,ae)},ee.prototype.shln=function(ve){return this.clone().ishln(ve)},ee.prototype.ushln=function(ve){return this.clone().iushln(ve)},ee.prototype.shrn=function(ve){return this.clone().ishrn(ve)},ee.prototype.ushrn=function(ve){return this.clone().iushrn(ve)},ee.prototype.testn=function(ve){m(typeof ve=="number"&&ve>=0);var le=ve%26,ae=(ve-le)/26,he=1<<le;if(this.length<=ae)return!1;var xe=this.words[ae];return!!(xe&he)},ee.prototype.imaskn=function(ve){m(typeof ve=="number"&&ve>=0);var le=ve%26,ae=(ve-le)/26;if(m(this.negative===0,"imaskn works only with positive numbers"),this.length<=ae)return this;if(le!==0&&ae++,this.length=Math.min(ae,this.length),le!==0){var he=67108863^67108863>>>le<<le;this.words[this.length-1]&=he}return this.strip()},ee.prototype.maskn=function(ve){return this.clone().imaskn(ve)},ee.prototype.iaddn=function(ve){return m(typeof ve=="number"),m(ve<67108864),ve<0?this.isubn(-ve):this.negative!==0?this.length===1&&(this.words[0]|0)<ve?(this.words[0]=ve-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(ve),this.negative=1,this):this._iaddn(ve)},ee.prototype._iaddn=function(ve){this.words[0]+=ve;for(var le=0;le<this.length&&this.words[le]>=67108864;le++)this.words[le]-=67108864,le===this.length-1?this.words[le+1]=1:this.words[le+1]++;return this.length=Math.max(this.length,le+1),this},ee.prototype.isubn=function(ve){if(m(typeof ve=="number"),m(ve<67108864),ve<0)return this.iaddn(-ve);if(this.negative!==0)return this.negative=0,this.iaddn(ve),this.negative=1,this;if(this.words[0]-=ve,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var le=0;le<this.length&&this.words[le]<0;le++)this.words[le]+=67108864,this.words[le+1]-=1;return this.strip()},ee.prototype.addn=function(ve){return this.clone().iaddn(ve)},ee.prototype.subn=function(ve){return this.clone().isubn(ve)},ee.prototype.iabs=function(){return this.negative=0,this},ee.prototype.abs=function(){return this.clone().iabs()},ee.prototype._ishlnsubmul=function(ve,le,ae){var he=ve.length+ae,xe;this._expand(he);var $e,He=0;for(xe=0;xe<ve.length;xe++){$e=(this.words[xe+ae]|0)+He;var Fe=(ve.words[xe]|0)*le;$e-=Fe&67108863,He=($e>>26)-(Fe/67108864|0),this.words[xe+ae]=$e&67108863}for(;xe<this.length-ae;xe++)$e=(this.words[xe+ae]|0)+He,He=$e>>26,this.words[xe+ae]=$e&67108863;if(He===0)return this.strip();for(m(He===-1),He=0,xe=0;xe<this.length;xe++)$e=-(this.words[xe]|0)+He,He=$e>>26,this.words[xe]=$e&67108863;return this.negative=1,this.strip()},ee.prototype._wordDiv=function(ve,le){var ae=this.length-ve.length,he=this.clone(),xe=ve,$e=xe.words[xe.length-1]|0,He=this._countBits($e);ae=26-He,ae!==0&&(xe=xe.ushln(ae),he.iushln(ae),$e=xe.words[xe.length-1]|0);var Fe=he.length-xe.length,Ne;if(le!=="mod"){Ne=new ee(null),Ne.length=Fe+1,Ne.words=new Array(Ne.length);for(var De=0;De<Ne.length;De++)Ne.words[De]=0}var pe=he.clone()._ishlnsubmul(xe,1,Fe);pe.negative===0&&(he=pe,Ne&&(Ne.words[Fe]=1));for(var Le=Fe-1;Le>=0;Le--){var Be=(he.words[xe.length+Le]|0)*67108864+(he.words[xe.length+Le-1]|0);for(Be=Math.min(Be/$e|0,67108863),he._ishlnsubmul(xe,Be,Le);he.negative!==0;)Be--,he.negative=0,he._ishlnsubmul(xe,1,Le),he.isZero()||(he.negative^=1);Ne&&(Ne.words[Le]=Be)}return Ne&&Ne.strip(),he.strip(),le!=="div"&&ae!==0&&he.iushrn(ae),{div:Ne||null,mod:he}},ee.prototype.divmod=function(ve,le,ae){if(m(!ve.isZero()),this.isZero())return{div:new ee(0),mod:new ee(0)};var he,xe,$e;return this.negative!==0&&ve.negative===0?($e=this.neg().divmod(ve,le),le!=="mod"&&(he=$e.div.neg()),le!=="div"&&(xe=$e.mod.neg(),ae&&xe.negative!==0&&xe.iadd(ve)),{div:he,mod:xe}):this.negative===0&&ve.negative!==0?($e=this.divmod(ve.neg(),le),le!=="mod"&&(he=$e.div.neg()),{div:he,mod:$e.mod}):(this.negative&ve.negative)!==0?($e=this.neg().divmod(ve.neg(),le),le!=="div"&&(xe=$e.mod.neg(),ae&&xe.negative!==0&&xe.isub(ve)),{div:$e.div,mod:xe}):ve.length>this.length||this.cmp(ve)<0?{div:new ee(0),mod:this}:ve.length===1?le==="div"?{div:this.divn(ve.words[0]),mod:null}:le==="mod"?{div:null,mod:new ee(this.modn(ve.words[0]))}:{div:this.divn(ve.words[0]),mod:new ee(this.modn(ve.words[0]))}:this._wordDiv(ve,le)},ee.prototype.div=function(ve){return this.divmod(ve,"div",!1).div},ee.prototype.mod=function(ve){return this.divmod(ve,"mod",!1).mod},ee.prototype.umod=function(ve){return this.divmod(ve,"mod",!0).mod},ee.prototype.divRound=function(ve){var le=this.divmod(ve);if(le.mod.isZero())return le.div;var ae=le.div.negative!==0?le.mod.isub(ve):le.mod,he=ve.ushrn(1),xe=ve.andln(1),$e=ae.cmp(he);return $e<0||xe===1&&$e===0?le.div:le.div.negative!==0?le.div.isubn(1):le.div.iaddn(1)},ee.prototype.modn=function(ve){m(ve<=67108863);for(var le=(1<<26)%ve,ae=0,he=this.length-1;he>=0;he--)ae=(le*ae+(this.words[he]|0))%ve;return ae},ee.prototype.idivn=function(ve){m(ve<=67108863);for(var le=0,ae=this.length-1;ae>=0;ae--){var he=(this.words[ae]|0)+le*67108864;this.words[ae]=he/ve|0,le=he%ve}return this.strip()},ee.prototype.divn=function(ve){return this.clone().idivn(ve)},ee.prototype.egcd=function(ve){m(ve.negative===0),m(!ve.isZero());var le=this,ae=ve.clone();le.negative!==0?le=le.umod(ve):le=le.clone();for(var he=new ee(1),xe=new ee(0),$e=new ee(0),He=new ee(1),Fe=0;le.isEven()&&ae.isEven();)le.iushrn(1),ae.iushrn(1),++Fe;for(var Ne=ae.clone(),De=le.clone();!le.isZero();){for(var pe=0,Le=1;(le.words[0]&Le)===0&&pe<26;++pe,Le<<=1);if(pe>0)for(le.iushrn(pe);pe-- >0;)(he.isOdd()||xe.isOdd())&&(he.iadd(Ne),xe.isub(De)),he.iushrn(1),xe.iushrn(1);for(var Be=0,Ce=1;(ae.words[0]&Ce)===0&&Be<26;++Be,Ce<<=1);if(Be>0)for(ae.iushrn(Be);Be-- >0;)($e.isOdd()||He.isOdd())&&($e.iadd(Ne),He.isub(De)),$e.iushrn(1),He.iushrn(1);le.cmp(ae)>=0?(le.isub(ae),he.isub($e),xe.isub(He)):(ae.isub(le),$e.isub(he),He.isub(xe))}return{a:$e,b:He,gcd:ae.iushln(Fe)}},ee.prototype._invmp=function(ve){m(ve.negative===0),m(!ve.isZero());var le=this,ae=ve.clone();le.negative!==0?le=le.umod(ve):le=le.clone();for(var he=new ee(1),xe=new ee(0),$e=ae.clone();le.cmpn(1)>0&&ae.cmpn(1)>0;){for(var He=0,Fe=1;(le.words[0]&Fe)===0&&He<26;++He,Fe<<=1);if(He>0)for(le.iushrn(He);He-- >0;)he.isOdd()&&he.iadd($e),he.iushrn(1);for(var Ne=0,De=1;(ae.words[0]&De)===0&&Ne<26;++Ne,De<<=1);if(Ne>0)for(ae.iushrn(Ne);Ne-- >0;)xe.isOdd()&&xe.iadd($e),xe.iushrn(1);le.cmp(ae)>=0?(le.isub(ae),he.isub(xe)):(ae.isub(le),xe.isub(he))}var pe;return le.cmpn(1)===0?pe=he:pe=xe,pe.cmpn(0)<0&&pe.iadd(ve),pe},ee.prototype.gcd=function(ve){if(this.isZero())return ve.abs();if(ve.isZero())return this.abs();var le=this.clone(),ae=ve.clone();le.negative=0,ae.negative=0;for(var he=0;le.isEven()&&ae.isEven();he++)le.iushrn(1),ae.iushrn(1);do{for(;le.isEven();)le.iushrn(1);for(;ae.isEven();)ae.iushrn(1);var xe=le.cmp(ae);if(xe<0){var $e=le;le=ae,ae=$e}else if(xe===0||ae.cmpn(1)===0)break;le.isub(ae)}while(!0);return ae.iushln(he)},ee.prototype.invm=function(ve){return this.egcd(ve).a.umod(ve)},ee.prototype.isEven=function(){return(this.words[0]&1)===0},ee.prototype.isOdd=function(){return(this.words[0]&1)===1},ee.prototype.andln=function(ve){return this.words[0]&ve},ee.prototype.bincn=function(ve){m(typeof ve=="number");var le=ve%26,ae=(ve-le)/26,he=1<<le;if(this.length<=ae)return this._expand(ae+1),this.words[ae]|=he,this;for(var xe=he,$e=ae;xe!==0&&$e<this.length;$e++){var He=this.words[$e]|0;He+=xe,xe=He>>>26,He&=67108863,this.words[$e]=He}return xe!==0&&(this.words[$e]=xe,this.length++),this},ee.prototype.isZero=function(){return this.length===1&&this.words[0]===0},ee.prototype.cmpn=function(ve){var le=ve<0;if(this.negative!==0&&!le)return-1;if(this.negative===0&&le)return 1;this.strip();var ae;if(this.length>1)ae=1;else{le&&(ve=-ve),m(ve<=67108863,"Number is too big");var he=this.words[0]|0;ae=he===ve?0:he<ve?-1:1}return this.negative!==0?-ae|0:ae},ee.prototype.cmp=function(ve){if(this.negative!==0&&ve.negative===0)return-1;if(this.negative===0&&ve.negative!==0)return 1;var le=this.ucmp(ve);return this.negative!==0?-le|0:le},ee.prototype.ucmp=function(ve){if(this.length>ve.length)return 1;if(this.length<ve.length)return-1;for(var le=0,ae=this.length-1;ae>=0;ae--){var he=this.words[ae]|0,xe=ve.words[ae]|0;if(he!==xe){he<xe?le=-1:he>xe&&(le=1);break}}return le},ee.prototype.gtn=function(ve){return this.cmpn(ve)===1},ee.prototype.gt=function(ve){return this.cmp(ve)===1},ee.prototype.gten=function(ve){return this.cmpn(ve)>=0},ee.prototype.gte=function(ve){return this.cmp(ve)>=0},ee.prototype.ltn=function(ve){return this.cmpn(ve)===-1},ee.prototype.lt=function(ve){return this.cmp(ve)===-1},ee.prototype.lten=function(ve){return this.cmpn(ve)<=0},ee.prototype.lte=function(ve){return this.cmp(ve)<=0},ee.prototype.eqn=function(ve){return this.cmpn(ve)===0},ee.prototype.eq=function(ve){return this.cmp(ve)===0},ee.red=function(ve){return new Je(ve)},ee.prototype.toRed=function(ve){return m(!this.red,"Already a number in reduction context"),m(this.negative===0,"red works only with positives"),ve.convertTo(this)._forceRed(ve)},ee.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},ee.prototype._forceRed=function(ve){return this.red=ve,this},ee.prototype.forceRed=function(ve){return m(!this.red,"Already a number in reduction context"),this._forceRed(ve)},ee.prototype.redAdd=function(ve){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,ve)},ee.prototype.redIAdd=function(ve){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,ve)},ee.prototype.redSub=function(ve){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,ve)},ee.prototype.redISub=function(ve){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,ve)},ee.prototype.redShl=function(ve){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,ve)},ee.prototype.redMul=function(ve){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,ve),this.red.mul(this,ve)},ee.prototype.redIMul=function(ve){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,ve),this.red.imul(this,ve)},ee.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},ee.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},ee.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},ee.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},ee.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},ee.prototype.redPow=function(ve){return m(this.red&&!ve.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,ve)};var Ae={k256:null,p224:null,p192:null,p25519:null};function we(Pe,ve){this.name=Pe,this.p=new ee(ve,16),this.n=this.p.bitLength(),this.k=new ee(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}we.prototype._tmp=function(){var ve=new ee(null);return ve.words=new Array(Math.ceil(this.n/13)),ve},we.prototype.ireduce=function(ve){var le=ve,ae;do this.split(le,this.tmp),le=this.imulK(le),le=le.iadd(this.tmp),ae=le.bitLength();while(ae>this.n);var he=ae<this.n?-1:le.ucmp(this.p);return he===0?(le.words[0]=0,le.length=1):he>0?le.isub(this.p):le.strip!==void 0?le.strip():le._strip(),le},we.prototype.split=function(ve,le){ve.iushrn(this.n,0,le)},we.prototype.imulK=function(ve){return ve.imul(this.k)};function Me(){we.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}$(Me,we),Me.prototype.split=function(ve,le){for(var ae=4194303,he=Math.min(ve.length,9),xe=0;xe<he;xe++)le.words[xe]=ve.words[xe];if(le.length=he,ve.length<=9){ve.words[0]=0,ve.length=1;return}var $e=ve.words[9];for(le.words[le.length++]=$e&ae,xe=10;xe<ve.length;xe++){var He=ve.words[xe]|0;ve.words[xe-10]=(He&ae)<<4|$e>>>22,$e=He}$e>>>=22,ve.words[xe-10]=$e,$e===0&&ve.length>10?ve.length-=10:ve.length-=9},Me.prototype.imulK=function(ve){ve.words[ve.length]=0,ve.words[ve.length+1]=0,ve.length+=2;for(var le=0,ae=0;ae<ve.length;ae++){var he=ve.words[ae]|0;le+=he*977,ve.words[ae]=le&67108863,le=he*64+(le/67108864|0)}return ve.words[ve.length-1]===0&&(ve.length--,ve.words[ve.length-1]===0&&ve.length--),ve};function ke(){we.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}$(ke,we);function Re(){we.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}$(Re,we);function ze(){we.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}$(ze,we),ze.prototype.imulK=function(ve){for(var le=0,ae=0;ae<ve.length;ae++){var he=(ve.words[ae]|0)*19+le,xe=he&67108863;he>>>=26,ve.words[ae]=xe,le=he}return le!==0&&(ve.words[ve.length++]=le),ve},ee._prime=function(ve){if(Ae[ve])return Ae[ve];var le;if(ve==="k256")le=new Me;else if(ve==="p224")le=new ke;else if(ve==="p192")le=new Re;else if(ve==="p25519")le=new ze;else throw new Error("Unknown prime "+ve);return Ae[ve]=le,le};function Je(Pe){if(typeof Pe=="string"){var ve=ee._prime(Pe);this.m=ve.p,this.prime=ve}else m(Pe.gtn(1),"modulus must be greater than 1"),this.m=Pe,this.prime=null}Je.prototype._verify1=function(ve){m(ve.negative===0,"red works only with positives"),m(ve.red,"red works only with red numbers")},Je.prototype._verify2=function(ve,le){m((ve.negative|le.negative)===0,"red works only with positives"),m(ve.red&&ve.red===le.red,"red works only with red numbers")},Je.prototype.imod=function(ve){return this.prime?this.prime.ireduce(ve)._forceRed(this):ve.umod(this.m)._forceRed(this)},Je.prototype.neg=function(ve){return ve.isZero()?ve.clone():this.m.sub(ve)._forceRed(this)},Je.prototype.add=function(ve,le){this._verify2(ve,le);var ae=ve.add(le);return ae.cmp(this.m)>=0&&ae.isub(this.m),ae._forceRed(this)},Je.prototype.iadd=function(ve,le){this._verify2(ve,le);var ae=ve.iadd(le);return ae.cmp(this.m)>=0&&ae.isub(this.m),ae},Je.prototype.sub=function(ve,le){this._verify2(ve,le);var ae=ve.sub(le);return ae.cmpn(0)<0&&ae.iadd(this.m),ae._forceRed(this)},Je.prototype.isub=function(ve,le){this._verify2(ve,le);var ae=ve.isub(le);return ae.cmpn(0)<0&&ae.iadd(this.m),ae},Je.prototype.shl=function(ve,le){return this._verify1(ve),this.imod(ve.ushln(le))},Je.prototype.imul=function(ve,le){return this._verify2(ve,le),this.imod(ve.imul(le))},Je.prototype.mul=function(ve,le){return this._verify2(ve,le),this.imod(ve.mul(le))},Je.prototype.isqr=function(ve){return this.imul(ve,ve.clone())},Je.prototype.sqr=function(ve){return this.mul(ve,ve)},Je.prototype.sqrt=function(ve){if(ve.isZero())return ve.clone();var le=this.m.andln(3);if(m(le%2===1),le===3){var ae=this.m.add(new ee(1)).iushrn(2);return this.pow(ve,ae)}for(var he=this.m.subn(1),xe=0;!he.isZero()&&he.andln(1)===0;)xe++,he.iushrn(1);m(!he.isZero());var $e=new ee(1).toRed(this),He=$e.redNeg(),Fe=this.m.subn(1).iushrn(1),Ne=this.m.bitLength();for(Ne=new ee(2*Ne*Ne).toRed(this);this.pow(Ne,Fe).cmp(He)!==0;)Ne.redIAdd(He);for(var De=this.pow(Ne,he),pe=this.pow(ve,he.addn(1).iushrn(1)),Le=this.pow(ve,he),Be=xe;Le.cmp($e)!==0;){for(var Ce=Le,Ze=0;Ce.cmp($e)!==0;Ze++)Ce=Ce.redSqr();m(Ze<Be);var it=this.pow(De,new ee(1).iushln(Be-Ze-1));pe=pe.redMul(it),De=it.redSqr(),Le=Le.redMul(De),Be=Ze}return pe},Je.prototype.invm=function(ve){var le=ve._invmp(this.m);return le.negative!==0?(le.negative=0,this.imod(le).redNeg()):this.imod(le)},Je.prototype.pow=function(ve,le){if(le.isZero())return new ee(1).toRed(this);if(le.cmpn(1)===0)return ve.clone();var ae=4,he=new Array(1<<ae);he[0]=new ee(1).toRed(this),he[1]=ve;for(var xe=2;xe<he.length;xe++)he[xe]=this.mul(he[xe-1],ve);var $e=he[0],He=0,Fe=0,Ne=le.bitLength()%26;for(Ne===0&&(Ne=26),xe=le.length-1;xe>=0;xe--){for(var De=le.words[xe],pe=Ne-1;pe>=0;pe--){var Le=De>>pe&1;if($e!==he[0]&&($e=this.sqr($e)),Le===0&&He===0){Fe=0;continue}He<<=1,He|=Le,Fe++,!(Fe!==ae&&(xe!==0||pe!==0))&&($e=this.mul($e,he[He]),Fe=0,He=0)}Ne=26}return $e},Je.prototype.convertTo=function(ve){var le=ve.umod(this.m);return le===ve?le.clone():le},Je.prototype.convertFrom=function(ve){var le=ve.clone();return le.red=null,le},ee.mont=function(ve){return new et(ve)};function et(Pe){Je.call(this,Pe),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new ee(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}$(et,Je),et.prototype.convertTo=function(ve){return this.imod(ve.ushln(this.shift))},et.prototype.convertFrom=function(ve){var le=this.imod(ve.mul(this.rinv));return le.red=null,le},et.prototype.imul=function(ve,le){if(ve.isZero()||le.isZero())return ve.words[0]=0,ve.length=1,ve;var ae=ve.imul(le),he=ae.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xe=ae.isub(he).iushrn(this.shift),$e=xe;return xe.cmp(this.m)>=0?$e=xe.isub(this.m):xe.cmpn(0)<0&&($e=xe.iadd(this.m)),$e._forceRed(this)},et.prototype.mul=function(ve,le){if(ve.isZero()||le.isZero())return new ee(0)._forceRed(this);var ae=ve.mul(le),he=ae.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),xe=ae.isub(he).iushrn(this.shift),$e=xe;return xe.cmp(this.m)>=0?$e=xe.isub(this.m):xe.cmpn(0)<0&&($e=xe.iadd(this.m)),$e._forceRed(this)},et.prototype.invm=function(ve){var le=this.imod(ve._invmp(this.m).mul(this.r2));return le._forceRed(this)}})(u,commonjsGlobal$1)})(bn);var minimalisticAssert$1=assert$n;function assert$n(u,a){if(!u)throw new Error(a||"Assertion failed")}assert$n.equal=function(a,d,m){if(a!=d)throw new Error(m||"Assertion failed: "+a+" != "+d)};var utils$w={};(function(u){var a=u;function d(ee,te){if(Array.isArray(ee))return ee.slice();if(!ee)return[];var b=[];if(typeof ee!="string"){for(var re=0;re<ee.length;re++)b[re]=ee[re]|0;return b}if(te==="hex"){ee=ee.replace(/[^a-z0-9]+/ig,""),ee.length%2!==0&&(ee="0"+ee);for(var re=0;re<ee.length;re+=2)b.push(parseInt(ee[re]+ee[re+1],16))}else for(var re=0;re<ee.length;re++){var ne=ee.charCodeAt(re),ie=ne>>8,se=ne&255;ie?b.push(ie,se):b.push(se)}return b}a.toArray=d;function m(ee){return ee.length===1?"0"+ee:ee}a.zero2=m;function $(ee){for(var te="",b=0;b<ee.length;b++)te+=m(ee[b].toString(16));return te}a.toHex=$,a.encode=function(te,b){return b==="hex"?$(te):te}})(utils$w);(function(u){var a=u,d=bn.exports,m=minimalisticAssert$1,$=utils$w;a.assert=m,a.toArray=$.toArray,a.zero2=$.zero2,a.toHex=$.toHex,a.encode=$.encode;function ee(ie,se,fe){var ce=new Array(Math.max(ie.bitLength(),fe)+1);ce.fill(0);for(var de=1<<se+1,ye=ie.clone(),ge=0;ge<ce.length;ge++){var _e,Ee=ye.andln(de-1);ye.isOdd()?(Ee>(de>>1)-1?_e=(de>>1)-Ee:_e=Ee,ye.isubn(_e)):_e=0,ce[ge]=_e,ye.iushrn(1)}return ce}a.getNAF=ee;function te(ie,se){var fe=[[],[]];ie=ie.clone(),se=se.clone();for(var ce=0,de=0,ye;ie.cmpn(-ce)>0||se.cmpn(-de)>0;){var ge=ie.andln(3)+ce&3,_e=se.andln(3)+de&3;ge===3&&(ge=-1),_e===3&&(_e=-1);var Ee;(ge&1)===0?Ee=0:(ye=ie.andln(7)+ce&7,(ye===3||ye===5)&&_e===2?Ee=-ge:Ee=ge),fe[0].push(Ee);var Ae;(_e&1)===0?Ae=0:(ye=se.andln(7)+de&7,(ye===3||ye===5)&&ge===2?Ae=-_e:Ae=_e),fe[1].push(Ae),2*ce===Ee+1&&(ce=1-ce),2*de===Ae+1&&(de=1-de),ie.iushrn(1),se.iushrn(1)}return fe}a.getJSF=te;function b(ie,se,fe){var ce="_"+se;ie.prototype[se]=function(){return this[ce]!==void 0?this[ce]:this[ce]=fe.call(this)}}a.cachedProperty=b;function re(ie){return typeof ie=="string"?a.toArray(ie,"hex"):ie}a.parseBytes=re;function ne(ie){return new d(ie,"hex","le")}a.intFromLE=ne})(utils$x);var brorand={exports:{}},r$3;brorand.exports=function(a){return r$3||(r$3=new Rand(null)),r$3.generate(a)};function Rand(u){this.rand=u}brorand.exports.Rand=Rand;Rand.prototype.generate=function(a){return this._rand(a)};Rand.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var d=new Uint8Array(a),m=0;m<d.length;m++)d[m]=this.rand.getByte();return d};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Rand.prototype._rand=function(a){var d=new Uint8Array(a);return self.crypto.getRandomValues(d),d}:self.msCrypto&&self.msCrypto.getRandomValues?Rand.prototype._rand=function(a){var d=new Uint8Array(a);return self.msCrypto.getRandomValues(d),d}:typeof window=="object"&&(Rand.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var crypto$1=require$$1;if(typeof crypto$1.randomBytes!="function")throw new Error("Not supported");Rand.prototype._rand=function(a){return crypto$1.randomBytes(a)}}catch{}var curve={},BN$8=bn.exports,utils$v=utils$x,getNAF=utils$v.getNAF,getJSF=utils$v.getJSF,assert$m=utils$v.assert;function BaseCurve(u,a){this.type=u,this.p=new BN$8(a.p,16),this.red=a.prime?BN$8.red(a.prime):BN$8.mont(this.p),this.zero=new BN$8(0).toRed(this.red),this.one=new BN$8(1).toRed(this.red),this.two=new BN$8(2).toRed(this.red),this.n=a.n&&new BN$8(a.n,16),this.g=a.g&&this.pointFromJSON(a.g,a.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var d=this.n&&this.p.div(this.n);!d||d.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$3=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(a,d){assert$m(a.precomputed);var m=a._getDoubles(),$=getNAF(d,1,this._bitLength),ee=(1<<m.step+1)-(m.step%2===0?2:1);ee/=3;var te=[],b,re;for(b=0;b<$.length;b+=m.step){re=0;for(var ne=b+m.step-1;ne>=b;ne--)re=(re<<1)+$[ne];te.push(re)}for(var ie=this.jpoint(null,null,null),se=this.jpoint(null,null,null),fe=ee;fe>0;fe--){for(b=0;b<te.length;b++)re=te[b],re===fe?se=se.mixedAdd(m.points[b]):re===-fe&&(se=se.mixedAdd(m.points[b].neg()));ie=ie.add(se)}return ie.toP()};BaseCurve.prototype._wnafMul=function(a,d){var m=4,$=a._getNAFPoints(m);m=$.wnd;for(var ee=$.points,te=getNAF(d,m,this._bitLength),b=this.jpoint(null,null,null),re=te.length-1;re>=0;re--){for(var ne=0;re>=0&&te[re]===0;re--)ne++;if(re>=0&&ne++,b=b.dblp(ne),re<0)break;var ie=te[re];assert$m(ie!==0),a.type==="affine"?ie>0?b=b.mixedAdd(ee[ie-1>>1]):b=b.mixedAdd(ee[-ie-1>>1].neg()):ie>0?b=b.add(ee[ie-1>>1]):b=b.add(ee[-ie-1>>1].neg())}return a.type==="affine"?b.toP():b};BaseCurve.prototype._wnafMulAdd=function(a,d,m,$,ee){var te=this._wnafT1,b=this._wnafT2,re=this._wnafT3,ne=0,ie,se,fe;for(ie=0;ie<$;ie++){fe=d[ie];var ce=fe._getNAFPoints(a);te[ie]=ce.wnd,b[ie]=ce.points}for(ie=$-1;ie>=1;ie-=2){var de=ie-1,ye=ie;if(te[de]!==1||te[ye]!==1){re[de]=getNAF(m[de],te[de],this._bitLength),re[ye]=getNAF(m[ye],te[ye],this._bitLength),ne=Math.max(re[de].length,ne),ne=Math.max(re[ye].length,ne);continue}var ge=[d[de],null,null,d[ye]];d[de].y.cmp(d[ye].y)===0?(ge[1]=d[de].add(d[ye]),ge[2]=d[de].toJ().mixedAdd(d[ye].neg())):d[de].y.cmp(d[ye].y.redNeg())===0?(ge[1]=d[de].toJ().mixedAdd(d[ye]),ge[2]=d[de].add(d[ye].neg())):(ge[1]=d[de].toJ().mixedAdd(d[ye]),ge[2]=d[de].toJ().mixedAdd(d[ye].neg()));var _e=[-3,-1,-5,-7,0,7,5,1,3],Ee=getJSF(m[de],m[ye]);for(ne=Math.max(Ee[0].length,ne),re[de]=new Array(ne),re[ye]=new Array(ne),se=0;se<ne;se++){var Ae=Ee[0][se]|0,we=Ee[1][se]|0;re[de][se]=_e[(Ae+1)*3+(we+1)],re[ye][se]=0,b[de]=ge}}var Me=this.jpoint(null,null,null),ke=this._wnafT4;for(ie=ne;ie>=0;ie--){for(var Re=0;ie>=0;){var ze=!0;for(se=0;se<$;se++)ke[se]=re[se][ie]|0,ke[se]!==0&&(ze=!1);if(!ze)break;Re++,ie--}if(ie>=0&&Re++,Me=Me.dblp(Re),ie<0)break;for(se=0;se<$;se++){var Je=ke[se];Je!==0&&(Je>0?fe=b[se][Je-1>>1]:Je<0&&(fe=b[se][-Je-1>>1].neg()),fe.type==="affine"?Me=Me.mixedAdd(fe):Me=Me.add(fe))}}for(ie=0;ie<$;ie++)b[ie]=null;return ee?Me:Me.toP()};function BasePoint(u,a){this.curve=u,this.type=a,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(a,d){a=utils$v.toArray(a,d);var m=this.p.byteLength();if((a[0]===4||a[0]===6||a[0]===7)&&a.length-1===2*m){a[0]===6?assert$m(a[a.length-1]%2===0):a[0]===7&&assert$m(a[a.length-1]%2===1);var $=this.point(a.slice(1,1+m),a.slice(1+m,1+2*m));return $}else if((a[0]===2||a[0]===3)&&a.length-1===m)return this.pointFromX(a.slice(1,1+m),a[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(a){return this.encode(a,!0)};BasePoint.prototype._encode=function(a){var d=this.curve.p.byteLength(),m=this.getX().toArray("be",d);return a?[this.getY().isEven()?2:3].concat(m):[4].concat(m,this.getY().toArray("be",d))};BasePoint.prototype.encode=function(a,d){return utils$v.encode(this._encode(d),a)};BasePoint.prototype.precompute=function(a){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,a),d.beta=this._getBeta(),this.precomputed=d,this};BasePoint.prototype._hasDoubles=function(a){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return d?d.points.length>=Math.ceil((a.bitLength()+1)/d.step):!1};BasePoint.prototype._getDoubles=function(a,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var m=[this],$=this,ee=0;ee<d;ee+=a){for(var te=0;te<a;te++)$=$.dbl();m.push($)}return{step:a,points:m}};BasePoint.prototype._getNAFPoints=function(a){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],m=(1<<a)-1,$=m===1?null:this.dbl(),ee=1;ee<m;ee++)d[ee]=d[ee-1].add($);return{wnd:a,points:d}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(a){for(var d=this,m=0;m<a;m++)d=d.dbl();return d};var inherits_browser$1={exports:{}};typeof Object.create=="function"?inherits_browser$1.exports=function(a,d){d&&(a.super_=d,a.prototype=Object.create(d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser$1.exports=function(a,d){if(d){a.super_=d;var m=function(){};m.prototype=d.prototype,a.prototype=new m,a.prototype.constructor=a}};var utils$u=utils$x,BN$7=bn.exports,inherits$4=inherits_browser$1.exports,Base$2=base$3,assert$l=utils$u.assert;function ShortCurve(u){Base$2.call(this,"short",u),this.a=new BN$7(u.a,16).toRed(this.red),this.b=new BN$7(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$4(ShortCurve,Base$2);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(a){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var d,m;if(a.beta)d=new BN$7(a.beta,16).toRed(this.red);else{var $=this._getEndoRoots(this.p);d=$[0].cmp($[1])<0?$[0]:$[1],d=d.toRed(this.red)}if(a.lambda)m=new BN$7(a.lambda,16);else{var ee=this._getEndoRoots(this.n);this.g.mul(ee[0]).x.cmp(this.g.x.redMul(d))===0?m=ee[0]:(m=ee[1],assert$l(this.g.mul(m).x.cmp(this.g.x.redMul(d))===0))}var te;return a.basis?te=a.basis.map(function(b){return{a:new BN$7(b.a,16),b:new BN$7(b.b,16)}}):te=this._getEndoBasis(m),{beta:d,lambda:m,basis:te}}};ShortCurve.prototype._getEndoRoots=function(a){var d=a===this.p?this.red:BN$7.mont(a),m=new BN$7(2).toRed(d).redInvm(),$=m.redNeg(),ee=new BN$7(3).toRed(d).redNeg().redSqrt().redMul(m),te=$.redAdd(ee).fromRed(),b=$.redSub(ee).fromRed();return[te,b]};ShortCurve.prototype._getEndoBasis=function(a){for(var d=this.n.ushrn(Math.floor(this.n.bitLength()/2)),m=a,$=this.n.clone(),ee=new BN$7(1),te=new BN$7(0),b=new BN$7(0),re=new BN$7(1),ne,ie,se,fe,ce,de,ye,ge=0,_e,Ee;m.cmpn(0)!==0;){var Ae=$.div(m);_e=$.sub(Ae.mul(m)),Ee=b.sub(Ae.mul(ee));var we=re.sub(Ae.mul(te));if(!se&&_e.cmp(d)<0)ne=ye.neg(),ie=ee,se=_e.neg(),fe=Ee;else if(se&&++ge===2)break;ye=_e,$=m,m=_e,b=ee,ee=Ee,re=te,te=we}ce=_e.neg(),de=Ee;var Me=se.sqr().add(fe.sqr()),ke=ce.sqr().add(de.sqr());return ke.cmp(Me)>=0&&(ce=ne,de=ie),se.negative&&(se=se.neg(),fe=fe.neg()),ce.negative&&(ce=ce.neg(),de=de.neg()),[{a:se,b:fe},{a:ce,b:de}]};ShortCurve.prototype._endoSplit=function(a){var d=this.endo.basis,m=d[0],$=d[1],ee=$.b.mul(a).divRound(this.n),te=m.b.neg().mul(a).divRound(this.n),b=ee.mul(m.a),re=te.mul($.a),ne=ee.mul(m.b),ie=te.mul($.b),se=a.sub(b).sub(re),fe=ne.add(ie).neg();return{k1:se,k2:fe}};ShortCurve.prototype.pointFromX=function(a,d){a=new BN$7(a,16),a.red||(a=a.toRed(this.red));var m=a.redSqr().redMul(a).redIAdd(a.redMul(this.a)).redIAdd(this.b),$=m.redSqrt();if($.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var ee=$.fromRed().isOdd();return(d&&!ee||!d&&ee)&&($=$.redNeg()),this.point(a,$)};ShortCurve.prototype.validate=function(a){if(a.inf)return!0;var d=a.x,m=a.y,$=this.a.redMul(d),ee=d.redSqr().redMul(d).redIAdd($).redIAdd(this.b);return m.redSqr().redISub(ee).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(a,d,m){for(var $=this._endoWnafT1,ee=this._endoWnafT2,te=0;te<a.length;te++){var b=this._endoSplit(d[te]),re=a[te],ne=re._getBeta();b.k1.negative&&(b.k1.ineg(),re=re.neg(!0)),b.k2.negative&&(b.k2.ineg(),ne=ne.neg(!0)),$[te*2]=re,$[te*2+1]=ne,ee[te*2]=b.k1,ee[te*2+1]=b.k2}for(var ie=this._wnafMulAdd(1,$,ee,te*2,m),se=0;se<te*2;se++)$[se]=null,ee[se]=null;return ie};function Point$2(u,a,d,m){Base$2.BasePoint.call(this,u,"affine"),a===null&&d===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$7(a,16),this.y=new BN$7(d,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$4(Point$2,Base$2.BasePoint);ShortCurve.prototype.point=function(a,d,m){return new Point$2(this,a,d,m)};ShortCurve.prototype.pointFromJSON=function(a,d){return Point$2.fromJSON(this,a,d)};Point$2.prototype._getBeta=function(){if(!!this.curve.endo){var a=this.precomputed;if(a&&a.beta)return a.beta;var d=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(a){var m=this.curve,$=function(ee){return m.point(ee.x.redMul(m.endo.beta),ee.y)};a.beta=d,d.precomputed={beta:null,naf:a.naf&&{wnd:a.naf.wnd,points:a.naf.points.map($)},doubles:a.doubles&&{step:a.doubles.step,points:a.doubles.points.map($)}}}return d}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function(a,d,m){typeof d=="string"&&(d=JSON.parse(d));var $=a.point(d[0],d[1],m);if(!d[2])return $;function ee(b){return a.point(b[0],b[1],m)}var te=d[2];return $.precomputed={beta:null,doubles:te.doubles&&{step:te.doubles.step,points:[$].concat(te.doubles.points.map(ee))},naf:te.naf&&{wnd:te.naf.wnd,points:[$].concat(te.naf.points.map(ee))}},$};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function(a){if(this.inf)return a;if(a.inf)return this;if(this.eq(a))return this.dbl();if(this.neg().eq(a))return this.curve.point(null,null);if(this.x.cmp(a.x)===0)return this.curve.point(null,null);var d=this.y.redSub(a.y);d.cmpn(0)!==0&&(d=d.redMul(this.x.redSub(a.x).redInvm()));var m=d.redSqr().redISub(this.x).redISub(a.x),$=d.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,$)};Point$2.prototype.dbl=function(){if(this.inf)return this;var a=this.y.redAdd(this.y);if(a.cmpn(0)===0)return this.curve.point(null,null);var d=this.curve.a,m=this.x.redSqr(),$=a.redInvm(),ee=m.redAdd(m).redIAdd(m).redIAdd(d).redMul($),te=ee.redSqr().redISub(this.x.redAdd(this.x)),b=ee.redMul(this.x.redSub(te)).redISub(this.y);return this.curve.point(te,b)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function(a){return a=new BN$7(a,16),this.isInfinity()?this:this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve.endo?this.curve._endoWnafMulAdd([this],[a]):this.curve._wnafMul(this,a)};Point$2.prototype.mulAdd=function(a,d,m){var $=[this,d],ee=[a,m];return this.curve.endo?this.curve._endoWnafMulAdd($,ee):this.curve._wnafMulAdd(1,$,ee,2)};Point$2.prototype.jmulAdd=function(a,d,m){var $=[this,d],ee=[a,m];return this.curve.endo?this.curve._endoWnafMulAdd($,ee,!0):this.curve._wnafMulAdd(1,$,ee,2,!0)};Point$2.prototype.eq=function(a){return this===a||this.inf===a.inf&&(this.inf||this.x.cmp(a.x)===0&&this.y.cmp(a.y)===0)};Point$2.prototype.neg=function(a){if(this.inf)return this;var d=this.curve.point(this.x,this.y.redNeg());if(a&&this.precomputed){var m=this.precomputed,$=function(ee){return ee.neg()};d.precomputed={naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map($)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map($)}}}return d};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var a=this.curve.jpoint(this.x,this.y,this.curve.one);return a};function JPoint(u,a,d,m){Base$2.BasePoint.call(this,u,"jacobian"),a===null&&d===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$7(0)):(this.x=new BN$7(a,16),this.y=new BN$7(d,16),this.z=new BN$7(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$4(JPoint,Base$2.BasePoint);ShortCurve.prototype.jpoint=function(a,d,m){return new JPoint(this,a,d,m)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var a=this.z.redInvm(),d=a.redSqr(),m=this.x.redMul(d),$=this.y.redMul(d).redMul(a);return this.curve.point(m,$)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(a){if(this.isInfinity())return a;if(a.isInfinity())return this;var d=a.z.redSqr(),m=this.z.redSqr(),$=this.x.redMul(d),ee=a.x.redMul(m),te=this.y.redMul(d.redMul(a.z)),b=a.y.redMul(m.redMul(this.z)),re=$.redSub(ee),ne=te.redSub(b);if(re.cmpn(0)===0)return ne.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ie=re.redSqr(),se=ie.redMul(re),fe=$.redMul(ie),ce=ne.redSqr().redIAdd(se).redISub(fe).redISub(fe),de=ne.redMul(fe.redISub(ce)).redISub(te.redMul(se)),ye=this.z.redMul(a.z).redMul(re);return this.curve.jpoint(ce,de,ye)};JPoint.prototype.mixedAdd=function(a){if(this.isInfinity())return a.toJ();if(a.isInfinity())return this;var d=this.z.redSqr(),m=this.x,$=a.x.redMul(d),ee=this.y,te=a.y.redMul(d).redMul(this.z),b=m.redSub($),re=ee.redSub(te);if(b.cmpn(0)===0)return re.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var ne=b.redSqr(),ie=ne.redMul(b),se=m.redMul(ne),fe=re.redSqr().redIAdd(ie).redISub(se).redISub(se),ce=re.redMul(se.redISub(fe)).redISub(ee.redMul(ie)),de=this.z.redMul(b);return this.curve.jpoint(fe,ce,de)};JPoint.prototype.dblp=function(a){if(a===0)return this;if(this.isInfinity())return this;if(!a)return this.dbl();var d;if(this.curve.zeroA||this.curve.threeA){var m=this;for(d=0;d<a;d++)m=m.dbl();return m}var $=this.curve.a,ee=this.curve.tinv,te=this.x,b=this.y,re=this.z,ne=re.redSqr().redSqr(),ie=b.redAdd(b);for(d=0;d<a;d++){var se=te.redSqr(),fe=ie.redSqr(),ce=fe.redSqr(),de=se.redAdd(se).redIAdd(se).redIAdd($.redMul(ne)),ye=te.redMul(fe),ge=de.redSqr().redISub(ye.redAdd(ye)),_e=ye.redISub(ge),Ee=de.redMul(_e);Ee=Ee.redIAdd(Ee).redISub(ce);var Ae=ie.redMul(re);d+1<a&&(ne=ne.redMul(ce)),te=ge,re=Ae,ie=Ee}return this.curve.jpoint(te,ie.redMul(ee),re)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var a,d,m;if(this.zOne){var $=this.x.redSqr(),ee=this.y.redSqr(),te=ee.redSqr(),b=this.x.redAdd(ee).redSqr().redISub($).redISub(te);b=b.redIAdd(b);var re=$.redAdd($).redIAdd($),ne=re.redSqr().redISub(b).redISub(b),ie=te.redIAdd(te);ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),a=ne,d=re.redMul(b.redISub(ne)).redISub(ie),m=this.y.redAdd(this.y)}else{var se=this.x.redSqr(),fe=this.y.redSqr(),ce=fe.redSqr(),de=this.x.redAdd(fe).redSqr().redISub(se).redISub(ce);de=de.redIAdd(de);var ye=se.redAdd(se).redIAdd(se),ge=ye.redSqr(),_e=ce.redIAdd(ce);_e=_e.redIAdd(_e),_e=_e.redIAdd(_e),a=ge.redISub(de).redISub(de),d=ye.redMul(de.redISub(a)).redISub(_e),m=this.y.redMul(this.z),m=m.redIAdd(m)}return this.curve.jpoint(a,d,m)};JPoint.prototype._threeDbl=function(){var a,d,m;if(this.zOne){var $=this.x.redSqr(),ee=this.y.redSqr(),te=ee.redSqr(),b=this.x.redAdd(ee).redSqr().redISub($).redISub(te);b=b.redIAdd(b);var re=$.redAdd($).redIAdd($).redIAdd(this.curve.a),ne=re.redSqr().redISub(b).redISub(b);a=ne;var ie=te.redIAdd(te);ie=ie.redIAdd(ie),ie=ie.redIAdd(ie),d=re.redMul(b.redISub(ne)).redISub(ie),m=this.y.redAdd(this.y)}else{var se=this.z.redSqr(),fe=this.y.redSqr(),ce=this.x.redMul(fe),de=this.x.redSub(se).redMul(this.x.redAdd(se));de=de.redAdd(de).redIAdd(de);var ye=ce.redIAdd(ce);ye=ye.redIAdd(ye);var ge=ye.redAdd(ye);a=de.redSqr().redISub(ge),m=this.y.redAdd(this.z).redSqr().redISub(fe).redISub(se);var _e=fe.redSqr();_e=_e.redIAdd(_e),_e=_e.redIAdd(_e),_e=_e.redIAdd(_e),d=de.redMul(ye.redISub(a)).redISub(_e)}return this.curve.jpoint(a,d,m)};JPoint.prototype._dbl=function(){var a=this.curve.a,d=this.x,m=this.y,$=this.z,ee=$.redSqr().redSqr(),te=d.redSqr(),b=m.redSqr(),re=te.redAdd(te).redIAdd(te).redIAdd(a.redMul(ee)),ne=d.redAdd(d);ne=ne.redIAdd(ne);var ie=ne.redMul(b),se=re.redSqr().redISub(ie.redAdd(ie)),fe=ie.redISub(se),ce=b.redSqr();ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),ce=ce.redIAdd(ce);var de=re.redMul(fe).redISub(ce),ye=m.redAdd(m).redMul($);return this.curve.jpoint(se,de,ye)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var a=this.x.redSqr(),d=this.y.redSqr(),m=this.z.redSqr(),$=d.redSqr(),ee=a.redAdd(a).redIAdd(a),te=ee.redSqr(),b=this.x.redAdd(d).redSqr().redISub(a).redISub($);b=b.redIAdd(b),b=b.redAdd(b).redIAdd(b),b=b.redISub(te);var re=b.redSqr(),ne=$.redIAdd($);ne=ne.redIAdd(ne),ne=ne.redIAdd(ne),ne=ne.redIAdd(ne);var ie=ee.redIAdd(b).redSqr().redISub(te).redISub(re).redISub(ne),se=d.redMul(ie);se=se.redIAdd(se),se=se.redIAdd(se);var fe=this.x.redMul(re).redISub(se);fe=fe.redIAdd(fe),fe=fe.redIAdd(fe);var ce=this.y.redMul(ie.redMul(ne.redISub(ie)).redISub(b.redMul(re)));ce=ce.redIAdd(ce),ce=ce.redIAdd(ce),ce=ce.redIAdd(ce);var de=this.z.redAdd(b).redSqr().redISub(m).redISub(re);return this.curve.jpoint(fe,ce,de)};JPoint.prototype.mul=function(a,d){return a=new BN$7(a,d),this.curve._wnafMul(this,a)};JPoint.prototype.eq=function(a){if(a.type==="affine")return this.eq(a.toJ());if(this===a)return!0;var d=this.z.redSqr(),m=a.z.redSqr();if(this.x.redMul(m).redISub(a.x.redMul(d)).cmpn(0)!==0)return!1;var $=d.redMul(this.z),ee=m.redMul(a.z);return this.y.redMul(ee).redISub(a.y.redMul($)).cmpn(0)===0};JPoint.prototype.eqXToP=function(a){var d=this.z.redSqr(),m=a.toRed(this.curve.red).redMul(d);if(this.x.cmp(m)===0)return!0;for(var $=a.clone(),ee=this.curve.redN.redMul(d);;){if($.iadd(this.curve.n),$.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(ee),this.x.cmp(m)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$6=bn.exports,inherits$3=inherits_browser$1.exports,Base$1=base$3,utils$t=utils$x;function MontCurve(u){Base$1.call(this,"mont",u),this.a=new BN$6(u.a,16).toRed(this.red),this.b=new BN$6(u.b,16).toRed(this.red),this.i4=new BN$6(4).toRed(this.red).redInvm(),this.two=new BN$6(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$3(MontCurve,Base$1);var mont=MontCurve;MontCurve.prototype.validate=function(a){var d=a.normalize().x,m=d.redSqr(),$=m.redMul(d).redAdd(m.redMul(this.a)).redAdd(d),ee=$.redSqrt();return ee.redSqr().cmp($)===0};function Point$1(u,a,d){Base$1.BasePoint.call(this,u,"projective"),a===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$6(a,16),this.z=new BN$6(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$3(Point$1,Base$1.BasePoint);MontCurve.prototype.decodePoint=function(a,d){return this.point(utils$t.toArray(a,d),1)};MontCurve.prototype.point=function(a,d){return new Point$1(this,a,d)};MontCurve.prototype.pointFromJSON=function(a){return Point$1.fromJSON(this,a)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function(a,d){return new Point$1(a,d[0],d[1]||a.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var a=this.x.redAdd(this.z),d=a.redSqr(),m=this.x.redSub(this.z),$=m.redSqr(),ee=d.redSub($),te=d.redMul($),b=ee.redMul($.redAdd(this.curve.a24.redMul(ee)));return this.curve.point(te,b)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function(a,d){var m=this.x.redAdd(this.z),$=this.x.redSub(this.z),ee=a.x.redAdd(a.z),te=a.x.redSub(a.z),b=te.redMul(m),re=ee.redMul($),ne=d.z.redMul(b.redAdd(re).redSqr()),ie=d.x.redMul(b.redISub(re).redSqr());return this.curve.point(ne,ie)};Point$1.prototype.mul=function(a){for(var d=a.clone(),m=this,$=this.curve.point(null,null),ee=this,te=[];d.cmpn(0)!==0;d.iushrn(1))te.push(d.andln(1));for(var b=te.length-1;b>=0;b--)te[b]===0?(m=m.diffAdd($,ee),$=$.dbl()):($=m.diffAdd($,ee),m=m.dbl());return $};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function(a){return this.getX().cmp(a.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$s=utils$x,BN$5=bn.exports,inherits$2=inherits_browser$1.exports,Base=base$3,assert$k=utils$s.assert;function EdwardsCurve(u){this.twisted=(u.a|0)!==1,this.mOneA=this.twisted&&(u.a|0)===-1,this.extended=this.mOneA,Base.call(this,"edwards",u),this.a=new BN$5(u.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$5(u.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$5(u.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$k(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(u.c|0)===1}inherits$2(EdwardsCurve,Base);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(a){return this.mOneA?a.redNeg():this.a.redMul(a)};EdwardsCurve.prototype._mulC=function(a){return this.oneC?a:this.c.redMul(a)};EdwardsCurve.prototype.jpoint=function(a,d,m,$){return this.point(a,d,m,$)};EdwardsCurve.prototype.pointFromX=function(a,d){a=new BN$5(a,16),a.red||(a=a.toRed(this.red));var m=a.redSqr(),$=this.c2.redSub(this.a.redMul(m)),ee=this.one.redSub(this.c2.redMul(this.d).redMul(m)),te=$.redMul(ee.redInvm()),b=te.redSqrt();if(b.redSqr().redSub(te).cmp(this.zero)!==0)throw new Error("invalid point");var re=b.fromRed().isOdd();return(d&&!re||!d&&re)&&(b=b.redNeg()),this.point(a,b)};EdwardsCurve.prototype.pointFromY=function(a,d){a=new BN$5(a,16),a.red||(a=a.toRed(this.red));var m=a.redSqr(),$=m.redSub(this.c2),ee=m.redMul(this.d).redMul(this.c2).redSub(this.a),te=$.redMul(ee.redInvm());if(te.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,a)}var b=te.redSqrt();if(b.redSqr().redSub(te).cmp(this.zero)!==0)throw new Error("invalid point");return b.fromRed().isOdd()!==d&&(b=b.redNeg()),this.point(b,a)};EdwardsCurve.prototype.validate=function(a){if(a.isInfinity())return!0;a.normalize();var d=a.x.redSqr(),m=a.y.redSqr(),$=d.redMul(this.a).redAdd(m),ee=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(m)));return $.cmp(ee)===0};function Point(u,a,d,m,$){Base.BasePoint.call(this,u,"projective"),a===null&&d===null&&m===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$5(a,16),this.y=new BN$5(d,16),this.z=m?new BN$5(m,16):this.curve.one,this.t=$&&new BN$5($,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$2(Point,Base.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(a){return Point.fromJSON(this,a)};EdwardsCurve.prototype.point=function(a,d,m,$){return new Point(this,a,d,m,$)};Point.fromJSON=function(a,d){return new Point(a,d[0],d[1],d[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var a=this.x.redSqr(),d=this.y.redSqr(),m=this.z.redSqr();m=m.redIAdd(m);var $=this.curve._mulA(a),ee=this.x.redAdd(this.y).redSqr().redISub(a).redISub(d),te=$.redAdd(d),b=te.redSub(m),re=$.redSub(d),ne=ee.redMul(b),ie=te.redMul(re),se=ee.redMul(re),fe=b.redMul(te);return this.curve.point(ne,ie,fe,se)};Point.prototype._projDbl=function(){var a=this.x.redAdd(this.y).redSqr(),d=this.x.redSqr(),m=this.y.redSqr(),$,ee,te,b,re,ne;if(this.curve.twisted){b=this.curve._mulA(d);var ie=b.redAdd(m);this.zOne?($=a.redSub(d).redSub(m).redMul(ie.redSub(this.curve.two)),ee=ie.redMul(b.redSub(m)),te=ie.redSqr().redSub(ie).redSub(ie)):(re=this.z.redSqr(),ne=ie.redSub(re).redISub(re),$=a.redSub(d).redISub(m).redMul(ne),ee=ie.redMul(b.redSub(m)),te=ie.redMul(ne))}else b=d.redAdd(m),re=this.curve._mulC(this.z).redSqr(),ne=b.redSub(re).redSub(re),$=this.curve._mulC(a.redISub(b)).redMul(ne),ee=this.curve._mulC(b).redMul(d.redISub(m)),te=b.redMul(ne);return this.curve.point($,ee,te)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function(a){var d=this.y.redSub(this.x).redMul(a.y.redSub(a.x)),m=this.y.redAdd(this.x).redMul(a.y.redAdd(a.x)),$=this.t.redMul(this.curve.dd).redMul(a.t),ee=this.z.redMul(a.z.redAdd(a.z)),te=m.redSub(d),b=ee.redSub($),re=ee.redAdd($),ne=m.redAdd(d),ie=te.redMul(b),se=re.redMul(ne),fe=te.redMul(ne),ce=b.redMul(re);return this.curve.point(ie,se,ce,fe)};Point.prototype._projAdd=function(a){var d=this.z.redMul(a.z),m=d.redSqr(),$=this.x.redMul(a.x),ee=this.y.redMul(a.y),te=this.curve.d.redMul($).redMul(ee),b=m.redSub(te),re=m.redAdd(te),ne=this.x.redAdd(this.y).redMul(a.x.redAdd(a.y)).redISub($).redISub(ee),ie=d.redMul(b).redMul(ne),se,fe;return this.curve.twisted?(se=d.redMul(re).redMul(ee.redSub(this.curve._mulA($))),fe=b.redMul(re)):(se=d.redMul(re).redMul(ee.redSub($)),fe=this.curve._mulC(b).redMul(re)),this.curve.point(ie,se,fe)};Point.prototype.add=function(a){return this.isInfinity()?a:a.isInfinity()?this:this.curve.extended?this._extAdd(a):this._projAdd(a)};Point.prototype.mul=function(a){return this._hasDoubles(a)?this.curve._fixedNafMul(this,a):this.curve._wnafMul(this,a)};Point.prototype.mulAdd=function(a,d,m){return this.curve._wnafMulAdd(1,[this,d],[a,m],2,!1)};Point.prototype.jmulAdd=function(a,d,m){return this.curve._wnafMulAdd(1,[this,d],[a,m],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var a=this.z.redInvm();return this.x=this.x.redMul(a),this.y=this.y.redMul(a),this.t&&(this.t=this.t.redMul(a)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function(a){return this===a||this.getX().cmp(a.getX())===0&&this.getY().cmp(a.getY())===0};Point.prototype.eqXToP=function(a){var d=a.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var m=a.clone(),$=this.curve.redN.redMul(this.z);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(d.redIAdd($),this.x.cmp(d)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(u){var a=u;a.base=base$3,a.short=short,a.mont=mont,a.edwards=edwards})(curve);var curves$2={},hash$5={},utils$r={},assert$j=minimalisticAssert$1,inherits$1=inherits_browser$1.exports;utils$r.inherits=inherits$1;function isSurrogatePair$1(u,a){return(u.charCodeAt(a)&64512)!==55296||a<0||a+1>=u.length?!1:(u.charCodeAt(a+1)&64512)===56320}function toArray$2(u,a){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u=="string")if(a){if(a==="hex")for(u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u),$=0;$<u.length;$+=2)d.push(parseInt(u[$]+u[$+1],16))}else for(var m=0,$=0;$<u.length;$++){var ee=u.charCodeAt($);ee<128?d[m++]=ee:ee<2048?(d[m++]=ee>>6|192,d[m++]=ee&63|128):isSurrogatePair$1(u,$)?(ee=65536+((ee&1023)<<10)+(u.charCodeAt(++$)&1023),d[m++]=ee>>18|240,d[m++]=ee>>12&63|128,d[m++]=ee>>6&63|128,d[m++]=ee&63|128):(d[m++]=ee>>12|224,d[m++]=ee>>6&63|128,d[m++]=ee&63|128)}else for($=0;$<u.length;$++)d[$]=u[$]|0;return d}utils$r.toArray=toArray$2;function toHex$1(u){for(var a="",d=0;d<u.length;d++)a+=zero2$1(u[d].toString(16));return a}utils$r.toHex=toHex$1;function htonl$1(u){var a=u>>>24|u>>>8&65280|u<<8&16711680|(u&255)<<24;return a>>>0}utils$r.htonl=htonl$1;function toHex32$1(u,a){for(var d="",m=0;m<u.length;m++){var $=u[m];a==="little"&&($=htonl$1($)),d+=zero8$1($.toString(16))}return d}utils$r.toHex32=toHex32$1;function zero2$1(u){return u.length===1?"0"+u:u}utils$r.zero2=zero2$1;function zero8$1(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}utils$r.zero8=zero8$1;function join32$1(u,a,d,m){var $=d-a;assert$j($%4===0);for(var ee=new Array($/4),te=0,b=a;te<ee.length;te++,b+=4){var re;m==="big"?re=u[b]<<24|u[b+1]<<16|u[b+2]<<8|u[b+3]:re=u[b+3]<<24|u[b+2]<<16|u[b+1]<<8|u[b],ee[te]=re>>>0}return ee}utils$r.join32=join32$1;function split32$1(u,a){for(var d=new Array(u.length*4),m=0,$=0;m<u.length;m++,$+=4){var ee=u[m];a==="big"?(d[$]=ee>>>24,d[$+1]=ee>>>16&255,d[$+2]=ee>>>8&255,d[$+3]=ee&255):(d[$+3]=ee>>>24,d[$+2]=ee>>>16&255,d[$+1]=ee>>>8&255,d[$]=ee&255)}return d}utils$r.split32=split32$1;function rotr32$3(u,a){return u>>>a|u<<32-a}utils$r.rotr32=rotr32$3;function rotl32$5(u,a){return u<<a|u>>>32-a}utils$r.rotl32=rotl32$5;function sum32$7(u,a){return u+a>>>0}utils$r.sum32=sum32$7;function sum32_3$3(u,a,d){return u+a+d>>>0}utils$r.sum32_3=sum32_3$3;function sum32_4$5(u,a,d,m){return u+a+d+m>>>0}utils$r.sum32_4=sum32_4$5;function sum32_5$5(u,a,d,m,$){return u+a+d+m+$>>>0}utils$r.sum32_5=sum32_5$5;function sum64$3(u,a,d,m){var $=u[a],ee=u[a+1],te=m+ee>>>0,b=(te<m?1:0)+d+$;u[a]=b>>>0,u[a+1]=te}utils$r.sum64=sum64$3;function sum64_hi$3(u,a,d,m){var $=a+m>>>0,ee=($<a?1:0)+u+d;return ee>>>0}utils$r.sum64_hi=sum64_hi$3;function sum64_lo$3(u,a,d,m){var $=a+m;return $>>>0}utils$r.sum64_lo=sum64_lo$3;function sum64_4_hi$3(u,a,d,m,$,ee,te,b){var re=0,ne=a;ne=ne+m>>>0,re+=ne<a?1:0,ne=ne+ee>>>0,re+=ne<ee?1:0,ne=ne+b>>>0,re+=ne<b?1:0;var ie=u+d+$+te+re;return ie>>>0}utils$r.sum64_4_hi=sum64_4_hi$3;function sum64_4_lo$3(u,a,d,m,$,ee,te,b){var re=a+m+ee+b;return re>>>0}utils$r.sum64_4_lo=sum64_4_lo$3;function sum64_5_hi$3(u,a,d,m,$,ee,te,b,re,ne){var ie=0,se=a;se=se+m>>>0,ie+=se<a?1:0,se=se+ee>>>0,ie+=se<ee?1:0,se=se+b>>>0,ie+=se<b?1:0,se=se+ne>>>0,ie+=se<ne?1:0;var fe=u+d+$+te+re+ie;return fe>>>0}utils$r.sum64_5_hi=sum64_5_hi$3;function sum64_5_lo$3(u,a,d,m,$,ee,te,b,re,ne){var ie=a+m+ee+b+ne;return ie>>>0}utils$r.sum64_5_lo=sum64_5_lo$3;function rotr64_hi$3(u,a,d){var m=a<<32-d|u>>>d;return m>>>0}utils$r.rotr64_hi=rotr64_hi$3;function rotr64_lo$3(u,a,d){var m=u<<32-d|a>>>d;return m>>>0}utils$r.rotr64_lo=rotr64_lo$3;function shr64_hi$3(u,a,d){return u>>>d}utils$r.shr64_hi=shr64_hi$3;function shr64_lo$3(u,a,d){var m=u<<32-d|a>>>d;return m>>>0}utils$r.shr64_lo=shr64_lo$3;var common$c={},utils$q=utils$r,assert$i=minimalisticAssert$1;function BlockHash$9(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$c.BlockHash=BlockHash$9;BlockHash$9.prototype.update=function(a,d){if(a=utils$q.toArray(a,d),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var m=a.length%this._delta8;this.pending=a.slice(a.length-m,a.length),this.pending.length===0&&(this.pending=null),a=utils$q.join32(a,0,a.length-m,this.endian);for(var $=0;$<a.length;$+=this._delta32)this._update(a,$,$+this._delta32)}return this};BlockHash$9.prototype.digest=function(a){return this.update(this._pad()),assert$i(this.pending===null),this._digest(a)};BlockHash$9.prototype._pad=function(){var a=this.pendingTotal,d=this._delta8,m=d-(a+this.padLength)%d,$=new Array(m+this.padLength);$[0]=128;for(var ee=1;ee<m;ee++)$[ee]=0;if(a<<=3,this.endian==="big"){for(var te=8;te<this.padLength;te++)$[ee++]=0;$[ee++]=0,$[ee++]=0,$[ee++]=0,$[ee++]=0,$[ee++]=a>>>24&255,$[ee++]=a>>>16&255,$[ee++]=a>>>8&255,$[ee++]=a&255}else for($[ee++]=a&255,$[ee++]=a>>>8&255,$[ee++]=a>>>16&255,$[ee++]=a>>>24&255,$[ee++]=0,$[ee++]=0,$[ee++]=0,$[ee++]=0,te=8;te<this.padLength;te++)$[ee++]=0;return $};var sha$1={},common$b={},utils$p=utils$r,rotr32$2=utils$p.rotr32;function ft_1$3(u,a,d,m){if(u===0)return ch32$3(a,d,m);if(u===1||u===3)return p32$1(a,d,m);if(u===2)return maj32$3(a,d,m)}common$b.ft_1=ft_1$3;function ch32$3(u,a,d){return u&a^~u&d}common$b.ch32=ch32$3;function maj32$3(u,a,d){return u&a^u&d^a&d}common$b.maj32=maj32$3;function p32$1(u,a,d){return u^a^d}common$b.p32=p32$1;function s0_256$3(u){return rotr32$2(u,2)^rotr32$2(u,13)^rotr32$2(u,22)}common$b.s0_256=s0_256$3;function s1_256$3(u){return rotr32$2(u,6)^rotr32$2(u,11)^rotr32$2(u,25)}common$b.s1_256=s1_256$3;function g0_256$3(u){return rotr32$2(u,7)^rotr32$2(u,18)^u>>>3}common$b.g0_256=g0_256$3;function g1_256$3(u){return rotr32$2(u,17)^rotr32$2(u,19)^u>>>10}common$b.g1_256=g1_256$3;var utils$o=utils$r,common$a=common$c,shaCommon$3=common$b,rotl32$4=utils$o.rotl32,sum32$6=utils$o.sum32,sum32_5$4=utils$o.sum32_5,ft_1$2=shaCommon$3.ft_1,BlockHash$8=common$a.BlockHash,sha1_K$1=[1518500249,1859775393,2400959708,3395469782];function SHA1$1(){if(!(this instanceof SHA1$1))return new SHA1$1;BlockHash$8.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$o.inherits(SHA1$1,BlockHash$8);var _1$1=SHA1$1;SHA1$1.blockSize=512;SHA1$1.outSize=160;SHA1$1.hmacStrength=80;SHA1$1.padLength=64;SHA1$1.prototype._update=function(a,d){for(var m=this.W,$=0;$<16;$++)m[$]=a[d+$];for(;$<m.length;$++)m[$]=rotl32$4(m[$-3]^m[$-8]^m[$-14]^m[$-16],1);var ee=this.h[0],te=this.h[1],b=this.h[2],re=this.h[3],ne=this.h[4];for($=0;$<m.length;$++){var ie=~~($/20),se=sum32_5$4(rotl32$4(ee,5),ft_1$2(ie,te,b,re),ne,m[$],sha1_K$1[ie]);ne=re,re=b,b=rotl32$4(te,30),te=ee,ee=se}this.h[0]=sum32$6(this.h[0],ee),this.h[1]=sum32$6(this.h[1],te),this.h[2]=sum32$6(this.h[2],b),this.h[3]=sum32$6(this.h[3],re),this.h[4]=sum32$6(this.h[4],ne)};SHA1$1.prototype._digest=function(a){return a==="hex"?utils$o.toHex32(this.h,"big"):utils$o.split32(this.h,"big")};var utils$n=utils$r,common$9=common$c,shaCommon$2=common$b,assert$h=minimalisticAssert$1,sum32$5=utils$n.sum32,sum32_4$4=utils$n.sum32_4,sum32_5$3=utils$n.sum32_5,ch32$2=shaCommon$2.ch32,maj32$2=shaCommon$2.maj32,s0_256$2=shaCommon$2.s0_256,s1_256$2=shaCommon$2.s1_256,g0_256$2=shaCommon$2.g0_256,g1_256$2=shaCommon$2.g1_256,BlockHash$7=common$9.BlockHash,sha256_K$1=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$3(){if(!(this instanceof SHA256$3))return new SHA256$3;BlockHash$7.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K$1,this.W=new Array(64)}utils$n.inherits(SHA256$3,BlockHash$7);var _256$1=SHA256$3;SHA256$3.blockSize=512;SHA256$3.outSize=256;SHA256$3.hmacStrength=192;SHA256$3.padLength=64;SHA256$3.prototype._update=function(a,d){for(var m=this.W,$=0;$<16;$++)m[$]=a[d+$];for(;$<m.length;$++)m[$]=sum32_4$4(g1_256$2(m[$-2]),m[$-7],g0_256$2(m[$-15]),m[$-16]);var ee=this.h[0],te=this.h[1],b=this.h[2],re=this.h[3],ne=this.h[4],ie=this.h[5],se=this.h[6],fe=this.h[7];for(assert$h(this.k.length===m.length),$=0;$<m.length;$++){var ce=sum32_5$3(fe,s1_256$2(ne),ch32$2(ne,ie,se),this.k[$],m[$]),de=sum32$5(s0_256$2(ee),maj32$2(ee,te,b));fe=se,se=ie,ie=ne,ne=sum32$5(re,ce),re=b,b=te,te=ee,ee=sum32$5(ce,de)}this.h[0]=sum32$5(this.h[0],ee),this.h[1]=sum32$5(this.h[1],te),this.h[2]=sum32$5(this.h[2],b),this.h[3]=sum32$5(this.h[3],re),this.h[4]=sum32$5(this.h[4],ne),this.h[5]=sum32$5(this.h[5],ie),this.h[6]=sum32$5(this.h[6],se),this.h[7]=sum32$5(this.h[7],fe)};SHA256$3.prototype._digest=function(a){return a==="hex"?utils$n.toHex32(this.h,"big"):utils$n.split32(this.h,"big")};var utils$m=utils$r,SHA256$2=_256$1;function SHA224$1(){if(!(this instanceof SHA224$1))return new SHA224$1;SHA256$2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$m.inherits(SHA224$1,SHA256$2);var _224$1=SHA224$1;SHA224$1.blockSize=512;SHA224$1.outSize=224;SHA224$1.hmacStrength=192;SHA224$1.padLength=64;SHA224$1.prototype._digest=function(a){return a==="hex"?utils$m.toHex32(this.h.slice(0,7),"big"):utils$m.split32(this.h.slice(0,7),"big")};var utils$l=utils$r,common$8=common$c,assert$g=minimalisticAssert$1,rotr64_hi$2=utils$l.rotr64_hi,rotr64_lo$2=utils$l.rotr64_lo,shr64_hi$2=utils$l.shr64_hi,shr64_lo$2=utils$l.shr64_lo,sum64$2=utils$l.sum64,sum64_hi$2=utils$l.sum64_hi,sum64_lo$2=utils$l.sum64_lo,sum64_4_hi$2=utils$l.sum64_4_hi,sum64_4_lo$2=utils$l.sum64_4_lo,sum64_5_hi$2=utils$l.sum64_5_hi,sum64_5_lo$2=utils$l.sum64_5_lo,BlockHash$6=common$8.BlockHash,sha512_K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$3(){if(!(this instanceof SHA512$3))return new SHA512$3;BlockHash$6.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K$1,this.W=new Array(160)}utils$l.inherits(SHA512$3,BlockHash$6);var _512$1=SHA512$3;SHA512$3.blockSize=1024;SHA512$3.outSize=512;SHA512$3.hmacStrength=192;SHA512$3.padLength=128;SHA512$3.prototype._prepareBlock=function(a,d){for(var m=this.W,$=0;$<32;$++)m[$]=a[d+$];for(;$<m.length;$+=2){var ee=g1_512_hi$1(m[$-4],m[$-3]),te=g1_512_lo$1(m[$-4],m[$-3]),b=m[$-14],re=m[$-13],ne=g0_512_hi$1(m[$-30],m[$-29]),ie=g0_512_lo$1(m[$-30],m[$-29]),se=m[$-32],fe=m[$-31];m[$]=sum64_4_hi$2(ee,te,b,re,ne,ie,se,fe),m[$+1]=sum64_4_lo$2(ee,te,b,re,ne,ie,se,fe)}};SHA512$3.prototype._update=function(a,d){this._prepareBlock(a,d);var m=this.W,$=this.h[0],ee=this.h[1],te=this.h[2],b=this.h[3],re=this.h[4],ne=this.h[5],ie=this.h[6],se=this.h[7],fe=this.h[8],ce=this.h[9],de=this.h[10],ye=this.h[11],ge=this.h[12],_e=this.h[13],Ee=this.h[14],Ae=this.h[15];assert$g(this.k.length===m.length);for(var we=0;we<m.length;we+=2){var Me=Ee,ke=Ae,Re=s1_512_hi$1(fe,ce),ze=s1_512_lo$1(fe,ce),Je=ch64_hi$1(fe,ce,de,ye,ge),et=ch64_lo$1(fe,ce,de,ye,ge,_e),Pe=this.k[we],ve=this.k[we+1],le=m[we],ae=m[we+1],he=sum64_5_hi$2(Me,ke,Re,ze,Je,et,Pe,ve,le,ae),xe=sum64_5_lo$2(Me,ke,Re,ze,Je,et,Pe,ve,le,ae);Me=s0_512_hi$1($,ee),ke=s0_512_lo$1($,ee),Re=maj64_hi$1($,ee,te,b,re),ze=maj64_lo$1($,ee,te,b,re,ne);var $e=sum64_hi$2(Me,ke,Re,ze),He=sum64_lo$2(Me,ke,Re,ze);Ee=ge,Ae=_e,ge=de,_e=ye,de=fe,ye=ce,fe=sum64_hi$2(ie,se,he,xe),ce=sum64_lo$2(se,se,he,xe),ie=re,se=ne,re=te,ne=b,te=$,b=ee,$=sum64_hi$2(he,xe,$e,He),ee=sum64_lo$2(he,xe,$e,He)}sum64$2(this.h,0,$,ee),sum64$2(this.h,2,te,b),sum64$2(this.h,4,re,ne),sum64$2(this.h,6,ie,se),sum64$2(this.h,8,fe,ce),sum64$2(this.h,10,de,ye),sum64$2(this.h,12,ge,_e),sum64$2(this.h,14,Ee,Ae)};SHA512$3.prototype._digest=function(a){return a==="hex"?utils$l.toHex32(this.h,"big"):utils$l.split32(this.h,"big")};function ch64_hi$1(u,a,d,m,$){var ee=u&d^~u&$;return ee<0&&(ee+=4294967296),ee}function ch64_lo$1(u,a,d,m,$,ee){var te=a&m^~a&ee;return te<0&&(te+=4294967296),te}function maj64_hi$1(u,a,d,m,$){var ee=u&d^u&$^d&$;return ee<0&&(ee+=4294967296),ee}function maj64_lo$1(u,a,d,m,$,ee){var te=a&m^a&ee^m&ee;return te<0&&(te+=4294967296),te}function s0_512_hi$1(u,a){var d=rotr64_hi$2(u,a,28),m=rotr64_hi$2(a,u,2),$=rotr64_hi$2(a,u,7),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function s0_512_lo$1(u,a){var d=rotr64_lo$2(u,a,28),m=rotr64_lo$2(a,u,2),$=rotr64_lo$2(a,u,7),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function s1_512_hi$1(u,a){var d=rotr64_hi$2(u,a,14),m=rotr64_hi$2(u,a,18),$=rotr64_hi$2(a,u,9),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function s1_512_lo$1(u,a){var d=rotr64_lo$2(u,a,14),m=rotr64_lo$2(u,a,18),$=rotr64_lo$2(a,u,9),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function g0_512_hi$1(u,a){var d=rotr64_hi$2(u,a,1),m=rotr64_hi$2(u,a,8),$=shr64_hi$2(u,a,7),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function g0_512_lo$1(u,a){var d=rotr64_lo$2(u,a,1),m=rotr64_lo$2(u,a,8),$=shr64_lo$2(u,a,7),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function g1_512_hi$1(u,a){var d=rotr64_hi$2(u,a,19),m=rotr64_hi$2(a,u,29),$=shr64_hi$2(u,a,6),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function g1_512_lo$1(u,a){var d=rotr64_lo$2(u,a,19),m=rotr64_lo$2(a,u,29),$=shr64_lo$2(u,a,6),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}var utils$k=utils$r,SHA512$2=_512$1;function SHA384$1(){if(!(this instanceof SHA384$1))return new SHA384$1;SHA512$2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$k.inherits(SHA384$1,SHA512$2);var _384$1=SHA384$1;SHA384$1.blockSize=1024;SHA384$1.outSize=384;SHA384$1.hmacStrength=192;SHA384$1.padLength=128;SHA384$1.prototype._digest=function(a){return a==="hex"?utils$k.toHex32(this.h.slice(0,12),"big"):utils$k.split32(this.h.slice(0,12),"big")};sha$1.sha1=_1$1;sha$1.sha224=_224$1;sha$1.sha256=_256$1;sha$1.sha384=_384$1;sha$1.sha512=_512$1;var ripemd$1={},utils$j=utils$r,common$7=common$c,rotl32$3=utils$j.rotl32,sum32$4=utils$j.sum32,sum32_3$2=utils$j.sum32_3,sum32_4$3=utils$j.sum32_4,BlockHash$5=common$7.BlockHash;function RIPEMD160$1(){if(!(this instanceof RIPEMD160$1))return new RIPEMD160$1;BlockHash$5.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$j.inherits(RIPEMD160$1,BlockHash$5);ripemd$1.ripemd160=RIPEMD160$1;RIPEMD160$1.blockSize=512;RIPEMD160$1.outSize=160;RIPEMD160$1.hmacStrength=192;RIPEMD160$1.padLength=64;RIPEMD160$1.prototype._update=function(a,d){for(var m=this.h[0],$=this.h[1],ee=this.h[2],te=this.h[3],b=this.h[4],re=m,ne=$,ie=ee,se=te,fe=b,ce=0;ce<80;ce++){var de=sum32$4(rotl32$3(sum32_4$3(m,f$1(ce,$,ee,te),a[r$2[ce]+d],K$2(ce)),s$1[ce]),b);m=b,b=te,te=rotl32$3(ee,10),ee=$,$=de,de=sum32$4(rotl32$3(sum32_4$3(re,f$1(79-ce,ne,ie,se),a[rh$1[ce]+d],Kh$1(ce)),sh$1[ce]),fe),re=fe,fe=se,se=rotl32$3(ie,10),ie=ne,ne=de}de=sum32_3$2(this.h[1],ee,se),this.h[1]=sum32_3$2(this.h[2],te,fe),this.h[2]=sum32_3$2(this.h[3],b,re),this.h[3]=sum32_3$2(this.h[4],m,ne),this.h[4]=sum32_3$2(this.h[0],$,ie),this.h[0]=de};RIPEMD160$1.prototype._digest=function(a){return a==="hex"?utils$j.toHex32(this.h,"little"):utils$j.split32(this.h,"little")};function f$1(u,a,d,m){return u<=15?a^d^m:u<=31?a&d|~a&m:u<=47?(a|~d)^m:u<=63?a&m|d&~m:a^(d|~m)}function K$2(u){return u<=15?0:u<=31?1518500249:u<=47?1859775393:u<=63?2400959708:2840853838}function Kh$1(u){return u<=15?1352829926:u<=31?1548603684:u<=47?1836072691:u<=63?2053994217:0}var r$2=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh$1=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$1=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh$1=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$i=utils$r,assert$f=minimalisticAssert$1;function Hmac$1(u,a,d){if(!(this instanceof Hmac$1))return new Hmac$1(u,a,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(utils$i.toArray(a,d))}var hmac$1=Hmac$1;Hmac$1.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),assert$f(a.length<=this.blockSize);for(var d=a.length;d<this.blockSize;d++)a.push(0);for(d=0;d<a.length;d++)a[d]^=54;for(this.inner=new this.Hash().update(a),d=0;d<a.length;d++)a[d]^=106;this.outer=new this.Hash().update(a)};Hmac$1.prototype.update=function(a,d){return this.inner.update(a,d),this};Hmac$1.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)};(function(u){var a=u;a.utils=utils$r,a.common=common$c,a.sha=sha$1,a.ripemd=ripemd$1,a.hmac=hmac$1,a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160})(hash$5);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(u){var a=u,d=hash$5,m=curve,$=utils$x,ee=$.assert;function te(ne){ne.type==="short"?this.curve=new m.short(ne):ne.type==="edwards"?this.curve=new m.edwards(ne):this.curve=new m.mont(ne),this.g=this.curve.g,this.n=this.curve.n,this.hash=ne.hash,ee(this.g.validate(),"Invalid curve"),ee(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}a.PresetCurve=te;function b(ne,ie){Object.defineProperty(a,ne,{configurable:!0,enumerable:!0,get:function(){var se=new te(ie);return Object.defineProperty(a,ne,{configurable:!0,enumerable:!0,value:se}),se}})}b("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:d.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),b("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:d.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),b("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:d.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),b("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:d.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),b("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:d.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),b("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["9"]}),b("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var re;try{re=requireSecp256k1()}catch{re=void 0}b("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:d.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",re]})})(curves$2);var hash$4=hash$5,utils$h=utils$w,assert$e=minimalisticAssert$1;function HmacDRBG$1(u){if(!(this instanceof HmacDRBG$1))return new HmacDRBG$1(u);this.hash=u.hash,this.predResist=!!u.predResist,this.outLen=this.hash.outSize,this.minEntropy=u.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var a=utils$h.toArray(u.entropy,u.entropyEnc||"hex"),d=utils$h.toArray(u.nonce,u.nonceEnc||"hex"),m=utils$h.toArray(u.pers,u.persEnc||"hex");assert$e(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(a,d,m)}var hmacDrbg=HmacDRBG$1;HmacDRBG$1.prototype._init=function(a,d,m){var $=a.concat(d).concat(m);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var ee=0;ee<this.V.length;ee++)this.K[ee]=0,this.V[ee]=1;this._update($),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG$1.prototype._hmac=function(){return new hash$4.hmac(this.hash,this.K)};HmacDRBG$1.prototype._update=function(a){var d=this._hmac().update(this.V).update([0]);a&&(d=d.update(a)),this.K=d.digest(),this.V=this._hmac().update(this.V).digest(),a&&(this.K=this._hmac().update(this.V).update([1]).update(a).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG$1.prototype.reseed=function(a,d,m,$){typeof d!="string"&&($=m,m=d,d=null),a=utils$h.toArray(a,d),m=utils$h.toArray(m,$),assert$e(a.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(a.concat(m||[])),this._reseed=1};HmacDRBG$1.prototype.generate=function(a,d,m,$){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof d!="string"&&($=m,m=d,d=null),m&&(m=utils$h.toArray(m,$||"hex"),this._update(m));for(var ee=[];ee.length<a;)this.V=this._hmac().update(this.V).digest(),ee=ee.concat(this.V);var te=ee.slice(0,a);return this._update(m),this._reseed++,utils$h.encode(te,d)};var BN$4=bn.exports,utils$g=utils$x,assert$d=utils$g.assert;function KeyPair$3(u,a){this.ec=u,this.priv=null,this.pub=null,a.priv&&this._importPrivate(a.priv,a.privEnc),a.pub&&this._importPublic(a.pub,a.pubEnc)}var key$1=KeyPair$3;KeyPair$3.fromPublic=function(a,d,m){return d instanceof KeyPair$3?d:new KeyPair$3(a,{pub:d,pubEnc:m})};KeyPair$3.fromPrivate=function(a,d,m){return d instanceof KeyPair$3?d:new KeyPair$3(a,{priv:d,privEnc:m})};KeyPair$3.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$3.prototype.getPublic=function(a,d){return typeof a=="string"&&(d=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),d?this.pub.encode(d,a):this.pub};KeyPair$3.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv};KeyPair$3.prototype._importPrivate=function(a,d){this.priv=new BN$4(a,d||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$3.prototype._importPublic=function(a,d){if(a.x||a.y){this.ec.curve.type==="mont"?assert$d(a.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$d(a.x&&a.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(a.x,a.y);return}this.pub=this.ec.curve.decodePoint(a,d)};KeyPair$3.prototype.derive=function(a){return a.validate()||assert$d(a.validate(),"public point not validated"),a.mul(this.priv).getX()};KeyPair$3.prototype.sign=function(a,d,m){return this.ec.sign(a,this,d,m)};KeyPair$3.prototype.verify=function(a,d){return this.ec.verify(a,d,this)};KeyPair$3.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$3=bn.exports,utils$f=utils$x,assert$c=utils$f.assert;function Signature$3(u,a){if(u instanceof Signature$3)return u;this._importDER(u,a)||(assert$c(u.r&&u.s,"Signature without r or s"),this.r=new BN$3(u.r,16),this.s=new BN$3(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}var signature$1=Signature$3;function Position(){this.place=0}function getLength$1(u,a){var d=u[a.place++];if(!(d&128))return d;var m=d&15;if(m===0||m>4)return!1;for(var $=0,ee=0,te=a.place;ee<m;ee++,te++)$<<=8,$|=u[te],$>>>=0;return $<=127?!1:(a.place=te,$)}function rmPadding(u){for(var a=0,d=u.length-1;!u[a]&&!(u[a+1]&128)&&a<d;)a++;return a===0?u:u.slice(a)}Signature$3.prototype._importDER=function(a,d){a=utils$f.toArray(a,d);var m=new Position;if(a[m.place++]!==48)return!1;var $=getLength$1(a,m);if($===!1||$+m.place!==a.length||a[m.place++]!==2)return!1;var ee=getLength$1(a,m);if(ee===!1)return!1;var te=a.slice(m.place,ee+m.place);if(m.place+=ee,a[m.place++]!==2)return!1;var b=getLength$1(a,m);if(b===!1||a.length!==b+m.place)return!1;var re=a.slice(m.place,b+m.place);if(te[0]===0)if(te[1]&128)te=te.slice(1);else return!1;if(re[0]===0)if(re[1]&128)re=re.slice(1);else return!1;return this.r=new BN$3(te),this.s=new BN$3(re),this.recoveryParam=null,!0};function constructLength(u,a){if(a<128){u.push(a);return}var d=1+(Math.log(a)/Math.LN2>>>3);for(u.push(d|128);--d;)u.push(a>>>(d<<3)&255);u.push(a)}Signature$3.prototype.toDER=function(a){var d=this.r.toArray(),m=this.s.toArray();for(d[0]&128&&(d=[0].concat(d)),m[0]&128&&(m=[0].concat(m)),d=rmPadding(d),m=rmPadding(m);!m[0]&&!(m[1]&128);)m=m.slice(1);var $=[2];constructLength($,d.length),$=$.concat(d),$.push(2),constructLength($,m.length);var ee=$.concat(m),te=[48];return constructLength(te,ee.length),te=te.concat(ee),utils$f.encode(te,a)};var BN$2=bn.exports,HmacDRBG=hmacDrbg,utils$e=utils$x,curves$1=curves$2,rand=brorand.exports,assert$b=utils$e.assert,KeyPair$2=key$1,Signature$2=signature$1;function EC$1(u){if(!(this instanceof EC$1))return new EC$1(u);typeof u=="string"&&(assert$b(Object.prototype.hasOwnProperty.call(curves$1,u),"Unknown curve "+u),u=curves$1[u]),u instanceof curves$1.PresetCurve&&(u={curve:u}),this.curve=u.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=u.curve.g,this.g.precompute(u.curve.n.bitLength()+1),this.hash=u.hash||u.curve.hash}var ec$2=EC$1;EC$1.prototype.keyPair=function(a){return new KeyPair$2(this,a)};EC$1.prototype.keyFromPrivate=function(a,d){return KeyPair$2.fromPrivate(this,a,d)};EC$1.prototype.keyFromPublic=function(a,d){return KeyPair$2.fromPublic(this,a,d)};EC$1.prototype.genKeyPair=function(a){a||(a={});for(var d=new HmacDRBG({hash:this.hash,pers:a.pers,persEnc:a.persEnc||"utf8",entropy:a.entropy||rand(this.hash.hmacStrength),entropyEnc:a.entropy&&a.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),$=this.n.sub(new BN$2(2));;){var ee=new BN$2(d.generate(m));if(!(ee.cmp($)>0))return ee.iaddn(1),this.keyFromPrivate(ee)}};EC$1.prototype._truncateToN=function(a,d){var m=a.byteLength()*8-this.n.bitLength();return m>0&&(a=a.ushrn(m)),!d&&a.cmp(this.n)>=0?a.sub(this.n):a};EC$1.prototype.sign=function(a,d,m,$){typeof m=="object"&&($=m,m=null),$||($={}),d=this.keyFromPrivate(d,m),a=this._truncateToN(new BN$2(a,16));for(var ee=this.n.byteLength(),te=d.getPrivate().toArray("be",ee),b=a.toArray("be",ee),re=new HmacDRBG({hash:this.hash,entropy:te,nonce:b,pers:$.pers,persEnc:$.persEnc||"utf8"}),ne=this.n.sub(new BN$2(1)),ie=0;;ie++){var se=$.k?$.k(ie):new BN$2(re.generate(this.n.byteLength()));if(se=this._truncateToN(se,!0),!(se.cmpn(1)<=0||se.cmp(ne)>=0)){var fe=this.g.mul(se);if(!fe.isInfinity()){var ce=fe.getX(),de=ce.umod(this.n);if(de.cmpn(0)!==0){var ye=se.invm(this.n).mul(de.mul(d.getPrivate()).iadd(a));if(ye=ye.umod(this.n),ye.cmpn(0)!==0){var ge=(fe.getY().isOdd()?1:0)|(ce.cmp(de)!==0?2:0);return $.canonical&&ye.cmp(this.nh)>0&&(ye=this.n.sub(ye),ge^=1),new Signature$2({r:de,s:ye,recoveryParam:ge})}}}}}};EC$1.prototype.verify=function(a,d,m,$){a=this._truncateToN(new BN$2(a,16)),m=this.keyFromPublic(m,$),d=new Signature$2(d,"hex");var ee=d.r,te=d.s;if(ee.cmpn(1)<0||ee.cmp(this.n)>=0||te.cmpn(1)<0||te.cmp(this.n)>=0)return!1;var b=te.invm(this.n),re=b.mul(a).umod(this.n),ne=b.mul(ee).umod(this.n),ie;return this.curve._maxwellTrick?(ie=this.g.jmulAdd(re,m.getPublic(),ne),ie.isInfinity()?!1:ie.eqXToP(ee)):(ie=this.g.mulAdd(re,m.getPublic(),ne),ie.isInfinity()?!1:ie.getX().umod(this.n).cmp(ee)===0)};EC$1.prototype.recoverPubKey=function(u,a,d,m){assert$b((3&d)===d,"The recovery param is more than two bits"),a=new Signature$2(a,m);var $=this.n,ee=new BN$2(u),te=a.r,b=a.s,re=d&1,ne=d>>1;if(te.cmp(this.curve.p.umod(this.curve.n))>=0&&ne)throw new Error("Unable to find sencond key candinate");ne?te=this.curve.pointFromX(te.add(this.curve.n),re):te=this.curve.pointFromX(te,re);var ie=a.r.invm($),se=$.sub(ee).mul(ie).umod($),fe=b.mul(ie).umod($);return this.g.mulAdd(se,te,fe)};EC$1.prototype.getKeyRecoveryParam=function(u,a,d,m){if(a=new Signature$2(a,m),a.recoveryParam!==null)return a.recoveryParam;for(var $=0;$<4;$++){var ee;try{ee=this.recoverPubKey(u,a,$)}catch{continue}if(ee.eq(d))return $}throw new Error("Unable to find valid recovery factor")};var utils$d=utils$x,assert$a=utils$d.assert,parseBytes$2=utils$d.parseBytes,cachedProperty$1=utils$d.cachedProperty;function KeyPair$1(u,a){this.eddsa=u,this._secret=parseBytes$2(a.secret),u.isPoint(a.pub)?this._pub=a.pub:this._pubBytes=parseBytes$2(a.pub)}KeyPair$1.fromPublic=function(a,d){return d instanceof KeyPair$1?d:new KeyPair$1(a,{pub:d})};KeyPair$1.fromSecret=function(a,d){return d instanceof KeyPair$1?d:new KeyPair$1(a,{secret:d})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var a=this.eddsa,d=this.hash(),m=a.encodingLength-1,$=d.slice(0,a.encodingLength);return $[0]&=248,$[m]&=127,$[m]|=64,$});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(a){return assert$a(this._secret,"KeyPair can only verify"),this.eddsa.sign(a,this)};KeyPair$1.prototype.verify=function(a,d){return this.eddsa.verify(a,d,this)};KeyPair$1.prototype.getSecret=function(a){return assert$a(this._secret,"KeyPair is public only"),utils$d.encode(this.secret(),a)};KeyPair$1.prototype.getPublic=function(a){return utils$d.encode(this.pubBytes(),a)};var key=KeyPair$1,BN$1=bn.exports,utils$c=utils$x,assert$9=utils$c.assert,cachedProperty=utils$c.cachedProperty,parseBytes$1=utils$c.parseBytes;function Signature$1(u,a){this.eddsa=u,typeof a!="object"&&(a=parseBytes$1(a)),Array.isArray(a)&&(a={R:a.slice(0,u.encodingLength),S:a.slice(u.encodingLength)}),assert$9(a.R&&a.S,"Signature without R or S"),u.isPoint(a.R)&&(this._R=a.R),a.S instanceof BN$1&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}cachedProperty(Signature$1,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$1,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$1,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$1,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$1.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$1.prototype.toHex=function(){return utils$c.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$1,hash$3=hash$5,curves=curves$2,utils$b=utils$x,assert$8=utils$b.assert,parseBytes=utils$b.parseBytes,KeyPair=key,Signature=signature;function EDDSA(u){if(assert$8(u==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(u);u=curves[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=hash$3.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(a,d){a=parseBytes(a);var m=this.keyFromSecret(d),$=this.hashInt(m.messagePrefix(),a),ee=this.g.mul($),te=this.encodePoint(ee),b=this.hashInt(te,m.pubBytes(),a).mul(m.priv()),re=$.add(b).umod(this.curve.n);return this.makeSignature({R:ee,S:re,Rencoded:te})};EDDSA.prototype.verify=function(a,d,m){a=parseBytes(a),d=this.makeSignature(d);var $=this.keyFromPublic(m),ee=this.hashInt(d.Rencoded(),$.pubBytes(),a),te=this.g.mul(d.S()),b=d.R().add($.pub().mul(ee));return b.eq(te)};EDDSA.prototype.hashInt=function(){for(var a=this.hash(),d=0;d<arguments.length;d++)a.update(arguments[d]);return utils$b.intFromLE(a.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(a){return KeyPair.fromPublic(this,a)};EDDSA.prototype.keyFromSecret=function(a){return KeyPair.fromSecret(this,a)};EDDSA.prototype.makeSignature=function(a){return a instanceof Signature?a:new Signature(this,a)};EDDSA.prototype.encodePoint=function(a){var d=a.getY().toArray("le",this.encodingLength);return d[this.encodingLength-1]|=a.getX().isOdd()?128:0,d};EDDSA.prototype.decodePoint=function(a){a=utils$b.parseBytes(a);var d=a.length-1,m=a.slice(0,d).concat(a[d]&-129),$=(a[d]&128)!==0,ee=utils$b.intFromLE(m);return this.curve.pointFromY(ee,$)};EDDSA.prototype.encodeInt=function(a){return a.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(a){return utils$b.intFromLE(a)};EDDSA.prototype.isPoint=function(a){return a instanceof this.pointClass};(function(u){var a=u;a.version=require$$0$1.version,a.utils=utils$x,a.rand=brorand.exports,a.curve=curve,a.curves=curves$2,a.ec=ec$2,a.eddsa=eddsa})(elliptic$2);const EC=elliptic$2.ec,ec$1=new EC("secp256k1"),ecparams=ec$1.curve,BN=ecparams.n.constructor;function loadCompressedPublicKey(u,a){let d=new BN(a);if(d.cmp(ecparams.p)>=0)return null;d=d.toRed(ecparams.red);let m=d.redSqr().redIMul(d).redIAdd(ecparams.b).redSqrt();return u===3!==m.isOdd()&&(m=m.redNeg()),ec$1.keyPair({pub:{x:d,y:m}})}function loadUncompressedPublicKey(u,a,d){let m=new BN(a),$=new BN(d);if(m.cmp(ecparams.p)>=0||$.cmp(ecparams.p)>=0||(m=m.toRed(ecparams.red),$=$.toRed(ecparams.red),(u===6||u===7)&&$.isOdd()!==(u===7)))return null;const ee=m.redSqr().redIMul(m);return $.redSqr().redISub(ee.redIAdd(ecparams.b)).isZero()?ec$1.keyPair({pub:{x:m,y:$}}):null}function loadPublicKey(u){const a=u[0];switch(a){case 2:case 3:return u.length!==33?null:loadCompressedPublicKey(a,u.subarray(1,33));case 4:case 6:case 7:return u.length!==65?null:loadUncompressedPublicKey(a,u.subarray(1,33),u.subarray(33,65));default:return null}}function savePublicKey(u,a){const d=a.encode(null,u.length===33);for(let m=0;m<u.length;++m)u[m]=d[m]}var elliptic$1={contextRandomize(){return 0},privateKeyVerify(u){const a=new BN(u);return a.cmp(ecparams.n)<0&&!a.isZero()?0:1},privateKeyNegate(u){const a=new BN(u),d=ecparams.n.sub(a).umod(ecparams.n).toArrayLike(Uint8Array,"be",32);return u.set(d),0},privateKeyTweakAdd(u,a){const d=new BN(a);if(d.cmp(ecparams.n)>=0||(d.iadd(new BN(u)),d.cmp(ecparams.n)>=0&&d.isub(ecparams.n),d.isZero()))return 1;const m=d.toArrayLike(Uint8Array,"be",32);return u.set(m),0},privateKeyTweakMul(u,a){let d=new BN(a);if(d.cmp(ecparams.n)>=0||d.isZero())return 1;d.imul(new BN(u)),d.cmp(ecparams.n)>=0&&(d=d.umod(ecparams.n));const m=d.toArrayLike(Uint8Array,"be",32);return u.set(m),0},publicKeyVerify(u){return loadPublicKey(u)===null?1:0},publicKeyCreate(u,a){const d=new BN(a);if(d.cmp(ecparams.n)>=0||d.isZero())return 1;const m=ec$1.keyFromPrivate(a).getPublic();return savePublicKey(u,m),0},publicKeyConvert(u,a){const d=loadPublicKey(a);if(d===null)return 1;const m=d.getPublic();return savePublicKey(u,m),0},publicKeyNegate(u,a){const d=loadPublicKey(a);if(d===null)return 1;const m=d.getPublic();return m.y=m.y.redNeg(),savePublicKey(u,m),0},publicKeyCombine(u,a){const d=new Array(a.length);for(let $=0;$<a.length;++$)if(d[$]=loadPublicKey(a[$]),d[$]===null)return 1;let m=d[0].getPublic();for(let $=1;$<d.length;++$)m=m.add(d[$].pub);return m.isInfinity()?2:(savePublicKey(u,m),0)},publicKeyTweakAdd(u,a,d){const m=loadPublicKey(a);if(m===null)return 1;if(d=new BN(d),d.cmp(ecparams.n)>=0)return 2;const $=m.getPublic().add(ecparams.g.mul(d));return $.isInfinity()?2:(savePublicKey(u,$),0)},publicKeyTweakMul(u,a,d){const m=loadPublicKey(a);if(m===null)return 1;if(d=new BN(d),d.cmp(ecparams.n)>=0||d.isZero())return 2;const $=m.getPublic().mul(d);return savePublicKey(u,$),0},signatureNormalize(u){const a=new BN(u.subarray(0,32)),d=new BN(u.subarray(32,64));return a.cmp(ecparams.n)>=0||d.cmp(ecparams.n)>=0?1:(d.cmp(ec$1.nh)===1&&u.set(ecparams.n.sub(d).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(u,a){const d=a.subarray(0,32),m=a.subarray(32,64);if(new BN(d).cmp(ecparams.n)>=0||new BN(m).cmp(ecparams.n)>=0)return 1;const{output:$}=u;let ee=$.subarray(4,4+33);ee[0]=0,ee.set(d,1);let te=33,b=0;for(;te>1&&ee[b]===0&&!(ee[b+1]&128);--te,++b);if(ee=ee.subarray(b),ee[0]&128||te>1&&ee[0]===0&&!(ee[1]&128))return 1;let re=$.subarray(6+33,6+33+33);re[0]=0,re.set(m,1);let ne=33,ie=0;for(;ne>1&&re[ie]===0&&!(re[ie+1]&128);--ne,++ie);return re=re.subarray(ie),re[0]&128||ne>1&&re[0]===0&&!(re[1]&128)?1:(u.outputlen=6+te+ne,$[0]=48,$[1]=u.outputlen-2,$[2]=2,$[3]=ee.length,$.set(ee,4),$[4+te]=2,$[5+te]=re.length,$.set(re,6+te),0)},signatureImport(u,a){if(a.length<8||a.length>72||a[0]!==48||a[1]!==a.length-2||a[2]!==2)return 1;const d=a[3];if(d===0||5+d>=a.length||a[4+d]!==2)return 1;const m=a[5+d];if(m===0||6+d+m!==a.length||a[4]&128||d>1&&a[4]===0&&!(a[5]&128)||a[d+6]&128||m>1&&a[d+6]===0&&!(a[d+7]&128))return 1;let $=a.subarray(4,4+d);if($.length===33&&$[0]===0&&($=$.subarray(1)),$.length>32)return 1;let ee=a.subarray(6+d);if(ee.length===33&&ee[0]===0&&(ee=ee.slice(1)),ee.length>32)throw new Error("S length is too long");let te=new BN($);te.cmp(ecparams.n)>=0&&(te=new BN(0));let b=new BN(a.subarray(6+d));return b.cmp(ecparams.n)>=0&&(b=new BN(0)),u.set(te.toArrayLike(Uint8Array,"be",32),0),u.set(b.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(u,a,d,m,$){if($){const b=$;$=re=>{const ne=b(a,d,null,m,re);if(!(ne instanceof Uint8Array&&ne.length===32))throw new Error("This is the way");return new BN(ne)}}const ee=new BN(d);if(ee.cmp(ecparams.n)>=0||ee.isZero())return 1;let te;try{te=ec$1.sign(a,d,{canonical:!0,k:$,pers:m})}catch{return 1}return u.signature.set(te.r.toArrayLike(Uint8Array,"be",32),0),u.signature.set(te.s.toArrayLike(Uint8Array,"be",32),32),u.recid=te.recoveryParam,0},ecdsaVerify(u,a,d){const m={r:u.subarray(0,32),s:u.subarray(32,64)},$=new BN(m.r),ee=new BN(m.s);if($.cmp(ecparams.n)>=0||ee.cmp(ecparams.n)>=0)return 1;if(ee.cmp(ec$1.nh)===1||$.isZero()||ee.isZero())return 3;const te=loadPublicKey(d);if(te===null)return 2;const b=te.getPublic();return ec$1.verify(a,m,b)?0:3},ecdsaRecover(u,a,d,m){const $={r:a.slice(0,32),s:a.slice(32,64)},ee=new BN($.r),te=new BN($.s);if(ee.cmp(ecparams.n)>=0||te.cmp(ecparams.n)>=0)return 1;if(ee.isZero()||te.isZero())return 2;let b;try{b=ec$1.recoverPubKey(m,$,d)}catch{return 2}return savePublicKey(u,b),0},ecdh(u,a,d,m,$,ee,te){const b=loadPublicKey(a);if(b===null)return 1;const re=new BN(d);if(re.cmp(ecparams.n)>=0||re.isZero())return 2;const ne=b.getPublic().mul(re);if($===void 0){const ie=ne.encode(null,!0),se=ec$1.hash().update(ie).digest();for(let fe=0;fe<32;++fe)u[fe]=se[fe]}else{ee||(ee=new Uint8Array(32));const ie=ne.getX().toArray("be",32);for(let de=0;de<32;++de)ee[de]=ie[de];te||(te=new Uint8Array(32));const se=ne.getY().toArray("be",32);for(let de=0;de<32;++de)te[de]=se[de];const fe=$(ee,te,m);if(!(fe instanceof Uint8Array&&fe.length===u.length))return 2;u.set(fe)}return 0}},elliptic=lib$1(elliptic$1),sha3$1={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(u){(function(){var a="input is invalid type",d="finalize already called",m=typeof window=="object",$=m?window:{};$.JS_SHA3_NO_WINDOW&&(m=!1);var ee=!m&&typeof self=="object",te=!$.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;te?$=commonjsGlobal$1:ee&&($=self);var b=!$.JS_SHA3_NO_COMMON_JS&&!0&&u.exports,re=!$.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",ne="0123456789abcdef".split(""),ie=[31,7936,2031616,520093696],se=[4,1024,262144,67108864],fe=[1,256,65536,16777216],ce=[6,1536,393216,100663296],de=[0,8,16,24],ye=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],ge=[224,256,384,512],_e=[128,256],Ee=["hex","buffer","arrayBuffer","array","digest"],Ae={128:168,256:136};($.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(Ce){return Object.prototype.toString.call(Ce)==="[object Array]"}),re&&($.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(Ce){return typeof Ce=="object"&&Ce.buffer&&Ce.buffer.constructor===ArrayBuffer});for(var we=function(Ce,Ze,it){return function(rt){return new pe(Ce,Ze,Ce).update(rt)[it]()}},Me=function(Ce,Ze,it){return function(rt,Oe){return new pe(Ce,Ze,Oe).update(rt)[it]()}},ke=function(Ce,Ze,it){return function(rt,Oe,Ve,We){return ae["cshake"+Ce].update(rt,Oe,Ve,We)[it]()}},Re=function(Ce,Ze,it){return function(rt,Oe,Ve,We){return ae["kmac"+Ce].update(rt,Oe,Ve,We)[it]()}},ze=function(Ce,Ze,it,rt){for(var Oe=0;Oe<Ee.length;++Oe){var Ve=Ee[Oe];Ce[Ve]=Ze(it,rt,Ve)}return Ce},Je=function(Ce,Ze){var it=we(Ce,Ze,"hex");return it.create=function(){return new pe(Ce,Ze,Ce)},it.update=function(rt){return it.create().update(rt)},ze(it,we,Ce,Ze)},et=function(Ce,Ze){var it=Me(Ce,Ze,"hex");return it.create=function(rt){return new pe(Ce,Ze,rt)},it.update=function(rt,Oe){return it.create(Oe).update(rt)},ze(it,Me,Ce,Ze)},Pe=function(Ce,Ze){var it=Ae[Ce],rt=ke(Ce,Ze,"hex");return rt.create=function(Oe,Ve,We){return!Ve&&!We?ae["shake"+Ce].create(Oe):new pe(Ce,Ze,Oe).bytepad([Ve,We],it)},rt.update=function(Oe,Ve,We,qe){return rt.create(Ve,We,qe).update(Oe)},ze(rt,ke,Ce,Ze)},ve=function(Ce,Ze){var it=Ae[Ce],rt=Re(Ce,Ze,"hex");return rt.create=function(Oe,Ve,We){return new Le(Ce,Ze,Ve).bytepad(["KMAC",We],it).bytepad([Oe],it)},rt.update=function(Oe,Ve,We,qe){return rt.create(Oe,We,qe).update(Ve)},ze(rt,Re,Ce,Ze)},le=[{name:"keccak",padding:fe,bits:ge,createMethod:Je},{name:"sha3",padding:ce,bits:ge,createMethod:Je},{name:"shake",padding:ie,bits:_e,createMethod:et},{name:"cshake",padding:se,bits:_e,createMethod:Pe},{name:"kmac",padding:se,bits:_e,createMethod:ve}],ae={},he=[],xe=0;xe<le.length;++xe)for(var $e=le[xe],He=$e.bits,Fe=0;Fe<He.length;++Fe){var Ne=$e.name+"_"+He[Fe];if(he.push(Ne),ae[Ne]=$e.createMethod(He[Fe],$e.padding),$e.name!=="sha3"){var De=$e.name+He[Fe];he.push(De),ae[De]=ae[Ne]}}function pe(Ce,Ze,it){this.blocks=[],this.s=[],this.padding=Ze,this.outputBits=it,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(Ce<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=it>>5,this.extraBytes=(it&31)>>3;for(var rt=0;rt<50;++rt)this.s[rt]=0}pe.prototype.update=function(Ce){if(this.finalized)throw new Error(d);var Ze,it=typeof Ce;if(it!=="string"){if(it==="object"){if(Ce===null)throw new Error(a);if(re&&Ce.constructor===ArrayBuffer)Ce=new Uint8Array(Ce);else if(!Array.isArray(Ce)&&(!re||!ArrayBuffer.isView(Ce)))throw new Error(a)}else throw new Error(a);Ze=!0}for(var rt=this.blocks,Oe=this.byteCount,Ve=Ce.length,We=this.blockCount,qe=0,Ge=this.s,Qe,ct;qe<Ve;){if(this.reset)for(this.reset=!1,rt[0]=this.block,Qe=1;Qe<We+1;++Qe)rt[Qe]=0;if(Ze)for(Qe=this.start;qe<Ve&&Qe<Oe;++qe)rt[Qe>>2]|=Ce[qe]<<de[Qe++&3];else for(Qe=this.start;qe<Ve&&Qe<Oe;++qe)ct=Ce.charCodeAt(qe),ct<128?rt[Qe>>2]|=ct<<de[Qe++&3]:ct<2048?(rt[Qe>>2]|=(192|ct>>6)<<de[Qe++&3],rt[Qe>>2]|=(128|ct&63)<<de[Qe++&3]):ct<55296||ct>=57344?(rt[Qe>>2]|=(224|ct>>12)<<de[Qe++&3],rt[Qe>>2]|=(128|ct>>6&63)<<de[Qe++&3],rt[Qe>>2]|=(128|ct&63)<<de[Qe++&3]):(ct=65536+((ct&1023)<<10|Ce.charCodeAt(++qe)&1023),rt[Qe>>2]|=(240|ct>>18)<<de[Qe++&3],rt[Qe>>2]|=(128|ct>>12&63)<<de[Qe++&3],rt[Qe>>2]|=(128|ct>>6&63)<<de[Qe++&3],rt[Qe>>2]|=(128|ct&63)<<de[Qe++&3]);if(this.lastByteIndex=Qe,Qe>=Oe){for(this.start=Qe-Oe,this.block=rt[We],Qe=0;Qe<We;++Qe)Ge[Qe]^=rt[Qe];Be(Ge),this.reset=!0}else this.start=Qe}return this},pe.prototype.encode=function(Ce,Ze){var it=Ce&255,rt=1,Oe=[it];for(Ce=Ce>>8,it=Ce&255;it>0;)Oe.unshift(it),Ce=Ce>>8,it=Ce&255,++rt;return Ze?Oe.push(rt):Oe.unshift(rt),this.update(Oe),Oe.length},pe.prototype.encodeString=function(Ce){var Ze,it=typeof Ce;if(it!=="string"){if(it==="object"){if(Ce===null)throw new Error(a);if(re&&Ce.constructor===ArrayBuffer)Ce=new Uint8Array(Ce);else if(!Array.isArray(Ce)&&(!re||!ArrayBuffer.isView(Ce)))throw new Error(a)}else throw new Error(a);Ze=!0}var rt=0,Oe=Ce.length;if(Ze)rt=Oe;else for(var Ve=0;Ve<Ce.length;++Ve){var We=Ce.charCodeAt(Ve);We<128?rt+=1:We<2048?rt+=2:We<55296||We>=57344?rt+=3:(We=65536+((We&1023)<<10|Ce.charCodeAt(++Ve)&1023),rt+=4)}return rt+=this.encode(rt*8),this.update(Ce),rt},pe.prototype.bytepad=function(Ce,Ze){for(var it=this.encode(Ze),rt=0;rt<Ce.length;++rt)it+=this.encodeString(Ce[rt]);var Oe=Ze-it%Ze,Ve=[];return Ve.length=Oe,this.update(Ve),this},pe.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var Ce=this.blocks,Ze=this.lastByteIndex,it=this.blockCount,rt=this.s;if(Ce[Ze>>2]|=this.padding[Ze&3],this.lastByteIndex===this.byteCount)for(Ce[0]=Ce[it],Ze=1;Ze<it+1;++Ze)Ce[Ze]=0;for(Ce[it-1]|=2147483648,Ze=0;Ze<it;++Ze)rt[Ze]^=Ce[Ze];Be(rt)}},pe.prototype.toString=pe.prototype.hex=function(){this.finalize();for(var Ce=this.blockCount,Ze=this.s,it=this.outputBlocks,rt=this.extraBytes,Oe=0,Ve=0,We="",qe;Ve<it;){for(Oe=0;Oe<Ce&&Ve<it;++Oe,++Ve)qe=Ze[Oe],We+=ne[qe>>4&15]+ne[qe&15]+ne[qe>>12&15]+ne[qe>>8&15]+ne[qe>>20&15]+ne[qe>>16&15]+ne[qe>>28&15]+ne[qe>>24&15];Ve%Ce===0&&(Be(Ze),Oe=0)}return rt&&(qe=Ze[Oe],We+=ne[qe>>4&15]+ne[qe&15],rt>1&&(We+=ne[qe>>12&15]+ne[qe>>8&15]),rt>2&&(We+=ne[qe>>20&15]+ne[qe>>16&15])),We},pe.prototype.arrayBuffer=function(){this.finalize();var Ce=this.blockCount,Ze=this.s,it=this.outputBlocks,rt=this.extraBytes,Oe=0,Ve=0,We=this.outputBits>>3,qe;rt?qe=new ArrayBuffer(it+1<<2):qe=new ArrayBuffer(We);for(var Ge=new Uint32Array(qe);Ve<it;){for(Oe=0;Oe<Ce&&Ve<it;++Oe,++Ve)Ge[Ve]=Ze[Oe];Ve%Ce===0&&Be(Ze)}return rt&&(Ge[Oe]=Ze[Oe],qe=qe.slice(0,We)),qe},pe.prototype.buffer=pe.prototype.arrayBuffer,pe.prototype.digest=pe.prototype.array=function(){this.finalize();for(var Ce=this.blockCount,Ze=this.s,it=this.outputBlocks,rt=this.extraBytes,Oe=0,Ve=0,We=[],qe,Ge;Ve<it;){for(Oe=0;Oe<Ce&&Ve<it;++Oe,++Ve)qe=Ve<<2,Ge=Ze[Oe],We[qe]=Ge&255,We[qe+1]=Ge>>8&255,We[qe+2]=Ge>>16&255,We[qe+3]=Ge>>24&255;Ve%Ce===0&&Be(Ze)}return rt&&(qe=Ve<<2,Ge=Ze[Oe],We[qe]=Ge&255,rt>1&&(We[qe+1]=Ge>>8&255),rt>2&&(We[qe+2]=Ge>>16&255)),We};function Le(Ce,Ze,it){pe.call(this,Ce,Ze,it)}Le.prototype=new pe,Le.prototype.finalize=function(){return this.encode(this.outputBits,!0),pe.prototype.finalize.call(this)};var Be=function(Ce){var Ze,it,rt,Oe,Ve,We,qe,Ge,Qe,ct,ft,bt,St,xt,$t,It,Et,At,kt,Kt,lt,Se,me,be,Ye,ut,yt,wt,Ut,Xt,Ct,Ht,Yt,ar,tr,vr,ur,Sr,Ar,$r,kr,ir,pr,Ir,Pr,Rr,Ft,je,Xe,ot,Ke,pt,gt,Tt,Rt,Mt,zt,Lt,er,lr,Er,or,Tr;for(rt=0;rt<48;rt+=2)Oe=Ce[0]^Ce[10]^Ce[20]^Ce[30]^Ce[40],Ve=Ce[1]^Ce[11]^Ce[21]^Ce[31]^Ce[41],We=Ce[2]^Ce[12]^Ce[22]^Ce[32]^Ce[42],qe=Ce[3]^Ce[13]^Ce[23]^Ce[33]^Ce[43],Ge=Ce[4]^Ce[14]^Ce[24]^Ce[34]^Ce[44],Qe=Ce[5]^Ce[15]^Ce[25]^Ce[35]^Ce[45],ct=Ce[6]^Ce[16]^Ce[26]^Ce[36]^Ce[46],ft=Ce[7]^Ce[17]^Ce[27]^Ce[37]^Ce[47],bt=Ce[8]^Ce[18]^Ce[28]^Ce[38]^Ce[48],St=Ce[9]^Ce[19]^Ce[29]^Ce[39]^Ce[49],Ze=bt^(We<<1|qe>>>31),it=St^(qe<<1|We>>>31),Ce[0]^=Ze,Ce[1]^=it,Ce[10]^=Ze,Ce[11]^=it,Ce[20]^=Ze,Ce[21]^=it,Ce[30]^=Ze,Ce[31]^=it,Ce[40]^=Ze,Ce[41]^=it,Ze=Oe^(Ge<<1|Qe>>>31),it=Ve^(Qe<<1|Ge>>>31),Ce[2]^=Ze,Ce[3]^=it,Ce[12]^=Ze,Ce[13]^=it,Ce[22]^=Ze,Ce[23]^=it,Ce[32]^=Ze,Ce[33]^=it,Ce[42]^=Ze,Ce[43]^=it,Ze=We^(ct<<1|ft>>>31),it=qe^(ft<<1|ct>>>31),Ce[4]^=Ze,Ce[5]^=it,Ce[14]^=Ze,Ce[15]^=it,Ce[24]^=Ze,Ce[25]^=it,Ce[34]^=Ze,Ce[35]^=it,Ce[44]^=Ze,Ce[45]^=it,Ze=Ge^(bt<<1|St>>>31),it=Qe^(St<<1|bt>>>31),Ce[6]^=Ze,Ce[7]^=it,Ce[16]^=Ze,Ce[17]^=it,Ce[26]^=Ze,Ce[27]^=it,Ce[36]^=Ze,Ce[37]^=it,Ce[46]^=Ze,Ce[47]^=it,Ze=ct^(Oe<<1|Ve>>>31),it=ft^(Ve<<1|Oe>>>31),Ce[8]^=Ze,Ce[9]^=it,Ce[18]^=Ze,Ce[19]^=it,Ce[28]^=Ze,Ce[29]^=it,Ce[38]^=Ze,Ce[39]^=it,Ce[48]^=Ze,Ce[49]^=it,xt=Ce[0],$t=Ce[1],Rr=Ce[11]<<4|Ce[10]>>>28,Ft=Ce[10]<<4|Ce[11]>>>28,wt=Ce[20]<<3|Ce[21]>>>29,Ut=Ce[21]<<3|Ce[20]>>>29,lr=Ce[31]<<9|Ce[30]>>>23,Er=Ce[30]<<9|Ce[31]>>>23,ir=Ce[40]<<18|Ce[41]>>>14,pr=Ce[41]<<18|Ce[40]>>>14,ar=Ce[2]<<1|Ce[3]>>>31,tr=Ce[3]<<1|Ce[2]>>>31,It=Ce[13]<<12|Ce[12]>>>20,Et=Ce[12]<<12|Ce[13]>>>20,je=Ce[22]<<10|Ce[23]>>>22,Xe=Ce[23]<<10|Ce[22]>>>22,Xt=Ce[33]<<13|Ce[32]>>>19,Ct=Ce[32]<<13|Ce[33]>>>19,or=Ce[42]<<2|Ce[43]>>>30,Tr=Ce[43]<<2|Ce[42]>>>30,Tt=Ce[5]<<30|Ce[4]>>>2,Rt=Ce[4]<<30|Ce[5]>>>2,vr=Ce[14]<<6|Ce[15]>>>26,ur=Ce[15]<<6|Ce[14]>>>26,At=Ce[25]<<11|Ce[24]>>>21,kt=Ce[24]<<11|Ce[25]>>>21,ot=Ce[34]<<15|Ce[35]>>>17,Ke=Ce[35]<<15|Ce[34]>>>17,Ht=Ce[45]<<29|Ce[44]>>>3,Yt=Ce[44]<<29|Ce[45]>>>3,be=Ce[6]<<28|Ce[7]>>>4,Ye=Ce[7]<<28|Ce[6]>>>4,Mt=Ce[17]<<23|Ce[16]>>>9,zt=Ce[16]<<23|Ce[17]>>>9,Sr=Ce[26]<<25|Ce[27]>>>7,Ar=Ce[27]<<25|Ce[26]>>>7,Kt=Ce[36]<<21|Ce[37]>>>11,lt=Ce[37]<<21|Ce[36]>>>11,pt=Ce[47]<<24|Ce[46]>>>8,gt=Ce[46]<<24|Ce[47]>>>8,Ir=Ce[8]<<27|Ce[9]>>>5,Pr=Ce[9]<<27|Ce[8]>>>5,ut=Ce[18]<<20|Ce[19]>>>12,yt=Ce[19]<<20|Ce[18]>>>12,Lt=Ce[29]<<7|Ce[28]>>>25,er=Ce[28]<<7|Ce[29]>>>25,$r=Ce[38]<<8|Ce[39]>>>24,kr=Ce[39]<<8|Ce[38]>>>24,Se=Ce[48]<<14|Ce[49]>>>18,me=Ce[49]<<14|Ce[48]>>>18,Ce[0]=xt^~It&At,Ce[1]=$t^~Et&kt,Ce[10]=be^~ut&wt,Ce[11]=Ye^~yt&Ut,Ce[20]=ar^~vr&Sr,Ce[21]=tr^~ur&Ar,Ce[30]=Ir^~Rr&je,Ce[31]=Pr^~Ft&Xe,Ce[40]=Tt^~Mt&Lt,Ce[41]=Rt^~zt&er,Ce[2]=It^~At&Kt,Ce[3]=Et^~kt&lt,Ce[12]=ut^~wt&Xt,Ce[13]=yt^~Ut&Ct,Ce[22]=vr^~Sr&$r,Ce[23]=ur^~Ar&kr,Ce[32]=Rr^~je&ot,Ce[33]=Ft^~Xe&Ke,Ce[42]=Mt^~Lt&lr,Ce[43]=zt^~er&Er,Ce[4]=At^~Kt&Se,Ce[5]=kt^~lt&me,Ce[14]=wt^~Xt&Ht,Ce[15]=Ut^~Ct&Yt,Ce[24]=Sr^~$r&ir,Ce[25]=Ar^~kr&pr,Ce[34]=je^~ot&pt,Ce[35]=Xe^~Ke&gt,Ce[44]=Lt^~lr&or,Ce[45]=er^~Er&Tr,Ce[6]=Kt^~Se&xt,Ce[7]=lt^~me&$t,Ce[16]=Xt^~Ht&be,Ce[17]=Ct^~Yt&Ye,Ce[26]=$r^~ir&ar,Ce[27]=kr^~pr&tr,Ce[36]=ot^~pt&Ir,Ce[37]=Ke^~gt&Pr,Ce[46]=lr^~or&Tt,Ce[47]=Er^~Tr&Rt,Ce[8]=Se^~xt&It,Ce[9]=me^~$t&Et,Ce[18]=Ht^~be&ut,Ce[19]=Yt^~Ye&yt,Ce[28]=ir^~ar&vr,Ce[29]=pr^~tr&ur,Ce[38]=pt^~Ir&Rr,Ce[39]=gt^~Pr&Ft,Ce[48]=or^~Tt&Mt,Ce[49]=Tr^~Rt&zt,Ce[0]^=ye[rt],Ce[1]^=ye[rt+1]};if(b)u.exports=ae;else for(xe=0;xe<he.length;++xe)$[he[xe]]=ae[he[xe]]})()})(sha3$1);const sha3=sha3$1.exports,toBuffer=u=>buffer.Buffer.isBuffer(u)?u:u instanceof Uint8Array?buffer.Buffer.from(u.buffer,u.byteOffset,u.byteLength):buffer.Buffer.from(u);var hash$1$1={},utils$9={},minimalisticAssert=assert$6;function assert$6(u,a){if(!u)throw new Error(a||"Assertion failed")}assert$6.equal=function(a,d,m){if(a!=d)throw new Error(m||"Assertion failed: "+a+" != "+d)};var inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(a,d){d&&(a.super_=d,a.prototype=Object.create(d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(a,d){if(d){a.super_=d;var m=function(){};m.prototype=d.prototype,a.prototype=new m,a.prototype.constructor=a}};var assert$5=minimalisticAssert,inherits=inherits_browser.exports;utils$9.inherits=inherits;function isSurrogatePair(u,a){return(u.charCodeAt(a)&64512)!==55296||a<0||a+1>=u.length?!1:(u.charCodeAt(a+1)&64512)===56320}function toArray$1(u,a){if(Array.isArray(u))return u.slice();if(!u)return[];var d=[];if(typeof u=="string")if(a){if(a==="hex")for(u=u.replace(/[^a-z0-9]+/ig,""),u.length%2!==0&&(u="0"+u),$=0;$<u.length;$+=2)d.push(parseInt(u[$]+u[$+1],16))}else for(var m=0,$=0;$<u.length;$++){var ee=u.charCodeAt($);ee<128?d[m++]=ee:ee<2048?(d[m++]=ee>>6|192,d[m++]=ee&63|128):isSurrogatePair(u,$)?(ee=65536+((ee&1023)<<10)+(u.charCodeAt(++$)&1023),d[m++]=ee>>18|240,d[m++]=ee>>12&63|128,d[m++]=ee>>6&63|128,d[m++]=ee&63|128):(d[m++]=ee>>12|224,d[m++]=ee>>6&63|128,d[m++]=ee&63|128)}else for($=0;$<u.length;$++)d[$]=u[$]|0;return d}utils$9.toArray=toArray$1;function toHex(u){for(var a="",d=0;d<u.length;d++)a+=zero2(u[d].toString(16));return a}utils$9.toHex=toHex;function htonl(u){var a=u>>>24|u>>>8&65280|u<<8&16711680|(u&255)<<24;return a>>>0}utils$9.htonl=htonl;function toHex32(u,a){for(var d="",m=0;m<u.length;m++){var $=u[m];a==="little"&&($=htonl($)),d+=zero8($.toString(16))}return d}utils$9.toHex32=toHex32;function zero2(u){return u.length===1?"0"+u:u}utils$9.zero2=zero2;function zero8(u){return u.length===7?"0"+u:u.length===6?"00"+u:u.length===5?"000"+u:u.length===4?"0000"+u:u.length===3?"00000"+u:u.length===2?"000000"+u:u.length===1?"0000000"+u:u}utils$9.zero8=zero8;function join32(u,a,d,m){var $=d-a;assert$5($%4===0);for(var ee=new Array($/4),te=0,b=a;te<ee.length;te++,b+=4){var re;m==="big"?re=u[b]<<24|u[b+1]<<16|u[b+2]<<8|u[b+3]:re=u[b+3]<<24|u[b+2]<<16|u[b+1]<<8|u[b],ee[te]=re>>>0}return ee}utils$9.join32=join32;function split32(u,a){for(var d=new Array(u.length*4),m=0,$=0;m<u.length;m++,$+=4){var ee=u[m];a==="big"?(d[$]=ee>>>24,d[$+1]=ee>>>16&255,d[$+2]=ee>>>8&255,d[$+3]=ee&255):(d[$+3]=ee>>>24,d[$+2]=ee>>>16&255,d[$+1]=ee>>>8&255,d[$]=ee&255)}return d}utils$9.split32=split32;function rotr32$1(u,a){return u>>>a|u<<32-a}utils$9.rotr32=rotr32$1;function rotl32$2(u,a){return u<<a|u>>>32-a}utils$9.rotl32=rotl32$2;function sum32$3(u,a){return u+a>>>0}utils$9.sum32=sum32$3;function sum32_3$1(u,a,d){return u+a+d>>>0}utils$9.sum32_3=sum32_3$1;function sum32_4$2(u,a,d,m){return u+a+d+m>>>0}utils$9.sum32_4=sum32_4$2;function sum32_5$2(u,a,d,m,$){return u+a+d+m+$>>>0}utils$9.sum32_5=sum32_5$2;function sum64$1(u,a,d,m){var $=u[a],ee=u[a+1],te=m+ee>>>0,b=(te<m?1:0)+d+$;u[a]=b>>>0,u[a+1]=te}utils$9.sum64=sum64$1;function sum64_hi$1(u,a,d,m){var $=a+m>>>0,ee=($<a?1:0)+u+d;return ee>>>0}utils$9.sum64_hi=sum64_hi$1;function sum64_lo$1(u,a,d,m){var $=a+m;return $>>>0}utils$9.sum64_lo=sum64_lo$1;function sum64_4_hi$1(u,a,d,m,$,ee,te,b){var re=0,ne=a;ne=ne+m>>>0,re+=ne<a?1:0,ne=ne+ee>>>0,re+=ne<ee?1:0,ne=ne+b>>>0,re+=ne<b?1:0;var ie=u+d+$+te+re;return ie>>>0}utils$9.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(u,a,d,m,$,ee,te,b){var re=a+m+ee+b;return re>>>0}utils$9.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(u,a,d,m,$,ee,te,b,re,ne){var ie=0,se=a;se=se+m>>>0,ie+=se<a?1:0,se=se+ee>>>0,ie+=se<ee?1:0,se=se+b>>>0,ie+=se<b?1:0,se=se+ne>>>0,ie+=se<ne?1:0;var fe=u+d+$+te+re+ie;return fe>>>0}utils$9.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(u,a,d,m,$,ee,te,b,re,ne){var ie=a+m+ee+b+ne;return ie>>>0}utils$9.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(u,a,d){var m=a<<32-d|u>>>d;return m>>>0}utils$9.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(u,a,d){var m=u<<32-d|a>>>d;return m>>>0}utils$9.rotr64_lo=rotr64_lo$1;function shr64_hi$1(u,a,d){return u>>>d}utils$9.shr64_hi=shr64_hi$1;function shr64_lo$1(u,a,d){var m=u<<32-d|a>>>d;return m>>>0}utils$9.shr64_lo=shr64_lo$1;var common$5={},utils$8=utils$9,assert$4=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(a,d){if(a=utils$8.toArray(a,d),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var m=a.length%this._delta8;this.pending=a.slice(a.length-m,a.length),this.pending.length===0&&(this.pending=null),a=utils$8.join32(a,0,a.length-m,this.endian);for(var $=0;$<a.length;$+=this._delta32)this._update(a,$,$+this._delta32)}return this};BlockHash$4.prototype.digest=function(a){return this.update(this._pad()),assert$4(this.pending===null),this._digest(a)};BlockHash$4.prototype._pad=function(){var a=this.pendingTotal,d=this._delta8,m=d-(a+this.padLength)%d,$=new Array(m+this.padLength);$[0]=128;for(var ee=1;ee<m;ee++)$[ee]=0;if(a<<=3,this.endian==="big"){for(var te=8;te<this.padLength;te++)$[ee++]=0;$[ee++]=0,$[ee++]=0,$[ee++]=0,$[ee++]=0,$[ee++]=a>>>24&255,$[ee++]=a>>>16&255,$[ee++]=a>>>8&255,$[ee++]=a&255}else for($[ee++]=a&255,$[ee++]=a>>>8&255,$[ee++]=a>>>16&255,$[ee++]=a>>>24&255,$[ee++]=0,$[ee++]=0,$[ee++]=0,$[ee++]=0,te=8;te<this.padLength;te++)$[ee++]=0;return $};var sha={},common$4={},utils$7=utils$9,rotr32=utils$7.rotr32;function ft_1$1(u,a,d,m){if(u===0)return ch32$1(a,d,m);if(u===1||u===3)return p32(a,d,m);if(u===2)return maj32$1(a,d,m)}common$4.ft_1=ft_1$1;function ch32$1(u,a,d){return u&a^~u&d}common$4.ch32=ch32$1;function maj32$1(u,a,d){return u&a^u&d^a&d}common$4.maj32=maj32$1;function p32(u,a,d){return u^a^d}common$4.p32=p32;function s0_256$1(u){return rotr32(u,2)^rotr32(u,13)^rotr32(u,22)}common$4.s0_256=s0_256$1;function s1_256$1(u){return rotr32(u,6)^rotr32(u,11)^rotr32(u,25)}common$4.s1_256=s1_256$1;function g0_256$1(u){return rotr32(u,7)^rotr32(u,18)^u>>>3}common$4.g0_256=g0_256$1;function g1_256$1(u){return rotr32(u,17)^rotr32(u,19)^u>>>10}common$4.g1_256=g1_256$1;var utils$6=utils$9,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$6.rotl32,sum32$2=utils$6.sum32,sum32_5$1=utils$6.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$6.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(a,d){for(var m=this.W,$=0;$<16;$++)m[$]=a[d+$];for(;$<m.length;$++)m[$]=rotl32$1(m[$-3]^m[$-8]^m[$-14]^m[$-16],1);var ee=this.h[0],te=this.h[1],b=this.h[2],re=this.h[3],ne=this.h[4];for($=0;$<m.length;$++){var ie=~~($/20),se=sum32_5$1(rotl32$1(ee,5),ft_1(ie,te,b,re),ne,m[$],sha1_K[ie]);ne=re,re=b,b=rotl32$1(te,30),te=ee,ee=se}this.h[0]=sum32$2(this.h[0],ee),this.h[1]=sum32$2(this.h[1],te),this.h[2]=sum32$2(this.h[2],b),this.h[3]=sum32$2(this.h[3],re),this.h[4]=sum32$2(this.h[4],ne)};SHA1.prototype._digest=function(a){return a==="hex"?utils$6.toHex32(this.h,"big"):utils$6.split32(this.h,"big")};var utils$5=utils$9,common$2=common$5,shaCommon=common$4,assert$3=minimalisticAssert,sum32$1=utils$5.sum32,sum32_4$1=utils$5.sum32_4,sum32_5=utils$5.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$5.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(a,d){for(var m=this.W,$=0;$<16;$++)m[$]=a[d+$];for(;$<m.length;$++)m[$]=sum32_4$1(g1_256(m[$-2]),m[$-7],g0_256(m[$-15]),m[$-16]);var ee=this.h[0],te=this.h[1],b=this.h[2],re=this.h[3],ne=this.h[4],ie=this.h[5],se=this.h[6],fe=this.h[7];for(assert$3(this.k.length===m.length),$=0;$<m.length;$++){var ce=sum32_5(fe,s1_256(ne),ch32(ne,ie,se),this.k[$],m[$]),de=sum32$1(s0_256(ee),maj32(ee,te,b));fe=se,se=ie,ie=ne,ne=sum32$1(re,ce),re=b,b=te,te=ee,ee=sum32$1(ce,de)}this.h[0]=sum32$1(this.h[0],ee),this.h[1]=sum32$1(this.h[1],te),this.h[2]=sum32$1(this.h[2],b),this.h[3]=sum32$1(this.h[3],re),this.h[4]=sum32$1(this.h[4],ne),this.h[5]=sum32$1(this.h[5],ie),this.h[6]=sum32$1(this.h[6],se),this.h[7]=sum32$1(this.h[7],fe)};SHA256$1.prototype._digest=function(a){return a==="hex"?utils$5.toHex32(this.h,"big"):utils$5.split32(this.h,"big")};var utils$4=utils$9,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$4.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(a){return a==="hex"?utils$4.toHex32(this.h.slice(0,7),"big"):utils$4.split32(this.h.slice(0,7),"big")};var utils$3=utils$9,common$1=common$5,assert$2$1=minimalisticAssert,rotr64_hi=utils$3.rotr64_hi,rotr64_lo=utils$3.rotr64_lo,shr64_hi=utils$3.shr64_hi,shr64_lo=utils$3.shr64_lo,sum64=utils$3.sum64,sum64_hi=utils$3.sum64_hi,sum64_lo=utils$3.sum64_lo,sum64_4_hi=utils$3.sum64_4_hi,sum64_4_lo=utils$3.sum64_4_lo,sum64_5_hi=utils$3.sum64_5_hi,sum64_5_lo=utils$3.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$3.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(a,d){for(var m=this.W,$=0;$<32;$++)m[$]=a[d+$];for(;$<m.length;$+=2){var ee=g1_512_hi(m[$-4],m[$-3]),te=g1_512_lo(m[$-4],m[$-3]),b=m[$-14],re=m[$-13],ne=g0_512_hi(m[$-30],m[$-29]),ie=g0_512_lo(m[$-30],m[$-29]),se=m[$-32],fe=m[$-31];m[$]=sum64_4_hi(ee,te,b,re,ne,ie,se,fe),m[$+1]=sum64_4_lo(ee,te,b,re,ne,ie,se,fe)}};SHA512$1.prototype._update=function(a,d){this._prepareBlock(a,d);var m=this.W,$=this.h[0],ee=this.h[1],te=this.h[2],b=this.h[3],re=this.h[4],ne=this.h[5],ie=this.h[6],se=this.h[7],fe=this.h[8],ce=this.h[9],de=this.h[10],ye=this.h[11],ge=this.h[12],_e=this.h[13],Ee=this.h[14],Ae=this.h[15];assert$2$1(this.k.length===m.length);for(var we=0;we<m.length;we+=2){var Me=Ee,ke=Ae,Re=s1_512_hi(fe,ce),ze=s1_512_lo(fe,ce),Je=ch64_hi(fe,ce,de,ye,ge),et=ch64_lo(fe,ce,de,ye,ge,_e),Pe=this.k[we],ve=this.k[we+1],le=m[we],ae=m[we+1],he=sum64_5_hi(Me,ke,Re,ze,Je,et,Pe,ve,le,ae),xe=sum64_5_lo(Me,ke,Re,ze,Je,et,Pe,ve,le,ae);Me=s0_512_hi($,ee),ke=s0_512_lo($,ee),Re=maj64_hi($,ee,te,b,re),ze=maj64_lo($,ee,te,b,re,ne);var $e=sum64_hi(Me,ke,Re,ze),He=sum64_lo(Me,ke,Re,ze);Ee=ge,Ae=_e,ge=de,_e=ye,de=fe,ye=ce,fe=sum64_hi(ie,se,he,xe),ce=sum64_lo(se,se,he,xe),ie=re,se=ne,re=te,ne=b,te=$,b=ee,$=sum64_hi(he,xe,$e,He),ee=sum64_lo(he,xe,$e,He)}sum64(this.h,0,$,ee),sum64(this.h,2,te,b),sum64(this.h,4,re,ne),sum64(this.h,6,ie,se),sum64(this.h,8,fe,ce),sum64(this.h,10,de,ye),sum64(this.h,12,ge,_e),sum64(this.h,14,Ee,Ae)};SHA512$1.prototype._digest=function(a){return a==="hex"?utils$3.toHex32(this.h,"big"):utils$3.split32(this.h,"big")};function ch64_hi(u,a,d,m,$){var ee=u&d^~u&$;return ee<0&&(ee+=4294967296),ee}function ch64_lo(u,a,d,m,$,ee){var te=a&m^~a&ee;return te<0&&(te+=4294967296),te}function maj64_hi(u,a,d,m,$){var ee=u&d^u&$^d&$;return ee<0&&(ee+=4294967296),ee}function maj64_lo(u,a,d,m,$,ee){var te=a&m^a&ee^m&ee;return te<0&&(te+=4294967296),te}function s0_512_hi(u,a){var d=rotr64_hi(u,a,28),m=rotr64_hi(a,u,2),$=rotr64_hi(a,u,7),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function s0_512_lo(u,a){var d=rotr64_lo(u,a,28),m=rotr64_lo(a,u,2),$=rotr64_lo(a,u,7),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function s1_512_hi(u,a){var d=rotr64_hi(u,a,14),m=rotr64_hi(u,a,18),$=rotr64_hi(a,u,9),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function s1_512_lo(u,a){var d=rotr64_lo(u,a,14),m=rotr64_lo(u,a,18),$=rotr64_lo(a,u,9),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function g0_512_hi(u,a){var d=rotr64_hi(u,a,1),m=rotr64_hi(u,a,8),$=shr64_hi(u,a,7),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function g0_512_lo(u,a){var d=rotr64_lo(u,a,1),m=rotr64_lo(u,a,8),$=shr64_lo(u,a,7),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function g1_512_hi(u,a){var d=rotr64_hi(u,a,19),m=rotr64_hi(a,u,29),$=shr64_hi(u,a,6),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}function g1_512_lo(u,a){var d=rotr64_lo(u,a,19),m=rotr64_lo(a,u,29),$=shr64_lo(u,a,6),ee=d^m^$;return ee<0&&(ee+=4294967296),ee}var utils$2=utils$9,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$2.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(a){return a==="hex"?utils$2.toHex32(this.h.slice(0,12),"big"):utils$2.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$1=utils$9,common$6=common$5,rotl32=utils$1.rotl32,sum32=utils$1.sum32,sum32_3=utils$1.sum32_3,sum32_4=utils$1.sum32_4,BlockHash=common$6.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$1.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(a,d){for(var m=this.h[0],$=this.h[1],ee=this.h[2],te=this.h[3],b=this.h[4],re=m,ne=$,ie=ee,se=te,fe=b,ce=0;ce<80;ce++){var de=sum32(rotl32(sum32_4(m,f(ce,$,ee,te),a[r$1[ce]+d],K$1(ce)),s[ce]),b);m=b,b=te,te=rotl32(ee,10),ee=$,$=de,de=sum32(rotl32(sum32_4(re,f(79-ce,ne,ie,se),a[rh[ce]+d],Kh(ce)),sh[ce]),fe),re=fe,fe=se,se=rotl32(ie,10),ie=ne,ne=de}de=sum32_3(this.h[1],ee,se),this.h[1]=sum32_3(this.h[2],te,fe),this.h[2]=sum32_3(this.h[3],b,re),this.h[3]=sum32_3(this.h[4],m,ne),this.h[4]=sum32_3(this.h[0],$,ie),this.h[0]=de};RIPEMD160.prototype._digest=function(a){return a==="hex"?utils$1.toHex32(this.h,"little"):utils$1.split32(this.h,"little")};function f(u,a,d,m){return u<=15?a^d^m:u<=31?a&d|~a&m:u<=47?(a|~d)^m:u<=63?a&m|d&~m:a^(d|~m)}function K$1(u){return u<=15?0:u<=31?1518500249:u<=47?1859775393:u<=63?2400959708:2840853838}function Kh(u){return u<=15?1352829926:u<=31?1548603684:u<=47?1836072691:u<=63?2053994217:0}var r$1=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$a=utils$9,assert$1$1=minimalisticAssert;function Hmac(u,a,d){if(!(this instanceof Hmac))return new Hmac(u,a,d);this.Hash=u,this.blockSize=u.blockSize/8,this.outSize=u.outSize/8,this.inner=null,this.outer=null,this._init(utils$a.toArray(a,d))}var hmac=Hmac;Hmac.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),assert$1$1(a.length<=this.blockSize);for(var d=a.length;d<this.blockSize;d++)a.push(0);for(d=0;d<a.length;d++)a[d]^=54;for(this.inner=new this.Hash().update(a),d=0;d<a.length;d++)a[d]^=106;this.outer=new this.Hash().update(a)};Hmac.prototype.update=function(a,d){return this.inner.update(a,d),this};Hmac.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)};(function(u){var a=u;a.utils=utils$9,a.common=common$5,a.sha=sha,a.ripemd=ripemd,a.hmac=hmac,a.sha1=a.sha.sha1,a.sha256=a.sha.sha256,a.sha224=a.sha.sha224,a.sha384=a.sha.sha384,a.sha512=a.sha.sha512,a.ripemd160=a.ripemd.ripemd160})(hash$1$1);var hash$2=hash$1$1;const version$2$1="logger/5.6.0";let _permanentCensorErrors=!1,_censorErrors=!1;const LogLevels={debug:1,default:2,info:2,warning:3,error:4,off:5};let _logLevel=LogLevels.default,_globalLogger=null;function _checkNormalize(){try{const u=[];if(["NFD","NFC","NFKD","NFKC"].forEach(a=>{try{if("test".normalize(a)!=="test")throw new Error("bad normalize")}catch{u.push(a)}}),u.length)throw new Error("missing "+u.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(u){return u.message}return null}const _normalizeError=_checkNormalize();var LogLevel$1;(function(u){u.DEBUG="DEBUG",u.INFO="INFO",u.WARNING="WARNING",u.ERROR="ERROR",u.OFF="OFF"})(LogLevel$1||(LogLevel$1={}));var ErrorCode$1;(function(u){u.UNKNOWN_ERROR="UNKNOWN_ERROR",u.NOT_IMPLEMENTED="NOT_IMPLEMENTED",u.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",u.NETWORK_ERROR="NETWORK_ERROR",u.SERVER_ERROR="SERVER_ERROR",u.TIMEOUT="TIMEOUT",u.BUFFER_OVERRUN="BUFFER_OVERRUN",u.NUMERIC_FAULT="NUMERIC_FAULT",u.MISSING_NEW="MISSING_NEW",u.INVALID_ARGUMENT="INVALID_ARGUMENT",u.MISSING_ARGUMENT="MISSING_ARGUMENT",u.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",u.CALL_EXCEPTION="CALL_EXCEPTION",u.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",u.NONCE_EXPIRED="NONCE_EXPIRED",u.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",u.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",u.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ErrorCode$1||(ErrorCode$1={}));const HEX="0123456789abcdef";class Logger$1{constructor(a){Object.defineProperty(this,"version",{enumerable:!0,value:a,writable:!1})}_log(a,d){const m=a.toLowerCase();LogLevels[m]==null&&this.throwArgumentError("invalid log level name","logLevel",a),!(_logLevel>LogLevels[m])&&console.log.apply(console,d)}debug(...a){this._log(Logger$1.levels.DEBUG,a)}info(...a){this._log(Logger$1.levels.INFO,a)}warn(...a){this._log(Logger$1.levels.WARNING,a)}makeError(a,d,m){if(_censorErrors)return this.makeError("censored error",d,{});d||(d=Logger$1.errors.UNKNOWN_ERROR),m||(m={});const $=[];Object.keys(m).forEach(re=>{const ne=m[re];try{if(ne instanceof Uint8Array){let ie="";for(let se=0;se<ne.length;se++)ie+=HEX[ne[se]>>4],ie+=HEX[ne[se]&15];$.push(re+"=Uint8Array(0x"+ie+")")}else $.push(re+"="+JSON.stringify(ne))}catch{$.push(re+"="+JSON.stringify(m[re].toString()))}}),$.push(`code=${d}`),$.push(`version=${this.version}`);const ee=a;let te="";switch(d){case ErrorCode$1.NUMERIC_FAULT:{te="NUMERIC_FAULT";const re=a;switch(re){case"overflow":case"underflow":case"division-by-zero":te+="-"+re;break;case"negative-power":case"negative-width":te+="-unsupported";break;case"unbound-bitwise-result":te+="-unbound-result";break}break}case ErrorCode$1.CALL_EXCEPTION:case ErrorCode$1.INSUFFICIENT_FUNDS:case ErrorCode$1.MISSING_NEW:case ErrorCode$1.NONCE_EXPIRED:case ErrorCode$1.REPLACEMENT_UNDERPRICED:case ErrorCode$1.TRANSACTION_REPLACED:case ErrorCode$1.UNPREDICTABLE_GAS_LIMIT:te=d;break}te&&(a+=" [ See: https://links.ethers.org/v5-errors-"+te+" ]"),$.length&&(a+=" ("+$.join(", ")+")");const b=new Error(a);return b.reason=ee,b.code=d,Object.keys(m).forEach(function(re){b[re]=m[re]}),b}throwError(a,d,m){throw this.makeError(a,d,m)}throwArgumentError(a,d,m){return this.throwError(a,Logger$1.errors.INVALID_ARGUMENT,{argument:d,value:m})}assert(a,d,m,$){a||this.throwError(d,m,$)}assertArgument(a,d,m,$){a||this.throwArgumentError(d,m,$)}checkNormalize(a){_normalizeError&&this.throwError("platform missing String.prototype.normalize",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_normalizeError})}checkSafeUint53(a,d){typeof a=="number"&&(d==null&&(d="value not safe"),(a<0||a>=9007199254740991)&&this.throwError(d,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:a}),a%1&&this.throwError(d,Logger$1.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:a}))}checkArgumentCount(a,d,m){m?m=": "+m:m="",a<d&&this.throwError("missing argument"+m,Logger$1.errors.MISSING_ARGUMENT,{count:a,expectedCount:d}),a>d&&this.throwError("too many arguments"+m,Logger$1.errors.UNEXPECTED_ARGUMENT,{count:a,expectedCount:d})}checkNew(a,d){(a===Object||a==null)&&this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:d.name})}checkAbstract(a,d){a===d?this.throwError("cannot instantiate abstract class "+JSON.stringify(d.name)+" directly; use a sub-class",Logger$1.errors.UNSUPPORTED_OPERATION,{name:a.name,operation:"new"}):(a===Object||a==null)&&this.throwError("missing new",Logger$1.errors.MISSING_NEW,{name:d.name})}static globalLogger(){return _globalLogger||(_globalLogger=new Logger$1(version$2$1)),_globalLogger}static setCensorship(a,d){if(!a&&d&&this.globalLogger().throwError("cannot permanently disable censorship",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_permanentCensorErrors){if(!a)return;this.globalLogger().throwError("error censorship permanent",Logger$1.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_censorErrors=!!a,_permanentCensorErrors=!!d}static setLogLevel(a){const d=LogLevels[a.toLowerCase()];if(d==null){Logger$1.globalLogger().warn("invalid log level - "+a);return}_logLevel=d}static from(a){return new Logger$1(a)}}Logger$1.errors=ErrorCode$1;Logger$1.levels=LogLevel$1;const version$1$2="bytes/5.6.0",logger$2=new Logger$1(version$1$2);function isHexable(u){return!!u.toHexString}function addSlice(u){return u.slice||(u.slice=function(){const a=Array.prototype.slice.call(arguments);return addSlice(new Uint8Array(Array.prototype.slice.apply(u,a)))}),u}function isInteger(u){return typeof u=="number"&&u==u&&u%1===0}function isBytes(u){if(u==null)return!1;if(u.constructor===Uint8Array)return!0;if(typeof u=="string"||!isInteger(u.length)||u.length<0)return!1;for(let a=0;a<u.length;a++){const d=u[a];if(!isInteger(d)||d<0||d>=256)return!1}return!0}function arrayify(u,a){if(a||(a={}),typeof u=="number"){logger$2.checkSafeUint53(u,"invalid arrayify value");const d=[];for(;u;)d.unshift(u&255),u=parseInt(String(u/256));return d.length===0&&d.push(0),addSlice(new Uint8Array(d))}if(a.allowMissingPrefix&&typeof u=="string"&&u.substring(0,2)!=="0x"&&(u="0x"+u),isHexable(u)&&(u=u.toHexString()),isHexString(u)){let d=u.substring(2);d.length%2&&(a.hexPad==="left"?d="0x0"+d.substring(2):a.hexPad==="right"?d+="0":logger$2.throwArgumentError("hex data is odd-length","value",u));const m=[];for(let $=0;$<d.length;$+=2)m.push(parseInt(d.substring($,$+2),16));return addSlice(new Uint8Array(m))}return isBytes(u)?addSlice(new Uint8Array(u)):logger$2.throwArgumentError("invalid arrayify value","value",u)}function isHexString(u,a){return!(typeof u!="string"||!u.match(/^0x[0-9A-Fa-f]*$/)||a&&u.length!==2+2*a)}const version$4="sha2/5.6.0";new Logger$1(version$4);function sha256$1(u){return"0x"+hash$2.sha256().update(arrayify(u)).digest("hex")}class Struct$1{constructor(a){Object.assign(this,a)}encode(){return buffer.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(a){return deserialize_1(SOLANA_SCHEMA,this,a)}static decodeUnchecked(a){return deserializeUnchecked_1(SOLANA_SCHEMA,this,a)}}class Enum extends Struct$1{constructor(a){if(super(a),this.enum="",Object.keys(a).length!==1)throw new Error("Enum can only take single value");Object.keys(a).map(d=>{this.enum=d})}}const SOLANA_SCHEMA=new Map,MAX_SEED_LENGTH=32;function isPublicKeyData(u){return u._bn!==void 0}class PublicKey extends Struct$1{constructor(a){if(super({}),this._bn=void 0,isPublicKeyData(a))this._bn=a._bn;else{if(typeof a=="string"){const d=bs58$4.decode(a);if(d.length!=32)throw new Error("Invalid public key input");this._bn=new BN$9(d)}else this._bn=new BN$9(a);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(a){return this._bn.eq(a._bn)}toBase58(){return bs58$4.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const a=this._bn.toArrayLike(buffer.Buffer);if(a.length===32)return a;const d=buffer.Buffer.alloc(32);return a.copy(d,32-a.length),d}toString(){return this.toBase58()}static async createWithSeed(a,d,m){const $=buffer.Buffer.concat([a.toBuffer(),buffer.Buffer.from(d),m.toBuffer()]),ee=sha256$1(new Uint8Array($)).slice(2);return new PublicKey(buffer.Buffer.from(ee,"hex"))}static createProgramAddressSync(a,d){let m=buffer.Buffer.alloc(0);a.forEach(function(te){if(te.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");m=buffer.Buffer.concat([m,toBuffer(te)])}),m=buffer.Buffer.concat([m,d.toBuffer(),buffer.Buffer.from("ProgramDerivedAddress")]);let $=sha256$1(new Uint8Array(m)).slice(2),ee=new BN$9($,16).toArray(void 0,32);if(is_on_curve(ee))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(ee)}static async createProgramAddress(a,d){return this.createProgramAddressSync(a,d)}static findProgramAddressSync(a,d){let m=255,$;for(;m!=0;){try{const ee=a.concat(buffer.Buffer.from([m]));$=this.createProgramAddressSync(ee,d)}catch(ee){if(ee instanceof TypeError)throw ee;m--;continue}return[$,m]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(a,d){return this.findProgramAddressSync(a,d)}static isOnCurve(a){const d=new PublicKey(a);return is_on_curve(d.toBytes())==1}}PublicKey.default=new PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});let naclLowLevel=nacl.lowlevel;function is_on_curve(u){var a=[naclLowLevel.gf(),naclLowLevel.gf(),naclLowLevel.gf(),naclLowLevel.gf()],d=naclLowLevel.gf(),m=naclLowLevel.gf(),$=naclLowLevel.gf(),ee=naclLowLevel.gf(),te=naclLowLevel.gf(),b=naclLowLevel.gf(),re=naclLowLevel.gf();return naclLowLevel.set25519(a[2],gf1),naclLowLevel.unpack25519(a[1],u),naclLowLevel.S($,a[1]),naclLowLevel.M(ee,$,naclLowLevel.D),naclLowLevel.Z($,$,a[2]),naclLowLevel.A(ee,a[2],ee),naclLowLevel.S(te,ee),naclLowLevel.S(b,te),naclLowLevel.M(re,b,te),naclLowLevel.M(d,re,$),naclLowLevel.M(d,d,ee),naclLowLevel.pow2523(d,d),naclLowLevel.M(d,d,$),naclLowLevel.M(d,d,ee),naclLowLevel.M(d,d,ee),naclLowLevel.M(a[0],d,ee),naclLowLevel.S(m,a[0]),naclLowLevel.M(m,m,ee),neq25519(m,$)&&naclLowLevel.M(a[0],a[0],I$1),naclLowLevel.S(m,a[0]),naclLowLevel.M(m,m,ee),neq25519(m,$)?0:1}let gf1=naclLowLevel.gf([1]),I$1=naclLowLevel.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function neq25519(u,a){var d=new Uint8Array(32),m=new Uint8Array(32);return naclLowLevel.pack25519(d,u),naclLowLevel.pack25519(m,a),naclLowLevel.crypto_verify_32(d,0,m,0)}class Account{constructor(a){this._keypair=void 0,a?this._keypair=nacl.sign.keyPair.fromSecretKey(toBuffer(a)):this._keypair=nacl.sign.keyPair()}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return toBuffer(this._keypair.secretKey)}}const publicKey$4=(u="publicKey")=>blob$1(32,u),rustString=(u="string")=>{const a=struct$1([u32$1("length"),u32$1("lengthPadding"),blob$1(offset$3(u32$1(),-8),"chars")],u),d=a.decode.bind(a),m=a.encode.bind(a),$=a;return $.decode=(ee,te)=>d(ee,te).chars.toString(),$.encode=(ee,te,b)=>{const re={chars:buffer.Buffer.from(ee,"utf8")};return m(re,te,b)},$.alloc=ee=>u32$1().span+u32$1().span+buffer.Buffer.from(ee,"utf8").length,$},authorized=(u="authorized")=>struct$1([publicKey$4("staker"),publicKey$4("withdrawer")],u),lockup=(u="lockup")=>struct$1([ns64$1("unixTimestamp"),ns64$1("epoch"),publicKey$4("custodian")],u),voteInit=(u="voteInit")=>struct$1([publicKey$4("nodePubkey"),publicKey$4("authorizedVoter"),publicKey$4("authorizedWithdrawer"),u8$1("commission")],u);function getAlloc(u,a){const d=$=>{if($.span>=0)return $.span;if(typeof $.alloc=="function")return $.alloc(a[$.property]);if("count"in $&&"elementLayout"in $){const ee=a[$.property];if(Array.isArray(ee))return ee.length*d($.elementLayout)}return 0};let m=0;return u.layout.fields.forEach($=>{m+=d($)}),m}const encodeDecode=u=>{const a=u.decode.bind(u),d=u.encode.bind(u);return{decode:a,encode:d}},bigInt=u=>a=>{const d=blob$1(u,a),{encode:m,decode:$}=encodeDecode(d),ee=d;return ee.decode=(te,b)=>{const re=$(te,b);return toBigIntLE_1(buffer.Buffer.from(re))},ee.encode=(te,b,re)=>{const ne=toBufferLE_1(te,u);return m(ne,b,re)},ee},u64$1=bigInt(8);function encodeData(u,a){const d=u.layout.span>=0?u.layout.span:getAlloc(u,a),m=buffer.Buffer.alloc(d),$=Object.assign({instruction:u.index},a);return u.layout.encode($,m),m}function decodeData(u,a){let d;try{d=u.layout.decode(a)}catch(m){throw new Error("invalid instruction; "+m)}if(d.instruction!==u.index)throw new Error(`invalid instruction; instruction index mismatch ${d.instruction} != ${u.index}`);return d}const FeeCalculatorLayout=nu64$1("lamportsPerSignature"),NonceAccountLayout=struct$1([u32$1("version"),u32$1("state"),publicKey$4("authorizedPubkey"),publicKey$4("nonce"),struct$1([FeeCalculatorLayout],"feeCalculator")]),NONCE_ACCOUNT_LENGTH=NonceAccountLayout.span;class NonceAccount{constructor(a){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=a.authorizedPubkey,this.nonce=a.nonce,this.feeCalculator=a.feeCalculator}static fromAccountData(a){const d=NonceAccountLayout.decode(toBuffer(a),0);return new NonceAccount({authorizedPubkey:new PublicKey(d.authorizedPubkey),nonce:new PublicKey(d.nonce).toString(),feeCalculator:d.feeCalculator})}}const SYSVAR_CLOCK_PUBKEY=new PublicKey("SysvarC1ock11111111111111111111111111111111"),SYSVAR_EPOCH_SCHEDULE_PUBKEY=new PublicKey("SysvarEpochSchedu1e111111111111111111111111"),SYSVAR_INSTRUCTIONS_PUBKEY=new PublicKey("Sysvar1nstructions1111111111111111111111111"),SYSVAR_RECENT_BLOCKHASHES_PUBKEY=new PublicKey("SysvarRecentB1ockHashes11111111111111111111"),SYSVAR_RENT_PUBKEY=new PublicKey("SysvarRent111111111111111111111111111111111"),SYSVAR_REWARDS_PUBKEY=new PublicKey("SysvarRewards111111111111111111111111111111"),SYSVAR_SLOT_HASHES_PUBKEY=new PublicKey("SysvarS1otHashes111111111111111111111111111"),SYSVAR_SLOT_HISTORY_PUBKEY=new PublicKey("SysvarS1otHistory11111111111111111111111111"),SYSVAR_STAKE_HISTORY_PUBKEY=new PublicKey("SysvarStakeHistory1111111111111111111111111"),PACKET_DATA_SIZE=1280-40-8,SIGNATURE_LENGTH_IN_BYTES=64;function decodeLength(u){let a=0,d=0;for(;;){let m=u.shift();if(a|=(m&127)<<d*7,d+=1,(m&128)===0)break}return a}function encodeLength(u,a){let d=a;for(;;){let m=d&127;if(d>>=7,d==0){u.push(m);break}else m|=128,u.push(m)}}const PUBKEY_LENGTH=32;class Message{constructor(a){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=a.header,this.accountKeys=a.accountKeys.map(d=>new PublicKey(d)),this.recentBlockhash=a.recentBlockhash,this.instructions=a.instructions,this.instructions.forEach(d=>this.indexToProgramIds.set(d.programIdIndex,this.accountKeys[d.programIdIndex]))}isAccountSigner(a){return a<this.header.numRequiredSignatures}isAccountWritable(a){return a<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||a>=this.header.numRequiredSignatures&&a<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(a){return this.indexToProgramIds.has(a)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((a,d)=>!this.isProgramId(d))}serialize(){const a=this.accountKeys.length;let d=[];encodeLength(d,a);const m=this.instructions.map(se=>{const{accounts:fe,programIdIndex:ce}=se,de=Array.from(bs58$4.decode(se.data));let ye=[];encodeLength(ye,fe.length);let ge=[];return encodeLength(ge,de.length),{programIdIndex:ce,keyIndicesCount:buffer.Buffer.from(ye),keyIndices:fe,dataLength:buffer.Buffer.from(ge),data:de}});let $=[];encodeLength($,m.length);let ee=buffer.Buffer.alloc(PACKET_DATA_SIZE);buffer.Buffer.from($).copy(ee);let te=$.length;m.forEach(se=>{te+=struct$1([u8$1("programIdIndex"),blob$1(se.keyIndicesCount.length,"keyIndicesCount"),seq(u8$1("keyIndex"),se.keyIndices.length,"keyIndices"),blob$1(se.dataLength.length,"dataLength"),seq(u8$1("userdatum"),se.data.length,"data")]).encode(se,ee,te)}),ee=ee.slice(0,te);const b=struct$1([blob$1(1,"numRequiredSignatures"),blob$1(1,"numReadonlySignedAccounts"),blob$1(1,"numReadonlyUnsignedAccounts"),blob$1(d.length,"keyCount"),seq(publicKey$4("key"),a,"keys"),publicKey$4("recentBlockhash")]),re={numRequiredSignatures:buffer.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:buffer.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:buffer.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:buffer.Buffer.from(d),keys:this.accountKeys.map(se=>toBuffer(se.toBytes())),recentBlockhash:bs58$4.decode(this.recentBlockhash)};let ne=buffer.Buffer.alloc(2048);const ie=b.encode(re,ne);return ee.copy(ne,ie),ne.slice(0,ie+ee.length)}static from(a){let d=[...a];const m=d.shift(),$=d.shift(),ee=d.shift(),te=decodeLength(d);let b=[];for(let fe=0;fe<te;fe++){const ce=d.slice(0,PUBKEY_LENGTH);d=d.slice(PUBKEY_LENGTH),b.push(bs58$4.encode(buffer.Buffer.from(ce)))}const re=d.slice(0,PUBKEY_LENGTH);d=d.slice(PUBKEY_LENGTH);const ne=decodeLength(d);let ie=[];for(let fe=0;fe<ne;fe++){const ce=d.shift(),de=decodeLength(d),ye=d.slice(0,de);d=d.slice(de);const ge=decodeLength(d),_e=d.slice(0,ge),Ee=bs58$4.encode(buffer.Buffer.from(_e));d=d.slice(ge),ie.push({programIdIndex:ce,accounts:ye,data:Ee})}const se={header:{numRequiredSignatures:m,numReadonlySignedAccounts:$,numReadonlyUnsignedAccounts:ee},recentBlockhash:bs58$4.encode(buffer.Buffer.from(re)),accountKeys:b,instructions:ie};return new Message(se)}}function assert$7(u,a){if(!u)throw new Error(a||"Assertion failed")}let TransactionStatus;(function(u){u[u.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",u[u.PROCESSED=1]="PROCESSED",u[u.TIMED_OUT=2]="TIMED_OUT"})(TransactionStatus||(TransactionStatus={}));const DEFAULT_SIGNATURE=buffer.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(a){this.keys=void 0,this.programId=void 0,this.data=buffer.Buffer.alloc(0),this.programId=a.programId,this.keys=a.keys,a.data&&(this.data=a.data)}toJSON(){return{keys:this.keys.map(({pubkey:a,isSigner:d,isWritable:m})=>({pubkey:a.toJSON(),isSigner:d,isWritable:m})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(a){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,!!a)if(a.feePayer&&(this.feePayer=a.feePayer),a.signatures&&(this.signatures=a.signatures),Object.prototype.hasOwnProperty.call(a,"lastValidBlockHeight")){const{blockhash:d,lastValidBlockHeight:m}=a;this.recentBlockhash=d,this.lastValidBlockHeight=m}else{const{recentBlockhash:d,nonceInfo:m}=a;m&&(this.nonceInfo=m),this.recentBlockhash=d}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(a=>a.toJSON()),signers:this.signatures.map(({publicKey:a})=>a.toJSON())}}add(...a){if(a.length===0)throw new Error("No instructions");return a.forEach(d=>{"instructions"in d?this.instructions=this.instructions.concat(d.instructions):"data"in d&&"programId"in d&&"keys"in d?this.instructions.push(d):this.instructions.push(new TransactionInstruction(d))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let a,d;if(this.nonceInfo?(a=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?d=[this.nonceInfo.nonceInstruction,...this.instructions]:d=this.instructions):(a=this.recentBlockhash,d=this.instructions),!a)throw new Error("Transaction recentBlockhash required");d.length<1&&console.warn("No instructions provided");let m;if(this.feePayer)m=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)m=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let ye=0;ye<d.length;ye++)if(d[ye].programId===void 0)throw new Error(`Transaction instruction index ${ye} has undefined program id`);const $=[],ee=[];d.forEach(ye=>{ye.keys.forEach(_e=>{ee.push({..._e})});const ge=ye.programId.toString();$.includes(ge)||$.push(ge)}),$.forEach(ye=>{ee.push({pubkey:new PublicKey(ye),isSigner:!1,isWritable:!1})});const te=[];ee.forEach(ye=>{const ge=ye.pubkey.toString(),_e=te.findIndex(Ee=>Ee.pubkey.toString()===ge);_e>-1?(te[_e].isWritable=te[_e].isWritable||ye.isWritable,te[_e].isSigner=te[_e].isSigner||ye.isSigner):te.push(ye)}),te.sort(function(ye,ge){return ye.isSigner!==ge.isSigner?ye.isSigner?-1:1:ye.isWritable!==ge.isWritable?ye.isWritable?-1:1:ye.pubkey.toBase58().localeCompare(ge.pubkey.toBase58())});const b=te.findIndex(ye=>ye.pubkey.equals(m));if(b>-1){const[ye]=te.splice(b,1);ye.isSigner=!0,ye.isWritable=!0,te.unshift(ye)}else te.unshift({pubkey:m,isSigner:!0,isWritable:!0});for(const ye of this.signatures){const ge=te.findIndex(_e=>_e.pubkey.equals(ye.publicKey));if(ge>-1)te[ge].isSigner||(te[ge].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${ye.publicKey.toString()}`)}let re=0,ne=0,ie=0;const se=[],fe=[];te.forEach(({pubkey:ye,isSigner:ge,isWritable:_e})=>{ge?(se.push(ye.toString()),re+=1,_e||(ne+=1)):(fe.push(ye.toString()),_e||(ie+=1))});const ce=se.concat(fe),de=d.map(ye=>{const{data:ge,programId:_e}=ye;return{programIdIndex:ce.indexOf(_e.toString()),accounts:ye.keys.map(Ee=>ce.indexOf(Ee.pubkey.toString())),data:bs58$4.encode(ge)}});return de.forEach(ye=>{assert$7(ye.programIdIndex>=0),ye.accounts.forEach(ge=>assert$7(ge>=0))}),new Message({header:{numRequiredSignatures:re,numReadonlySignedAccounts:ne,numReadonlyUnsignedAccounts:ie},accountKeys:ce,recentBlockhash:a,instructions:de})}_compile(){const a=this.compileMessage(),d=a.accountKeys.slice(0,a.header.numRequiredSignatures);return this.signatures.length===d.length&&this.signatures.every(($,ee)=>d[ee].equals($.publicKey))||(this.signatures=d.map(m=>({signature:null,publicKey:m}))),a}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(a){return(await a.getFeeForMessage(this.compileMessage())).value}setSigners(...a){if(a.length===0)throw new Error("No signers");const d=new Set;this.signatures=a.filter(m=>{const $=m.toString();return d.has($)?!1:(d.add($),!0)}).map(m=>({signature:null,publicKey:m}))}sign(...a){if(a.length===0)throw new Error("No signers");const d=new Set,m=[];for(const ee of a){const te=ee.publicKey.toString();d.has(te)||(d.add(te),m.push(ee))}this.signatures=m.map(ee=>({signature:null,publicKey:ee.publicKey}));const $=this._compile();this._partialSign($,...m)}partialSign(...a){if(a.length===0)throw new Error("No signers");const d=new Set,m=[];for(const ee of a){const te=ee.publicKey.toString();d.has(te)||(d.add(te),m.push(ee))}const $=this._compile();this._partialSign($,...m)}_partialSign(a,...d){const m=a.serialize();d.forEach($=>{const ee=nacl.sign.detached(m,$.secretKey);this._addSignature($.publicKey,toBuffer(ee))})}addSignature(a,d){this._compile(),this._addSignature(a,d)}_addSignature(a,d){assert$7(d.length===64);const m=this.signatures.findIndex($=>a.equals($.publicKey));if(m<0)throw new Error(`unknown signer: ${a.toString()}`);this.signatures[m].signature=buffer.Buffer.from(d)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(a,d){for(const{signature:m,publicKey:$}of this.signatures)if(m===null){if(d)return!1}else if(!nacl.sign.detached.verify(a,m,$.toBuffer()))return!1;return!0}serialize(a){const{requireAllSignatures:d,verifySignatures:m}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},a),$=this.serializeMessage();if(m&&!this._verifySignatures($,d))throw new Error("Signature verification failed");return this._serialize($)}_serialize(a){const{signatures:d}=this,m=[];encodeLength(m,d.length);const $=m.length+d.length*64+a.length,ee=buffer.Buffer.alloc($);return assert$7(d.length<256),buffer.Buffer.from(m).copy(ee,0),d.forEach(({signature:te},b)=>{te!==null&&(assert$7(te.length===64,"signature has invalid length"),buffer.Buffer.from(te).copy(ee,m.length+b*64))}),a.copy(ee,m.length+d.length*64),assert$7(ee.length<=PACKET_DATA_SIZE,`Transaction too large: ${ee.length} > ${PACKET_DATA_SIZE}`),ee}get keys(){return assert$7(this.instructions.length===1),this.instructions[0].keys.map(a=>a.pubkey)}get programId(){return assert$7(this.instructions.length===1),this.instructions[0].programId}get data(){return assert$7(this.instructions.length===1),this.instructions[0].data}static from(a){let d=[...a];const m=decodeLength(d);let $=[];for(let ee=0;ee<m;ee++){const te=d.slice(0,SIGNATURE_LENGTH_IN_BYTES);d=d.slice(SIGNATURE_LENGTH_IN_BYTES),$.push(bs58$4.encode(buffer.Buffer.from(te)))}return Transaction.populate(Message.from(d),$)}static populate(a,d=[]){const m=new Transaction;return m.recentBlockhash=a.recentBlockhash,a.header.numRequiredSignatures>0&&(m.feePayer=a.accountKeys[0]),d.forEach(($,ee)=>{const te={signature:$==bs58$4.encode(DEFAULT_SIGNATURE)?null:bs58$4.decode($),publicKey:a.accountKeys[ee]};m.signatures.push(te)}),a.instructions.forEach($=>{const ee=$.accounts.map(te=>{const b=a.accountKeys[te];return{pubkey:b,isSigner:m.signatures.some(re=>re.publicKey.toString()===b.toString())||a.isAccountSigner(te),isWritable:a.isAccountWritable(te)}});m.instructions.push(new TransactionInstruction({keys:ee,programId:a.accountKeys[$.programIdIndex],data:bs58$4.decode($.data)}))}),m._message=a,m._json=m.toJSON(),m}}class SystemInstruction{constructor(){}static decodeInstructionType(a){this.checkProgramId(a.programId);const m=u32$1("instruction").decode(a.data);let $;for(const[ee,te]of Object.entries(SYSTEM_INSTRUCTION_LAYOUTS))if(te.index==m){$=ee;break}if(!$)throw new Error("Instruction type incorrect; not a SystemInstruction");return $}static decodeCreateAccount(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,2);const{lamports:d,space:m,programId:$}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Create,a.data);return{fromPubkey:a.keys[0].pubkey,newAccountPubkey:a.keys[1].pubkey,lamports:d,space:m,programId:new PublicKey($)}}static decodeTransfer(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,2);const{lamports:d}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Transfer,a.data);return{fromPubkey:a.keys[0].pubkey,toPubkey:a.keys[1].pubkey,lamports:d}}static decodeTransferWithSeed(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3);const{lamports:d,seed:m,programId:$}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed,a.data);return{fromPubkey:a.keys[0].pubkey,basePubkey:a.keys[1].pubkey,toPubkey:a.keys[2].pubkey,lamports:d,seed:m,programId:new PublicKey($)}}static decodeAllocate(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,1);const{space:d}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Allocate,a.data);return{accountPubkey:a.keys[0].pubkey,space:d}}static decodeAllocateWithSeed(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,1);const{base:d,seed:m,space:$,programId:ee}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed,a.data);return{accountPubkey:a.keys[0].pubkey,basePubkey:new PublicKey(d),seed:m,space:$,programId:new PublicKey(ee)}}static decodeAssign(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,1);const{programId:d}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.Assign,a.data);return{accountPubkey:a.keys[0].pubkey,programId:new PublicKey(d)}}static decodeAssignWithSeed(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,1);const{base:d,seed:m,programId:$}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed,a.data);return{accountPubkey:a.keys[0].pubkey,basePubkey:new PublicKey(d),seed:m,programId:new PublicKey($)}}static decodeCreateWithSeed(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,2);const{base:d,seed:m,lamports:$,space:ee,programId:te}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,a.data);return{fromPubkey:a.keys[0].pubkey,newAccountPubkey:a.keys[1].pubkey,basePubkey:new PublicKey(d),seed:m,lamports:$,space:ee,programId:new PublicKey(te)}}static decodeNonceInitialize(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3);const{authorized:d}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,a.data);return{noncePubkey:a.keys[0].pubkey,authorizedPubkey:new PublicKey(d)}}static decodeNonceAdvance(a){return this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3),decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,a.data),{noncePubkey:a.keys[0].pubkey,authorizedPubkey:a.keys[2].pubkey}}static decodeNonceWithdraw(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,5);const{lamports:d}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,a.data);return{noncePubkey:a.keys[0].pubkey,toPubkey:a.keys[1].pubkey,authorizedPubkey:a.keys[4].pubkey,lamports:d}}static decodeNonceAuthorize(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,2);const{authorized:d}=decodeData(SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,a.data);return{noncePubkey:a.keys[0].pubkey,authorizedPubkey:a.keys[1].pubkey,newAuthorizedPubkey:new PublicKey(d)}}static checkProgramId(a){if(!a.equals(SystemProgram.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(a,d){if(a.length<d)throw new Error(`invalid instruction; found ${a.length} keys, expected at least ${d}`)}}const SYSTEM_INSTRUCTION_LAYOUTS=Object.freeze({Create:{index:0,layout:struct$1([u32$1("instruction"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},Assign:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("programId")])},Transfer:{index:2,layout:struct$1([u32$1("instruction"),u64$1("lamports")])},CreateWithSeed:{index:3,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),ns64$1("lamports"),ns64$1("space"),publicKey$4("programId")])},AdvanceNonceAccount:{index:4,layout:struct$1([u32$1("instruction")])},WithdrawNonceAccount:{index:5,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},InitializeNonceAccount:{index:6,layout:struct$1([u32$1("instruction"),publicKey$4("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct$1([u32$1("instruction"),publicKey$4("authorized")])},Allocate:{index:8,layout:struct$1([u32$1("instruction"),ns64$1("space")])},AllocateWithSeed:{index:9,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),ns64$1("space"),publicKey$4("programId")])},AssignWithSeed:{index:10,layout:struct$1([u32$1("instruction"),publicKey$4("base"),rustString("seed"),publicKey$4("programId")])},TransferWithSeed:{index:11,layout:struct$1([u32$1("instruction"),u64$1("lamports"),rustString("seed"),publicKey$4("programId")])},UpgradeNonceAccount:{index:12,layout:struct$1([u32$1("instruction")])}});class SystemProgram{constructor(){}static createAccount(a){const d=SYSTEM_INSTRUCTION_LAYOUTS.Create,m=encodeData(d,{lamports:a.lamports,space:a.space,programId:toBuffer(a.programId.toBuffer())});return new TransactionInstruction({keys:[{pubkey:a.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:a.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:m})}static transfer(a){let d,m;if("basePubkey"in a){const $=SYSTEM_INSTRUCTION_LAYOUTS.TransferWithSeed;d=encodeData($,{lamports:BigInt(a.lamports),seed:a.seed,programId:toBuffer(a.programId.toBuffer())}),m=[{pubkey:a.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:a.basePubkey,isSigner:!0,isWritable:!1},{pubkey:a.toPubkey,isSigner:!1,isWritable:!0}]}else{const $=SYSTEM_INSTRUCTION_LAYOUTS.Transfer;d=encodeData($,{lamports:BigInt(a.lamports)}),m=[{pubkey:a.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:a.toPubkey,isSigner:!1,isWritable:!0}]}return new TransactionInstruction({keys:m,programId:this.programId,data:d})}static assign(a){let d,m;if("basePubkey"in a){const $=SYSTEM_INSTRUCTION_LAYOUTS.AssignWithSeed;d=encodeData($,{base:toBuffer(a.basePubkey.toBuffer()),seed:a.seed,programId:toBuffer(a.programId.toBuffer())}),m=[{pubkey:a.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:a.basePubkey,isSigner:!0,isWritable:!1}]}else{const $=SYSTEM_INSTRUCTION_LAYOUTS.Assign;d=encodeData($,{programId:toBuffer(a.programId.toBuffer())}),m=[{pubkey:a.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:m,programId:this.programId,data:d})}static createAccountWithSeed(a){const d=SYSTEM_INSTRUCTION_LAYOUTS.CreateWithSeed,m=encodeData(d,{base:toBuffer(a.basePubkey.toBuffer()),seed:a.seed,lamports:a.lamports,space:a.space,programId:toBuffer(a.programId.toBuffer())});let $=[{pubkey:a.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:a.newAccountPubkey,isSigner:!1,isWritable:!0}];return a.basePubkey!=a.fromPubkey&&$.push({pubkey:a.basePubkey,isSigner:!0,isWritable:!1}),new TransactionInstruction({keys:$,programId:this.programId,data:m})}static createNonceAccount(a){const d=new Transaction;"basePubkey"in a&&"seed"in a?d.add(SystemProgram.createAccountWithSeed({fromPubkey:a.fromPubkey,newAccountPubkey:a.noncePubkey,basePubkey:a.basePubkey,seed:a.seed,lamports:a.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId})):d.add(SystemProgram.createAccount({fromPubkey:a.fromPubkey,newAccountPubkey:a.noncePubkey,lamports:a.lamports,space:NONCE_ACCOUNT_LENGTH,programId:this.programId}));const m={noncePubkey:a.noncePubkey,authorizedPubkey:a.authorizedPubkey};return d.add(this.nonceInitialize(m)),d}static nonceInitialize(a){const d=SYSTEM_INSTRUCTION_LAYOUTS.InitializeNonceAccount,m=encodeData(d,{authorized:toBuffer(a.authorizedPubkey.toBuffer())}),$={keys:[{pubkey:a.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:m};return new TransactionInstruction($)}static nonceAdvance(a){const d=SYSTEM_INSTRUCTION_LAYOUTS.AdvanceNonceAccount,m=encodeData(d),$={keys:[{pubkey:a.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:m};return new TransactionInstruction($)}static nonceWithdraw(a){const d=SYSTEM_INSTRUCTION_LAYOUTS.WithdrawNonceAccount,m=encodeData(d,{lamports:a.lamports});return new TransactionInstruction({keys:[{pubkey:a.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:a.toPubkey,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RECENT_BLOCKHASHES_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:m})}static nonceAuthorize(a){const d=SYSTEM_INSTRUCTION_LAYOUTS.AuthorizeNonceAccount,m=encodeData(d,{authorized:toBuffer(a.newAuthorizedPubkey.toBuffer())});return new TransactionInstruction({keys:[{pubkey:a.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:a.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:m})}static allocate(a){let d,m;if("basePubkey"in a){const $=SYSTEM_INSTRUCTION_LAYOUTS.AllocateWithSeed;d=encodeData($,{base:toBuffer(a.basePubkey.toBuffer()),seed:a.seed,space:a.space,programId:toBuffer(a.programId.toBuffer())}),m=[{pubkey:a.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:a.basePubkey,isSigner:!0,isWritable:!1}]}else{const $=SYSTEM_INSTRUCTION_LAYOUTS.Allocate;d=encodeData($,{space:a.space}),m=[{pubkey:a.accountPubkey,isSigner:!0,isWritable:!0}]}return new TransactionInstruction({keys:m,programId:this.programId,data:d})}}SystemProgram.programId=new PublicKey("11111111111111111111111111111111");const LOOKUP_TABLE_INSTRUCTION_LAYOUTS=Object.freeze({CreateLookupTable:{index:0,layout:struct$1([u32$1("instruction"),u64$1("recentSlot"),u8$1("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct$1([u32$1("instruction")])},ExtendLookupTable:{index:2,layout:struct$1([u32$1("instruction"),u64$1(),seq(publicKey$4(),offset$3(u32$1(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct$1([u32$1("instruction")])},CloseLookupTable:{index:4,layout:struct$1([u32$1("instruction")])}});class AddressLookupTableInstruction{constructor(){}static decodeInstructionType(a){this.checkProgramId(a.programId);const m=u32$1("instruction").decode(a.data);let $;for(const[ee,te]of Object.entries(LOOKUP_TABLE_INSTRUCTION_LAYOUTS))if(te.index==m){$=ee;break}if(!$)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return $}static decodeCreateLookupTable(a){this.checkProgramId(a.programId),this.checkKeysLength(a.keys,4);const{recentSlot:d}=decodeData(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,a.data);return{authority:a.keys[1].pubkey,payer:a.keys[2].pubkey,recentSlot:Number(d)}}static decodeExtendLookupTable(a){if(this.checkProgramId(a.programId),a.keys.length<2)throw new Error(`invalid instruction; found ${a.keys.length} keys, expected at least 2`);const{addresses:d}=decodeData(LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,a.data);return{lookupTable:a.keys[0].pubkey,authority:a.keys[1].pubkey,payer:a.keys.length>2?a.keys[2].pubkey:void 0,addresses:d.map(m=>new PublicKey(m))}}static decodeCloseLookupTable(a){return this.checkProgramId(a.programId),this.checkKeysLength(a.keys,3),{lookupTable:a.keys[0].pubkey,authority:a.keys[1].pubkey,recipient:a.keys[2].pubkey}}static decodeFreezeLookupTable(a){return this.checkProgramId(a.programId),this.checkKeysLength(a.keys,2),{lookupTable:a.keys[0].pubkey,authority:a.keys[1].pubkey}}static decodeDeactivateLookupTable(a){return this.checkProgramId(a.programId),this.checkKeysLength(a.keys,2),{lookupTable:a.keys[0].pubkey,authority:a.keys[1].pubkey}}static checkProgramId(a){if(!a.equals(AddressLookupTableProgram.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(a,d){if(a.length<d)throw new Error(`invalid instruction; found ${a.length} keys, expected at least ${d}`)}}class AddressLookupTableProgram{constructor(){}static createLookupTable(a){const[d,m]=PublicKey.findProgramAddressSync([a.authority.toBuffer(),toBufferLE_1(BigInt(a.recentSlot),8)],this.programId),$=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CreateLookupTable,ee=encodeData($,{recentSlot:BigInt(a.recentSlot),bumpSeed:m}),te=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1},{pubkey:a.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}];return[new TransactionInstruction({programId:this.programId,keys:te,data:ee}),d]}static freezeLookupTable(a){const d=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.FreezeLookupTable,m=encodeData(d),$=[{pubkey:a.lookupTable,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:$,data:m})}static extendLookupTable(a){const d=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.ExtendLookupTable,m=encodeData(d,{addresses:a.addresses.map(ee=>ee.toBytes())}),$=[{pubkey:a.lookupTable,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1}];return a.payer&&$.push({pubkey:a.payer,isSigner:!0,isWritable:!0},{pubkey:SystemProgram.programId,isSigner:!1,isWritable:!1}),new TransactionInstruction({programId:this.programId,keys:$,data:m})}static deactivateLookupTable(a){const d=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.DeactivateLookupTable,m=encodeData(d),$=[{pubkey:a.lookupTable,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1}];return new TransactionInstruction({programId:this.programId,keys:$,data:m})}static closeLookupTable(a){const d=LOOKUP_TABLE_INSTRUCTION_LAYOUTS.CloseLookupTable,m=encodeData(d),$=[{pubkey:a.lookupTable,isSigner:!1,isWritable:!0},{pubkey:a.authority,isSigner:!0,isWritable:!1},{pubkey:a.recipient,isSigner:!1,isWritable:!0}];return new TransactionInstruction({programId:this.programId,keys:$,data:m})}}AddressLookupTableProgram.programId=new PublicKey("AddressLookupTab1e1111111111111111111111111");const BPF_LOADER_DEPRECATED_PROGRAM_ID=new PublicKey("BPFLoader1111111111111111111111111111111111");async function sendAndConfirmTransaction(u,a,d,m){const $=m&&{skipPreflight:m.skipPreflight,preflightCommitment:m.preflightCommitment||m.commitment,maxRetries:m.maxRetries,minContextSlot:m.minContextSlot},ee=await u.sendTransaction(a,d,$),te=a.recentBlockhash!=null&&a.lastValidBlockHeight!=null?(await u.confirmTransaction({signature:ee,blockhash:a.recentBlockhash,lastValidBlockHeight:a.lastValidBlockHeight},m&&m.commitment)).value:(await u.confirmTransaction(ee,m&&m.commitment)).value;if(te.err)throw new Error(`Transaction ${ee} failed (${JSON.stringify(te)})`);return ee}function sleep(u){return new Promise(a=>setTimeout(a,u))}const CHUNK_SIZE=PACKET_DATA_SIZE-300;class Loader{constructor(){}static getMinNumSignatures(a){return 2*(Math.ceil(a/Loader.chunkSize)+1+1)}static async load(a,d,m,$,ee){{const se=await a.getMinimumBalanceForRentExemption(ee.length),fe=await a.getAccountInfo(m.publicKey,"confirmed");let ce=null;if(fe!==null){if(fe.executable)return console.error("Program load failed, account is already executable"),!1;fe.data.length!==ee.length&&(ce=ce||new Transaction,ce.add(SystemProgram.allocate({accountPubkey:m.publicKey,space:ee.length}))),fe.owner.equals($)||(ce=ce||new Transaction,ce.add(SystemProgram.assign({accountPubkey:m.publicKey,programId:$}))),fe.lamports<se&&(ce=ce||new Transaction,ce.add(SystemProgram.transfer({fromPubkey:d.publicKey,toPubkey:m.publicKey,lamports:se-fe.lamports})))}else ce=new Transaction().add(SystemProgram.createAccount({fromPubkey:d.publicKey,newAccountPubkey:m.publicKey,lamports:se>0?se:1,space:ee.length,programId:$}));ce!==null&&await sendAndConfirmTransaction(a,ce,[d,m],{commitment:"confirmed"})}const te=struct$1([u32$1("instruction"),u32$1("offset"),u32$1("bytesLength"),u32$1("bytesLengthPadding"),seq(u8$1("byte"),offset$3(u32$1(),-8),"bytes")]),b=Loader.chunkSize;let re=0,ne=ee,ie=[];for(;ne.length>0;){const se=ne.slice(0,b),fe=buffer.Buffer.alloc(b+16);te.encode({instruction:0,offset:re,bytes:se,bytesLength:0,bytesLengthPadding:0},fe);const ce=new Transaction().add({keys:[{pubkey:m.publicKey,isSigner:!0,isWritable:!0}],programId:$,data:fe});ie.push(sendAndConfirmTransaction(a,ce,[d,m],{commitment:"confirmed"})),a._rpcEndpoint.includes("solana.com")&&await sleep(1e3/4),re+=b,ne=ne.slice(b)}await Promise.all(ie);{const se=struct$1([u32$1("instruction")]),fe=buffer.Buffer.alloc(se.span);se.encode({instruction:1},fe);const ce=new Transaction().add({keys:[{pubkey:m.publicKey,isSigner:!0,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:$,data:fe});await sendAndConfirmTransaction(a,ce,[d,m],{commitment:"confirmed"})}return!0}}Loader.chunkSize=CHUNK_SIZE;const BPF_LOADER_PROGRAM_ID=new PublicKey("BPFLoader2111111111111111111111111111111111");class BpfLoader{static getMinNumSignatures(a){return Loader.getMinNumSignatures(a)}static load(a,d,m,$,ee){return Loader.load(a,d,m,ee,$)}}class ComputeBudgetInstruction{constructor(){}static decodeInstructionType(a){this.checkProgramId(a.programId);const m=u8$1("instruction").decode(a.data);let $;for(const[ee,te]of Object.entries(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS))if(te.index==m){$=ee;break}if(!$)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return $}static decodeRequestUnits(a){this.checkProgramId(a.programId);const{units:d,additionalFee:m}=decodeData(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,a.data);return{units:d,additionalFee:m}}static decodeRequestHeapFrame(a){this.checkProgramId(a.programId);const{bytes:d}=decodeData(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,a.data);return{bytes:d}}static decodeSetComputeUnitLimit(a){this.checkProgramId(a.programId);const{units:d}=decodeData(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,a.data);return{units:d}}static decodeSetComputeUnitPrice(a){this.checkProgramId(a.programId);const{microLamports:d}=decodeData(COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,a.data);return{microLamports:d}}static checkProgramId(a){if(!a.equals(ComputeBudgetProgram.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=Object.freeze({RequestUnits:{index:0,layout:struct$1([u8$1("instruction"),u32$1("units"),u32$1("additionalFee")])},RequestHeapFrame:{index:1,layout:struct$1([u8$1("instruction"),u32$1("bytes")])},SetComputeUnitLimit:{index:2,layout:struct$1([u8$1("instruction"),u32$1("units")])},SetComputeUnitPrice:{index:3,layout:struct$1([u8$1("instruction"),u64$1("microLamports")])}});class ComputeBudgetProgram{constructor(){}static requestUnits(a){const d=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestUnits,m=encodeData(d,a);return new TransactionInstruction({keys:[],programId:this.programId,data:m})}static requestHeapFrame(a){const d=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.RequestHeapFrame,m=encodeData(d,a);return new TransactionInstruction({keys:[],programId:this.programId,data:m})}static setComputeUnitLimit(a){const d=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitLimit,m=encodeData(d,a);return new TransactionInstruction({keys:[],programId:this.programId,data:m})}static setComputeUnitPrice(a){const d=COMPUTE_BUDGET_INSTRUCTION_LAYOUTS.SetComputeUnitPrice,m=encodeData(d,{microLamports:BigInt(a.microLamports)});return new TransactionInstruction({keys:[],programId:this.programId,data:m})}}ComputeBudgetProgram.programId=new PublicKey("ComputeBudget111111111111111111111111111111");var objToString=Object.prototype.toString,objKeys=Object.keys||function(u){var a=[];for(var d in u)a.push(d);return a};function stringify$1(u,a){var d,m,$,ee,te,b,re;if(u===!0)return"true";if(u===!1)return"false";switch(typeof u){case"object":if(u===null)return null;if(u.toJSON&&typeof u.toJSON=="function")return stringify$1(u.toJSON(),a);if(re=objToString.call(u),re==="[object Array]"){for($="[",m=u.length-1,d=0;d<m;d++)$+=stringify$1(u[d],!0)+",";return m>-1&&($+=stringify$1(u[d],!0)),$+"]"}else if(re==="[object Object]"){for(ee=objKeys(u).sort(),m=ee.length,$="",d=0;d<m;)te=ee[d],b=stringify$1(u[te],!1),b!==void 0&&($&&($+=","),$+=JSON.stringify(te)+":"+b),d++;return"{"+$+"}"}else return JSON.stringify(u);case"function":case"undefined":return a?null:void 0;case"string":return JSON.stringify(u);default:return isFinite(u)?u:null}}var fastStableStringify=function(u){var a=stringify$1(u,!1);if(a!==void 0)return""+a},fastStableStringify$1=fastStableStringify;const URL$1=globalThis.URL,MINIMUM_SLOT_PER_EPOCH=32;function trailingZeros(u){let a=0;for(;u>1;)u/=2,a++;return a}function nextPowerOfTwo(u){return u===0?1:(u--,u|=u>>1,u|=u>>2,u|=u>>4,u|=u>>8,u|=u>>16,u|=u>>32,u+1)}class EpochSchedule{constructor(a,d,m,$,ee){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=a,this.leaderScheduleSlotOffset=d,this.warmup=m,this.firstNormalEpoch=$,this.firstNormalSlot=ee}getEpoch(a){return this.getEpochAndSlotIndex(a)[0]}getEpochAndSlotIndex(a){if(a<this.firstNormalSlot){const d=trailingZeros(nextPowerOfTwo(a+MINIMUM_SLOT_PER_EPOCH+1))-trailingZeros(MINIMUM_SLOT_PER_EPOCH)-1,m=this.getSlotsInEpoch(d),$=a-(m-MINIMUM_SLOT_PER_EPOCH);return[d,$]}else{const d=a-this.firstNormalSlot,m=Math.floor(d/this.slotsPerEpoch),$=this.firstNormalEpoch+m,ee=d%this.slotsPerEpoch;return[$,ee]}}getFirstSlotInEpoch(a){return a<=this.firstNormalEpoch?(Math.pow(2,a)-1)*MINIMUM_SLOT_PER_EPOCH:(a-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(a){return this.getFirstSlotInEpoch(a)+this.getSlotsInEpoch(a)-1}getSlotsInEpoch(a){return a<this.firstNormalEpoch?Math.pow(2,a+trailingZeros(MINIMUM_SLOT_PER_EPOCH)):this.slotsPerEpoch}}class SendTransactionError extends Error{constructor(a,d){super(a),this.logs=void 0,this.logs=d}}const SolanaJSONRPCErrorCode={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class SolanaJSONRPCError extends Error{constructor({code:a,message:d,data:m},$){super($!=null?`${$}: ${d}`:d),this.code=void 0,this.data=void 0,this.code=a,this.data=m,this.name="SolanaJSONRPCError"}}var fetchImpl=globalThis.fetch;const NUM_TICKS_PER_SECOND=160,DEFAULT_TICKS_PER_SLOT=64,NUM_SLOTS_PER_SECOND=NUM_TICKS_PER_SECOND/DEFAULT_TICKS_PER_SLOT,MS_PER_SLOT=1e3/NUM_SLOTS_PER_SECOND;class TransactionExpiredBlockheightExceededError extends Error{constructor(a){super(`Signature ${a} has expired: block height exceeded.`),this.signature=void 0,this.signature=a}}Object.defineProperty(TransactionExpiredBlockheightExceededError.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class TransactionExpiredTimeoutError extends Error{constructor(a,d){super(`Transaction was not confirmed in ${d.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${a} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=a}}Object.defineProperty(TransactionExpiredTimeoutError.prototype,"name",{value:"TransactionExpiredTimeoutError"});function makeWebsocketUrl(u){let a=new URL$1(u);const d=a.protocol==="https:";return a.protocol=d?"wss:":"ws:",a.host="",a.port!==""&&(a.port=String(Number(a.port)+1)),a.toString()}var _process$env$npm_pack;const PublicKeyFromString=coerce$1(instance(PublicKey),string$1(),u=>new PublicKey(u)),RawAccountDataResult=tuple([string$1(),literal$1("base64")]),BufferFromRawAccountData=coerce$1(instance(buffer.Buffer),RawAccountDataResult,u=>buffer.Buffer.from(u[0],"base64")),BLOCKHASH_CACHE_TIMEOUT_MS=30*1e3;function extractCommitmentFromConfig(u){let a,d;if(typeof u=="string")a=u;else if(u){const{commitment:m,...$}=u;a=m,d=$}return{commitment:a,config:d}}function createRpcResult$1(u){return union$3([type$1({jsonrpc:literal$1("2.0"),id:string$1(),result:u}),type$1({jsonrpc:literal$1("2.0"),id:string$1(),error:type$1({code:unknown$2(),message:string$1(),data:optional$1(any$1())})})])}const UnknownRpcResult$1=createRpcResult$1(unknown$2());function jsonRpcResult$1(u){return coerce$1(createRpcResult$1(u),UnknownRpcResult$1,a=>"error"in a?a:{...a,result:create$2(a.result,u)})}function jsonRpcResultAndContext$1(u){return jsonRpcResult$1(type$1({context:type$1({slot:number$1()}),value:u}))}function notificationResultAndContext(u){return type$1({context:type$1({slot:number$1()}),value:u})}const GetInflationGovernorResult=type$1({foundation:number$1(),foundationTerm:number$1(),initial:number$1(),taper:number$1(),terminal:number$1()}),GetInflationRewardResult=jsonRpcResult$1(array$1(nullable$1(type$1({epoch:number$1(),effectiveSlot:number$1(),amount:number$1(),postBalance:number$1()})))),GetEpochInfoResult=type$1({epoch:number$1(),slotIndex:number$1(),slotsInEpoch:number$1(),absoluteSlot:number$1(),blockHeight:optional$1(number$1()),transactionCount:optional$1(number$1())}),GetEpochScheduleResult=type$1({slotsPerEpoch:number$1(),leaderScheduleSlotOffset:number$1(),warmup:boolean$1(),firstNormalEpoch:number$1(),firstNormalSlot:number$1()}),GetLeaderScheduleResult=record(string$1(),array$1(number$1())),TransactionErrorResult=nullable$1(union$3([type$1({}),string$1()])),SignatureStatusResult=type$1({err:TransactionErrorResult}),SignatureReceivedResult=literal$1("receivedSignature"),VersionResult=type$1({"solana-core":string$1(),"feature-set":optional$1(number$1())}),SimulatedTransactionResponseStruct$1=jsonRpcResultAndContext$1(type$1({err:nullable$1(union$3([type$1({}),string$1()])),logs:nullable$1(array$1(string$1())),accounts:optional$1(nullable$1(array$1(nullable$1(type$1({executable:boolean$1(),owner:string$1(),lamports:number$1(),data:array$1(string$1()),rentEpoch:optional$1(number$1())}))))),unitsConsumed:optional$1(number$1()),returnData:optional$1(nullable$1(type$1({programId:string$1(),data:tuple([string$1(),literal$1("base64")])})))})),BlockProductionResponseStruct=jsonRpcResultAndContext$1(type$1({byIdentity:record(string$1(),array$1(number$1())),range:type$1({firstSlot:number$1(),lastSlot:number$1()})}));function createRpcClient(u,a,d,m,$,ee){const te=m||fetchImpl;let b;return $&&(b=async(ne,ie)=>{const se=await new Promise((fe,ce)=>{try{$(ne,ie,(de,ye)=>fe([de,ye]))}catch(de){ce(de)}});return await te(...se)}),new browser(async(ne,ie)=>{const fe={method:"POST",body:ne,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},d||{},COMMON_HTTP_HEADERS)};try{let ce=5,de,ye=500;for(;b?de=await b(u,fe):de=await te(u,fe),!(de.status!==429||ee===!0||(ce-=1,ce===0));)console.log(`Server responded with ${de.status} ${de.statusText}.  Retrying after ${ye}ms delay...`),await sleep(ye),ye*=2;const ge=await de.text();de.ok?ie(null,ge):ie(new Error(`${de.status} ${de.statusText}: ${ge}`))}catch(ce){ce instanceof Error&&ie(ce)}finally{}},{})}function createRpcRequest(u){return(a,d)=>new Promise((m,$)=>{u.request(a,d,(ee,te)=>{if(ee){$(ee);return}m(te)})})}function createRpcBatchRequest(u){return a=>new Promise((d,m)=>{a.length===0&&d([]);const $=a.map(ee=>u.request(ee.methodName,ee.args));u.request($,(ee,te)=>{if(ee){m(ee);return}d(te)})})}const GetInflationGovernorRpcResult=jsonRpcResult$1(GetInflationGovernorResult),GetEpochInfoRpcResult=jsonRpcResult$1(GetEpochInfoResult),GetEpochScheduleRpcResult=jsonRpcResult$1(GetEpochScheduleResult),GetLeaderScheduleRpcResult=jsonRpcResult$1(GetLeaderScheduleResult),SlotRpcResult=jsonRpcResult$1(number$1()),GetSupplyRpcResult=jsonRpcResultAndContext$1(type$1({total:number$1(),circulating:number$1(),nonCirculating:number$1(),nonCirculatingAccounts:array$1(PublicKeyFromString)})),TokenAmountResult=type$1({amount:string$1(),uiAmount:nullable$1(number$1()),decimals:number$1(),uiAmountString:optional$1(string$1())}),GetTokenLargestAccountsResult=jsonRpcResultAndContext$1(array$1(type$1({address:PublicKeyFromString,amount:string$1(),uiAmount:nullable$1(number$1()),decimals:number$1(),uiAmountString:optional$1(string$1())}))),GetTokenAccountsByOwner=jsonRpcResultAndContext$1(array$1(type$1({pubkey:PublicKeyFromString,account:type$1({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:BufferFromRawAccountData,rentEpoch:number$1()})}))),ParsedAccountDataResult=type$1({program:string$1(),parsed:unknown$2(),space:number$1()}),GetParsedTokenAccountsByOwner=jsonRpcResultAndContext$1(array$1(type$1({pubkey:PublicKeyFromString,account:type$1({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:ParsedAccountDataResult,rentEpoch:number$1()})}))),GetLargestAccountsRpcResult=jsonRpcResultAndContext$1(array$1(type$1({lamports:number$1(),address:PublicKeyFromString}))),AccountInfoResult=type$1({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:BufferFromRawAccountData,rentEpoch:number$1()}),KeyedAccountInfoResult=type$1({pubkey:PublicKeyFromString,account:AccountInfoResult}),ParsedOrRawAccountData=coerce$1(union$3([instance(buffer.Buffer),ParsedAccountDataResult]),union$3([RawAccountDataResult,ParsedAccountDataResult]),u=>Array.isArray(u)?create$2(u,BufferFromRawAccountData):u),ParsedAccountInfoResult=type$1({executable:boolean$1(),owner:PublicKeyFromString,lamports:number$1(),data:ParsedOrRawAccountData,rentEpoch:number$1()}),KeyedParsedAccountInfoResult=type$1({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult}),StakeActivationResult=type$1({state:union$3([literal$1("active"),literal$1("inactive"),literal$1("activating"),literal$1("deactivating")]),active:number$1(),inactive:number$1()}),GetConfirmedSignaturesForAddress2RpcResult=jsonRpcResult$1(array$1(type$1({signature:string$1(),slot:number$1(),err:TransactionErrorResult,memo:nullable$1(string$1()),blockTime:optional$1(nullable$1(number$1()))}))),GetSignaturesForAddressRpcResult=jsonRpcResult$1(array$1(type$1({signature:string$1(),slot:number$1(),err:TransactionErrorResult,memo:nullable$1(string$1()),blockTime:optional$1(nullable$1(number$1()))}))),AccountNotificationResult=type$1({subscription:number$1(),result:notificationResultAndContext(AccountInfoResult)}),ProgramAccountInfoResult=type$1({pubkey:PublicKeyFromString,account:AccountInfoResult}),ProgramAccountNotificationResult=type$1({subscription:number$1(),result:notificationResultAndContext(ProgramAccountInfoResult)}),SlotInfoResult=type$1({parent:number$1(),slot:number$1(),root:number$1()}),SlotNotificationResult=type$1({subscription:number$1(),result:SlotInfoResult}),SlotUpdateResult=union$3([type$1({type:union$3([literal$1("firstShredReceived"),literal$1("completed"),literal$1("optimisticConfirmation"),literal$1("root")]),slot:number$1(),timestamp:number$1()}),type$1({type:literal$1("createdBank"),parent:number$1(),slot:number$1(),timestamp:number$1()}),type$1({type:literal$1("frozen"),slot:number$1(),timestamp:number$1(),stats:type$1({numTransactionEntries:number$1(),numSuccessfulTransactions:number$1(),numFailedTransactions:number$1(),maxTransactionsPerEntry:number$1()})}),type$1({type:literal$1("dead"),slot:number$1(),timestamp:number$1(),err:string$1()})]),SlotUpdateNotificationResult=type$1({subscription:number$1(),result:SlotUpdateResult}),SignatureNotificationResult=type$1({subscription:number$1(),result:notificationResultAndContext(union$3([SignatureStatusResult,SignatureReceivedResult]))}),RootNotificationResult=type$1({subscription:number$1(),result:number$1()}),ContactInfoResult=type$1({pubkey:string$1(),gossip:nullable$1(string$1()),tpu:nullable$1(string$1()),rpc:nullable$1(string$1()),version:nullable$1(string$1())}),VoteAccountInfoResult=type$1({votePubkey:string$1(),nodePubkey:string$1(),activatedStake:number$1(),epochVoteAccount:boolean$1(),epochCredits:array$1(tuple([number$1(),number$1(),number$1()])),commission:number$1(),lastVote:number$1(),rootSlot:nullable$1(number$1())}),GetVoteAccounts=jsonRpcResult$1(type$1({current:array$1(VoteAccountInfoResult),delinquent:array$1(VoteAccountInfoResult)})),ConfirmationStatus=union$3([literal$1("processed"),literal$1("confirmed"),literal$1("finalized")]),SignatureStatusResponse=type$1({slot:number$1(),confirmations:nullable$1(number$1()),err:TransactionErrorResult,confirmationStatus:optional$1(ConfirmationStatus)}),GetSignatureStatusesRpcResult=jsonRpcResultAndContext$1(array$1(nullable$1(SignatureStatusResponse))),GetMinimumBalanceForRentExemptionRpcResult=jsonRpcResult$1(number$1()),ConfirmedTransactionResult=type$1({signatures:array$1(string$1()),message:type$1({accountKeys:array$1(string$1()),header:type$1({numRequiredSignatures:number$1(),numReadonlySignedAccounts:number$1(),numReadonlyUnsignedAccounts:number$1()}),instructions:array$1(type$1({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()})),recentBlockhash:string$1()})}),ParsedInstructionResult=type$1({parsed:unknown$2(),program:string$1(),programId:PublicKeyFromString}),RawInstructionResult=type$1({accounts:array$1(PublicKeyFromString),data:string$1(),programId:PublicKeyFromString}),InstructionResult=union$3([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union$3([type$1({parsed:unknown$2(),program:string$1(),programId:string$1()}),type$1({accounts:array$1(string$1()),data:string$1(),programId:string$1()})]),ParsedOrRawInstruction=coerce$1(InstructionResult,UnknownInstructionResult,u=>"accounts"in u?create$2(u,RawInstructionResult):create$2(u,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type$1({signatures:array$1(string$1()),message:type$1({accountKeys:array$1(type$1({pubkey:PublicKeyFromString,signer:boolean$1(),writable:boolean$1()})),instructions:array$1(ParsedOrRawInstruction),recentBlockhash:string$1()})}),TokenBalanceResult=type$1({accountIndex:number$1(),mint:string$1(),owner:optional$1(string$1()),uiTokenAmount:TokenAmountResult}),ConfirmedTransactionMetaResult=type$1({err:TransactionErrorResult,fee:number$1(),innerInstructions:optional$1(nullable$1(array$1(type$1({index:number$1(),instructions:array$1(type$1({accounts:array$1(number$1()),data:string$1(),programIdIndex:number$1()}))})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional$1(nullable$1(array$1(string$1()))),preTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),postTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult)))}),ParsedConfirmedTransactionMetaResult=type$1({err:TransactionErrorResult,fee:number$1(),innerInstructions:optional$1(nullable$1(array$1(type$1({index:number$1(),instructions:array$1(ParsedOrRawInstruction)})))),preBalances:array$1(number$1()),postBalances:array$1(number$1()),logMessages:optional$1(nullable$1(array$1(string$1()))),preTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult))),postTokenBalances:optional$1(nullable$1(array$1(TokenBalanceResult)))}),GetBlockRpcResult=jsonRpcResult$1(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$1({transaction:ConfirmedTransactionResult,meta:nullable$1(ConfirmedTransactionMetaResult)})),rewards:optional$1(array$1(type$1({pubkey:string$1(),lamports:number$1(),postBalance:nullable$1(number$1()),rewardType:nullable$1(string$1())}))),blockTime:nullable$1(number$1()),blockHeight:nullable$1(number$1())}))),GetConfirmedBlockRpcResult=jsonRpcResult$1(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),transactions:array$1(type$1({transaction:ConfirmedTransactionResult,meta:nullable$1(ConfirmedTransactionMetaResult)})),rewards:optional$1(array$1(type$1({pubkey:string$1(),lamports:number$1(),postBalance:nullable$1(number$1()),rewardType:nullable$1(string$1())}))),blockTime:nullable$1(number$1())}))),GetBlockSignaturesRpcResult=jsonRpcResult$1(nullable$1(type$1({blockhash:string$1(),previousBlockhash:string$1(),parentSlot:number$1(),signatures:array$1(string$1()),blockTime:nullable$1(number$1())}))),GetTransactionRpcResult=jsonRpcResult$1(nullable$1(type$1({slot:number$1(),meta:ConfirmedTransactionMetaResult,blockTime:optional$1(nullable$1(number$1())),transaction:ConfirmedTransactionResult}))),GetParsedTransactionRpcResult=jsonRpcResult$1(nullable$1(type$1({slot:number$1(),transaction:ParsedConfirmedTransactionResult,meta:nullable$1(ParsedConfirmedTransactionMetaResult),blockTime:optional$1(nullable$1(number$1()))}))),GetRecentBlockhashAndContextRpcResult=jsonRpcResultAndContext$1(type$1({blockhash:string$1(),feeCalculator:type$1({lamportsPerSignature:number$1()})})),GetLatestBlockhashRpcResult=jsonRpcResultAndContext$1(type$1({blockhash:string$1(),lastValidBlockHeight:number$1()})),PerfSampleResult=type$1({slot:number$1(),numTransactions:number$1(),numSlots:number$1(),samplePeriodSecs:number$1()}),GetRecentPerformanceSamplesRpcResult=jsonRpcResult$1(array$1(PerfSampleResult)),GetFeeCalculatorRpcResult=jsonRpcResultAndContext$1(nullable$1(type$1({feeCalculator:type$1({lamportsPerSignature:number$1()})}))),RequestAirdropRpcResult=jsonRpcResult$1(string$1()),SendTransactionRpcResult=jsonRpcResult$1(string$1()),LogsResult=type$1({err:TransactionErrorResult,logs:array$1(string$1()),signature:string$1()}),LogsNotificationResult=type$1({result:notificationResultAndContext(LogsResult),subscription:number$1()}),COMMON_HTTP_HEADERS={"solana-client":`js/${(_process$env$npm_pack="0.0.0-development")!==null&&_process$env$npm_pack!==void 0?_process$env$npm_pack:"UNKNOWN"}`};class Connection$1{constructor(a,d){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let m=new URL$1(a);const $=m.protocol==="https:";let ee,te,b,re,ne;d&&typeof d=="string"?this._commitment=d:d&&(this._commitment=d.commitment,this._confirmTransactionInitialTimeout=d.confirmTransactionInitialTimeout,ee=d.wsEndpoint,te=d.httpHeaders,b=d.fetch,re=d.fetchMiddleware,ne=d.disableRetryOnRateLimit),this._rpcEndpoint=a,this._rpcWsEndpoint=ee||makeWebsocketUrl(a),this._rpcClient=createRpcClient(m.toString(),$,te,b,re,ne),this._rpcRequest=createRpcRequest(this._rpcClient),this._rpcBatchRequest=createRpcBatchRequest(this._rpcClient),this._rpcWebSocket=new Client_1(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=this._buildArgs([a.toBase58()],m,void 0,$),te=await this._rpcRequest("getBalance",ee),b=create$2(te,jsonRpcResultAndContext$1(number$1()));if("error"in b)throw new SolanaJSONRPCError(b.error,`failed to get balance for ${a.toBase58()}`);return b.result}async getBalance(a,d){return await this.getBalanceAndContext(a,d).then(m=>m.value).catch(m=>{throw new Error("failed to get balance of account "+a.toBase58()+": "+m)})}async getBlockTime(a){const d=await this._rpcRequest("getBlockTime",[a]),m=create$2(d,jsonRpcResult$1(nullable$1(number$1())));if("error"in m)throw new SolanaJSONRPCError(m.error,`failed to get block time for slot ${a}`);return m.result}async getMinimumLedgerSlot(){const a=await this._rpcRequest("minimumLedgerSlot",[]),d=create$2(a,jsonRpcResult$1(number$1()));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get minimum ledger slot");return d.result}async getFirstAvailableBlock(){const a=await this._rpcRequest("getFirstAvailableBlock",[]),d=create$2(a,SlotRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get first available block");return d.result}async getSupply(a){let d={};typeof a=="string"?d={commitment:a}:a?d={...a,commitment:a&&a.commitment||this.commitment}:d={commitment:this.commitment};const m=await this._rpcRequest("getSupply",[d]),$=create$2(m,GetSupplyRpcResult);if("error"in $)throw new SolanaJSONRPCError($.error,"failed to get supply");return $.result}async getTokenSupply(a,d){const m=this._buildArgs([a.toBase58()],d),$=await this._rpcRequest("getTokenSupply",m),ee=create$2($,jsonRpcResultAndContext$1(TokenAmountResult));if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get token supply");return ee.result}async getTokenAccountBalance(a,d){const m=this._buildArgs([a.toBase58()],d),$=await this._rpcRequest("getTokenAccountBalance",m),ee=create$2($,jsonRpcResultAndContext$1(TokenAmountResult));if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get token account balance");return ee.result}async getTokenAccountsByOwner(a,d,m){const{commitment:$,config:ee}=extractCommitmentFromConfig(m);let te=[a.toBase58()];"mint"in d?te.push({mint:d.mint.toBase58()}):te.push({programId:d.programId.toBase58()});const b=this._buildArgs(te,$,"base64",ee),re=await this._rpcRequest("getTokenAccountsByOwner",b),ne=create$2(re,GetTokenAccountsByOwner);if("error"in ne)throw new SolanaJSONRPCError(ne.error,`failed to get token accounts owned by account ${a.toBase58()}`);return ne.result}async getParsedTokenAccountsByOwner(a,d,m){let $=[a.toBase58()];"mint"in d?$.push({mint:d.mint.toBase58()}):$.push({programId:d.programId.toBase58()});const ee=this._buildArgs($,m,"jsonParsed"),te=await this._rpcRequest("getTokenAccountsByOwner",ee),b=create$2(te,GetParsedTokenAccountsByOwner);if("error"in b)throw new SolanaJSONRPCError(b.error,`failed to get token accounts owned by account ${a.toBase58()}`);return b.result}async getLargestAccounts(a){const d={...a,commitment:a&&a.commitment||this.commitment},m=d.filter||d.commitment?[d]:[],$=await this._rpcRequest("getLargestAccounts",m),ee=create$2($,GetLargestAccountsRpcResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get largest accounts");return ee.result}async getTokenLargestAccounts(a,d){const m=this._buildArgs([a.toBase58()],d),$=await this._rpcRequest("getTokenLargestAccounts",m),ee=create$2($,GetTokenLargestAccountsResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get token largest accounts");return ee.result}async getAccountInfoAndContext(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=this._buildArgs([a.toBase58()],m,"base64",$),te=await this._rpcRequest("getAccountInfo",ee),b=create$2(te,jsonRpcResultAndContext$1(nullable$1(AccountInfoResult)));if("error"in b)throw new SolanaJSONRPCError(b.error,`failed to get info about account ${a.toBase58()}`);return b.result}async getParsedAccountInfo(a,d){const m=this._buildArgs([a.toBase58()],d,"jsonParsed"),$=await this._rpcRequest("getAccountInfo",m),ee=create$2($,jsonRpcResultAndContext$1(nullable$1(ParsedAccountInfoResult)));if("error"in ee)throw new SolanaJSONRPCError(ee.error,`failed to get info about account ${a.toBase58()}`);return ee.result}async getAccountInfo(a,d){try{return(await this.getAccountInfoAndContext(a,d)).value}catch(m){throw new Error("failed to get info about account "+a.toBase58()+": "+m)}}async getMultipleAccountsInfoAndContext(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=a.map(ne=>ne.toBase58()),te=this._buildArgs([ee],m,"base64",$),b=await this._rpcRequest("getMultipleAccounts",te),re=create$2(b,jsonRpcResultAndContext$1(array$1(nullable$1(AccountInfoResult))));if("error"in re)throw new SolanaJSONRPCError(re.error,`failed to get info for accounts ${ee}`);return re.result}async getMultipleAccountsInfo(a,d){return(await this.getMultipleAccountsInfoAndContext(a,d)).value}async getStakeActivation(a,d,m){const{commitment:$,config:ee}=extractCommitmentFromConfig(d),te=this._buildArgs([a.toBase58()],$,void 0,{...ee,epoch:m??ee?.epoch}),b=await this._rpcRequest("getStakeActivation",te),re=create$2(b,jsonRpcResult$1(StakeActivationResult));if("error"in re)throw new SolanaJSONRPCError(re.error,`failed to get Stake Activation ${a.toBase58()}`);return re.result}async getProgramAccounts(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),{encoding:ee,...te}=$||{},b=this._buildArgs([a.toBase58()],m,ee||"base64",te),re=await this._rpcRequest("getProgramAccounts",b),ne=create$2(re,jsonRpcResult$1(array$1(KeyedAccountInfoResult)));if("error"in ne)throw new SolanaJSONRPCError(ne.error,`failed to get accounts owned by program ${a.toBase58()}`);return ne.result}async getParsedProgramAccounts(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=this._buildArgs([a.toBase58()],m,"jsonParsed",$),te=await this._rpcRequest("getProgramAccounts",ee),b=create$2(te,jsonRpcResult$1(array$1(KeyedParsedAccountInfoResult)));if("error"in b)throw new SolanaJSONRPCError(b.error,`failed to get accounts owned by program ${a.toBase58()}`);return b.result}async confirmTransaction(a,d){let m;typeof a=="string"?m=a:m=a.signature;let $;try{$=bs58$4.decode(m)}catch{throw new Error("signature must be base58 encoded: "+m)}assert$7($.length===64,"signature has invalid length");const ee=d||this.commitment;let te,b,re=!1;const ne=new Promise((fe,ce)=>{try{b=this.onSignature(m,(de,ye)=>{b=void 0;const ge={context:ye,value:de};re=!0,fe({__type:TransactionStatus.PROCESSED,response:ge})},ee)}catch(de){ce(de)}}),ie=new Promise(fe=>{if(typeof a=="string"){let ce=this._confirmTransactionInitialTimeout||6e4;switch(ee){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{ce=this._confirmTransactionInitialTimeout||30*1e3;break}}te=setTimeout(()=>fe({__type:TransactionStatus.TIMED_OUT,timeoutMs:ce}),ce)}else{let ce=a;const de=async()=>{try{return await this.getBlockHeight(d)}catch{return-1}};(async()=>{let ye=await de();if(!re){for(;ye<=ce.lastValidBlockHeight;)if(await sleep(1e3),re||(ye=await de(),re))return;fe({__type:TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}});let se;try{const fe=await Promise.race([ne,ie]);switch(fe.__type){case TransactionStatus.BLOCKHEIGHT_EXCEEDED:throw new TransactionExpiredBlockheightExceededError(m);case TransactionStatus.PROCESSED:se=fe.response;break;case TransactionStatus.TIMED_OUT:throw new TransactionExpiredTimeoutError(m,fe.timeoutMs/1e3)}}finally{clearTimeout(te),b&&this.removeSignatureListener(b)}return se}async getClusterNodes(){const a=await this._rpcRequest("getClusterNodes",[]),d=create$2(a,jsonRpcResult$1(array$1(ContactInfoResult)));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get cluster nodes");return d.result}async getVoteAccounts(a){const d=this._buildArgs([],a),m=await this._rpcRequest("getVoteAccounts",d),$=create$2(m,GetVoteAccounts);if("error"in $)throw new SolanaJSONRPCError($.error,"failed to get vote accounts");return $.result}async getSlot(a){const{commitment:d,config:m}=extractCommitmentFromConfig(a),$=this._buildArgs([],d,void 0,m),ee=await this._rpcRequest("getSlot",$),te=create$2(ee,jsonRpcResult$1(number$1()));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get slot");return te.result}async getSlotLeader(a){const{commitment:d,config:m}=extractCommitmentFromConfig(a),$=this._buildArgs([],d,void 0,m),ee=await this._rpcRequest("getSlotLeader",$),te=create$2(ee,jsonRpcResult$1(string$1()));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get slot leader");return te.result}async getSlotLeaders(a,d){const m=[a,d],$=await this._rpcRequest("getSlotLeaders",m),ee=create$2($,jsonRpcResult$1(array$1(PublicKeyFromString)));if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get slot leaders");return ee.result}async getSignatureStatus(a,d){const{context:m,value:$}=await this.getSignatureStatuses([a],d);assert$7($.length===1);const ee=$[0];return{context:m,value:ee}}async getSignatureStatuses(a,d){const m=[a];d&&m.push(d);const $=await this._rpcRequest("getSignatureStatuses",m),ee=create$2($,GetSignatureStatusesRpcResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get signature status");return ee.result}async getTransactionCount(a){const{commitment:d,config:m}=extractCommitmentFromConfig(a),$=this._buildArgs([],d,void 0,m),ee=await this._rpcRequest("getTransactionCount",$),te=create$2(ee,jsonRpcResult$1(number$1()));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get transaction count");return te.result}async getTotalSupply(a){return(await this.getSupply({commitment:a,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(a){const d=this._buildArgs([],a),m=await this._rpcRequest("getInflationGovernor",d),$=create$2(m,GetInflationGovernorRpcResult);if("error"in $)throw new SolanaJSONRPCError($.error,"failed to get inflation");return $.result}async getInflationReward(a,d,m){const{commitment:$,config:ee}=extractCommitmentFromConfig(m),te=this._buildArgs([a.map(ne=>ne.toBase58())],$,void 0,{...ee,epoch:d??ee?.epoch}),b=await this._rpcRequest("getInflationReward",te),re=create$2(b,GetInflationRewardResult);if("error"in re)throw new SolanaJSONRPCError(re.error,"failed to get inflation reward");return re.result}async getEpochInfo(a){const{commitment:d,config:m}=extractCommitmentFromConfig(a),$=this._buildArgs([],d,void 0,m),ee=await this._rpcRequest("getEpochInfo",$),te=create$2(ee,GetEpochInfoRpcResult);if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get epoch info");return te.result}async getEpochSchedule(){const a=await this._rpcRequest("getEpochSchedule",[]),d=create$2(a,GetEpochScheduleRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get epoch schedule");const m=d.result;return new EpochSchedule(m.slotsPerEpoch,m.leaderScheduleSlotOffset,m.warmup,m.firstNormalEpoch,m.firstNormalSlot)}async getLeaderSchedule(){const a=await this._rpcRequest("getLeaderSchedule",[]),d=create$2(a,GetLeaderScheduleRpcResult);if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get leader schedule");return d.result}async getMinimumBalanceForRentExemption(a,d){const m=this._buildArgs([a],d),$=await this._rpcRequest("getMinimumBalanceForRentExemption",m),ee=create$2($,GetMinimumBalanceForRentExemptionRpcResult);return"error"in ee?(console.warn("Unable to fetch minimum balance for rent exemption"),0):ee.result}async getRecentBlockhashAndContext(a){const d=this._buildArgs([],a),m=await this._rpcRequest("getRecentBlockhash",d),$=create$2(m,GetRecentBlockhashAndContextRpcResult);if("error"in $)throw new SolanaJSONRPCError($.error,"failed to get recent blockhash");return $.result}async getRecentPerformanceSamples(a){const d=await this._rpcRequest("getRecentPerformanceSamples",a?[a]:[]),m=create$2(d,GetRecentPerformanceSamplesRpcResult);if("error"in m)throw new SolanaJSONRPCError(m.error,"failed to get recent performance samples");return m.result}async getFeeCalculatorForBlockhash(a,d){const m=this._buildArgs([a],d),$=await this._rpcRequest("getFeeCalculatorForBlockhash",m),ee=create$2($,GetFeeCalculatorRpcResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get fee calculator");const{context:te,value:b}=ee.result;return{context:te,value:b!==null?b.feeCalculator:null}}async getFeeForMessage(a,d){const m=a.serialize().toString("base64"),$=this._buildArgs([m],d),ee=await this._rpcRequest("getFeeForMessage",$),te=create$2(ee,jsonRpcResultAndContext$1(nullable$1(number$1())));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get slot");if(te.result===null)throw new Error("invalid blockhash");return te.result}async getRecentBlockhash(a){try{return(await this.getRecentBlockhashAndContext(a)).value}catch(d){throw new Error("failed to get recent blockhash: "+d)}}async getLatestBlockhash(a){try{return(await this.getLatestBlockhashAndContext(a)).value}catch(d){throw new Error("failed to get recent blockhash: "+d)}}async getLatestBlockhashAndContext(a){const{commitment:d,config:m}=extractCommitmentFromConfig(a),$=this._buildArgs([],d,void 0,m),ee=await this._rpcRequest("getLatestBlockhash",$),te=create$2(ee,GetLatestBlockhashRpcResult);if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get latest blockhash");return te.result}async getVersion(){const a=await this._rpcRequest("getVersion",[]),d=create$2(a,jsonRpcResult$1(VersionResult));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get version");return d.result}async getGenesisHash(){const a=await this._rpcRequest("getGenesisHash",[]),d=create$2(a,jsonRpcResult$1(string$1()));if("error"in d)throw new SolanaJSONRPCError(d.error,"failed to get genesis hash");return d.result}async getBlock(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=this._buildArgsAtLeastConfirmed([a],m,void 0,$),te=await this._rpcRequest("getBlock",ee),b=create$2(te,GetBlockRpcResult);if("error"in b)throw new SolanaJSONRPCError(b.error,"failed to get confirmed block");const re=b.result;return re&&{...re,transactions:re.transactions.map(({transaction:ne,meta:ie})=>{const se=new Message(ne.message);return{meta:ie,transaction:{...ne,message:se}}})}}async getBlockHeight(a){const{commitment:d,config:m}=extractCommitmentFromConfig(a),$=this._buildArgs([],d,void 0,m),ee=await this._rpcRequest("getBlockHeight",$),te=create$2(ee,jsonRpcResult$1(number$1()));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get block height information");return te.result}async getBlockProduction(a){let d,m;if(typeof a=="string")m=a;else if(a){const{commitment:b,...re}=a;m=b,d=re}const $=this._buildArgs([],m,"base64",d),ee=await this._rpcRequest("getBlockProduction",$),te=create$2(ee,BlockProductionResponseStruct);if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get block production information");return te.result}async getTransaction(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=this._buildArgsAtLeastConfirmed([a],m,void 0,$),te=await this._rpcRequest("getTransaction",ee),b=create$2(te,GetTransactionRpcResult);if("error"in b)throw new SolanaJSONRPCError(b.error,"failed to get transaction");const re=b.result;return re&&{...re,transaction:{...re.transaction,message:new Message(re.transaction.message)}}}async getParsedTransaction(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=this._buildArgsAtLeastConfirmed([a],m,"jsonParsed",$),te=await this._rpcRequest("getTransaction",ee),b=create$2(te,GetParsedTransactionRpcResult);if("error"in b)throw new SolanaJSONRPCError(b.error,"failed to get transaction");return b.result}async getParsedTransactions(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=a.map(re=>{const ne=this._buildArgsAtLeastConfirmed([re],m,"jsonParsed",$);return{methodName:"getTransaction",args:ne}});return(await this._rpcBatchRequest(ee)).map(re=>{const ne=create$2(re,GetParsedTransactionRpcResult);if("error"in ne)throw new SolanaJSONRPCError(ne.error,"failed to get transactions");return ne.result})}async getTransactions(a,d){const{commitment:m,config:$}=extractCommitmentFromConfig(d),ee=a.map(re=>{const ne=this._buildArgsAtLeastConfirmed([re],m,void 0,$);return{methodName:"getTransaction",args:ne}});return(await this._rpcBatchRequest(ee)).map(re=>{const ne=create$2(re,GetTransactionRpcResult);if("error"in ne)throw new SolanaJSONRPCError(ne.error,"failed to get transactions");const ie=ne.result;return ie&&{...ie,transaction:{...ie.transaction,message:new Message(ie.transaction.message)}}})}async getConfirmedBlock(a,d){const m=this._buildArgsAtLeastConfirmed([a],d),$=await this._rpcRequest("getConfirmedBlock",m),ee=create$2($,GetConfirmedBlockRpcResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get confirmed block");const te=ee.result;if(!te)throw new Error("Confirmed block "+a+" not found");const b={...te,transactions:te.transactions.map(({transaction:re,meta:ne})=>{const ie=new Message(re.message);return{meta:ne,transaction:{...re,message:ie}}})};return{...b,transactions:b.transactions.map(({transaction:re,meta:ne})=>({meta:ne,transaction:Transaction.populate(re.message,re.signatures)}))}}async getBlocks(a,d,m){const $=this._buildArgsAtLeastConfirmed(d!==void 0?[a,d]:[a],m),ee=await this._rpcRequest("getBlocks",$),te=create$2(ee,jsonRpcResult$1(array$1(number$1())));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get blocks");return te.result}async getBlockSignatures(a,d){const m=this._buildArgsAtLeastConfirmed([a],d,void 0,{transactionDetails:"signatures",rewards:!1}),$=await this._rpcRequest("getBlock",m),ee=create$2($,GetBlockSignaturesRpcResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get block");const te=ee.result;if(!te)throw new Error("Block "+a+" not found");return te}async getConfirmedBlockSignatures(a,d){const m=this._buildArgsAtLeastConfirmed([a],d,void 0,{transactionDetails:"signatures",rewards:!1}),$=await this._rpcRequest("getConfirmedBlock",m),ee=create$2($,GetBlockSignaturesRpcResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get confirmed block");const te=ee.result;if(!te)throw new Error("Confirmed block "+a+" not found");return te}async getConfirmedTransaction(a,d){const m=this._buildArgsAtLeastConfirmed([a],d),$=await this._rpcRequest("getConfirmedTransaction",m),ee=create$2($,GetTransactionRpcResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get transaction");const te=ee.result;if(!te)return te;const b=new Message(te.transaction.message),re=te.transaction.signatures;return{...te,transaction:Transaction.populate(b,re)}}async getParsedConfirmedTransaction(a,d){const m=this._buildArgsAtLeastConfirmed([a],d,"jsonParsed"),$=await this._rpcRequest("getConfirmedTransaction",m),ee=create$2($,GetParsedTransactionRpcResult);if("error"in ee)throw new SolanaJSONRPCError(ee.error,"failed to get confirmed transaction");return ee.result}async getParsedConfirmedTransactions(a,d){const m=a.map(te=>{const b=this._buildArgsAtLeastConfirmed([te],d,"jsonParsed");return{methodName:"getConfirmedTransaction",args:b}});return(await this._rpcBatchRequest(m)).map(te=>{const b=create$2(te,GetParsedTransactionRpcResult);if("error"in b)throw new SolanaJSONRPCError(b.error,"failed to get confirmed transactions");return b.result})}async getConfirmedSignaturesForAddress(a,d,m){let $={},ee=await this.getFirstAvailableBlock();for(;!("until"in $)&&(d--,!(d<=0||d<ee));)try{const re=await this.getConfirmedBlockSignatures(d,"finalized");re.signatures.length>0&&($.until=re.signatures[re.signatures.length-1].toString())}catch(re){if(re instanceof Error&&re.message.includes("skipped"))continue;throw re}let te=await this.getSlot("finalized");for(;!("before"in $)&&(m++,!(m>te));)try{const re=await this.getConfirmedBlockSignatures(m);re.signatures.length>0&&($.before=re.signatures[re.signatures.length-1].toString())}catch(re){if(re instanceof Error&&re.message.includes("skipped"))continue;throw re}return(await this.getConfirmedSignaturesForAddress2(a,$)).map(re=>re.signature)}async getConfirmedSignaturesForAddress2(a,d,m){const $=this._buildArgsAtLeastConfirmed([a.toBase58()],m,void 0,d),ee=await this._rpcRequest("getConfirmedSignaturesForAddress2",$),te=create$2(ee,GetConfirmedSignaturesForAddress2RpcResult);if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get confirmed signatures for address");return te.result}async getSignaturesForAddress(a,d,m){const $=this._buildArgsAtLeastConfirmed([a.toBase58()],m,void 0,d),ee=await this._rpcRequest("getSignaturesForAddress",$),te=create$2(ee,GetSignaturesForAddressRpcResult);if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get signatures for address");return te.result}async getNonceAndContext(a,d){const{context:m,value:$}=await this.getAccountInfoAndContext(a,d);let ee=null;return $!==null&&(ee=NonceAccount.fromAccountData($.data)),{context:m,value:ee}}async getNonce(a,d){return await this.getNonceAndContext(a,d).then(m=>m.value).catch(m=>{throw new Error("failed to get nonce for account "+a.toBase58()+": "+m)})}async requestAirdrop(a,d){const m=await this._rpcRequest("requestAirdrop",[a.toBase58(),d]),$=create$2(m,RequestAirdropRpcResult);if("error"in $)throw new SolanaJSONRPCError($.error,`airdrop to ${a.toBase58()} failed`);return $.result}async _blockhashWithExpiryBlockHeight(a){if(!a){for(;this._pollingBlockhash;)await sleep(100);const m=Date.now()-this._blockhashInfo.lastFetch>=BLOCKHASH_CACHE_TIMEOUT_MS;if(this._blockhashInfo.latestBlockhash!==null&&!m)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const a=Date.now(),d=this._blockhashInfo.latestBlockhash,m=d?d.blockhash:null;for(let $=0;$<50;$++){const ee=await this.getLatestBlockhash("finalized");if(m!==ee.blockhash)return this._blockhashInfo={latestBlockhash:ee,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},ee;await sleep(MS_PER_SLOT/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-a}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(a){const{commitment:d,config:m}=extractCommitmentFromConfig(a),$=this._buildArgs([],d,"base64",m),ee=await this._rpcRequest("getStakeMinimumDelegation",$),te=create$2(ee,jsonRpcResultAndContext$1(number$1()));if("error"in te)throw new SolanaJSONRPCError(te.error,"failed to get stake minimum delegation");return te.result}async simulateTransaction(a,d,m){let $;if(a instanceof Transaction){let ce=a;$=new Transaction,$.feePayer=ce.feePayer,$.instructions=a.instructions,$.nonceInfo=ce.nonceInfo,$.signatures=ce.signatures}else $=Transaction.populate(a),$._message=$._json=void 0;if($.nonceInfo&&d)$.sign(...d);else{let ce=this._disableBlockhashCaching;for(;;){const de=await this._blockhashWithExpiryBlockHeight(ce);if($.lastValidBlockHeight=de.lastValidBlockHeight,$.recentBlockhash=de.blockhash,!d)break;if($.sign(...d),!$.signature)throw new Error("!signature");const ye=$.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(ye)&&!this._blockhashInfo.transactionSignatures.includes(ye)){this._blockhashInfo.simulatedSignatures.push(ye);break}else ce=!0}}const ee=$._compile(),te=ee.serialize(),re=$._serialize(te).toString("base64"),ne={encoding:"base64",commitment:this.commitment};if(m){const ce=(Array.isArray(m)?m:ee.nonProgramIds()).map(de=>de.toBase58());ne.accounts={encoding:"base64",addresses:ce}}d&&(ne.sigVerify=!0);const ie=[re,ne],se=await this._rpcRequest("simulateTransaction",ie),fe=create$2(se,SimulatedTransactionResponseStruct$1);if("error"in fe){let ce;if("data"in fe.error&&(ce=fe.error.data.logs,ce&&Array.isArray(ce))){const de=`
    `,ye=de+ce.join(de);console.error(fe.error.message,ye)}throw new SendTransactionError("failed to simulate transaction: "+fe.error.message,ce)}return fe.result}async sendTransaction(a,d,m){if(a.nonceInfo)a.sign(...d);else{let ee=this._disableBlockhashCaching;for(;;){const te=await this._blockhashWithExpiryBlockHeight(ee);if(a.lastValidBlockHeight=te.lastValidBlockHeight,a.recentBlockhash=te.blockhash,a.sign(...d),!a.signature)throw new Error("!signature");const b=a.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(b))ee=!0;else{this._blockhashInfo.transactionSignatures.push(b);break}}}const $=a.serialize();return await this.sendRawTransaction($,m)}async sendRawTransaction(a,d){const m=toBuffer(a).toString("base64");return await this.sendEncodedTransaction(m,d)}async sendEncodedTransaction(a,d){const m={encoding:"base64"},$=d&&d.skipPreflight,ee=d&&d.preflightCommitment||this.commitment;d&&d.maxRetries!=null&&(m.maxRetries=d.maxRetries),d&&d.minContextSlot!=null&&(m.minContextSlot=d.minContextSlot),$&&(m.skipPreflight=$),ee&&(m.preflightCommitment=ee);const te=[a,m],b=await this._rpcRequest("sendTransaction",te),re=create$2(b,SendTransactionRpcResult);if("error"in re){let ne;throw"data"in re.error&&(ne=re.error.data.logs),new SendTransactionError("failed to send transaction: "+re.error.message,ne)}return re.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(a){this._rpcWebSocketConnected=!1,console.error("ws error:",a.message)}_wsOnClose(a){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),a===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([d,m])=>{this._subscriptionsByHash[d]={...m,state:"pending"}})}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(m){m instanceof Error&&console.log(`Error when closing socket connection: ${m.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const a=this._rpcWebSocketGeneration,d=()=>a===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async m=>{const $=this._subscriptionsByHash[m];if($!==void 0)switch($.state){case"pending":case"unsubscribed":if($.callbacks.size===0){delete this._subscriptionsByHash[m],$.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[$.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:ee,method:te}=$;try{this._subscriptionsByHash[m]={...$,state:"subscribing"};const b=await this._rpcWebSocket.call(te,ee);this._subscriptionsByHash[m]={...$,serverSubscriptionId:b,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[b]=$.callbacks,await this._updateSubscriptions()}catch(b){if(b instanceof Error&&console.error(`${te} error for argument`,ee,b.message),!d())return;this._subscriptionsByHash[m]={...$,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":$.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:ee,unsubscribeMethod:te}=$;if(this._subscriptionsAutoDisposedByRpc.has(ee))this._subscriptionsAutoDisposedByRpc.delete(ee);else{this._subscriptionsByHash[m]={...$,state:"unsubscribing"};try{await this._rpcWebSocket.call(te,[ee])}catch(b){if(b instanceof Error&&console.error(`${te} error:`,b.message),!d())return;this._subscriptionsByHash[m]={...$,state:"subscribed"},await this._updateSubscriptions();return}}this._subscriptionsByHash[m]={...$,state:"unsubscribed"},await this._updateSubscriptions()})();break}}))}_handleServerNotification(a,d){const m=this._subscriptionCallbacksByServerSubscriptionId[a];m!==void 0&&m.forEach($=>{try{$(...d)}catch(ee){console.error(ee)}})}_wsOnAccountNotification(a){const{result:d,subscription:m}=create$2(a,AccountNotificationResult);this._handleServerNotification(m,[d.value,d.context])}_makeSubscription(a,d){const m=this._nextClientSubscriptionId++,$=fastStableStringify$1([a.method,d]),ee=this._subscriptionsByHash[$];return ee===void 0?this._subscriptionsByHash[$]={...a,args:d,callbacks:new Set([a.callback]),state:"pending"}:ee.callbacks.add(a.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[m]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[m];const te=this._subscriptionsByHash[$];assert$7(te!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${m}`),te.callbacks.delete(a.callback),await this._updateSubscriptions()},this._updateSubscriptions(),m}onAccountChange(a,d,m){const $=this._buildArgs([a.toBase58()],m||this._commitment||"finalized","base64");return this._makeSubscription({callback:d,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},$)}async removeAccountChangeListener(a){await this._unsubscribeClientSubscription(a,"account change")}_wsOnProgramAccountNotification(a){const{result:d,subscription:m}=create$2(a,ProgramAccountNotificationResult);this._handleServerNotification(m,[{accountId:d.value.pubkey,accountInfo:d.value.account},d.context])}onProgramAccountChange(a,d,m,$){const ee=this._buildArgs([a.toBase58()],m||this._commitment||"finalized","base64",$?{filters:$}:void 0);return this._makeSubscription({callback:d,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},ee)}async removeProgramAccountChangeListener(a){await this._unsubscribeClientSubscription(a,"program account change")}onLogs(a,d,m){const $=this._buildArgs([typeof a=="object"?{mentions:[a.toString()]}:a],m||this._commitment||"finalized");return this._makeSubscription({callback:d,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},$)}async removeOnLogsListener(a){await this._unsubscribeClientSubscription(a,"logs")}_wsOnLogsNotification(a){const{result:d,subscription:m}=create$2(a,LogsNotificationResult);this._handleServerNotification(m,[d.value,d.context])}_wsOnSlotNotification(a){const{result:d,subscription:m}=create$2(a,SlotNotificationResult);this._handleServerNotification(m,[d])}onSlotChange(a){return this._makeSubscription({callback:a,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(a){await this._unsubscribeClientSubscription(a,"slot change")}_wsOnSlotUpdatesNotification(a){const{result:d,subscription:m}=create$2(a,SlotUpdateNotificationResult);this._handleServerNotification(m,[d])}onSlotUpdate(a){return this._makeSubscription({callback:a,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(a){await this._unsubscribeClientSubscription(a,"slot update")}async _unsubscribeClientSubscription(a,d){const m=this._subscriptionDisposeFunctionsByClientSubscriptionId[a];m?await m():console.warn(`Ignored unsubscribe request because an active subscription with id \`${a}\` for '${d}' events could not be found.`)}_buildArgs(a,d,m,$){const ee=d||this._commitment;if(ee||m||$){let te={};m&&(te.encoding=m),ee&&(te.commitment=ee),$&&(te=Object.assign(te,$)),a.push(te)}return a}_buildArgsAtLeastConfirmed(a,d,m,$){const ee=d||this._commitment;if(ee&&!["confirmed","finalized"].includes(ee))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(a,d,m,$)}_wsOnSignatureNotification(a){const{result:d,subscription:m}=create$2(a,SignatureNotificationResult);d.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(m),this._handleServerNotification(m,d.value==="receivedSignature"?[{type:"received"},d.context]:[{type:"status",result:d.value},d.context])}onSignature(a,d,m){const $=this._buildArgs([a],m||this._commitment||"finalized"),ee=this._makeSubscription({callback:(te,b)=>{if(te.type==="status"){d(te.result,b);try{this.removeSignatureListener(ee)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},$);return ee}onSignatureWithOptions(a,d,m){const{commitment:$,...ee}={...m,commitment:m&&m.commitment||this._commitment||"finalized"},te=this._buildArgs([a],$,void 0,ee),b=this._makeSubscription({callback:(re,ne)=>{d(re,ne);try{this.removeSignatureListener(b)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},te);return b}async removeSignatureListener(a){await this._unsubscribeClientSubscription(a,"signature result")}_wsOnRootNotification(a){const{result:d,subscription:m}=create$2(a,RootNotificationResult);this._handleServerNotification(m,[d])}onRootChange(a){return this._makeSubscription({callback:a,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(a){await this._unsubscribeClientSubscription(a,"root change")}}class Keypair{constructor(a){this._keypair=void 0,a?this._keypair=a:this._keypair=nacl.sign.keyPair()}static generate(){return new Keypair(nacl.sign.keyPair())}static fromSecretKey(a,d){const m=nacl.sign.keyPair.fromSecretKey(a);if(!d||!d.skipValidation){const ee=new TextEncoder().encode("@solana/web3.js-validation-v1"),te=nacl.sign.detached(ee,m.secretKey);if(!nacl.sign.detached.verify(ee,te,m.publicKey))throw new Error("provided secretKey is invalid")}return new Keypair(m)}static fromSeed(a){return new Keypair(nacl.sign.keyPair.fromSeed(a))}get publicKey(){return new PublicKey(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const PRIVATE_KEY_BYTES$1=64,PUBLIC_KEY_BYTES$1=32,SIGNATURE_BYTES=64,ED25519_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u8$1("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);class Ed25519Program{constructor(){}static createInstructionWithPublicKey(a){const{publicKey:d,message:m,signature:$,instructionIndex:ee}=a;assert$7(d.length===PUBLIC_KEY_BYTES$1,`Public Key must be ${PUBLIC_KEY_BYTES$1} bytes but received ${d.length} bytes`),assert$7($.length===SIGNATURE_BYTES,`Signature must be ${SIGNATURE_BYTES} bytes but received ${$.length} bytes`);const te=ED25519_INSTRUCTION_LAYOUT.span,b=te+d.length,re=b+$.length,ne=1,ie=buffer.Buffer.alloc(re+m.length),se=ee??65535;return ED25519_INSTRUCTION_LAYOUT.encode({numSignatures:ne,padding:0,signatureOffset:b,signatureInstructionIndex:se,publicKeyOffset:te,publicKeyInstructionIndex:se,messageDataOffset:re,messageDataSize:m.length,messageInstructionIndex:se},ie),ie.fill(d,te),ie.fill($,b),ie.fill(m,re),new TransactionInstruction({keys:[],programId:Ed25519Program.programId,data:ie})}static createInstructionWithPrivateKey(a){const{privateKey:d,message:m,instructionIndex:$}=a;assert$7(d.length===PRIVATE_KEY_BYTES$1,`Private key must be ${PRIVATE_KEY_BYTES$1} bytes but received ${d.length} bytes`);try{const ee=Keypair.fromSecretKey(d),te=ee.publicKey.toBytes(),b=nacl.sign.detached(m,ee.secretKey);return this.createInstructionWithPublicKey({publicKey:te,message:m,signature:b,instructionIndex:$})}catch(ee){throw new Error(`Error creating instruction; ${ee}`)}}}Ed25519Program.programId=new PublicKey("Ed25519SigVerify111111111111111111111111111");const STAKE_CONFIG_ID=new PublicKey("StakeConfig11111111111111111111111111111111");class Authorized{constructor(a,d){this.staker=void 0,this.withdrawer=void 0,this.staker=a,this.withdrawer=d}}class Lockup{constructor(a,d,m){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=a,this.epoch=d,this.custodian=m}}Lockup.default=new Lockup(0,0,PublicKey.default);class StakeInstruction{constructor(){}static decodeInstructionType(a){this.checkProgramId(a.programId);const m=u32$1("instruction").decode(a.data);let $;for(const[ee,te]of Object.entries(STAKE_INSTRUCTION_LAYOUTS))if(te.index==m){$=ee;break}if(!$)throw new Error("Instruction type incorrect; not a StakeInstruction");return $}static decodeInitialize(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,2);const{authorized:d,lockup:m}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Initialize,a.data);return{stakePubkey:a.keys[0].pubkey,authorized:new Authorized(new PublicKey(d.staker),new PublicKey(d.withdrawer)),lockup:new Lockup(m.unixTimestamp,m.epoch,new PublicKey(m.custodian))}}static decodeDelegate(a){return this.checkProgramId(a.programId),this.checkKeyLength(a.keys,6),decodeData(STAKE_INSTRUCTION_LAYOUTS.Delegate,a.data),{stakePubkey:a.keys[0].pubkey,votePubkey:a.keys[1].pubkey,authorizedPubkey:a.keys[5].pubkey}}static decodeAuthorize(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3);const{newAuthorized:d,stakeAuthorizationType:m}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Authorize,a.data),$={stakePubkey:a.keys[0].pubkey,authorizedPubkey:a.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(d),stakeAuthorizationType:{index:m}};return a.keys.length>3&&($.custodianPubkey=a.keys[3].pubkey),$}static decodeAuthorizeWithSeed(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,2);const{newAuthorized:d,stakeAuthorizationType:m,authoritySeed:$,authorityOwner:ee}=decodeData(STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,a.data),te={stakePubkey:a.keys[0].pubkey,authorityBase:a.keys[1].pubkey,authoritySeed:$,authorityOwner:new PublicKey(ee),newAuthorizedPubkey:new PublicKey(d),stakeAuthorizationType:{index:m}};return a.keys.length>3&&(te.custodianPubkey=a.keys[3].pubkey),te}static decodeSplit(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3);const{lamports:d}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Split,a.data);return{stakePubkey:a.keys[0].pubkey,splitStakePubkey:a.keys[1].pubkey,authorizedPubkey:a.keys[2].pubkey,lamports:d}}static decodeMerge(a){return this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3),decodeData(STAKE_INSTRUCTION_LAYOUTS.Merge,a.data),{stakePubkey:a.keys[0].pubkey,sourceStakePubKey:a.keys[1].pubkey,authorizedPubkey:a.keys[4].pubkey}}static decodeWithdraw(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,5);const{lamports:d}=decodeData(STAKE_INSTRUCTION_LAYOUTS.Withdraw,a.data),m={stakePubkey:a.keys[0].pubkey,toPubkey:a.keys[1].pubkey,authorizedPubkey:a.keys[4].pubkey,lamports:d};return a.keys.length>5&&(m.custodianPubkey=a.keys[5].pubkey),m}static decodeDeactivate(a){return this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3),decodeData(STAKE_INSTRUCTION_LAYOUTS.Deactivate,a.data),{stakePubkey:a.keys[0].pubkey,authorizedPubkey:a.keys[2].pubkey}}static checkProgramId(a){if(!a.equals(StakeProgram.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(a,d){if(a.length<d)throw new Error(`invalid instruction; found ${a.length} keys, expected at least ${d}`)}}const STAKE_INSTRUCTION_LAYOUTS=Object.freeze({Initialize:{index:0,layout:struct$1([u32$1("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("stakeAuthorizationType")])},Delegate:{index:2,layout:struct$1([u32$1("instruction")])},Split:{index:3,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},Withdraw:{index:4,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])},Deactivate:{index:5,layout:struct$1([u32$1("instruction")])},Merge:{index:7,layout:struct$1([u32$1("instruction")])},AuthorizeWithSeed:{index:8,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("stakeAuthorizationType"),rustString("authoritySeed"),publicKey$4("authorityOwner")])}}),StakeAuthorizationLayout=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class StakeProgram{constructor(){}static initialize(a){const{stakePubkey:d,authorized:m,lockup:$}=a,ee=$||Lockup.default,te=STAKE_INSTRUCTION_LAYOUTS.Initialize,b=encodeData(te,{authorized:{staker:toBuffer(m.staker.toBuffer()),withdrawer:toBuffer(m.withdrawer.toBuffer())},lockup:{unixTimestamp:ee.unixTimestamp,epoch:ee.epoch,custodian:toBuffer(ee.custodian.toBuffer())}}),re={keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:this.programId,data:b};return new TransactionInstruction(re)}static createAccountWithSeed(a){const d=new Transaction;d.add(SystemProgram.createAccountWithSeed({fromPubkey:a.fromPubkey,newAccountPubkey:a.stakePubkey,basePubkey:a.basePubkey,seed:a.seed,lamports:a.lamports,space:this.space,programId:this.programId}));const{stakePubkey:m,authorized:$,lockup:ee}=a;return d.add(this.initialize({stakePubkey:m,authorized:$,lockup:ee}))}static createAccount(a){const d=new Transaction;d.add(SystemProgram.createAccount({fromPubkey:a.fromPubkey,newAccountPubkey:a.stakePubkey,lamports:a.lamports,space:this.space,programId:this.programId}));const{stakePubkey:m,authorized:$,lockup:ee}=a;return d.add(this.initialize({stakePubkey:m,authorized:$,lockup:ee}))}static delegate(a){const{stakePubkey:d,authorizedPubkey:m,votePubkey:$}=a,ee=STAKE_INSTRUCTION_LAYOUTS.Delegate,te=encodeData(ee);return new Transaction().add({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:STAKE_CONFIG_ID,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1}],programId:this.programId,data:te})}static authorize(a){const{stakePubkey:d,authorizedPubkey:m,newAuthorizedPubkey:$,stakeAuthorizationType:ee,custodianPubkey:te}=a,b=STAKE_INSTRUCTION_LAYOUTS.Authorize,re=encodeData(b,{newAuthorized:toBuffer($.toBuffer()),stakeAuthorizationType:ee.index}),ne=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!0,isWritable:!1}];return te&&ne.push({pubkey:te,isSigner:!1,isWritable:!1}),new Transaction().add({keys:ne,programId:this.programId,data:re})}static authorizeWithSeed(a){const{stakePubkey:d,authorityBase:m,authoritySeed:$,authorityOwner:ee,newAuthorizedPubkey:te,stakeAuthorizationType:b,custodianPubkey:re}=a,ne=STAKE_INSTRUCTION_LAYOUTS.AuthorizeWithSeed,ie=encodeData(ne,{newAuthorized:toBuffer(te.toBuffer()),stakeAuthorizationType:b.index,authoritySeed:$,authorityOwner:toBuffer(ee.toBuffer())}),se=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!0,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1}];return re&&se.push({pubkey:re,isSigner:!1,isWritable:!1}),new Transaction().add({keys:se,programId:this.programId,data:ie})}static splitInstruction(a){const{stakePubkey:d,authorizedPubkey:m,splitStakePubkey:$,lamports:ee}=a,te=STAKE_INSTRUCTION_LAYOUTS.Split,b=encodeData(te,{lamports:ee});return new TransactionInstruction({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!0,isWritable:!1}],programId:this.programId,data:b})}static split(a){const d=new Transaction;return d.add(SystemProgram.createAccount({fromPubkey:a.authorizedPubkey,newAccountPubkey:a.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),d.add(this.splitInstruction(a))}static splitWithSeed(a){const{stakePubkey:d,authorizedPubkey:m,splitStakePubkey:$,basePubkey:ee,seed:te,lamports:b}=a,re=new Transaction;return re.add(SystemProgram.allocate({accountPubkey:$,basePubkey:ee,seed:te,space:this.space,programId:this.programId})),re.add(this.splitInstruction({stakePubkey:d,authorizedPubkey:m,splitStakePubkey:$,lamports:b}))}static merge(a){const{stakePubkey:d,sourceStakePubKey:m,authorizedPubkey:$}=a,ee=STAKE_INSTRUCTION_LAYOUTS.Merge,te=encodeData(ee);return new Transaction().add({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:$,isSigner:!0,isWritable:!1}],programId:this.programId,data:te})}static withdraw(a){const{stakePubkey:d,authorizedPubkey:m,toPubkey:$,lamports:ee,custodianPubkey:te}=a,b=STAKE_INSTRUCTION_LAYOUTS.Withdraw,re=encodeData(b,{lamports:ee}),ne=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:$,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_STAKE_HISTORY_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1}];return te&&ne.push({pubkey:te,isSigner:!1,isWritable:!1}),new Transaction().add({keys:ne,programId:this.programId,data:re})}static deactivate(a){const{stakePubkey:d,authorizedPubkey:m}=a,$=STAKE_INSTRUCTION_LAYOUTS.Deactivate,ee=encodeData($);return new Transaction().add({keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1}],programId:this.programId,data:ee})}}StakeProgram.programId=new PublicKey("Stake11111111111111111111111111111111111111");StakeProgram.space=200;const{publicKeyCreate,ecdsaSign}=elliptic,PRIVATE_KEY_BYTES=32,ETHEREUM_ADDRESS_BYTES=20,PUBLIC_KEY_BYTES=64,SIGNATURE_OFFSETS_SERIALIZED_SIZE=11,SECP256K1_INSTRUCTION_LAYOUT=struct$1([u8$1("numSignatures"),u16("signatureOffset"),u8$1("signatureInstructionIndex"),u16("ethAddressOffset"),u8$1("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8$1("messageInstructionIndex"),blob$1(20,"ethAddress"),blob$1(64,"signature"),u8$1("recoveryId")]);class Secp256k1Program{constructor(){}static publicKeyToEthAddress(a){assert$7(a.length===PUBLIC_KEY_BYTES,`Public key must be ${PUBLIC_KEY_BYTES} bytes but received ${a.length} bytes`);try{return buffer.Buffer.from(sha3.keccak_256.update(toBuffer(a)).digest()).slice(-ETHEREUM_ADDRESS_BYTES)}catch(d){throw new Error(`Error constructing Ethereum address: ${d}`)}}static createInstructionWithPublicKey(a){const{publicKey:d,message:m,signature:$,recoveryId:ee,instructionIndex:te}=a;return Secp256k1Program.createInstructionWithEthAddress({ethAddress:Secp256k1Program.publicKeyToEthAddress(d),message:m,signature:$,recoveryId:ee,instructionIndex:te})}static createInstructionWithEthAddress(a){const{ethAddress:d,message:m,signature:$,recoveryId:ee,instructionIndex:te=0}=a;let b;typeof d=="string"?d.startsWith("0x")?b=buffer.Buffer.from(d.substr(2),"hex"):b=buffer.Buffer.from(d,"hex"):b=d,assert$7(b.length===ETHEREUM_ADDRESS_BYTES,`Address must be ${ETHEREUM_ADDRESS_BYTES} bytes but received ${b.length} bytes`);const re=1+SIGNATURE_OFFSETS_SERIALIZED_SIZE,ne=re,ie=re+b.length,se=ie+$.length+1,fe=1,ce=buffer.Buffer.alloc(SECP256K1_INSTRUCTION_LAYOUT.span+m.length);return SECP256K1_INSTRUCTION_LAYOUT.encode({numSignatures:fe,signatureOffset:ie,signatureInstructionIndex:te,ethAddressOffset:ne,ethAddressInstructionIndex:te,messageDataOffset:se,messageDataSize:m.length,messageInstructionIndex:te,signature:toBuffer($),ethAddress:toBuffer(b),recoveryId:ee},ce),ce.fill(toBuffer(m),SECP256K1_INSTRUCTION_LAYOUT.span),new TransactionInstruction({keys:[],programId:Secp256k1Program.programId,data:ce})}static createInstructionWithPrivateKey(a){const{privateKey:d,message:m,instructionIndex:$}=a;assert$7(d.length===PRIVATE_KEY_BYTES,`Private key must be ${PRIVATE_KEY_BYTES} bytes but received ${d.length} bytes`);try{const ee=toBuffer(d),te=publicKeyCreate(ee,!1).slice(1),b=buffer.Buffer.from(sha3.keccak_256.update(toBuffer(m)).digest()),{signature:re,recid:ne}=ecdsaSign(b,ee);return this.createInstructionWithPublicKey({publicKey:te,message:m,signature:re,recoveryId:ne,instructionIndex:$})}catch(ee){throw new Error(`Error creating instruction; ${ee}`)}}}Secp256k1Program.programId=new PublicKey("KeccakSecp256k11111111111111111111111111111");const VALIDATOR_INFO_KEY=new PublicKey("Va1idator1nfo111111111111111111111111111111"),InfoString=type$1({name:string$1(),website:optional$1(string$1()),details:optional$1(string$1()),keybaseUsername:optional$1(string$1())});class ValidatorInfo{constructor(a,d){this.key=void 0,this.info=void 0,this.key=a,this.info=d}static fromConfigData(a){let m=[...a];if(decodeLength(m)!==2)return null;const ee=[];for(let te=0;te<2;te++){const b=new PublicKey(m.slice(0,32));m=m.slice(32);const re=m.slice(0,1)[0]===1;m=m.slice(1),ee.push({publicKey:b,isSigner:re})}if(ee[0].publicKey.equals(VALIDATOR_INFO_KEY)&&ee[1].isSigner){const te=rustString().decode(buffer.Buffer.from(m)),b=JSON.parse(te);return assert$p(b,InfoString),new ValidatorInfo(ee[1].publicKey,b)}return null}}const VOTE_PROGRAM_ID=new PublicKey("Vote111111111111111111111111111111111111111"),VoteAccountLayout=struct$1([publicKey$4("nodePubkey"),publicKey$4("authorizedWithdrawer"),u8$1("commission"),nu64$1(),seq(struct$1([nu64$1("slot"),u32$1("confirmationCount")]),offset$3(u32$1(),-8),"votes"),u8$1("rootSlotValid"),nu64$1("rootSlot"),nu64$1(),seq(struct$1([nu64$1("epoch"),publicKey$4("authorizedVoter")]),offset$3(u32$1(),-8),"authorizedVoters"),struct$1([seq(struct$1([publicKey$4("authorizedPubkey"),nu64$1("epochOfLastAuthorizedSwitch"),nu64$1("targetEpoch")]),32,"buf"),nu64$1("idx"),u8$1("isEmpty")],"priorVoters"),nu64$1(),seq(struct$1([nu64$1("epoch"),nu64$1("credits"),nu64$1("prevCredits")]),offset$3(u32$1(),-8),"epochCredits"),struct$1([nu64$1("slot"),nu64$1("timestamp")],"lastTimestamp")]);class VoteAccount{constructor(a){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=a.nodePubkey,this.authorizedWithdrawer=a.authorizedWithdrawer,this.commission=a.commission,this.rootSlot=a.rootSlot,this.votes=a.votes,this.authorizedVoters=a.authorizedVoters,this.priorVoters=a.priorVoters,this.epochCredits=a.epochCredits,this.lastTimestamp=a.lastTimestamp}static fromAccountData(a){const m=VoteAccountLayout.decode(toBuffer(a),4);let $=m.rootSlot;return m.rootSlotValid||($=null),new VoteAccount({nodePubkey:new PublicKey(m.nodePubkey),authorizedWithdrawer:new PublicKey(m.authorizedWithdrawer),commission:m.commission,votes:m.votes,rootSlot:$,authorizedVoters:m.authorizedVoters.map(parseAuthorizedVoter),priorVoters:getPriorVoters(m.priorVoters),epochCredits:m.epochCredits,lastTimestamp:m.lastTimestamp})}}function parseAuthorizedVoter({authorizedVoter:u,epoch:a}){return{epoch:a,authorizedVoter:new PublicKey(u)}}function parsePriorVoters({authorizedPubkey:u,epochOfLastAuthorizedSwitch:a,targetEpoch:d}){return{authorizedPubkey:new PublicKey(u),epochOfLastAuthorizedSwitch:a,targetEpoch:d}}function getPriorVoters({buf:u,idx:a,isEmpty:d}){return d?[]:[...u.slice(a+1).map(parsePriorVoters),...u.slice(0,a).map(parsePriorVoters)]}class VoteInit{constructor(a,d,m,$){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=a,this.authorizedVoter=d,this.authorizedWithdrawer=m,this.commission=$}}class VoteInstruction{constructor(){}static decodeInstructionType(a){this.checkProgramId(a.programId);const m=u32$1("instruction").decode(a.data);let $;for(const[ee,te]of Object.entries(VOTE_INSTRUCTION_LAYOUTS))if(te.index==m){$=ee;break}if(!$)throw new Error("Instruction type incorrect; not a VoteInstruction");return $}static decodeInitializeAccount(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,4);const{voteInit:d}=decodeData(VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,a.data);return{votePubkey:a.keys[0].pubkey,nodePubkey:a.keys[3].pubkey,voteInit:new VoteInit(new PublicKey(d.nodePubkey),new PublicKey(d.authorizedVoter),new PublicKey(d.authorizedWithdrawer),d.commission)}}static decodeAuthorize(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3);const{newAuthorized:d,voteAuthorizationType:m}=decodeData(VOTE_INSTRUCTION_LAYOUTS.Authorize,a.data);return{votePubkey:a.keys[0].pubkey,authorizedPubkey:a.keys[2].pubkey,newAuthorizedPubkey:new PublicKey(d),voteAuthorizationType:{index:m}}}static decodeWithdraw(a){this.checkProgramId(a.programId),this.checkKeyLength(a.keys,3);const{lamports:d}=decodeData(VOTE_INSTRUCTION_LAYOUTS.Withdraw,a.data);return{votePubkey:a.keys[0].pubkey,authorizedWithdrawerPubkey:a.keys[2].pubkey,lamports:d,toPubkey:a.keys[1].pubkey}}static checkProgramId(a){if(!a.equals(VoteProgram.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(a,d){if(a.length<d)throw new Error(`invalid instruction; found ${a.length} keys, expected at least ${d}`)}}const VOTE_INSTRUCTION_LAYOUTS=Object.freeze({InitializeAccount:{index:0,layout:struct$1([u32$1("instruction"),voteInit()])},Authorize:{index:1,layout:struct$1([u32$1("instruction"),publicKey$4("newAuthorized"),u32$1("voteAuthorizationType")])},Withdraw:{index:3,layout:struct$1([u32$1("instruction"),ns64$1("lamports")])}}),VoteAuthorizationLayout=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class VoteProgram{constructor(){}static initializeAccount(a){const{votePubkey:d,nodePubkey:m,voteInit:$}=a,ee=VOTE_INSTRUCTION_LAYOUTS.InitializeAccount,te=encodeData(ee,{voteInit:{nodePubkey:toBuffer($.nodePubkey.toBuffer()),authorizedVoter:toBuffer($.authorizedVoter.toBuffer()),authorizedWithdrawer:toBuffer($.authorizedWithdrawer.toBuffer()),commission:$.commission}}),b={keys:[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1}],programId:this.programId,data:te};return new TransactionInstruction(b)}static createAccount(a){const d=new Transaction;return d.add(SystemProgram.createAccount({fromPubkey:a.fromPubkey,newAccountPubkey:a.votePubkey,lamports:a.lamports,space:this.space,programId:this.programId})),d.add(this.initializeAccount({votePubkey:a.votePubkey,nodePubkey:a.voteInit.nodePubkey,voteInit:a.voteInit}))}static authorize(a){const{votePubkey:d,authorizedPubkey:m,newAuthorizedPubkey:$,voteAuthorizationType:ee}=a,te=VOTE_INSTRUCTION_LAYOUTS.Authorize,b=encodeData(te,{newAuthorized:toBuffer($.toBuffer()),voteAuthorizationType:ee.index}),re=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:SYSVAR_CLOCK_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:m,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:re,programId:this.programId,data:b})}static withdraw(a){const{votePubkey:d,authorizedWithdrawerPubkey:m,lamports:$,toPubkey:ee}=a,te=VOTE_INSTRUCTION_LAYOUTS.Withdraw,b=encodeData(te,{lamports:$}),re=[{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:ee,isSigner:!1,isWritable:!0},{pubkey:m,isSigner:!0,isWritable:!1}];return new Transaction().add({keys:re,programId:this.programId,data:b})}}VoteProgram.programId=new PublicKey("Vote111111111111111111111111111111111111111");VoteProgram.space=3731;async function sendAndConfirmRawTransaction$1(u,a,d,m){let $,ee;d&&Object.prototype.hasOwnProperty.call(d,"lastValidBlockHeight")?($=d,ee=m):ee=d;const te=ee&&{skipPreflight:ee.skipPreflight,preflightCommitment:ee.preflightCommitment||ee.commitment,minContextSlot:ee.minContextSlot},b=await u.sendRawTransaction(a,te),re=ee&&ee.commitment,ie=(await($?u.confirmTransaction($,re):u.confirmTransaction(b,re))).value;if(ie.err)throw new Error(`Raw transaction ${b} failed (${JSON.stringify(ie)})`);return b}const endpoint={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function clusterApiUrl(u,a){const d=a===!1?"http":"https";if(!u)return endpoint[d].devnet;const m=endpoint[d][u];if(!m)throw new Error(`Unknown ${d} cluster: ${u}`);return m}const LAMPORTS_PER_SOL=1e9,index_browser_esm=Object.freeze(Object.defineProperty({__proto__:null,Account,AddressLookupTableInstruction,AddressLookupTableProgram,Authorized,BLOCKHASH_CACHE_TIMEOUT_MS,BPF_LOADER_DEPRECATED_PROGRAM_ID,BPF_LOADER_PROGRAM_ID,BpfLoader,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS,ComputeBudgetInstruction,ComputeBudgetProgram,Connection:Connection$1,Ed25519Program,Enum,EpochSchedule,FeeCalculatorLayout,Keypair,LAMPORTS_PER_SOL,LOOKUP_TABLE_INSTRUCTION_LAYOUTS,Loader,Lockup,MAX_SEED_LENGTH,Message,NONCE_ACCOUNT_LENGTH,NonceAccount,PACKET_DATA_SIZE,PublicKey,SIGNATURE_LENGTH_IN_BYTES,SOLANA_SCHEMA,STAKE_CONFIG_ID,STAKE_INSTRUCTION_LAYOUTS,SYSTEM_INSTRUCTION_LAYOUTS,SYSVAR_CLOCK_PUBKEY,SYSVAR_EPOCH_SCHEDULE_PUBKEY,SYSVAR_INSTRUCTIONS_PUBKEY,SYSVAR_RECENT_BLOCKHASHES_PUBKEY,SYSVAR_RENT_PUBKEY,SYSVAR_REWARDS_PUBKEY,SYSVAR_SLOT_HASHES_PUBKEY,SYSVAR_SLOT_HISTORY_PUBKEY,SYSVAR_STAKE_HISTORY_PUBKEY,Secp256k1Program,SendTransactionError,SolanaJSONRPCError,SolanaJSONRPCErrorCode,StakeAuthorizationLayout,StakeInstruction,StakeProgram,Struct:Struct$1,SystemInstruction,SystemProgram,Transaction,TransactionExpiredBlockheightExceededError,TransactionExpiredTimeoutError,TransactionInstruction,get TransactionStatus(){return TransactionStatus},VALIDATOR_INFO_KEY,VOTE_PROGRAM_ID,ValidatorInfo,VoteAccount,VoteAuthorizationLayout,VoteInit,VoteInstruction,VoteProgram,clusterApiUrl,sendAndConfirmRawTransaction:sendAndConfirmRawTransaction$1,sendAndConfirmTransaction},Symbol.toStringTag,{value:"Module"}));var _Buffer$1=safeBuffer.exports.Buffer;function base$2(u){if(u.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),d=0;d<a.length;d++)a[d]=255;for(var m=0;m<u.length;m++){var $=u.charAt(m),ee=$.charCodeAt(0);if(a[ee]!==255)throw new TypeError($+" is ambiguous");a[ee]=m}var te=u.length,b=u.charAt(0),re=Math.log(te)/Math.log(256),ne=Math.log(256)/Math.log(te);function ie(ce){if((Array.isArray(ce)||ce instanceof Uint8Array)&&(ce=_Buffer$1.from(ce)),!_Buffer$1.isBuffer(ce))throw new TypeError("Expected Buffer");if(ce.length===0)return"";for(var de=0,ye=0,ge=0,_e=ce.length;ge!==_e&&ce[ge]===0;)ge++,de++;for(var Ee=(_e-ge)*ne+1>>>0,Ae=new Uint8Array(Ee);ge!==_e;){for(var we=ce[ge],Me=0,ke=Ee-1;(we!==0||Me<ye)&&ke!==-1;ke--,Me++)we+=256*Ae[ke]>>>0,Ae[ke]=we%te>>>0,we=we/te>>>0;if(we!==0)throw new Error("Non-zero carry");ye=Me,ge++}for(var Re=Ee-ye;Re!==Ee&&Ae[Re]===0;)Re++;for(var ze=b.repeat(de);Re<Ee;++Re)ze+=u.charAt(Ae[Re]);return ze}function se(ce){if(typeof ce!="string")throw new TypeError("Expected String");if(ce.length===0)return _Buffer$1.alloc(0);for(var de=0,ye=0,ge=0;ce[de]===b;)ye++,de++;for(var _e=(ce.length-de)*re+1>>>0,Ee=new Uint8Array(_e);ce[de];){var Ae=a[ce.charCodeAt(de)];if(Ae===255)return;for(var we=0,Me=_e-1;(Ae!==0||we<ge)&&Me!==-1;Me--,we++)Ae+=te*Ee[Me]>>>0,Ee[Me]=Ae%256>>>0,Ae=Ae/256>>>0;if(Ae!==0)throw new Error("Non-zero carry");ge=we,de++}for(var ke=_e-ge;ke!==_e&&Ee[ke]===0;)ke++;var Re=_Buffer$1.allocUnsafe(ye+(_e-ke));Re.fill(0,0,ye);for(var ze=ye;ke!==_e;)Re[ze++]=Ee[ke++];return Re}function fe(ce){var de=se(ce);if(de)return de;throw new Error("Non-base"+te+" character")}return{encode:ie,decodeUnsafe:se,decode:fe}}var src$3=base$2,basex$2=src$3,ALPHABET$2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58$2=basex$2(ALPHABET$2);function encode(u){return bs58$2.encode(u)}class StructError extends TypeError{constructor(a,d){let m;const{message:$,...ee}=a,{path:te}=a,b=te.length===0?$:"At path: "+te.join(".")+" -- "+$;super(b),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,ee),this.name=this.constructor.name,this.failures=()=>{var re;return(re=m)!=null?re:m=[a,...d()]}}}function isIterable(u){return isObject$2(u)&&typeof u[Symbol.iterator]=="function"}function isObject$2(u){return typeof u=="object"&&u!=null}function print(u){return typeof u=="string"?JSON.stringify(u):""+u}function shiftIterator(u){const{done:a,value:d}=u.next();return a?void 0:d}function toFailure(u,a,d,m){if(u===!0)return;u===!1?u={}:typeof u=="string"&&(u={message:u});const{path:$,branch:ee}=a,{type:te}=d,{refinement:b,message:re="Expected a value of type `"+te+"`"+(b?" with refinement `"+b+"`":"")+", but received: `"+print(m)+"`"}=u;return{value:m,type:te,refinement:b,key:$[$.length-1],path:$,branch:ee,...u,message:re}}function*toFailures(u,a,d,m){isIterable(u)||(u=[u]);for(const $ of u){const ee=toFailure($,a,d,m);ee&&(yield ee)}}function*run(u,a,d){d===void 0&&(d={});const{path:m=[],branch:$=[u],coerce:ee=!1,mask:te=!1}=d,b={path:m,branch:$};if(ee&&(u=a.coercer(u,b),te&&a.type!=="type"&&isObject$2(a.schema)&&isObject$2(u)&&!Array.isArray(u)))for(const ne in u)a.schema[ne]===void 0&&delete u[ne];let re=!0;for(const ne of a.validator(u,b))re=!1,yield[ne,void 0];for(let[ne,ie,se]of a.entries(u,b)){const fe=run(ie,se,{path:ne===void 0?m:[...m,ne],branch:ne===void 0?$:[...$,ie],coerce:ee,mask:te});for(const ce of fe)ce[0]?(re=!1,yield[ce[0],void 0]):ee&&(ie=ce[1],ne===void 0?u=ie:u instanceof Map?u.set(ne,ie):u instanceof Set?u.add(ie):isObject$2(u)&&(u[ne]=ie))}if(re)for(const ne of a.refiner(u,b))re=!1,yield[ne,void 0];re&&(yield[void 0,u])}class Struct{constructor(a){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:d,schema:m,validator:$,refiner:ee,coercer:te=re=>re,entries:b=function*(){}}=a;this.type=d,this.schema=m,this.entries=b,this.coercer=te,$?this.validator=(re,ne)=>{const ie=$(re,ne);return toFailures(ie,ne,this,re)}:this.validator=()=>[],ee?this.refiner=(re,ne)=>{const ie=ee(re,ne);return toFailures(ie,ne,this,re)}:this.refiner=()=>[]}assert(a){return assert$2(a,this)}create(a){return create$1(a,this)}is(a){return is(a,this)}mask(a){return mask(a,this)}validate(a,d){return d===void 0&&(d={}),validate(a,this,d)}}function assert$2(u,a){const d=validate(u,a);if(d[0])throw d[0]}function create$1(u,a){const d=validate(u,a,{coerce:!0});if(d[0])throw d[0];return d[1]}function mask(u,a){const d=validate(u,a,{coerce:!0,mask:!0});if(d[0])throw d[0];return d[1]}function is(u,a){return!validate(u,a)[0]}function validate(u,a,d){d===void 0&&(d={});const m=run(u,a,d),$=shiftIterator(m);if($[0])return[new StructError($[0],function*(){for(const te of m)te[0]&&(yield te[0])}),void 0];{const ee=$[1];return[void 0,ee]}}function define(u,a){return new Struct({type:u,schema:null,validator:a})}function any(){return define("any",()=>!0)}function array(u){return new Struct({type:"array",schema:u,*entries(a){if(u&&Array.isArray(a))for(const[d,m]of a.entries())yield[d,m,u]},coercer(a){return Array.isArray(a)?a.slice():a},validator(a){return Array.isArray(a)||"Expected an array value, but received: "+print(a)}})}function boolean(){return define("boolean",u=>typeof u=="boolean")}function literal(u){const a=print(u),d=typeof u;return new Struct({type:"literal",schema:d==="string"||d==="number"||d==="boolean"?u:null,validator(m){return m===u||"Expected the literal `"+a+"`, but received: "+print(m)}})}function nullable(u){return new Struct({...u,validator:(a,d)=>a===null||u.validator(a,d),refiner:(a,d)=>a===null||u.refiner(a,d)})}function number(){return define("number",u=>typeof u=="number"&&!isNaN(u)||"Expected a number, but received: "+print(u))}function optional(u){return new Struct({...u,validator:(a,d)=>a===void 0||u.validator(a,d),refiner:(a,d)=>a===void 0||u.refiner(a,d)})}function string(){return define("string",u=>typeof u=="string"||"Expected a string, but received: "+print(u))}function type(u){const a=Object.keys(u);return new Struct({type:"type",schema:u,*entries(d){if(isObject$2(d))for(const m of a)yield[m,d[m],u[m]]},validator(d){return isObject$2(d)||"Expected an object, but received: "+print(d)}})}function union$2(u){const a=u.map(d=>d.type).join(" | ");return new Struct({type:"union",schema:null,coercer(d,m){return(u.find(ee=>{const[te]=ee.validate(d,{coerce:!0});return!te})||unknown$1()).coercer(d,m)},validator(d,m){const $=[];for(const ee of u){const[...te]=run(d,ee,m),[b]=te;if(b[0])for(const[re]of te)re&&$.push(re);else return[]}return["Expected the value to satisfy a union of `"+a+"`, but received: "+print(d),...$]}})}function unknown$1(){return define("unknown",()=>!0)}function coerce(u,a,d){return new Struct({...u,coercer:(m,$)=>is(m,a)?u.coercer(d(m,$),$):u.coercer(m,$)})}async function simulateTransaction(u,a,d,m,$){d&&d.length>0&&a.sign(...d);const ee=a._compile(),te=ee.serialize(),re=a._serialize(te).toString("base64"),ne={encoding:"base64",commitment:m??u.commitment};if($){const ce=(Array.isArray($)?$:ee.nonProgramIds()).map(de=>de.toBase58());ne.accounts={encoding:"base64",addresses:ce}}d&&(ne.sigVerify=!0);const ie=[re,ne],se=await u._rpcRequest("simulateTransaction",ie),fe=create$1(se,SimulatedTransactionResponseStruct);if("error"in fe){let ce;if("data"in fe.error&&(ce=fe.error.data.logs,ce&&Array.isArray(ce))){const de=`
    `,ye=de+ce.join(de);console.error(fe.error.message,ye)}throw new SendTransactionError("failed to simulate transaction: "+fe.error.message,ce)}return fe.result}function jsonRpcResult(u){return coerce(createRpcResult(u),UnknownRpcResult,a=>"error"in a?a:{...a,result:create$1(a.result,u)})}const UnknownRpcResult=createRpcResult(unknown$1());function createRpcResult(u){return union$2([type({jsonrpc:literal("2.0"),id:string(),result:u}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown$1(),message:string(),data:optional(any())})})])}function jsonRpcResultAndContext(u){return jsonRpcResult(type({context:type({slot:number()}),value:u}))}const SimulatedTransactionResponseStruct=jsonRpcResultAndContext(type({err:nullable(union$2([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number())}));class AnchorProvider{constructor(a,d,m){this.connection=a,this.wallet=d,this.opts=m,this.publicKey=d.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(a,d){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(a,d,m){var $;m===void 0&&(m=this.opts),a.feePayer=this.wallet.publicKey,a.recentBlockhash=(await this.connection.getRecentBlockhash(m.preflightCommitment)).blockhash,a=await this.wallet.signTransaction(a),(d??[]).forEach(te=>{a.partialSign(te)});const ee=a.serialize();try{return await sendAndConfirmRawTransaction(this.connection,ee,m)}catch(te){if(te instanceof ConfirmError){const b=await this.connection.getTransaction(encode(a.signature),{commitment:"confirmed"});if(b){const re=($=b.meta)===null||$===void 0?void 0:$.logMessages;throw re?new SendTransactionError(te.message,re):te}else throw te}else throw te}}async sendAll(a,d){d===void 0&&(d=this.opts);const m=await this.connection.getRecentBlockhash(d.preflightCommitment);let $=a.map(b=>{var re;let ne=b.tx,ie=(re=b.signers)!==null&&re!==void 0?re:[];return ne.feePayer=this.wallet.publicKey,ne.recentBlockhash=m.blockhash,ie.forEach(se=>{ne.partialSign(se)}),ne});const ee=await this.wallet.signAllTransactions($),te=[];for(let b=0;b<$.length;b+=1){const ne=ee[b].serialize();te.push(await sendAndConfirmRawTransaction(this.connection,ne,d))}return te}async simulate(a,d,m,$){a.feePayer=this.wallet.publicKey,a.recentBlockhash=(await this.connection.getLatestBlockhash(m??this.connection.commitment)).blockhash,a=await this.wallet.signTransaction(a);const ee=await simulateTransaction(this.connection,a,d,m,$);if(ee.value.err)throw new SimulateError(ee.value);return ee.value}}class SimulateError extends Error{constructor(a,d){super(d),this.simulationResponse=a}}async function sendAndConfirmRawTransaction(u,a,d){const m=d&&{skipPreflight:d.skipPreflight,preflightCommitment:d.preflightCommitment||d.commitment},$=await u.sendRawTransaction(a,m),ee=(await u.confirmTransaction($,d&&d.commitment)).value;if(ee.err)throw new ConfirmError(`Raw transaction ${$} failed (${JSON.stringify(ee)})`);return $}class ConfirmError extends Error{constructor(a){super(a)}}var camelcase={exports:{}};const preserveCamelCase=u=>{let a=!1,d=!1,m=!1;for(let $=0;$<u.length;$++){const ee=u[$];a&&/[a-zA-Z]/.test(ee)&&ee.toUpperCase()===ee?(u=u.slice(0,$)+"-"+u.slice($),a=!1,m=d,d=!0,$++):d&&m&&/[a-zA-Z]/.test(ee)&&ee.toLowerCase()===ee?(u=u.slice(0,$-1)+"-"+u.slice($-1),m=d,d=!1,a=!0):(a=ee.toLowerCase()===ee&&ee.toUpperCase()!==ee,m=d,d=ee.toUpperCase()===ee&&ee.toLowerCase()!==ee)}return u},camelCase=(u,a)=>{if(!(typeof u=="string"||Array.isArray(u)))throw new TypeError("Expected the input to be `string | string[]`");a=Object.assign({pascalCase:!1},a);const d=$=>a.pascalCase?$.charAt(0).toUpperCase()+$.slice(1):$;return Array.isArray(u)?u=u.map($=>$.trim()).filter($=>$.length).join("-"):u=u.trim(),u.length===0?"":u.length===1?a.pascalCase?u.toUpperCase():u.toLowerCase():(u!==u.toLowerCase()&&(u=preserveCamelCase(u)),u=u.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,($,ee)=>ee.toUpperCase()).replace(/\d+(\w|$)/g,$=>$.toUpperCase()),d(u))};camelcase.exports=camelCase;camelcase.exports.default=camelCase;var sha256={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(u){return Object.prototype.toString.call(u)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(u){return typeof u=="object"&&u.buffer&&u.buffer.constructor===ArrayBuffer});var createOutputMethod=function(u,a){return function(d){return new Sha256(a,!0).update(d)[u]()}},createMethod=function(u){var a=createOutputMethod("hex",u);NODE_JS&&(a=nodeWrap(a,u)),a.create=function(){return new Sha256(u)},a.update=function($){return a.create().update($)};for(var d=0;d<OUTPUT_TYPES.length;++d){var m=OUTPUT_TYPES[d];a[m]=createOutputMethod(m,u)}return a},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(u){if(typeof u=="string")return crypto.createHash(algorithm).update(u,"utf8").digest("hex");if(u==null)throw new Error(ERROR);return u.constructor===ArrayBuffer&&(u=new Uint8Array(u)),Array.isArray(u)||ArrayBuffer.isView(u)||u.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(u)).digest("hex"):method(u)};return nodeMethod},createHmacOutputMethod=function(u,a){return function(d,m){return new HmacSha256(d,a,!0).update(m)[u]()}},createHmacMethod=function(u){var a=createHmacOutputMethod("hex",u);a.create=function($){return new HmacSha256($,u)},a.update=function($,ee){return a.create($).update(ee)};for(var d=0;d<OUTPUT_TYPES.length;++d){var m=OUTPUT_TYPES[d];a[m]=createHmacOutputMethod(m,u)}return a};function Sha256(u,a){a?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=u}Sha256.prototype.update=function(u){if(!this.finalized){var a,d=typeof u;if(d!=="string"){if(d==="object"){if(u===null)throw new Error(ERROR);if(ARRAY_BUFFER&&u.constructor===ArrayBuffer)u=new Uint8Array(u);else if(!Array.isArray(u)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(u)))throw new Error(ERROR)}else throw new Error(ERROR);a=!0}for(var m,$=0,ee,te=u.length,b=this.blocks;$<te;){if(this.hashed&&(this.hashed=!1,b[0]=this.block,b[16]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=b[9]=b[10]=b[11]=b[12]=b[13]=b[14]=b[15]=0),a)for(ee=this.start;$<te&&ee<64;++$)b[ee>>2]|=u[$]<<SHIFT[ee++&3];else for(ee=this.start;$<te&&ee<64;++$)m=u.charCodeAt($),m<128?b[ee>>2]|=m<<SHIFT[ee++&3]:m<2048?(b[ee>>2]|=(192|m>>6)<<SHIFT[ee++&3],b[ee>>2]|=(128|m&63)<<SHIFT[ee++&3]):m<55296||m>=57344?(b[ee>>2]|=(224|m>>12)<<SHIFT[ee++&3],b[ee>>2]|=(128|m>>6&63)<<SHIFT[ee++&3],b[ee>>2]|=(128|m&63)<<SHIFT[ee++&3]):(m=65536+((m&1023)<<10|u.charCodeAt(++$)&1023),b[ee>>2]|=(240|m>>18)<<SHIFT[ee++&3],b[ee>>2]|=(128|m>>12&63)<<SHIFT[ee++&3],b[ee>>2]|=(128|m>>6&63)<<SHIFT[ee++&3],b[ee>>2]|=(128|m&63)<<SHIFT[ee++&3]);this.lastByteIndex=ee,this.bytes+=ee-this.start,ee>=64?(this.block=b[16],this.start=ee-64,this.hash(),this.hashed=!0):this.start=ee}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var u=this.blocks,a=this.lastByteIndex;u[16]=this.block,u[a>>2]|=EXTRA[a&3],this.block=u[16],a>=56&&(this.hashed||this.hash(),u[0]=this.block,u[16]=u[1]=u[2]=u[3]=u[4]=u[5]=u[6]=u[7]=u[8]=u[9]=u[10]=u[11]=u[12]=u[13]=u[14]=u[15]=0),u[14]=this.hBytes<<3|this.bytes>>>29,u[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var u=this.h0,a=this.h1,d=this.h2,m=this.h3,$=this.h4,ee=this.h5,te=this.h6,b=this.h7,re=this.blocks,ne,ie,se,fe,ce,de,ye,ge,_e,Ee,Ae;for(ne=16;ne<64;++ne)ce=re[ne-15],ie=(ce>>>7|ce<<25)^(ce>>>18|ce<<14)^ce>>>3,ce=re[ne-2],se=(ce>>>17|ce<<15)^(ce>>>19|ce<<13)^ce>>>10,re[ne]=re[ne-16]+ie+re[ne-7]+se<<0;for(Ae=a&d,ne=0;ne<64;ne+=4)this.first?(this.is224?(ge=300032,ce=re[0]-1413257819,b=ce-150054599<<0,m=ce+24177077<<0):(ge=704751109,ce=re[0]-210244248,b=ce-1521486534<<0,m=ce+143694565<<0),this.first=!1):(ie=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),se=($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7),ge=u&a,fe=ge^u&d^Ae,ye=$&ee^~$&te,ce=b+se+ye+K[ne]+re[ne],de=ie+fe,b=m+ce<<0,m=ce+de<<0),ie=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),se=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),_e=m&u,fe=_e^m&a^ge,ye=b&$^~b&ee,ce=te+se+ye+K[ne+1]+re[ne+1],de=ie+fe,te=d+ce<<0,d=ce+de<<0,ie=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),se=(te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7),Ee=d&m,fe=Ee^d&u^_e,ye=te&b^~te&$,ce=ee+se+ye+K[ne+2]+re[ne+2],de=ie+fe,ee=a+ce<<0,a=ce+de<<0,ie=(a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10),se=(ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7),Ae=a&d,fe=Ae^a&m^Ee,ye=ee&te^~ee&b,ce=$+se+ye+K[ne+3]+re[ne+3],de=ie+fe,$=u+ce<<0,u=ce+de<<0;this.h0=this.h0+u<<0,this.h1=this.h1+a<<0,this.h2=this.h2+d<<0,this.h3=this.h3+m<<0,this.h4=this.h4+$<<0,this.h5=this.h5+ee<<0,this.h6=this.h6+te<<0,this.h7=this.h7+b<<0},Sha256.prototype.hex=function(){this.finalize();var u=this.h0,a=this.h1,d=this.h2,m=this.h3,$=this.h4,ee=this.h5,te=this.h6,b=this.h7,re=HEX_CHARS[u>>28&15]+HEX_CHARS[u>>24&15]+HEX_CHARS[u>>20&15]+HEX_CHARS[u>>16&15]+HEX_CHARS[u>>12&15]+HEX_CHARS[u>>8&15]+HEX_CHARS[u>>4&15]+HEX_CHARS[u&15]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[d&15]+HEX_CHARS[m>>28&15]+HEX_CHARS[m>>24&15]+HEX_CHARS[m>>20&15]+HEX_CHARS[m>>16&15]+HEX_CHARS[m>>12&15]+HEX_CHARS[m>>8&15]+HEX_CHARS[m>>4&15]+HEX_CHARS[m&15]+HEX_CHARS[$>>28&15]+HEX_CHARS[$>>24&15]+HEX_CHARS[$>>20&15]+HEX_CHARS[$>>16&15]+HEX_CHARS[$>>12&15]+HEX_CHARS[$>>8&15]+HEX_CHARS[$>>4&15]+HEX_CHARS[$&15]+HEX_CHARS[ee>>28&15]+HEX_CHARS[ee>>24&15]+HEX_CHARS[ee>>20&15]+HEX_CHARS[ee>>16&15]+HEX_CHARS[ee>>12&15]+HEX_CHARS[ee>>8&15]+HEX_CHARS[ee>>4&15]+HEX_CHARS[ee&15]+HEX_CHARS[te>>28&15]+HEX_CHARS[te>>24&15]+HEX_CHARS[te>>20&15]+HEX_CHARS[te>>16&15]+HEX_CHARS[te>>12&15]+HEX_CHARS[te>>8&15]+HEX_CHARS[te>>4&15]+HEX_CHARS[te&15];return this.is224||(re+=HEX_CHARS[b>>28&15]+HEX_CHARS[b>>24&15]+HEX_CHARS[b>>20&15]+HEX_CHARS[b>>16&15]+HEX_CHARS[b>>12&15]+HEX_CHARS[b>>8&15]+HEX_CHARS[b>>4&15]+HEX_CHARS[b&15]),re},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var u=this.h0,a=this.h1,d=this.h2,m=this.h3,$=this.h4,ee=this.h5,te=this.h6,b=this.h7,re=[u>>24&255,u>>16&255,u>>8&255,u&255,a>>24&255,a>>16&255,a>>8&255,a&255,d>>24&255,d>>16&255,d>>8&255,d&255,m>>24&255,m>>16&255,m>>8&255,m&255,$>>24&255,$>>16&255,$>>8&255,$&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255,te>>24&255,te>>16&255,te>>8&255,te&255];return this.is224||re.push(b>>24&255,b>>16&255,b>>8&255,b&255),re},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var u=new ArrayBuffer(this.is224?28:32),a=new DataView(u);return a.setUint32(0,this.h0),a.setUint32(4,this.h1),a.setUint32(8,this.h2),a.setUint32(12,this.h3),a.setUint32(16,this.h4),a.setUint32(20,this.h5),a.setUint32(24,this.h6),this.is224||a.setUint32(28,this.h7),u};function HmacSha256(u,a,d){var m,$=typeof u;if($==="string"){var ee=[],te=u.length,b=0,re;for(m=0;m<te;++m)re=u.charCodeAt(m),re<128?ee[b++]=re:re<2048?(ee[b++]=192|re>>6,ee[b++]=128|re&63):re<55296||re>=57344?(ee[b++]=224|re>>12,ee[b++]=128|re>>6&63,ee[b++]=128|re&63):(re=65536+((re&1023)<<10|u.charCodeAt(++m)&1023),ee[b++]=240|re>>18,ee[b++]=128|re>>12&63,ee[b++]=128|re>>6&63,ee[b++]=128|re&63);u=ee}else if($==="object"){if(u===null)throw new Error(ERROR);if(ARRAY_BUFFER&&u.constructor===ArrayBuffer)u=new Uint8Array(u);else if(!Array.isArray(u)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(u)))throw new Error(ERROR)}else throw new Error(ERROR);u.length>64&&(u=new Sha256(a,!0).update(u).array());var ne=[],ie=[];for(m=0;m<64;++m){var se=u[m]||0;ne[m]=92^se,ie[m]=54^se}Sha256.call(this,a,d),this.update(ie),this.oKeyPad=ne,this.inner=!0,this.sharedMemory=d}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var u=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(u),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256);var lib={},Layout$1={};class Layout{constructor(a,d){if(!Number.isInteger(a))throw new TypeError("span must be an integer");this.span=a,this.property=d}makeDestinationObject(){return{}}decode(a,d){throw new Error("Layout is abstract")}encode(a,d,m){throw new Error("Layout is abstract")}getSpan(a,d){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(a){const d=Object.create(this.constructor.prototype);return Object.assign(d,this),d.property=a,d}fromArray(a){}}var Layout_2=Layout$1.Layout=Layout;function nameWithProperty(u,a){return a.property?u+"["+a.property+"]":u}Layout$1.nameWithProperty=nameWithProperty;function bindConstructorLayout(u,a){if(typeof u!="function")throw new TypeError("Class must be constructor");if(u.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(a&&a instanceof Layout))throw new TypeError("layout must be a Layout");if(a.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");u.layout_=a,a.boundConstructor_=u,a.makeDestinationObject=()=>new u,Object.defineProperty(u.prototype,"encode",{value:function(d,m){return a.encode(this,d,m)},writable:!0}),Object.defineProperty(u,"decode",{value:function(d,m){return a.decode(d,m)},writable:!0})}Layout$1.bindConstructorLayout=bindConstructorLayout;class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}class GreedyCount extends ExternalLayout{constructor(a,d){if(a===void 0&&(a=1),!Number.isInteger(a)||0>=a)throw new TypeError("elementSpan must be a (positive) integer");super(-1,d),this.elementSpan=a}isCount(){return!0}decode(a,d){d===void 0&&(d=0);const m=a.length-d;return Math.floor(m/this.elementSpan)}encode(a,d,m){return 0}}class OffsetLayout extends ExternalLayout{constructor(a,d,m){if(!(a instanceof Layout))throw new TypeError("layout must be a Layout");if(d===void 0)d=0;else if(!Number.isInteger(d))throw new TypeError("offset must be integer or undefined");super(a.span,m||a.property),this.layout=a,this.offset=d}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(a,d){return d===void 0&&(d=0),this.layout.decode(a,d+this.offset)}encode(a,d,m){return m===void 0&&(m=0),this.layout.encode(a,d,m+this.offset)}}class UInt extends Layout{constructor(a,d){if(super(a,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(a,d){return d===void 0&&(d=0),a.readUIntLE(d,this.span)}encode(a,d,m){return m===void 0&&(m=0),d.writeUIntLE(a,m,this.span),this.span}}class UIntBE extends Layout{constructor(a,d){if(super(a,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(a,d){return d===void 0&&(d=0),a.readUIntBE(d,this.span)}encode(a,d,m){return m===void 0&&(m=0),d.writeUIntBE(a,m,this.span),this.span}}class Int extends Layout{constructor(a,d){if(super(a,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(a,d){return d===void 0&&(d=0),a.readIntLE(d,this.span)}encode(a,d,m){return m===void 0&&(m=0),d.writeIntLE(a,m,this.span),this.span}}class IntBE extends Layout{constructor(a,d){if(super(a,d),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(a,d){return d===void 0&&(d=0),a.readIntBE(d,this.span)}encode(a,d,m){return m===void 0&&(m=0),d.writeIntBE(a,m,this.span),this.span}}const V2E32=Math.pow(2,32);function divmodInt64(u){const a=Math.floor(u/V2E32),d=u-a*V2E32;return{hi32:a,lo32:d}}function roundedInt64(u,a){return u*V2E32+a}class NearUInt64 extends Layout{constructor(a){super(8,a)}decode(a,d){d===void 0&&(d=0);const m=a.readUInt32LE(d),$=a.readUInt32LE(d+4);return roundedInt64($,m)}encode(a,d,m){m===void 0&&(m=0);const $=divmodInt64(a);return d.writeUInt32LE($.lo32,m),d.writeUInt32LE($.hi32,m+4),8}}class NearUInt64BE extends Layout{constructor(a){super(8,a)}decode(a,d){d===void 0&&(d=0);const m=a.readUInt32BE(d),$=a.readUInt32BE(d+4);return roundedInt64(m,$)}encode(a,d,m){m===void 0&&(m=0);const $=divmodInt64(a);return d.writeUInt32BE($.hi32,m),d.writeUInt32BE($.lo32,m+4),8}}class NearInt64 extends Layout{constructor(a){super(8,a)}decode(a,d){d===void 0&&(d=0);const m=a.readUInt32LE(d),$=a.readInt32LE(d+4);return roundedInt64($,m)}encode(a,d,m){m===void 0&&(m=0);const $=divmodInt64(a);return d.writeUInt32LE($.lo32,m),d.writeInt32LE($.hi32,m+4),8}}class NearInt64BE extends Layout{constructor(a){super(8,a)}decode(a,d){d===void 0&&(d=0);const m=a.readInt32BE(d),$=a.readUInt32BE(d+4);return roundedInt64(m,$)}encode(a,d,m){m===void 0&&(m=0);const $=divmodInt64(a);return d.writeInt32BE($.hi32,m),d.writeUInt32BE($.lo32,m+4),8}}class Float extends Layout{constructor(a){super(4,a)}decode(a,d){return d===void 0&&(d=0),a.readFloatLE(d)}encode(a,d,m){return m===void 0&&(m=0),d.writeFloatLE(a,m),4}}class FloatBE extends Layout{constructor(a){super(4,a)}decode(a,d){return d===void 0&&(d=0),a.readFloatBE(d)}encode(a,d,m){return m===void 0&&(m=0),d.writeFloatBE(a,m),4}}class Double extends Layout{constructor(a){super(8,a)}decode(a,d){return d===void 0&&(d=0),a.readDoubleLE(d)}encode(a,d,m){return m===void 0&&(m=0),d.writeDoubleLE(a,m),8}}class DoubleBE extends Layout{constructor(a){super(8,a)}decode(a,d){return d===void 0&&(d=0),a.readDoubleBE(d)}encode(a,d,m){return m===void 0&&(m=0),d.writeDoubleBE(a,m),8}}class Sequence extends Layout{constructor(a,d,m){if(!(a instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(d instanceof ExternalLayout&&d.isCount()||Number.isInteger(d)&&0<=d))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let $=-1;!(d instanceof ExternalLayout)&&0<a.span&&($=d*a.span),super($,m),this.elementLayout=a,this.count=d}getSpan(a,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let m=0,$=this.count;if($ instanceof ExternalLayout&&($=$.decode(a,d)),0<this.elementLayout.span)m=$*this.elementLayout.span;else{let ee=0;for(;ee<$;)m+=this.elementLayout.getSpan(a,d+m),++ee}return m}decode(a,d){d===void 0&&(d=0);const m=[];let $=0,ee=this.count;for(ee instanceof ExternalLayout&&(ee=ee.decode(a,d));$<ee;)m.push(this.elementLayout.decode(a,d)),d+=this.elementLayout.getSpan(a,d),$+=1;return m}encode(a,d,m){m===void 0&&(m=0);const $=this.elementLayout,ee=a.reduce((te,b)=>te+$.encode(b,d,m+te),0);return this.count instanceof ExternalLayout&&this.count.encode(a.length,d,m),ee}}class Structure extends Layout{constructor(a,d,m){if(!(Array.isArray(a)&&a.reduce((ee,te)=>ee&&te instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof d=="boolean"&&m===void 0&&(m=d,d=void 0);for(const ee of a)if(0>ee.span&&ee.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let $=-1;try{$=a.reduce((ee,te)=>ee+te.getSpan(),0)}catch{}super($,d),this.fields=a,this.decodePrefixes=!!m}getSpan(a,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let m=0;try{m=this.fields.reduce(($,ee)=>{const te=ee.getSpan(a,d);return d+=te,$+te},0)}catch{throw new RangeError("indeterminate span")}return m}decode(a,d){d===void 0&&(d=0);const m=this.makeDestinationObject();for(const $ of this.fields)if($.property!==void 0&&(m[$.property]=$.decode(a,d)),d+=$.getSpan(a,d),this.decodePrefixes&&a.length===d)break;return m}encode(a,d,m){m===void 0&&(m=0);const $=m;let ee=0,te=0;for(const b of this.fields){let re=b.span;if(te=0<re?re:0,b.property!==void 0){const ne=a[b.property];ne!==void 0&&(te=b.encode(ne,d,m),0>re&&(re=b.getSpan(d,m)))}ee=m,m+=re}return ee+te-$}fromArray(a){const d=this.makeDestinationObject();for(const m of this.fields)m.property!==void 0&&0<a.length&&(d[m.property]=a.shift());return d}layoutFor(a){if(typeof a!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===a)return d}offsetOf(a){if(typeof a!="string")throw new TypeError("property must be string");let d=0;for(const m of this.fields){if(m.property===a)return d;0>m.span?d=-1:0<=d&&(d+=m.span)}}}class UnionDiscriminator{constructor(a){this.property=a}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(a,d){if(!(a instanceof ExternalLayout&&a.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(d||a.property||"variant"),this.layout=a}decode(a,d){return this.layout.decode(a,d)}encode(a,d,m){return this.layout.encode(a,d,m)}}class Union extends Layout{constructor(a,d,m){const $=a instanceof UInt||a instanceof UIntBE;if($)a=new UnionLayoutDiscriminator(new OffsetLayout(a));else if(a instanceof ExternalLayout&&a.isCount())a=new UnionLayoutDiscriminator(a);else if(!(a instanceof UnionDiscriminator))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(d===void 0&&(d=null),!(d===null||d instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(d!==null){if(0>d.span)throw new Error("defaultLayout must have constant span");d.property===void 0&&(d=d.replicate("content"))}let ee=-1;d&&(ee=d.span,0<=ee&&$&&(ee+=a.layout.span)),super(ee,m),this.discriminator=a,this.usesPrefixDiscriminator=$,this.defaultLayout=d,this.registry={};let te=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(b){return te(b)},this.configGetSourceVariant=function(b){te=b.bind(this)}}getSpan(a,d){if(0<=this.span)return this.span;d===void 0&&(d=0);const m=this.getVariant(a,d);if(!m)throw new Error("unable to determine span for unrecognized variant");return m.getSpan(a,d)}defaultGetSourceVariant(a){if(a.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&a.hasOwnProperty(this.defaultLayout.property))return;const d=this.registry[a[this.discriminator.property]];if(d&&(!d.layout||a.hasOwnProperty(d.property)))return d}else for(const d in this.registry){const m=this.registry[d];if(a.hasOwnProperty(m.property))return m}throw new Error("unable to infer src variant")}decode(a,d){d===void 0&&(d=0);let m;const $=this.discriminator,ee=$.decode(a,d);let te=this.registry[ee];if(te===void 0){let b=0;te=this.defaultLayout,this.usesPrefixDiscriminator&&(b=$.layout.span),m=this.makeDestinationObject(),m[$.property]=ee,m[te.property]=this.defaultLayout.decode(a,d+b)}else m=te.decode(a,d);return m}encode(a,d,m){m===void 0&&(m=0);const $=this.getSourceVariant(a);if($===void 0){const ee=this.discriminator,te=this.defaultLayout;let b=0;return this.usesPrefixDiscriminator&&(b=ee.layout.span),ee.encode(a[ee.property],d,m),b+te.encode(a[te.property],d,m+b)}return $.encode(a,d,m)}addVariant(a,d,m){const $=new VariantLayout(this,a,d,m);return this.registry[a]=$,$}getVariant(a,d){let m=a;return Buffer.isBuffer(a)&&(d===void 0&&(d=0),m=this.discriminator.decode(a,d)),this.registry[m]}}class VariantLayout extends Layout{constructor(a,d,m,$){if(!(a instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(d)||0>d)throw new TypeError("variant must be a (non-negative) integer");if(typeof m=="string"&&$===void 0&&($=m,m=null),m){if(!(m instanceof Layout))throw new TypeError("layout must be a Layout");if(a.defaultLayout!==null&&0<=m.span&&m.span>a.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof $!="string")throw new TypeError("variant must have a String property")}let ee=a.span;0>a.span&&(ee=m?m.span:0,0<=ee&&a.usesPrefixDiscriminator&&(ee+=a.discriminator.layout.span)),super(ee,$),this.union=a,this.variant=d,this.layout=m||null}getSpan(a,d){if(0<=this.span)return this.span;d===void 0&&(d=0);let m=0;return this.union.usesPrefixDiscriminator&&(m=this.union.discriminator.layout.span),m+this.layout.getSpan(a,d+m)}decode(a,d){const m=this.makeDestinationObject();if(d===void 0&&(d=0),this!==this.union.getVariant(a,d))throw new Error("variant mismatch");let $=0;return this.union.usesPrefixDiscriminator&&($=this.union.discriminator.layout.span),this.layout?m[this.property]=this.layout.decode(a,d+$):this.property?m[this.property]=!0:this.union.usesPrefixDiscriminator&&(m[this.union.discriminator.property]=this.variant),m}encode(a,d,m){m===void 0&&(m=0);let $=0;if(this.union.usesPrefixDiscriminator&&($=this.union.discriminator.layout.span),this.layout&&!a.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,d,m);let ee=$;if(this.layout&&(this.layout.encode(a[this.property],d,m+$),ee+=this.layout.getSpan(d,m+$),0<=this.union.span&&ee>this.union.span))throw new Error("encoded variant overruns containing union");return ee}fromArray(a){if(this.layout)return this.layout.fromArray(a)}}function fixBitwiseResult(u){return 0>u&&(u+=4294967296),u}class BitStructure extends Layout{constructor(a,d,m){if(!(a instanceof UInt||a instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof d=="string"&&m===void 0&&(m=d,d=void 0),4<a.span)throw new RangeError("word cannot exceed 32 bits");super(a.span,m),this.word=a,this.msb=!!d,this.fields=[];let $=0;this._packedSetValue=function(ee){return $=fixBitwiseResult(ee),this},this._packedGetValue=function(){return $}}decode(a,d){const m=this.makeDestinationObject();d===void 0&&(d=0);const $=this.word.decode(a,d);this._packedSetValue($);for(const ee of this.fields)ee.property!==void 0&&(m[ee.property]=ee.decode($));return m}encode(a,d,m){m===void 0&&(m=0);const $=this.word.decode(d,m);this._packedSetValue($);for(const ee of this.fields)if(ee.property!==void 0){const te=a[ee.property];te!==void 0&&ee.encode(te)}return this.word.encode(this._packedGetValue(),d,m)}addField(a,d){const m=new BitField(this,a,d);return this.fields.push(m),m}addBoolean(a){const d=new Boolean$1(this,a);return this.fields.push(d),d}fieldFor(a){if(typeof a!="string")throw new TypeError("property must be string");for(const d of this.fields)if(d.property===a)return d}}class BitField{constructor(a,d,m){if(!(a instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(d)||0>=d)throw new TypeError("bits must be positive integer");const $=8*a.span,ee=a.fields.reduce((te,b)=>te+b.bits,0);if(d+ee>$)throw new Error("bits too long for span remainder ("+($-ee)+" of "+$+" remain)");this.container=a,this.bits=d,this.valueMask=(1<<d)-1,d===32&&(this.valueMask=4294967295),this.start=ee,this.container.msb&&(this.start=$-ee-d),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=m}decode(){const a=this.container._packedGetValue();return fixBitwiseResult(a&this.wordMask)>>>this.start}encode(a){if(!Number.isInteger(a)||a!==fixBitwiseResult(a&this.valueMask))throw new TypeError(nameWithProperty("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const d=this.container._packedGetValue(),m=fixBitwiseResult(a<<this.start);this.container._packedSetValue(fixBitwiseResult(d&~this.wordMask)|m)}}class Boolean$1 extends BitField{constructor(a,d){super(a,1,d)}decode(a,d){return!!BitField.prototype.decode.call(this,a,d)}encode(a){return typeof a=="boolean"&&(a=+a),BitField.prototype.encode.call(this,a)}}class Blob$1 extends Layout{constructor(a,d){if(!(a instanceof ExternalLayout&&a.isCount()||Number.isInteger(a)&&0<=a))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let m=-1;a instanceof ExternalLayout||(m=a),super(m,d),this.length=a}getSpan(a,d){let m=this.span;return 0>m&&(m=this.length.decode(a,d)),m}decode(a,d){d===void 0&&(d=0);let m=this.span;return 0>m&&(m=this.length.decode(a,d)),a.slice(d,d+m)}encode(a,d,m){let $=this.length;if(this.length instanceof ExternalLayout&&($=a.length),!(Buffer.isBuffer(a)&&$===a.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+$+") Buffer as src");if(m+$>d.length)throw new RangeError("encoding overruns Buffer");return d.write(a.toString("hex"),m,$,"hex"),this.length instanceof ExternalLayout&&this.length.encode($,d,m),$}}class CString extends Layout{constructor(a){super(-1,a)}getSpan(a,d){if(!Buffer.isBuffer(a))throw new TypeError("b must be a Buffer");d===void 0&&(d=0);let m=d;for(;m<a.length&&a[m]!==0;)m+=1;return 1+m-d}decode(a,d,m){d===void 0&&(d=0);let $=this.getSpan(a,d);return a.slice(d,d+$-1).toString("utf-8")}encode(a,d,m){m===void 0&&(m=0),typeof a!="string"&&(a=a.toString());const $=new Buffer(a,"utf8"),ee=$.length;if(m+ee>d.length)throw new RangeError("encoding overruns Buffer");return $.copy(d,m),d[m+ee]=0,ee+1}}class UTF8 extends Layout{constructor(a,d){if(typeof a=="string"&&d===void 0&&(d=a,a=void 0),a===void 0)a=-1;else if(!Number.isInteger(a))throw new TypeError("maxSpan must be an integer");super(-1,d),this.maxSpan=a}getSpan(a,d){if(!Buffer.isBuffer(a))throw new TypeError("b must be a Buffer");return d===void 0&&(d=0),a.length-d}decode(a,d,m){d===void 0&&(d=0);let $=this.getSpan(a,d);if(0<=this.maxSpan&&this.maxSpan<$)throw new RangeError("text length exceeds maxSpan");return a.slice(d,d+$).toString("utf-8")}encode(a,d,m){m===void 0&&(m=0),typeof a!="string"&&(a=a.toString());const $=new Buffer(a,"utf8"),ee=$.length;if(0<=this.maxSpan&&this.maxSpan<ee)throw new RangeError("text length exceeds maxSpan");if(m+ee>d.length)throw new RangeError("encoding overruns Buffer");return $.copy(d,m),ee}}class Constant extends Layout{constructor(a,d){super(0,d),this.value=a}decode(a,d,m){return this.value}encode(a,d,m){return 0}}Layout$1.ExternalLayout=ExternalLayout;Layout$1.GreedyCount=GreedyCount;Layout$1.OffsetLayout=OffsetLayout;Layout$1.UInt=UInt;Layout$1.UIntBE=UIntBE;Layout$1.Int=Int;Layout$1.IntBE=IntBE;Layout$1.Float=Float;Layout$1.FloatBE=FloatBE;Layout$1.Double=Double;Layout$1.DoubleBE=DoubleBE;Layout$1.Sequence=Sequence;Layout$1.Structure=Structure;Layout$1.UnionDiscriminator=UnionDiscriminator;Layout$1.UnionLayoutDiscriminator=UnionLayoutDiscriminator;Layout$1.Union=Union;Layout$1.VariantLayout=VariantLayout;Layout$1.BitStructure=BitStructure;Layout$1.BitField=BitField;Layout$1.Boolean=Boolean$1;Layout$1.Blob=Blob$1;Layout$1.CString=CString;Layout$1.UTF8=UTF8;Layout$1.Constant=Constant;Layout$1.greedy=(u,a)=>new GreedyCount(u,a);var offset$2=Layout$1.offset=(u,a,d)=>new OffsetLayout(u,a,d),u8=Layout$1.u8=u=>new UInt(1,u);Layout$1.u16=u=>new UInt(2,u);Layout$1.u24=u=>new UInt(3,u);var u32=Layout$1.u32=u=>new UInt(4,u);Layout$1.u40=u=>new UInt(5,u);Layout$1.u48=u=>new UInt(6,u);var nu64=Layout$1.nu64=u=>new NearUInt64(u);Layout$1.u16be=u=>new UIntBE(2,u);Layout$1.u24be=u=>new UIntBE(3,u);Layout$1.u32be=u=>new UIntBE(4,u);Layout$1.u40be=u=>new UIntBE(5,u);Layout$1.u48be=u=>new UIntBE(6,u);Layout$1.nu64be=u=>new NearUInt64BE(u);Layout$1.s8=u=>new Int(1,u);Layout$1.s16=u=>new Int(2,u);Layout$1.s24=u=>new Int(3,u);Layout$1.s32=u=>new Int(4,u);Layout$1.s40=u=>new Int(5,u);Layout$1.s48=u=>new Int(6,u);var ns64=Layout$1.ns64=u=>new NearInt64(u);Layout$1.s16be=u=>new IntBE(2,u);Layout$1.s24be=u=>new IntBE(3,u);Layout$1.s32be=u=>new IntBE(4,u);Layout$1.s40be=u=>new IntBE(5,u);Layout$1.s48be=u=>new IntBE(6,u);Layout$1.ns64be=u=>new NearInt64BE(u);Layout$1.f32=u=>new Float(u);Layout$1.f32be=u=>new FloatBE(u);Layout$1.f64=u=>new Double(u);Layout$1.f64be=u=>new DoubleBE(u);var struct=Layout$1.struct=(u,a,d)=>new Structure(u,a,d);Layout$1.bits=(u,a,d)=>new BitStructure(u,a,d);Layout$1.seq=(u,a,d)=>new Sequence(u,a,d);var union$1=Layout$1.union=(u,a,d)=>new Union(u,a,d);Layout$1.unionLayoutDiscriminator=(u,a)=>new UnionLayoutDiscriminator(u,a);var blob=Layout$1.blob=(u,a)=>new Blob$1(u,a);Layout$1.cstr=u=>new CString(u);Layout$1.utf8=(u,a)=>new UTF8(u,a);Layout$1.const=(u,a)=>new Constant(u,a);const require$$5=getAugmentedNamespace(index_browser_esm);(function(u){var a=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(et){return et&&et.__esModule?et:{default:et}};Object.defineProperty(u,"__esModule",{value:!0}),u.map=u.array=u.rustEnum=u.str=u.vecU8=u.tagged=u.vec=u.bool=u.option=u.publicKey=u.i128=u.u128=u.i64=u.u64=u.struct=u.f64=u.f32=u.i32=u.u32=u.i16=u.u16=u.i8=u.u8=void 0;const d=Layout$1,m=require$$5,$=a(bn$1.exports);var ee=Layout$1;Object.defineProperty(u,"u8",{enumerable:!0,get:function(){return ee.u8}}),Object.defineProperty(u,"i8",{enumerable:!0,get:function(){return ee.s8}}),Object.defineProperty(u,"u16",{enumerable:!0,get:function(){return ee.u16}}),Object.defineProperty(u,"i16",{enumerable:!0,get:function(){return ee.s16}}),Object.defineProperty(u,"u32",{enumerable:!0,get:function(){return ee.u32}}),Object.defineProperty(u,"i32",{enumerable:!0,get:function(){return ee.s32}}),Object.defineProperty(u,"f32",{enumerable:!0,get:function(){return ee.f32}}),Object.defineProperty(u,"f64",{enumerable:!0,get:function(){return ee.f64}}),Object.defineProperty(u,"struct",{enumerable:!0,get:function(){return ee.struct}});class te extends d.Layout{constructor(Pe,ve,le){super(Pe,le),this.blob=d.blob(Pe),this.signed=ve}decode(Pe,ve=0){const le=new $.default(this.blob.decode(Pe,ve),10,"le");return this.signed?le.fromTwos(this.span*8).clone():le}encode(Pe,ve,le=0){return this.signed&&(Pe=Pe.toTwos(this.span*8)),this.blob.encode(Pe.toArrayLike(Buffer,"le",this.span),ve,le)}}function b(et){return new te(8,!1,et)}u.u64=b;function re(et){return new te(8,!0,et)}u.i64=re;function ne(et){return new te(16,!1,et)}u.u128=ne;function ie(et){return new te(16,!0,et)}u.i128=ie;class se extends d.Layout{constructor(Pe,ve,le,ae){super(Pe.span,ae),this.layout=Pe,this.decoder=ve,this.encoder=le}decode(Pe,ve){return this.decoder(this.layout.decode(Pe,ve))}encode(Pe,ve,le){return this.layout.encode(this.encoder(Pe),ve,le)}getSpan(Pe,ve){return this.layout.getSpan(Pe,ve)}}function fe(et){return new se(d.blob(32),Pe=>new m.PublicKey(Pe),Pe=>Pe.toBuffer(),et)}u.publicKey=fe;class ce extends d.Layout{constructor(Pe,ve){super(-1,ve),this.layout=Pe,this.discriminator=d.u8()}encode(Pe,ve,le=0){return Pe==null?this.discriminator.encode(0,ve,le):(this.discriminator.encode(1,ve,le),this.layout.encode(Pe,ve,le+1)+1)}decode(Pe,ve=0){const le=this.discriminator.decode(Pe,ve);if(le===0)return null;if(le===1)return this.layout.decode(Pe,ve+1);throw new Error("Invalid option "+this.property)}getSpan(Pe,ve=0){const le=this.discriminator.decode(Pe,ve);if(le===0)return 1;if(le===1)return this.layout.getSpan(Pe,ve+1)+1;throw new Error("Invalid option "+this.property)}}function de(et,Pe){return new ce(et,Pe)}u.option=de;function ye(et){return new se(d.u8(),ge,_e,et)}u.bool=ye;function ge(et){if(et===0)return!1;if(et===1)return!0;throw new Error("Invalid bool: "+et)}function _e(et){return et?1:0}function Ee(et,Pe){const ve=d.u32("length"),le=d.struct([ve,d.seq(et,d.offset(ve,-ve.span),"values")]);return new se(le,({values:ae})=>ae,ae=>({values:ae}),Pe)}u.vec=Ee;function Ae(et,Pe,ve){const le=d.struct([b("tag"),Pe.replicate("data")]);function ae({tag:he,data:xe}){if(!he.eq(et))throw new Error("Invalid tag, expected: "+et.toString("hex")+", got: "+he.toString("hex"));return xe}return new se(le,ae,he=>({tag:et,data:he}),ve)}u.tagged=Ae;function we(et){const Pe=d.u32("length"),ve=d.struct([Pe,d.blob(d.offset(Pe,-Pe.span),"data")]);return new se(ve,({data:le})=>le,le=>({data:le}),et)}u.vecU8=we;function Me(et){return new se(we(),Pe=>Pe.toString("utf-8"),Pe=>Buffer.from(Pe,"utf-8"),et)}u.str=Me;function ke(et,Pe,ve){const le=d.union(ve??d.u8(),Pe);return et.forEach((ae,he)=>le.addVariant(he,ae,ae.property)),le}u.rustEnum=ke;function Re(et,Pe,ve){const le=d.struct([d.seq(et,Pe,"values")]);return new se(le,({values:ae})=>ae,ae=>({values:ae}),ve)}u.array=Re;class ze extends d.Layout{constructor(Pe,ve,le){super(Pe.span+ve.span,le),this.keyLayout=Pe,this.valueLayout=ve}decode(Pe,ve){ve=ve||0;const le=this.keyLayout.decode(Pe,ve),ae=this.valueLayout.decode(Pe,ve+this.keyLayout.getSpan(Pe,ve));return[le,ae]}encode(Pe,ve,le){le=le||0;const ae=this.keyLayout.encode(Pe[0],ve,le),he=this.valueLayout.encode(Pe[1],ve,le+ae);return ae+he}getSpan(Pe,ve){return this.keyLayout.getSpan(Pe,ve)+this.valueLayout.getSpan(Pe,ve)}}function Je(et,Pe,ve){const le=d.u32("length"),ae=d.struct([le,d.seq(new ze(et,Pe),d.offset(le,-le.span),"values")]);return new se(ae,({values:he})=>new Map(he),he=>({values:Array.from(he.entries())}),ve)}u.map=Je})(lib);const LAYOUT$1=union$1(u8("instruction"));LAYOUT$1.addVariant(0,struct([u8("decimals"),blob(32,"mintAuthority"),u8("freezeAuthorityOption"),publicKey$3("freezeAuthority")]),"initializeMint");LAYOUT$1.addVariant(1,struct([]),"initializeAccount");LAYOUT$1.addVariant(2,struct([u8("m")]),"initializeMultisig");LAYOUT$1.addVariant(3,struct([nu64("amount")]),"transfer");LAYOUT$1.addVariant(4,struct([nu64("amount")]),"approve");LAYOUT$1.addVariant(5,struct([]),"revoke");LAYOUT$1.addVariant(6,struct([u8("authorityType"),u8("newAuthorityOption"),publicKey$3("newAuthority")]),"setAuthority");LAYOUT$1.addVariant(7,struct([nu64("amount")]),"mintTo");LAYOUT$1.addVariant(8,struct([nu64("amount")]),"burn");LAYOUT$1.addVariant(9,struct([]),"closeAccount");LAYOUT$1.addVariant(10,struct([]),"freezeAccount");LAYOUT$1.addVariant(11,struct([]),"thawAccount");LAYOUT$1.addVariant(12,struct([nu64("amount"),u8("decimals")]),"transferChecked");LAYOUT$1.addVariant(13,struct([nu64("amount"),u8("decimals")]),"approvedChecked");LAYOUT$1.addVariant(14,struct([nu64("amount"),u8("decimals")]),"mintToChecked");LAYOUT$1.addVariant(15,struct([nu64("amount"),u8("decimals")]),"burnedChecked");LAYOUT$1.addVariant(16,struct([publicKey$3("authority")]),"InitializeAccount2");LAYOUT$1.addVariant(17,struct([]),"syncNative");LAYOUT$1.addVariant(18,struct([publicKey$3("authority")]),"initializeAccount3");LAYOUT$1.addVariant(19,struct([u8("m")]),"initializeMultisig2");LAYOUT$1.addVariant(20,struct([u8("decimals"),publicKey$3("mintAuthority"),u8("freezeAuthorityOption"),publicKey$3("freezeAuthority")]),"initializeMint2");function publicKey$3(u){return blob(32,u)}Math.max(...Object.values(LAYOUT$1.registry).map(u=>u.span));function uint64(u){return new WrappedLayout$1(blob(8),a=>u64.fromBuffer(a),a=>a.toBuffer(),u)}function bool(u){return new WrappedLayout$1(u8(),decodeBool,encodeBool,u)}function publicKey$2(u){return new WrappedLayout$1(blob(32),a=>new PublicKey(a),a=>a.toBuffer(),u)}function coption(u,a){return new COptionLayout(u,a)}class WrappedLayout$1 extends Layout_2{constructor(a,d,m,$){super(a.span,$),this.layout=a,this.decoder=d,this.encoder=m}decode(a,d){return this.decoder(this.layout.decode(a,d))}encode(a,d,m){return this.layout.encode(this.encoder(a),d,m)}getSpan(a,d){return this.layout.getSpan(a,d)}}class COptionLayout extends Layout_2{constructor(a,d){super(-1,d),this.layout=a,this.discriminator=u32()}encode(a,d,m=0){return a==null?this.layout.span+this.discriminator.encode(0,d,m):(this.discriminator.encode(1,d,m),this.layout.encode(a,d,m+4)+4)}decode(a,d=0){const m=this.discriminator.decode(a,d);if(m===0)return null;if(m===1)return this.layout.decode(a,d+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(a,d=0){return this.layout.getSpan(a,d+4)+4}}function decodeBool(u){if(u===0)return!1;if(u===1)return!0;throw new Error("Invalid bool: "+u)}function encodeBool(u){return u?1:0}class u64 extends BN$9{toBuffer(){const a=super.toArray().reverse(),d=Buffer.from(a);if(d.length===8)return d;if(d.length>=8)throw new Error("u64 too large");const m=Buffer.alloc(8);return d.copy(m),m}static fromBuffer(a){if(a.length!==8)throw new Error(`Invalid buffer length: ${a.length}`);return new u64([...a].reverse().map(d=>`00${d.toString(16)}`.slice(-2)).join(""),16)}}struct([coption(publicKey$2(),"mintAuthority"),uint64("supply"),u8("decimals"),bool("isInitialized"),coption(publicKey$2(),"freezeAuthority")]);struct([publicKey$2("mint"),publicKey$2("authority"),uint64("amount"),coption(publicKey$2(),"delegate"),u8("state"),coption(uint64(),"isNative"),uint64("delegatedAmount"),coption(publicKey$2(),"closeAuthority")]);class RustStringLayout extends Layout_2{constructor(a){super(-1,a),this.property=a,this.layout=struct([u32("length"),u32("lengthPadding"),blob(offset$2(u32(),-8),"chars")],this.property)}encode(a,d,m=0){if(a==null)return this.layout.span;const $={chars:Buffer.from(a,"utf8")};return this.layout.encode($,d,m)}decode(a,d=0){return this.layout.decode(a,d).chars.toString()}getSpan(a,d=0){return u32().span+u32().span+new BN$9(new Uint8Array(a).slice(d,d+4),10,"le").toNumber()}}function rustStringLayout(u){return new RustStringLayout(u)}function publicKey$1(u){return blob(32,u)}const LAYOUT=union$1(u32("instruction"));LAYOUT.addVariant(0,struct([ns64("lamports"),ns64("space"),publicKey$1("owner")]),"createAccount");LAYOUT.addVariant(1,struct([publicKey$1("owner")]),"assign");LAYOUT.addVariant(2,struct([ns64("lamports")]),"transfer");LAYOUT.addVariant(3,struct([publicKey$1("base"),rustStringLayout("seed"),ns64("lamports"),ns64("space"),publicKey$1("owner")]),"createAccountWithSeed");LAYOUT.addVariant(4,struct([publicKey$1("authorized")]),"advanceNonceAccount");LAYOUT.addVariant(5,struct([ns64("lamports")]),"withdrawNonceAccount");LAYOUT.addVariant(6,struct([publicKey$1("authorized")]),"initializeNonceAccount");LAYOUT.addVariant(7,struct([publicKey$1("authorized")]),"authorizeNonceAccount");LAYOUT.addVariant(8,struct([ns64("space")]),"allocate");LAYOUT.addVariant(9,struct([publicKey$1("base"),rustStringLayout("seed"),ns64("space"),publicKey$1("owner")]),"allocateWithSeed");LAYOUT.addVariant(10,struct([publicKey$1("base"),rustStringLayout("seed"),publicKey$1("owner")]),"assignWithSeed");LAYOUT.addVariant(11,struct([ns64("lamports"),rustStringLayout("seed"),publicKey$1("owner")]),"transferWithSeed");Math.max(...Object.values(LAYOUT.registry).map(u=>u.span));class WrappedLayout extends Layout_2{constructor(a,d,m,$){super(a.span,$),this.layout=a,this.decoder=d,this.encoder=m}decode(a,d){return this.decoder(this.layout.decode(a,d))}encode(a,d,m){return this.layout.encode(this.encoder(a),d,m)}getSpan(a,d){return this.layout.getSpan(a,d)}}function publicKey(u){return new WrappedLayout(blob(32),a=>new PublicKey(a),a=>a.toBuffer(),u)}struct([u32("version"),u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),struct([nu64("lamportsPerSignature")],"feeCalculator")]);const TOKEN_PROGRAM_ID=new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ASSOCIATED_PROGRAM_ID=new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var browserPonyfill={exports:{}};(function(u,a){var d=typeof self<"u"?self:commonjsGlobal$1,m=function(){function ee(){this.fetch=!1,this.DOMException=d.DOMException}return ee.prototype=d,new ee}();(function(ee){(function(te){var b={searchParams:"URLSearchParams"in ee,iterable:"Symbol"in ee&&"iterator"in Symbol,blob:"FileReader"in ee&&"Blob"in ee&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in ee,arrayBuffer:"ArrayBuffer"in ee};function re(ae){return ae&&DataView.prototype.isPrototypeOf(ae)}if(b.arrayBuffer)var ne=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ie=ArrayBuffer.isView||function(ae){return ae&&ne.indexOf(Object.prototype.toString.call(ae))>-1};function se(ae){if(typeof ae!="string"&&(ae=String(ae)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(ae))throw new TypeError("Invalid character in header field name");return ae.toLowerCase()}function fe(ae){return typeof ae!="string"&&(ae=String(ae)),ae}function ce(ae){var he={next:function(){var xe=ae.shift();return{done:xe===void 0,value:xe}}};return b.iterable&&(he[Symbol.iterator]=function(){return he}),he}function de(ae){this.map={},ae instanceof de?ae.forEach(function(he,xe){this.append(xe,he)},this):Array.isArray(ae)?ae.forEach(function(he){this.append(he[0],he[1])},this):ae&&Object.getOwnPropertyNames(ae).forEach(function(he){this.append(he,ae[he])},this)}de.prototype.append=function(ae,he){ae=se(ae),he=fe(he);var xe=this.map[ae];this.map[ae]=xe?xe+", "+he:he},de.prototype.delete=function(ae){delete this.map[se(ae)]},de.prototype.get=function(ae){return ae=se(ae),this.has(ae)?this.map[ae]:null},de.prototype.has=function(ae){return this.map.hasOwnProperty(se(ae))},de.prototype.set=function(ae,he){this.map[se(ae)]=fe(he)},de.prototype.forEach=function(ae,he){for(var xe in this.map)this.map.hasOwnProperty(xe)&&ae.call(he,this.map[xe],xe,this)},de.prototype.keys=function(){var ae=[];return this.forEach(function(he,xe){ae.push(xe)}),ce(ae)},de.prototype.values=function(){var ae=[];return this.forEach(function(he){ae.push(he)}),ce(ae)},de.prototype.entries=function(){var ae=[];return this.forEach(function(he,xe){ae.push([xe,he])}),ce(ae)},b.iterable&&(de.prototype[Symbol.iterator]=de.prototype.entries);function ye(ae){if(ae.bodyUsed)return Promise.reject(new TypeError("Already read"));ae.bodyUsed=!0}function ge(ae){return new Promise(function(he,xe){ae.onload=function(){he(ae.result)},ae.onerror=function(){xe(ae.error)}})}function _e(ae){var he=new FileReader,xe=ge(he);return he.readAsArrayBuffer(ae),xe}function Ee(ae){var he=new FileReader,xe=ge(he);return he.readAsText(ae),xe}function Ae(ae){for(var he=new Uint8Array(ae),xe=new Array(he.length),$e=0;$e<he.length;$e++)xe[$e]=String.fromCharCode(he[$e]);return xe.join("")}function we(ae){if(ae.slice)return ae.slice(0);var he=new Uint8Array(ae.byteLength);return he.set(new Uint8Array(ae)),he.buffer}function Me(){return this.bodyUsed=!1,this._initBody=function(ae){this._bodyInit=ae,ae?typeof ae=="string"?this._bodyText=ae:b.blob&&Blob.prototype.isPrototypeOf(ae)?this._bodyBlob=ae:b.formData&&FormData.prototype.isPrototypeOf(ae)?this._bodyFormData=ae:b.searchParams&&URLSearchParams.prototype.isPrototypeOf(ae)?this._bodyText=ae.toString():b.arrayBuffer&&b.blob&&re(ae)?(this._bodyArrayBuffer=we(ae.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):b.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(ae)||ie(ae))?this._bodyArrayBuffer=we(ae):this._bodyText=ae=Object.prototype.toString.call(ae):this._bodyText="",this.headers.get("content-type")||(typeof ae=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):b.searchParams&&URLSearchParams.prototype.isPrototypeOf(ae)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b.blob&&(this.blob=function(){var ae=ye(this);if(ae)return ae;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ye(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(_e)}),this.text=function(){var ae=ye(this);if(ae)return ae;if(this._bodyBlob)return Ee(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Ae(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},b.formData&&(this.formData=function(){return this.text().then(Je)}),this.json=function(){return this.text().then(JSON.parse)},this}var ke=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Re(ae){var he=ae.toUpperCase();return ke.indexOf(he)>-1?he:ae}function ze(ae,he){he=he||{};var xe=he.body;if(ae instanceof ze){if(ae.bodyUsed)throw new TypeError("Already read");this.url=ae.url,this.credentials=ae.credentials,he.headers||(this.headers=new de(ae.headers)),this.method=ae.method,this.mode=ae.mode,this.signal=ae.signal,!xe&&ae._bodyInit!=null&&(xe=ae._bodyInit,ae.bodyUsed=!0)}else this.url=String(ae);if(this.credentials=he.credentials||this.credentials||"same-origin",(he.headers||!this.headers)&&(this.headers=new de(he.headers)),this.method=Re(he.method||this.method||"GET"),this.mode=he.mode||this.mode||null,this.signal=he.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&xe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(xe)}ze.prototype.clone=function(){return new ze(this,{body:this._bodyInit})};function Je(ae){var he=new FormData;return ae.trim().split("&").forEach(function(xe){if(xe){var $e=xe.split("="),He=$e.shift().replace(/\+/g," "),Fe=$e.join("=").replace(/\+/g," ");he.append(decodeURIComponent(He),decodeURIComponent(Fe))}}),he}function et(ae){var he=new de,xe=ae.replace(/\r?\n[\t ]+/g," ");return xe.split(/\r?\n/).forEach(function($e){var He=$e.split(":"),Fe=He.shift().trim();if(Fe){var Ne=He.join(":").trim();he.append(Fe,Ne)}}),he}Me.call(ze.prototype);function Pe(ae,he){he||(he={}),this.type="default",this.status=he.status===void 0?200:he.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in he?he.statusText:"OK",this.headers=new de(he.headers),this.url=he.url||"",this._initBody(ae)}Me.call(Pe.prototype),Pe.prototype.clone=function(){return new Pe(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new de(this.headers),url:this.url})},Pe.error=function(){var ae=new Pe(null,{status:0,statusText:""});return ae.type="error",ae};var ve=[301,302,303,307,308];Pe.redirect=function(ae,he){if(ve.indexOf(he)===-1)throw new RangeError("Invalid status code");return new Pe(null,{status:he,headers:{location:ae}})},te.DOMException=ee.DOMException;try{new te.DOMException}catch{te.DOMException=function(he,xe){this.message=he,this.name=xe;var $e=Error(he);this.stack=$e.stack},te.DOMException.prototype=Object.create(Error.prototype),te.DOMException.prototype.constructor=te.DOMException}function le(ae,he){return new Promise(function(xe,$e){var He=new ze(ae,he);if(He.signal&&He.signal.aborted)return $e(new te.DOMException("Aborted","AbortError"));var Fe=new XMLHttpRequest;function Ne(){Fe.abort()}Fe.onload=function(){var De={status:Fe.status,statusText:Fe.statusText,headers:et(Fe.getAllResponseHeaders()||"")};De.url="responseURL"in Fe?Fe.responseURL:De.headers.get("X-Request-URL");var pe="response"in Fe?Fe.response:Fe.responseText;xe(new Pe(pe,De))},Fe.onerror=function(){$e(new TypeError("Network request failed"))},Fe.ontimeout=function(){$e(new TypeError("Network request failed"))},Fe.onabort=function(){$e(new te.DOMException("Aborted","AbortError"))},Fe.open(He.method,He.url,!0),He.credentials==="include"?Fe.withCredentials=!0:He.credentials==="omit"&&(Fe.withCredentials=!1),"responseType"in Fe&&b.blob&&(Fe.responseType="blob"),He.headers.forEach(function(De,pe){Fe.setRequestHeader(pe,De)}),He.signal&&(He.signal.addEventListener("abort",Ne),Fe.onreadystatechange=function(){Fe.readyState===4&&He.signal.removeEventListener("abort",Ne)}),Fe.send(typeof He._bodyInit>"u"?null:He._bodyInit)})}return le.polyfill=!0,ee.fetch||(ee.fetch=le,ee.Headers=de,ee.Request=ze,ee.Response=Pe),te.Headers=de,te.Request=ze,te.Response=Pe,te.fetch=le,Object.defineProperty(te,"__esModule",{value:!0}),te})({})})(m),m.fetch.ponyfill=!0,delete m.fetch.polyfill;var $=m;a=$.fetch,a.default=$.fetch,a.fetch=$.fetch,a.Headers=$.Headers,a.Request=$.Request,a.Response=$.Response,u.exports=a})(browserPonyfill,browserPonyfill.exports);lib.rustEnum([lib.struct([],"uninitialized"),lib.struct([lib.option(lib.publicKey(),"authorityAddress")],"buffer"),lib.struct([lib.publicKey("programdataAddress")],"program"),lib.struct([lib.u64("slot"),lib.option(lib.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,lib.u32());/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Z_FIXED$1=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN$1=2;function zero$1(u){let a=u.length;for(;--a>=0;)u[a]=0}const STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,BL_CODES$1=19,HEAP_SIZE$1=2*L_CODES$1+1,MAX_BITS$1=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),extra_dbits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),extra_blbits=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bl_order=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);function StaticTreeDesc(u,a,d,m,$){this.static_tree=u,this.extra_bits=a,this.extra_base=d,this.elems=m,this.max_length=$,this.has_stree=u&&u.length}let static_l_desc,static_d_desc,static_bl_desc;function TreeDesc(u,a){this.dyn_tree=u,this.max_code=0,this.stat_desc=a}const d_code=u=>u<256?_dist_code[u]:_dist_code[256+(u>>>7)],put_short=(u,a)=>{u.pending_buf[u.pending++]=a&255,u.pending_buf[u.pending++]=a>>>8&255},send_bits=(u,a,d)=>{u.bi_valid>Buf_size-d?(u.bi_buf|=a<<u.bi_valid&65535,put_short(u,u.bi_buf),u.bi_buf=a>>Buf_size-u.bi_valid,u.bi_valid+=d-Buf_size):(u.bi_buf|=a<<u.bi_valid&65535,u.bi_valid+=d)},send_code=(u,a,d)=>{send_bits(u,d[a*2],d[a*2+1])},bi_reverse=(u,a)=>{let d=0;do d|=u&1,u>>>=1,d<<=1;while(--a>0);return d>>>1},bi_flush=u=>{u.bi_valid===16?(put_short(u,u.bi_buf),u.bi_buf=0,u.bi_valid=0):u.bi_valid>=8&&(u.pending_buf[u.pending++]=u.bi_buf&255,u.bi_buf>>=8,u.bi_valid-=8)},gen_bitlen=(u,a)=>{const d=a.dyn_tree,m=a.max_code,$=a.stat_desc.static_tree,ee=a.stat_desc.has_stree,te=a.stat_desc.extra_bits,b=a.stat_desc.extra_base,re=a.stat_desc.max_length;let ne,ie,se,fe,ce,de,ye=0;for(fe=0;fe<=MAX_BITS$1;fe++)u.bl_count[fe]=0;for(d[u.heap[u.heap_max]*2+1]=0,ne=u.heap_max+1;ne<HEAP_SIZE$1;ne++)ie=u.heap[ne],fe=d[d[ie*2+1]*2+1]+1,fe>re&&(fe=re,ye++),d[ie*2+1]=fe,!(ie>m)&&(u.bl_count[fe]++,ce=0,ie>=b&&(ce=te[ie-b]),de=d[ie*2],u.opt_len+=de*(fe+ce),ee&&(u.static_len+=de*($[ie*2+1]+ce)));if(ye!==0){do{for(fe=re-1;u.bl_count[fe]===0;)fe--;u.bl_count[fe]--,u.bl_count[fe+1]+=2,u.bl_count[re]--,ye-=2}while(ye>0);for(fe=re;fe!==0;fe--)for(ie=u.bl_count[fe];ie!==0;)se=u.heap[--ne],!(se>m)&&(d[se*2+1]!==fe&&(u.opt_len+=(fe-d[se*2+1])*d[se*2],d[se*2+1]=fe),ie--)}},gen_codes=(u,a,d)=>{const m=new Array(MAX_BITS$1+1);let $=0,ee,te;for(ee=1;ee<=MAX_BITS$1;ee++)m[ee]=$=$+d[ee-1]<<1;for(te=0;te<=a;te++){let b=u[te*2+1];b!==0&&(u[te*2]=bi_reverse(m[b]++,b))}},tr_static_init=()=>{let u,a,d,m,$;const ee=new Array(MAX_BITS$1+1);for(d=0,m=0;m<LENGTH_CODES$1-1;m++)for(base_length[m]=d,u=0;u<1<<extra_lbits[m];u++)_length_code[d++]=m;for(_length_code[d-1]=m,$=0,m=0;m<16;m++)for(base_dist[m]=$,u=0;u<1<<extra_dbits[m];u++)_dist_code[$++]=m;for($>>=7;m<D_CODES$1;m++)for(base_dist[m]=$<<7,u=0;u<1<<extra_dbits[m]-7;u++)_dist_code[256+$++]=m;for(a=0;a<=MAX_BITS$1;a++)ee[a]=0;for(u=0;u<=143;)static_ltree[u*2+1]=8,u++,ee[8]++;for(;u<=255;)static_ltree[u*2+1]=9,u++,ee[9]++;for(;u<=279;)static_ltree[u*2+1]=7,u++,ee[7]++;for(;u<=287;)static_ltree[u*2+1]=8,u++,ee[8]++;for(gen_codes(static_ltree,L_CODES$1+1,ee),u=0;u<D_CODES$1;u++)static_dtree[u*2+1]=5,static_dtree[u*2]=bi_reverse(u,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS$1+1,L_CODES$1,MAX_BITS$1),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES$1,MAX_BITS$1),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES$1,MAX_BL_BITS)},init_block=u=>{let a;for(a=0;a<L_CODES$1;a++)u.dyn_ltree[a*2]=0;for(a=0;a<D_CODES$1;a++)u.dyn_dtree[a*2]=0;for(a=0;a<BL_CODES$1;a++)u.bl_tree[a*2]=0;u.dyn_ltree[END_BLOCK*2]=1,u.opt_len=u.static_len=0,u.last_lit=u.matches=0},bi_windup=u=>{u.bi_valid>8?put_short(u,u.bi_buf):u.bi_valid>0&&(u.pending_buf[u.pending++]=u.bi_buf),u.bi_buf=0,u.bi_valid=0},copy_block=(u,a,d,m)=>{bi_windup(u),m&&(put_short(u,d),put_short(u,~d)),u.pending_buf.set(u.window.subarray(a,a+d),u.pending),u.pending+=d},smaller=(u,a,d,m)=>{const $=a*2,ee=d*2;return u[$]<u[ee]||u[$]===u[ee]&&m[a]<=m[d]},pqdownheap=(u,a,d)=>{const m=u.heap[d];let $=d<<1;for(;$<=u.heap_len&&($<u.heap_len&&smaller(a,u.heap[$+1],u.heap[$],u.depth)&&$++,!smaller(a,m,u.heap[$],u.depth));)u.heap[d]=u.heap[$],d=$,$<<=1;u.heap[d]=m},compress_block=(u,a,d)=>{let m,$,ee=0,te,b;if(u.last_lit!==0)do m=u.pending_buf[u.d_buf+ee*2]<<8|u.pending_buf[u.d_buf+ee*2+1],$=u.pending_buf[u.l_buf+ee],ee++,m===0?send_code(u,$,a):(te=_length_code[$],send_code(u,te+LITERALS$1+1,a),b=extra_lbits[te],b!==0&&($-=base_length[te],send_bits(u,$,b)),m--,te=d_code(m),send_code(u,te,d),b=extra_dbits[te],b!==0&&(m-=base_dist[te],send_bits(u,m,b)));while(ee<u.last_lit);send_code(u,END_BLOCK,a)},build_tree=(u,a)=>{const d=a.dyn_tree,m=a.stat_desc.static_tree,$=a.stat_desc.has_stree,ee=a.stat_desc.elems;let te,b,re=-1,ne;for(u.heap_len=0,u.heap_max=HEAP_SIZE$1,te=0;te<ee;te++)d[te*2]!==0?(u.heap[++u.heap_len]=re=te,u.depth[te]=0):d[te*2+1]=0;for(;u.heap_len<2;)ne=u.heap[++u.heap_len]=re<2?++re:0,d[ne*2]=1,u.depth[ne]=0,u.opt_len--,$&&(u.static_len-=m[ne*2+1]);for(a.max_code=re,te=u.heap_len>>1;te>=1;te--)pqdownheap(u,d,te);ne=ee;do te=u.heap[1],u.heap[1]=u.heap[u.heap_len--],pqdownheap(u,d,1),b=u.heap[1],u.heap[--u.heap_max]=te,u.heap[--u.heap_max]=b,d[ne*2]=d[te*2]+d[b*2],u.depth[ne]=(u.depth[te]>=u.depth[b]?u.depth[te]:u.depth[b])+1,d[te*2+1]=d[b*2+1]=ne,u.heap[1]=ne++,pqdownheap(u,d,1);while(u.heap_len>=2);u.heap[--u.heap_max]=u.heap[1],gen_bitlen(u,a),gen_codes(d,re,u.bl_count)},scan_tree=(u,a,d)=>{let m,$=-1,ee,te=a[0*2+1],b=0,re=7,ne=4;for(te===0&&(re=138,ne=3),a[(d+1)*2+1]=65535,m=0;m<=d;m++)ee=te,te=a[(m+1)*2+1],!(++b<re&&ee===te)&&(b<ne?u.bl_tree[ee*2]+=b:ee!==0?(ee!==$&&u.bl_tree[ee*2]++,u.bl_tree[REP_3_6*2]++):b<=10?u.bl_tree[REPZ_3_10*2]++:u.bl_tree[REPZ_11_138*2]++,b=0,$=ee,te===0?(re=138,ne=3):ee===te?(re=6,ne=3):(re=7,ne=4))},send_tree=(u,a,d)=>{let m,$=-1,ee,te=a[0*2+1],b=0,re=7,ne=4;for(te===0&&(re=138,ne=3),m=0;m<=d;m++)if(ee=te,te=a[(m+1)*2+1],!(++b<re&&ee===te)){if(b<ne)do send_code(u,ee,u.bl_tree);while(--b!==0);else ee!==0?(ee!==$&&(send_code(u,ee,u.bl_tree),b--),send_code(u,REP_3_6,u.bl_tree),send_bits(u,b-3,2)):b<=10?(send_code(u,REPZ_3_10,u.bl_tree),send_bits(u,b-3,3)):(send_code(u,REPZ_11_138,u.bl_tree),send_bits(u,b-11,7));b=0,$=ee,te===0?(re=138,ne=3):ee===te?(re=6,ne=3):(re=7,ne=4)}},build_bl_tree=u=>{let a;for(scan_tree(u,u.dyn_ltree,u.l_desc.max_code),scan_tree(u,u.dyn_dtree,u.d_desc.max_code),build_tree(u,u.bl_desc),a=BL_CODES$1-1;a>=3&&u.bl_tree[bl_order[a]*2+1]===0;a--);return u.opt_len+=3*(a+1)+5+5+4,a},send_all_trees=(u,a,d,m)=>{let $;for(send_bits(u,a-257,5),send_bits(u,d-1,5),send_bits(u,m-4,4),$=0;$<m;$++)send_bits(u,u.bl_tree[bl_order[$]*2+1],3);send_tree(u,u.dyn_ltree,a-1),send_tree(u,u.dyn_dtree,d-1)},detect_data_type=u=>{let a=4093624447,d;for(d=0;d<=31;d++,a>>>=1)if(a&1&&u.dyn_ltree[d*2]!==0)return Z_BINARY;if(u.dyn_ltree[9*2]!==0||u.dyn_ltree[10*2]!==0||u.dyn_ltree[13*2]!==0)return Z_TEXT;for(d=32;d<LITERALS$1;d++)if(u.dyn_ltree[d*2]!==0)return Z_TEXT;return Z_BINARY};let static_init_done=!1;const _tr_init$1=u=>{static_init_done||(tr_static_init(),static_init_done=!0),u.l_desc=new TreeDesc(u.dyn_ltree,static_l_desc),u.d_desc=new TreeDesc(u.dyn_dtree,static_d_desc),u.bl_desc=new TreeDesc(u.bl_tree,static_bl_desc),u.bi_buf=0,u.bi_valid=0,init_block(u)},_tr_stored_block$1=(u,a,d,m)=>{send_bits(u,(STORED_BLOCK<<1)+(m?1:0),3),copy_block(u,a,d,!0)},_tr_align$1=u=>{send_bits(u,STATIC_TREES<<1,3),send_code(u,END_BLOCK,static_ltree),bi_flush(u)},_tr_flush_block$1=(u,a,d,m)=>{let $,ee,te=0;u.level>0?(u.strm.data_type===Z_UNKNOWN$1&&(u.strm.data_type=detect_data_type(u)),build_tree(u,u.l_desc),build_tree(u,u.d_desc),te=build_bl_tree(u),$=u.opt_len+3+7>>>3,ee=u.static_len+3+7>>>3,ee<=$&&($=ee)):$=ee=d+5,d+4<=$&&a!==-1?_tr_stored_block$1(u,a,d,m):u.strategy===Z_FIXED$1||ee===$?(send_bits(u,(STATIC_TREES<<1)+(m?1:0),3),compress_block(u,static_ltree,static_dtree)):(send_bits(u,(DYN_TREES<<1)+(m?1:0),3),send_all_trees(u,u.l_desc.max_code+1,u.d_desc.max_code+1,te+1),compress_block(u,u.dyn_ltree,u.dyn_dtree)),init_block(u),m&&bi_windup(u)},_tr_tally$1=(u,a,d)=>(u.pending_buf[u.d_buf+u.last_lit*2]=a>>>8&255,u.pending_buf[u.d_buf+u.last_lit*2+1]=a&255,u.pending_buf[u.l_buf+u.last_lit]=d&255,u.last_lit++,a===0?u.dyn_ltree[d*2]++:(u.matches++,a--,u.dyn_ltree[(_length_code[d]+LITERALS$1+1)*2]++,u.dyn_dtree[d_code(a)*2]++),u.last_lit===u.lit_bufsize-1);var _tr_init_1=_tr_init$1,_tr_stored_block_1=_tr_stored_block$1,_tr_flush_block_1=_tr_flush_block$1,_tr_tally_1=_tr_tally$1,_tr_align_1=_tr_align$1,trees={_tr_init:_tr_init_1,_tr_stored_block:_tr_stored_block_1,_tr_flush_block:_tr_flush_block_1,_tr_tally:_tr_tally_1,_tr_align:_tr_align_1};const adler32=(u,a,d,m)=>{let $=u&65535|0,ee=u>>>16&65535|0,te=0;for(;d!==0;){te=d>2e3?2e3:d,d-=te;do $=$+a[m++]|0,ee=ee+$|0;while(--te);$%=65521,ee%=65521}return $|ee<<16|0};var adler32_1=adler32;const makeTable=()=>{let u,a=[];for(var d=0;d<256;d++){u=d;for(var m=0;m<8;m++)u=u&1?3988292384^u>>>1:u>>>1;a[d]=u}return a},crcTable=new Uint32Array(makeTable()),crc32=(u,a,d,m)=>{const $=crcTable,ee=m+d;u^=-1;for(let te=m;te<ee;te++)u=u>>>8^$[(u^a[te])&255];return u^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init,_tr_stored_block,_tr_flush_block,_tr_tally,_tr_align}=trees,{Z_NO_FLUSH:Z_NO_FLUSH$2,Z_PARTIAL_FLUSH,Z_FULL_FLUSH:Z_FULL_FLUSH$1,Z_FINISH:Z_FINISH$3,Z_BLOCK:Z_BLOCK$1,Z_OK:Z_OK$3,Z_STREAM_END:Z_STREAM_END$3,Z_STREAM_ERROR:Z_STREAM_ERROR$2,Z_DATA_ERROR:Z_DATA_ERROR$2,Z_BUF_ERROR:Z_BUF_ERROR$1,Z_DEFAULT_COMPRESSION:Z_DEFAULT_COMPRESSION$1,Z_FILTERED,Z_HUFFMAN_ONLY,Z_RLE,Z_FIXED,Z_DEFAULT_STRATEGY:Z_DEFAULT_STRATEGY$1,Z_UNKNOWN,Z_DEFLATED:Z_DEFLATED$2}=constants$2,MAX_MEM_LEVEL=9,MAX_WBITS$1=15,DEF_MEM_LEVEL=8,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3,err=(u,a)=>(u.msg=messages[a],a),rank=u=>(u<<1)-(u>4?9:0),zero=u=>{let a=u.length;for(;--a>=0;)u[a]=0};let HASH_ZLIB=(u,a,d)=>(a<<u.hash_shift^d)&u.hash_mask,HASH=HASH_ZLIB;const flush_pending=u=>{const a=u.state;let d=a.pending;d>u.avail_out&&(d=u.avail_out),d!==0&&(u.output.set(a.pending_buf.subarray(a.pending_out,a.pending_out+d),u.next_out),u.next_out+=d,a.pending_out+=d,u.total_out+=d,u.avail_out-=d,a.pending-=d,a.pending===0&&(a.pending_out=0))},flush_block_only=(u,a)=>{_tr_flush_block(u,u.block_start>=0?u.block_start:-1,u.strstart-u.block_start,a),u.block_start=u.strstart,flush_pending(u.strm)},put_byte=(u,a)=>{u.pending_buf[u.pending++]=a},putShortMSB=(u,a)=>{u.pending_buf[u.pending++]=a>>>8&255,u.pending_buf[u.pending++]=a&255},read_buf=(u,a,d,m)=>{let $=u.avail_in;return $>m&&($=m),$===0?0:(u.avail_in-=$,a.set(u.input.subarray(u.next_in,u.next_in+$),d),u.state.wrap===1?u.adler=adler32_1(u.adler,a,$,d):u.state.wrap===2&&(u.adler=crc32_1(u.adler,a,$,d)),u.next_in+=$,u.total_in+=$,$)},longest_match=(u,a)=>{let d=u.max_chain_length,m=u.strstart,$,ee,te=u.prev_length,b=u.nice_match;const re=u.strstart>u.w_size-MIN_LOOKAHEAD?u.strstart-(u.w_size-MIN_LOOKAHEAD):0,ne=u.window,ie=u.w_mask,se=u.prev,fe=u.strstart+MAX_MATCH;let ce=ne[m+te-1],de=ne[m+te];u.prev_length>=u.good_match&&(d>>=2),b>u.lookahead&&(b=u.lookahead);do if($=a,!(ne[$+te]!==de||ne[$+te-1]!==ce||ne[$]!==ne[m]||ne[++$]!==ne[m+1])){m+=2,$++;do;while(ne[++m]===ne[++$]&&ne[++m]===ne[++$]&&ne[++m]===ne[++$]&&ne[++m]===ne[++$]&&ne[++m]===ne[++$]&&ne[++m]===ne[++$]&&ne[++m]===ne[++$]&&ne[++m]===ne[++$]&&m<fe);if(ee=MAX_MATCH-(fe-m),m=fe-MAX_MATCH,ee>te){if(u.match_start=a,te=ee,ee>=b)break;ce=ne[m+te-1],de=ne[m+te]}}while((a=se[a&ie])>re&&--d!==0);return te<=u.lookahead?te:u.lookahead},fill_window=u=>{const a=u.w_size;let d,m,$,ee,te;do{if(ee=u.window_size-u.lookahead-u.strstart,u.strstart>=a+(a-MIN_LOOKAHEAD)){u.window.set(u.window.subarray(a,a+a),0),u.match_start-=a,u.strstart-=a,u.block_start-=a,m=u.hash_size,d=m;do $=u.head[--d],u.head[d]=$>=a?$-a:0;while(--m);m=a,d=m;do $=u.prev[--d],u.prev[d]=$>=a?$-a:0;while(--m);ee+=a}if(u.strm.avail_in===0)break;if(m=read_buf(u.strm,u.window,u.strstart+u.lookahead,ee),u.lookahead+=m,u.lookahead+u.insert>=MIN_MATCH)for(te=u.strstart-u.insert,u.ins_h=u.window[te],u.ins_h=HASH(u,u.ins_h,u.window[te+1]);u.insert&&(u.ins_h=HASH(u,u.ins_h,u.window[te+MIN_MATCH-1]),u.prev[te&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=te,te++,u.insert--,!(u.lookahead+u.insert<MIN_MATCH)););}while(u.lookahead<MIN_LOOKAHEAD&&u.strm.avail_in!==0)},deflate_stored=(u,a)=>{let d=65535;for(d>u.pending_buf_size-5&&(d=u.pending_buf_size-5);;){if(u.lookahead<=1){if(fill_window(u),u.lookahead===0&&a===Z_NO_FLUSH$2)return BS_NEED_MORE;if(u.lookahead===0)break}u.strstart+=u.lookahead,u.lookahead=0;const m=u.block_start+d;if((u.strstart===0||u.strstart>=m)&&(u.lookahead=u.strstart-m,u.strstart=m,flush_block_only(u,!1),u.strm.avail_out===0)||u.strstart-u.block_start>=u.w_size-MIN_LOOKAHEAD&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}return u.insert=0,a===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):(u.strstart>u.block_start&&(flush_block_only(u,!1),u.strm.avail_out===0),BS_NEED_MORE)},deflate_fast=(u,a)=>{let d,m;for(;;){if(u.lookahead<MIN_LOOKAHEAD){if(fill_window(u),u.lookahead<MIN_LOOKAHEAD&&a===Z_NO_FLUSH$2)return BS_NEED_MORE;if(u.lookahead===0)break}if(d=0,u.lookahead>=MIN_MATCH&&(u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+MIN_MATCH-1]),d=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),d!==0&&u.strstart-d<=u.w_size-MIN_LOOKAHEAD&&(u.match_length=longest_match(u,d)),u.match_length>=MIN_MATCH)if(m=_tr_tally(u,u.strstart-u.match_start,u.match_length-MIN_MATCH),u.lookahead-=u.match_length,u.match_length<=u.max_lazy_match&&u.lookahead>=MIN_MATCH){u.match_length--;do u.strstart++,u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+MIN_MATCH-1]),d=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart;while(--u.match_length!==0);u.strstart++}else u.strstart+=u.match_length,u.match_length=0,u.ins_h=u.window[u.strstart],u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+1]);else m=_tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++;if(m&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}return u.insert=u.strstart<MIN_MATCH-1?u.strstart:MIN_MATCH-1,a===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):u.last_lit&&(flush_block_only(u,!1),u.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_slow=(u,a)=>{let d,m,$;for(;;){if(u.lookahead<MIN_LOOKAHEAD){if(fill_window(u),u.lookahead<MIN_LOOKAHEAD&&a===Z_NO_FLUSH$2)return BS_NEED_MORE;if(u.lookahead===0)break}if(d=0,u.lookahead>=MIN_MATCH&&(u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+MIN_MATCH-1]),d=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart),u.prev_length=u.match_length,u.prev_match=u.match_start,u.match_length=MIN_MATCH-1,d!==0&&u.prev_length<u.max_lazy_match&&u.strstart-d<=u.w_size-MIN_LOOKAHEAD&&(u.match_length=longest_match(u,d),u.match_length<=5&&(u.strategy===Z_FILTERED||u.match_length===MIN_MATCH&&u.strstart-u.match_start>4096)&&(u.match_length=MIN_MATCH-1)),u.prev_length>=MIN_MATCH&&u.match_length<=u.prev_length){$=u.strstart+u.lookahead-MIN_MATCH,m=_tr_tally(u,u.strstart-1-u.prev_match,u.prev_length-MIN_MATCH),u.lookahead-=u.prev_length-1,u.prev_length-=2;do++u.strstart<=$&&(u.ins_h=HASH(u,u.ins_h,u.window[u.strstart+MIN_MATCH-1]),d=u.prev[u.strstart&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=u.strstart);while(--u.prev_length!==0);if(u.match_available=0,u.match_length=MIN_MATCH-1,u.strstart++,m&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}else if(u.match_available){if(m=_tr_tally(u,0,u.window[u.strstart-1]),m&&flush_block_only(u,!1),u.strstart++,u.lookahead--,u.strm.avail_out===0)return BS_NEED_MORE}else u.match_available=1,u.strstart++,u.lookahead--}return u.match_available&&(m=_tr_tally(u,0,u.window[u.strstart-1]),u.match_available=0),u.insert=u.strstart<MIN_MATCH-1?u.strstart:MIN_MATCH-1,a===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):u.last_lit&&(flush_block_only(u,!1),u.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_rle=(u,a)=>{let d,m,$,ee;const te=u.window;for(;;){if(u.lookahead<=MAX_MATCH){if(fill_window(u),u.lookahead<=MAX_MATCH&&a===Z_NO_FLUSH$2)return BS_NEED_MORE;if(u.lookahead===0)break}if(u.match_length=0,u.lookahead>=MIN_MATCH&&u.strstart>0&&($=u.strstart-1,m=te[$],m===te[++$]&&m===te[++$]&&m===te[++$])){ee=u.strstart+MAX_MATCH;do;while(m===te[++$]&&m===te[++$]&&m===te[++$]&&m===te[++$]&&m===te[++$]&&m===te[++$]&&m===te[++$]&&m===te[++$]&&$<ee);u.match_length=MAX_MATCH-(ee-$),u.match_length>u.lookahead&&(u.match_length=u.lookahead)}if(u.match_length>=MIN_MATCH?(d=_tr_tally(u,1,u.match_length-MIN_MATCH),u.lookahead-=u.match_length,u.strstart+=u.match_length,u.match_length=0):(d=_tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++),d&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}return u.insert=0,a===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):u.last_lit&&(flush_block_only(u,!1),u.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE},deflate_huff=(u,a)=>{let d;for(;;){if(u.lookahead===0&&(fill_window(u),u.lookahead===0)){if(a===Z_NO_FLUSH$2)return BS_NEED_MORE;break}if(u.match_length=0,d=_tr_tally(u,0,u.window[u.strstart]),u.lookahead--,u.strstart++,d&&(flush_block_only(u,!1),u.strm.avail_out===0))return BS_NEED_MORE}return u.insert=0,a===Z_FINISH$3?(flush_block_only(u,!0),u.strm.avail_out===0?BS_FINISH_STARTED:BS_FINISH_DONE):u.last_lit&&(flush_block_only(u,!1),u.strm.avail_out===0)?BS_NEED_MORE:BS_BLOCK_DONE};function Config$1(u,a,d,m,$){this.good_length=u,this.max_lazy=a,this.nice_length=d,this.max_chain=m,this.func=$}const configuration_table=[new Config$1(0,0,0,0,deflate_stored),new Config$1(4,4,8,4,deflate_fast),new Config$1(4,5,16,8,deflate_fast),new Config$1(4,6,32,32,deflate_fast),new Config$1(4,4,16,16,deflate_slow),new Config$1(8,16,32,32,deflate_slow),new Config$1(8,16,128,128,deflate_slow),new Config$1(8,32,128,256,deflate_slow),new Config$1(32,128,258,1024,deflate_slow),new Config$1(32,258,258,4096,deflate_slow)],lm_init=u=>{u.window_size=2*u.w_size,zero(u.head),u.max_lazy_match=configuration_table[u.level].max_lazy,u.good_match=configuration_table[u.level].good_length,u.nice_match=configuration_table[u.level].nice_length,u.max_chain_length=configuration_table[u.level].max_chain,u.strstart=0,u.block_start=0,u.lookahead=0,u.insert=0,u.match_length=u.prev_length=MIN_MATCH-1,u.match_available=0,u.ins_h=0};function DeflateState(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED$2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(HEAP_SIZE*2),this.dyn_dtree=new Uint16Array((2*D_CODES+1)*2),this.bl_tree=new Uint16Array((2*BL_CODES+1)*2),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(MAX_BITS+1),this.heap=new Uint16Array(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const deflateResetKeep=u=>{if(!u||!u.state)return err(u,Z_STREAM_ERROR$2);u.total_in=u.total_out=0,u.data_type=Z_UNKNOWN;const a=u.state;return a.pending=0,a.pending_out=0,a.wrap<0&&(a.wrap=-a.wrap),a.status=a.wrap?INIT_STATE:BUSY_STATE,u.adler=a.wrap===2?0:1,a.last_flush=Z_NO_FLUSH$2,_tr_init(a),Z_OK$3},deflateReset=u=>{const a=deflateResetKeep(u);return a===Z_OK$3&&lm_init(u.state),a},deflateSetHeader=(u,a)=>!u||!u.state||u.state.wrap!==2?Z_STREAM_ERROR$2:(u.state.gzhead=a,Z_OK$3),deflateInit2=(u,a,d,m,$,ee)=>{if(!u)return Z_STREAM_ERROR$2;let te=1;if(a===Z_DEFAULT_COMPRESSION$1&&(a=6),m<0?(te=0,m=-m):m>15&&(te=2,m-=16),$<1||$>MAX_MEM_LEVEL||d!==Z_DEFLATED$2||m<8||m>15||a<0||a>9||ee<0||ee>Z_FIXED)return err(u,Z_STREAM_ERROR$2);m===8&&(m=9);const b=new DeflateState;return u.state=b,b.strm=u,b.wrap=te,b.gzhead=null,b.w_bits=m,b.w_size=1<<b.w_bits,b.w_mask=b.w_size-1,b.hash_bits=$+7,b.hash_size=1<<b.hash_bits,b.hash_mask=b.hash_size-1,b.hash_shift=~~((b.hash_bits+MIN_MATCH-1)/MIN_MATCH),b.window=new Uint8Array(b.w_size*2),b.head=new Uint16Array(b.hash_size),b.prev=new Uint16Array(b.w_size),b.lit_bufsize=1<<$+6,b.pending_buf_size=b.lit_bufsize*4,b.pending_buf=new Uint8Array(b.pending_buf_size),b.d_buf=1*b.lit_bufsize,b.l_buf=(1+2)*b.lit_bufsize,b.level=a,b.strategy=ee,b.method=d,deflateReset(u)},deflateInit=(u,a)=>deflateInit2(u,a,Z_DEFLATED$2,MAX_WBITS$1,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY$1),deflate$2=(u,a)=>{let d,m;if(!u||!u.state||a>Z_BLOCK$1||a<0)return u?err(u,Z_STREAM_ERROR$2):Z_STREAM_ERROR$2;const $=u.state;if(!u.output||!u.input&&u.avail_in!==0||$.status===FINISH_STATE&&a!==Z_FINISH$3)return err(u,u.avail_out===0?Z_BUF_ERROR$1:Z_STREAM_ERROR$2);$.strm=u;const ee=$.last_flush;if($.last_flush=a,$.status===INIT_STATE)if($.wrap===2)u.adler=0,put_byte($,31),put_byte($,139),put_byte($,8),$.gzhead?(put_byte($,($.gzhead.text?1:0)+($.gzhead.hcrc?2:0)+($.gzhead.extra?4:0)+($.gzhead.name?8:0)+($.gzhead.comment?16:0)),put_byte($,$.gzhead.time&255),put_byte($,$.gzhead.time>>8&255),put_byte($,$.gzhead.time>>16&255),put_byte($,$.gzhead.time>>24&255),put_byte($,$.level===9?2:$.strategy>=Z_HUFFMAN_ONLY||$.level<2?4:0),put_byte($,$.gzhead.os&255),$.gzhead.extra&&$.gzhead.extra.length&&(put_byte($,$.gzhead.extra.length&255),put_byte($,$.gzhead.extra.length>>8&255)),$.gzhead.hcrc&&(u.adler=crc32_1(u.adler,$.pending_buf,$.pending,0)),$.gzindex=0,$.status=EXTRA_STATE):(put_byte($,0),put_byte($,0),put_byte($,0),put_byte($,0),put_byte($,0),put_byte($,$.level===9?2:$.strategy>=Z_HUFFMAN_ONLY||$.level<2?4:0),put_byte($,OS_CODE),$.status=BUSY_STATE);else{let te=Z_DEFLATED$2+($.w_bits-8<<4)<<8,b=-1;$.strategy>=Z_HUFFMAN_ONLY||$.level<2?b=0:$.level<6?b=1:$.level===6?b=2:b=3,te|=b<<6,$.strstart!==0&&(te|=PRESET_DICT),te+=31-te%31,$.status=BUSY_STATE,putShortMSB($,te),$.strstart!==0&&(putShortMSB($,u.adler>>>16),putShortMSB($,u.adler&65535)),u.adler=1}if($.status===EXTRA_STATE)if($.gzhead.extra){for(d=$.pending;$.gzindex<($.gzhead.extra.length&65535)&&!($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>d&&(u.adler=crc32_1(u.adler,$.pending_buf,$.pending-d,d)),flush_pending(u),d=$.pending,$.pending===$.pending_buf_size));)put_byte($,$.gzhead.extra[$.gzindex]&255),$.gzindex++;$.gzhead.hcrc&&$.pending>d&&(u.adler=crc32_1(u.adler,$.pending_buf,$.pending-d,d)),$.gzindex===$.gzhead.extra.length&&($.gzindex=0,$.status=NAME_STATE)}else $.status=NAME_STATE;if($.status===NAME_STATE)if($.gzhead.name){d=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>d&&(u.adler=crc32_1(u.adler,$.pending_buf,$.pending-d,d)),flush_pending(u),d=$.pending,$.pending===$.pending_buf_size)){m=1;break}$.gzindex<$.gzhead.name.length?m=$.gzhead.name.charCodeAt($.gzindex++)&255:m=0,put_byte($,m)}while(m!==0);$.gzhead.hcrc&&$.pending>d&&(u.adler=crc32_1(u.adler,$.pending_buf,$.pending-d,d)),m===0&&($.gzindex=0,$.status=COMMENT_STATE)}else $.status=COMMENT_STATE;if($.status===COMMENT_STATE)if($.gzhead.comment){d=$.pending;do{if($.pending===$.pending_buf_size&&($.gzhead.hcrc&&$.pending>d&&(u.adler=crc32_1(u.adler,$.pending_buf,$.pending-d,d)),flush_pending(u),d=$.pending,$.pending===$.pending_buf_size)){m=1;break}$.gzindex<$.gzhead.comment.length?m=$.gzhead.comment.charCodeAt($.gzindex++)&255:m=0,put_byte($,m)}while(m!==0);$.gzhead.hcrc&&$.pending>d&&(u.adler=crc32_1(u.adler,$.pending_buf,$.pending-d,d)),m===0&&($.status=HCRC_STATE)}else $.status=HCRC_STATE;if($.status===HCRC_STATE&&($.gzhead.hcrc?($.pending+2>$.pending_buf_size&&flush_pending(u),$.pending+2<=$.pending_buf_size&&(put_byte($,u.adler&255),put_byte($,u.adler>>8&255),u.adler=0,$.status=BUSY_STATE)):$.status=BUSY_STATE),$.pending!==0){if(flush_pending(u),u.avail_out===0)return $.last_flush=-1,Z_OK$3}else if(u.avail_in===0&&rank(a)<=rank(ee)&&a!==Z_FINISH$3)return err(u,Z_BUF_ERROR$1);if($.status===FINISH_STATE&&u.avail_in!==0)return err(u,Z_BUF_ERROR$1);if(u.avail_in!==0||$.lookahead!==0||a!==Z_NO_FLUSH$2&&$.status!==FINISH_STATE){let te=$.strategy===Z_HUFFMAN_ONLY?deflate_huff($,a):$.strategy===Z_RLE?deflate_rle($,a):configuration_table[$.level].func($,a);if((te===BS_FINISH_STARTED||te===BS_FINISH_DONE)&&($.status=FINISH_STATE),te===BS_NEED_MORE||te===BS_FINISH_STARTED)return u.avail_out===0&&($.last_flush=-1),Z_OK$3;if(te===BS_BLOCK_DONE&&(a===Z_PARTIAL_FLUSH?_tr_align($):a!==Z_BLOCK$1&&(_tr_stored_block($,0,0,!1),a===Z_FULL_FLUSH$1&&(zero($.head),$.lookahead===0&&($.strstart=0,$.block_start=0,$.insert=0))),flush_pending(u),u.avail_out===0))return $.last_flush=-1,Z_OK$3}return a!==Z_FINISH$3?Z_OK$3:$.wrap<=0?Z_STREAM_END$3:($.wrap===2?(put_byte($,u.adler&255),put_byte($,u.adler>>8&255),put_byte($,u.adler>>16&255),put_byte($,u.adler>>24&255),put_byte($,u.total_in&255),put_byte($,u.total_in>>8&255),put_byte($,u.total_in>>16&255),put_byte($,u.total_in>>24&255)):(putShortMSB($,u.adler>>>16),putShortMSB($,u.adler&65535)),flush_pending(u),$.wrap>0&&($.wrap=-$.wrap),$.pending!==0?Z_OK$3:Z_STREAM_END$3)},deflateEnd=u=>{if(!u||!u.state)return Z_STREAM_ERROR$2;const a=u.state.status;return a!==INIT_STATE&&a!==EXTRA_STATE&&a!==NAME_STATE&&a!==COMMENT_STATE&&a!==HCRC_STATE&&a!==BUSY_STATE&&a!==FINISH_STATE?err(u,Z_STREAM_ERROR$2):(u.state=null,a===BUSY_STATE?err(u,Z_DATA_ERROR$2):Z_OK$3)},deflateSetDictionary=(u,a)=>{let d=a.length;if(!u||!u.state)return Z_STREAM_ERROR$2;const m=u.state,$=m.wrap;if($===2||$===1&&m.status!==INIT_STATE||m.lookahead)return Z_STREAM_ERROR$2;if($===1&&(u.adler=adler32_1(u.adler,a,d,0)),m.wrap=0,d>=m.w_size){$===0&&(zero(m.head),m.strstart=0,m.block_start=0,m.insert=0);let re=new Uint8Array(m.w_size);re.set(a.subarray(d-m.w_size,d),0),a=re,d=m.w_size}const ee=u.avail_in,te=u.next_in,b=u.input;for(u.avail_in=d,u.next_in=0,u.input=a,fill_window(m);m.lookahead>=MIN_MATCH;){let re=m.strstart,ne=m.lookahead-(MIN_MATCH-1);do m.ins_h=HASH(m,m.ins_h,m.window[re+MIN_MATCH-1]),m.prev[re&m.w_mask]=m.head[m.ins_h],m.head[m.ins_h]=re,re++;while(--ne);m.strstart=re,m.lookahead=MIN_MATCH-1,fill_window(m)}return m.strstart+=m.lookahead,m.block_start=m.strstart,m.insert=m.lookahead,m.lookahead=0,m.match_length=m.prev_length=MIN_MATCH-1,m.match_available=0,u.next_in=te,u.input=b,u.avail_in=ee,m.wrap=$,Z_OK$3};var deflateInit_1=deflateInit,deflateInit2_1=deflateInit2,deflateReset_1=deflateReset,deflateResetKeep_1=deflateResetKeep,deflateSetHeader_1=deflateSetHeader,deflate_2$1=deflate$2,deflateEnd_1=deflateEnd,deflateSetDictionary_1=deflateSetDictionary,deflateInfo="pako deflate (from Nodeca project)",deflate_1$2={deflateInit:deflateInit_1,deflateInit2:deflateInit2_1,deflateReset:deflateReset_1,deflateResetKeep:deflateResetKeep_1,deflateSetHeader:deflateSetHeader_1,deflate:deflate_2$1,deflateEnd:deflateEnd_1,deflateSetDictionary:deflateSetDictionary_1,deflateInfo};const _has=(u,a)=>Object.prototype.hasOwnProperty.call(u,a);var assign=function(u){const a=Array.prototype.slice.call(arguments,1);for(;a.length;){const d=a.shift();if(!!d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(const m in d)_has(d,m)&&(u[m]=d[m])}}return u},flattenChunks=u=>{let a=0;for(let m=0,$=u.length;m<$;m++)a+=u[m].length;const d=new Uint8Array(a);for(let m=0,$=0,ee=u.length;m<ee;m++){let te=u[m];d.set(te,$),$+=te.length}return d},common={assign,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let u=0;u<256;u++)_utf8len[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=u=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(u);let a,d,m,$,ee,te=u.length,b=0;for($=0;$<te;$++)d=u.charCodeAt($),(d&64512)===55296&&$+1<te&&(m=u.charCodeAt($+1),(m&64512)===56320&&(d=65536+(d-55296<<10)+(m-56320),$++)),b+=d<128?1:d<2048?2:d<65536?3:4;for(a=new Uint8Array(b),ee=0,$=0;ee<b;$++)d=u.charCodeAt($),(d&64512)===55296&&$+1<te&&(m=u.charCodeAt($+1),(m&64512)===56320&&(d=65536+(d-55296<<10)+(m-56320),$++)),d<128?a[ee++]=d:d<2048?(a[ee++]=192|d>>>6,a[ee++]=128|d&63):d<65536?(a[ee++]=224|d>>>12,a[ee++]=128|d>>>6&63,a[ee++]=128|d&63):(a[ee++]=240|d>>>18,a[ee++]=128|d>>>12&63,a[ee++]=128|d>>>6&63,a[ee++]=128|d&63);return a};const buf2binstring=(u,a)=>{if(a<65534&&u.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,u.length===a?u:u.subarray(0,a));let d="";for(let m=0;m<a;m++)d+=String.fromCharCode(u[m]);return d};var buf2string=(u,a)=>{const d=a||u.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(u.subarray(0,a));let m,$;const ee=new Array(d*2);for($=0,m=0;m<d;){let te=u[m++];if(te<128){ee[$++]=te;continue}let b=_utf8len[te];if(b>4){ee[$++]=65533,m+=b-1;continue}for(te&=b===2?31:b===3?15:7;b>1&&m<d;)te=te<<6|u[m++]&63,b--;if(b>1){ee[$++]=65533;continue}te<65536?ee[$++]=te:(te-=65536,ee[$++]=55296|te>>10&1023,ee[$++]=56320|te&1023)}return buf2binstring(ee,$)},utf8border=(u,a)=>{a=a||u.length,a>u.length&&(a=u.length);let d=a-1;for(;d>=0&&(u[d]&192)===128;)d--;return d<0||d===0?a:d+_utf8len[u[d]]>a?d:a},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const toString$1=Object.prototype.toString,{Z_NO_FLUSH:Z_NO_FLUSH$1,Z_SYNC_FLUSH,Z_FULL_FLUSH,Z_FINISH:Z_FINISH$2,Z_OK:Z_OK$2,Z_STREAM_END:Z_STREAM_END$2,Z_DEFAULT_COMPRESSION,Z_DEFAULT_STRATEGY,Z_DEFLATED:Z_DEFLATED$1}=constants$2;function Deflate$1(u){this.options=common.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED$1,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY},u||{});let a=this.options;a.raw&&a.windowBits>0?a.windowBits=-a.windowBits:a.gzip&&a.windowBits>0&&a.windowBits<16&&(a.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let d=deflate_1$2.deflateInit2(this.strm,a.level,a.method,a.windowBits,a.memLevel,a.strategy);if(d!==Z_OK$2)throw new Error(messages[d]);if(a.header&&deflate_1$2.deflateSetHeader(this.strm,a.header),a.dictionary){let m;if(typeof a.dictionary=="string"?m=strings.string2buf(a.dictionary):toString$1.call(a.dictionary)==="[object ArrayBuffer]"?m=new Uint8Array(a.dictionary):m=a.dictionary,d=deflate_1$2.deflateSetDictionary(this.strm,m),d!==Z_OK$2)throw new Error(messages[d]);this._dict_set=!0}}Deflate$1.prototype.push=function(u,a){const d=this.strm,m=this.options.chunkSize;let $,ee;if(this.ended)return!1;for(a===~~a?ee=a:ee=a===!0?Z_FINISH$2:Z_NO_FLUSH$1,typeof u=="string"?d.input=strings.string2buf(u):toString$1.call(u)==="[object ArrayBuffer]"?d.input=new Uint8Array(u):d.input=u,d.next_in=0,d.avail_in=d.input.length;;){if(d.avail_out===0&&(d.output=new Uint8Array(m),d.next_out=0,d.avail_out=m),(ee===Z_SYNC_FLUSH||ee===Z_FULL_FLUSH)&&d.avail_out<=6){this.onData(d.output.subarray(0,d.next_out)),d.avail_out=0;continue}if($=deflate_1$2.deflate(d,ee),$===Z_STREAM_END$2)return d.next_out>0&&this.onData(d.output.subarray(0,d.next_out)),$=deflate_1$2.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===Z_OK$2;if(d.avail_out===0){this.onData(d.output);continue}if(ee>0&&d.next_out>0){this.onData(d.output.subarray(0,d.next_out)),d.avail_out=0;continue}if(d.avail_in===0)break}return!0};Deflate$1.prototype.onData=function(u){this.chunks.push(u)};Deflate$1.prototype.onEnd=function(u){u===Z_OK$2&&(this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg};const BAD$1=30,TYPE$1=12;var inffast=function u(a,d){let m,$,ee,te,b,re,ne,ie,se,fe,ce,de,ye,ge,_e,Ee,Ae,we,Me,ke,Re,ze,Je,et;const Pe=a.state;m=a.next_in,Je=a.input,$=m+(a.avail_in-5),ee=a.next_out,et=a.output,te=ee-(d-a.avail_out),b=ee+(a.avail_out-257),re=Pe.dmax,ne=Pe.wsize,ie=Pe.whave,se=Pe.wnext,fe=Pe.window,ce=Pe.hold,de=Pe.bits,ye=Pe.lencode,ge=Pe.distcode,_e=(1<<Pe.lenbits)-1,Ee=(1<<Pe.distbits)-1;e:do{de<15&&(ce+=Je[m++]<<de,de+=8,ce+=Je[m++]<<de,de+=8),Ae=ye[ce&_e];t:for(;;){if(we=Ae>>>24,ce>>>=we,de-=we,we=Ae>>>16&255,we===0)et[ee++]=Ae&65535;else if(we&16){Me=Ae&65535,we&=15,we&&(de<we&&(ce+=Je[m++]<<de,de+=8),Me+=ce&(1<<we)-1,ce>>>=we,de-=we),de<15&&(ce+=Je[m++]<<de,de+=8,ce+=Je[m++]<<de,de+=8),Ae=ge[ce&Ee];r:for(;;){if(we=Ae>>>24,ce>>>=we,de-=we,we=Ae>>>16&255,we&16){if(ke=Ae&65535,we&=15,de<we&&(ce+=Je[m++]<<de,de+=8,de<we&&(ce+=Je[m++]<<de,de+=8)),ke+=ce&(1<<we)-1,ke>re){a.msg="invalid distance too far back",Pe.mode=BAD$1;break e}if(ce>>>=we,de-=we,we=ee-te,ke>we){if(we=ke-we,we>ie&&Pe.sane){a.msg="invalid distance too far back",Pe.mode=BAD$1;break e}if(Re=0,ze=fe,se===0){if(Re+=ne-we,we<Me){Me-=we;do et[ee++]=fe[Re++];while(--we);Re=ee-ke,ze=et}}else if(se<we){if(Re+=ne+se-we,we-=se,we<Me){Me-=we;do et[ee++]=fe[Re++];while(--we);if(Re=0,se<Me){we=se,Me-=we;do et[ee++]=fe[Re++];while(--we);Re=ee-ke,ze=et}}}else if(Re+=se-we,we<Me){Me-=we;do et[ee++]=fe[Re++];while(--we);Re=ee-ke,ze=et}for(;Me>2;)et[ee++]=ze[Re++],et[ee++]=ze[Re++],et[ee++]=ze[Re++],Me-=3;Me&&(et[ee++]=ze[Re++],Me>1&&(et[ee++]=ze[Re++]))}else{Re=ee-ke;do et[ee++]=et[Re++],et[ee++]=et[Re++],et[ee++]=et[Re++],Me-=3;while(Me>2);Me&&(et[ee++]=et[Re++],Me>1&&(et[ee++]=et[Re++]))}}else if((we&64)===0){Ae=ge[(Ae&65535)+(ce&(1<<we)-1)];continue r}else{a.msg="invalid distance code",Pe.mode=BAD$1;break e}break}}else if((we&64)===0){Ae=ye[(Ae&65535)+(ce&(1<<we)-1)];continue t}else if(we&32){Pe.mode=TYPE$1;break e}else{a.msg="invalid literal/length code",Pe.mode=BAD$1;break e}break}}while(m<$&&ee<b);Me=de>>3,m-=Me,de-=Me<<3,ce&=(1<<de)-1,a.next_in=m,a.next_out=ee,a.avail_in=m<$?5+($-m):5-(m-$),a.avail_out=ee<b?257+(b-ee):257-(ee-b),Pe.hold=ce,Pe.bits=de};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(u,a,d,m,$,ee,te,b)=>{const re=b.bits;let ne=0,ie=0,se=0,fe=0,ce=0,de=0,ye=0,ge=0,_e=0,Ee=0,Ae,we,Me,ke,Re,ze=null,Je=0,et;const Pe=new Uint16Array(MAXBITS+1),ve=new Uint16Array(MAXBITS+1);let le=null,ae=0,he,xe,$e;for(ne=0;ne<=MAXBITS;ne++)Pe[ne]=0;for(ie=0;ie<m;ie++)Pe[a[d+ie]]++;for(ce=re,fe=MAXBITS;fe>=1&&Pe[fe]===0;fe--);if(ce>fe&&(ce=fe),fe===0)return $[ee++]=1<<24|64<<16|0,$[ee++]=1<<24|64<<16|0,b.bits=1,0;for(se=1;se<fe&&Pe[se]===0;se++);for(ce<se&&(ce=se),ge=1,ne=1;ne<=MAXBITS;ne++)if(ge<<=1,ge-=Pe[ne],ge<0)return-1;if(ge>0&&(u===CODES$1||fe!==1))return-1;for(ve[1]=0,ne=1;ne<MAXBITS;ne++)ve[ne+1]=ve[ne]+Pe[ne];for(ie=0;ie<m;ie++)a[d+ie]!==0&&(te[ve[a[d+ie]]++]=ie);if(u===CODES$1?(ze=le=te,et=19):u===LENS$1?(ze=lbase,Je-=257,le=lext,ae-=257,et=256):(ze=dbase,le=dext,et=-1),Ee=0,ie=0,ne=se,Re=ee,de=ce,ye=0,Me=-1,_e=1<<ce,ke=_e-1,u===LENS$1&&_e>ENOUGH_LENS$1||u===DISTS$1&&_e>ENOUGH_DISTS$1)return 1;for(;;){he=ne-ye,te[ie]<et?(xe=0,$e=te[ie]):te[ie]>et?(xe=le[ae+te[ie]],$e=ze[Je+te[ie]]):(xe=32+64,$e=0),Ae=1<<ne-ye,we=1<<de,se=we;do we-=Ae,$[Re+(Ee>>ye)+we]=he<<24|xe<<16|$e|0;while(we!==0);for(Ae=1<<ne-1;Ee&Ae;)Ae>>=1;if(Ae!==0?(Ee&=Ae-1,Ee+=Ae):Ee=0,ie++,--Pe[ne]===0){if(ne===fe)break;ne=a[d+te[ie]]}if(ne>ce&&(Ee&ke)!==Me){for(ye===0&&(ye=ce),Re+=se,de=ne-ye,ge=1<<de;de+ye<fe&&(ge-=Pe[de+ye],!(ge<=0));)de++,ge<<=1;if(_e+=1<<de,u===LENS$1&&_e>ENOUGH_LENS$1||u===DISTS$1&&_e>ENOUGH_DISTS$1)return 1;Me=Ee&ke,$[Me]=ce<<24|de<<16|Re-ee|0}}return Ee!==0&&($[Re+Ee]=ne-ye<<24|64<<16|0),b.bits=ce,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME$g=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=u=>(u>>>24&255)+(u>>>8&65280)+((u&65280)<<8)+((u&255)<<24);function InflateState(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateResetKeep=u=>{if(!u||!u.state)return Z_STREAM_ERROR$1;const a=u.state;return u.total_in=u.total_out=a.total=0,u.msg="",a.wrap&&(u.adler=a.wrap&1),a.mode=HEAD,a.last=0,a.havedict=0,a.dmax=32768,a.head=null,a.hold=0,a.bits=0,a.lencode=a.lendyn=new Int32Array(ENOUGH_LENS),a.distcode=a.distdyn=new Int32Array(ENOUGH_DISTS),a.sane=1,a.back=-1,Z_OK$1},inflateReset=u=>{if(!u||!u.state)return Z_STREAM_ERROR$1;const a=u.state;return a.wsize=0,a.whave=0,a.wnext=0,inflateResetKeep(u)},inflateReset2=(u,a)=>{let d;if(!u||!u.state)return Z_STREAM_ERROR$1;const m=u.state;return a<0?(d=0,a=-a):(d=(a>>4)+1,a<48&&(a&=15)),a&&(a<8||a>15)?Z_STREAM_ERROR$1:(m.window!==null&&m.wbits!==a&&(m.window=null),m.wrap=d,m.wbits=a,inflateReset(u))},inflateInit2=(u,a)=>{if(!u)return Z_STREAM_ERROR$1;const d=new InflateState;u.state=d,d.window=null;const m=inflateReset2(u,a);return m!==Z_OK$1&&(u.state=null),m},inflateInit=u=>inflateInit2(u,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=u=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let a=0;for(;a<144;)u.lens[a++]=8;for(;a<256;)u.lens[a++]=9;for(;a<280;)u.lens[a++]=7;for(;a<288;)u.lens[a++]=8;for(inftrees(LENS,u.lens,0,288,lenfix,0,u.work,{bits:9}),a=0;a<32;)u.lens[a++]=5;inftrees(DISTS,u.lens,0,32,distfix,0,u.work,{bits:5}),virgin=!1}u.lencode=lenfix,u.lenbits=9,u.distcode=distfix,u.distbits=5},updatewindow=(u,a,d,m)=>{let $;const ee=u.state;return ee.window===null&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new Uint8Array(ee.wsize)),m>=ee.wsize?(ee.window.set(a.subarray(d-ee.wsize,d),0),ee.wnext=0,ee.whave=ee.wsize):($=ee.wsize-ee.wnext,$>m&&($=m),ee.window.set(a.subarray(d-m,d-m+$),ee.wnext),m-=$,m?(ee.window.set(a.subarray(d-m,d),0),ee.wnext=m,ee.whave=ee.wsize):(ee.wnext+=$,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=$))),0},inflate$2=(u,a)=>{let d,m,$,ee,te,b,re,ne,ie,se,fe,ce,de,ye,ge=0,_e,Ee,Ae,we,Me,ke,Re,ze;const Je=new Uint8Array(4);let et,Pe;const ve=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!u||!u.state||!u.output||!u.input&&u.avail_in!==0)return Z_STREAM_ERROR$1;d=u.state,d.mode===TYPE&&(d.mode=TYPEDO),te=u.next_out,$=u.output,re=u.avail_out,ee=u.next_in,m=u.input,b=u.avail_in,ne=d.hold,ie=d.bits,se=b,fe=re,ze=Z_OK$1;e:for(;;)switch(d.mode){case HEAD:if(d.wrap===0){d.mode=TYPEDO;break}for(;ie<16;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if(d.wrap&2&&ne===35615){d.check=0,Je[0]=ne&255,Je[1]=ne>>>8&255,d.check=crc32_1(d.check,Je,2,0),ne=0,ie=0,d.mode=FLAGS;break}if(d.flags=0,d.head&&(d.head.done=!1),!(d.wrap&1)||(((ne&255)<<8)+(ne>>8))%31){u.msg="incorrect header check",d.mode=BAD;break}if((ne&15)!==Z_DEFLATED){u.msg="unknown compression method",d.mode=BAD;break}if(ne>>>=4,ie-=4,Re=(ne&15)+8,d.wbits===0)d.wbits=Re;else if(Re>d.wbits){u.msg="invalid window size",d.mode=BAD;break}d.dmax=1<<d.wbits,u.adler=d.check=1,d.mode=ne&512?DICTID:TYPE,ne=0,ie=0;break;case FLAGS:for(;ie<16;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if(d.flags=ne,(d.flags&255)!==Z_DEFLATED){u.msg="unknown compression method",d.mode=BAD;break}if(d.flags&57344){u.msg="unknown header flags set",d.mode=BAD;break}d.head&&(d.head.text=ne>>8&1),d.flags&512&&(Je[0]=ne&255,Je[1]=ne>>>8&255,d.check=crc32_1(d.check,Je,2,0)),ne=0,ie=0,d.mode=TIME;case TIME:for(;ie<32;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}d.head&&(d.head.time=ne),d.flags&512&&(Je[0]=ne&255,Je[1]=ne>>>8&255,Je[2]=ne>>>16&255,Je[3]=ne>>>24&255,d.check=crc32_1(d.check,Je,4,0)),ne=0,ie=0,d.mode=OS;case OS:for(;ie<16;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}d.head&&(d.head.xflags=ne&255,d.head.os=ne>>8),d.flags&512&&(Je[0]=ne&255,Je[1]=ne>>>8&255,d.check=crc32_1(d.check,Je,2,0)),ne=0,ie=0,d.mode=EXLEN;case EXLEN:if(d.flags&1024){for(;ie<16;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}d.length=ne,d.head&&(d.head.extra_len=ne),d.flags&512&&(Je[0]=ne&255,Je[1]=ne>>>8&255,d.check=crc32_1(d.check,Je,2,0)),ne=0,ie=0}else d.head&&(d.head.extra=null);d.mode=EXTRA;case EXTRA:if(d.flags&1024&&(ce=d.length,ce>b&&(ce=b),ce&&(d.head&&(Re=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Uint8Array(d.head.extra_len)),d.head.extra.set(m.subarray(ee,ee+ce),Re)),d.flags&512&&(d.check=crc32_1(d.check,m,ce,ee)),b-=ce,ee+=ce,d.length-=ce),d.length))break e;d.length=0,d.mode=NAME$g;case NAME$g:if(d.flags&2048){if(b===0)break e;ce=0;do Re=m[ee+ce++],d.head&&Re&&d.length<65536&&(d.head.name+=String.fromCharCode(Re));while(Re&&ce<b);if(d.flags&512&&(d.check=crc32_1(d.check,m,ce,ee)),b-=ce,ee+=ce,Re)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=COMMENT;case COMMENT:if(d.flags&4096){if(b===0)break e;ce=0;do Re=m[ee+ce++],d.head&&Re&&d.length<65536&&(d.head.comment+=String.fromCharCode(Re));while(Re&&ce<b);if(d.flags&512&&(d.check=crc32_1(d.check,m,ce,ee)),b-=ce,ee+=ce,Re)break e}else d.head&&(d.head.comment=null);d.mode=HCRC;case HCRC:if(d.flags&512){for(;ie<16;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if(ne!==(d.check&65535)){u.msg="header crc mismatch",d.mode=BAD;break}ne=0,ie=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),u.adler=d.check=0,d.mode=TYPE;break;case DICTID:for(;ie<32;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}u.adler=d.check=zswap32(ne),ne=0,ie=0,d.mode=DICT;case DICT:if(d.havedict===0)return u.next_out=te,u.avail_out=re,u.next_in=ee,u.avail_in=b,d.hold=ne,d.bits=ie,Z_NEED_DICT$1;u.adler=d.check=1,d.mode=TYPE;case TYPE:if(a===Z_BLOCK||a===Z_TREES)break e;case TYPEDO:if(d.last){ne>>>=ie&7,ie-=ie&7,d.mode=CHECK;break}for(;ie<3;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}switch(d.last=ne&1,ne>>>=1,ie-=1,ne&3){case 0:d.mode=STORED;break;case 1:if(fixedtables(d),d.mode=LEN_,a===Z_TREES){ne>>>=2,ie-=2;break e}break;case 2:d.mode=TABLE;break;case 3:u.msg="invalid block type",d.mode=BAD}ne>>>=2,ie-=2;break;case STORED:for(ne>>>=ie&7,ie-=ie&7;ie<32;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if((ne&65535)!==(ne>>>16^65535)){u.msg="invalid stored block lengths",d.mode=BAD;break}if(d.length=ne&65535,ne=0,ie=0,d.mode=COPY_,a===Z_TREES)break e;case COPY_:d.mode=COPY;case COPY:if(ce=d.length,ce){if(ce>b&&(ce=b),ce>re&&(ce=re),ce===0)break e;$.set(m.subarray(ee,ee+ce),te),b-=ce,ee+=ce,re-=ce,te+=ce,d.length-=ce;break}d.mode=TYPE;break;case TABLE:for(;ie<14;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if(d.nlen=(ne&31)+257,ne>>>=5,ie-=5,d.ndist=(ne&31)+1,ne>>>=5,ie-=5,d.ncode=(ne&15)+4,ne>>>=4,ie-=4,d.nlen>286||d.ndist>30){u.msg="too many length or distance symbols",d.mode=BAD;break}d.have=0,d.mode=LENLENS;case LENLENS:for(;d.have<d.ncode;){for(;ie<3;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}d.lens[ve[d.have++]]=ne&7,ne>>>=3,ie-=3}for(;d.have<19;)d.lens[ve[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,et={bits:d.lenbits},ze=inftrees(CODES,d.lens,0,19,d.lencode,0,d.work,et),d.lenbits=et.bits,ze){u.msg="invalid code lengths set",d.mode=BAD;break}d.have=0,d.mode=CODELENS;case CODELENS:for(;d.have<d.nlen+d.ndist;){for(;ge=d.lencode[ne&(1<<d.lenbits)-1],_e=ge>>>24,Ee=ge>>>16&255,Ae=ge&65535,!(_e<=ie);){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if(Ae<16)ne>>>=_e,ie-=_e,d.lens[d.have++]=Ae;else{if(Ae===16){for(Pe=_e+2;ie<Pe;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if(ne>>>=_e,ie-=_e,d.have===0){u.msg="invalid bit length repeat",d.mode=BAD;break}Re=d.lens[d.have-1],ce=3+(ne&3),ne>>>=2,ie-=2}else if(Ae===17){for(Pe=_e+3;ie<Pe;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}ne>>>=_e,ie-=_e,Re=0,ce=3+(ne&7),ne>>>=3,ie-=3}else{for(Pe=_e+7;ie<Pe;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}ne>>>=_e,ie-=_e,Re=0,ce=11+(ne&127),ne>>>=7,ie-=7}if(d.have+ce>d.nlen+d.ndist){u.msg="invalid bit length repeat",d.mode=BAD;break}for(;ce--;)d.lens[d.have++]=Re}}if(d.mode===BAD)break;if(d.lens[256]===0){u.msg="invalid code -- missing end-of-block",d.mode=BAD;break}if(d.lenbits=9,et={bits:d.lenbits},ze=inftrees(LENS,d.lens,0,d.nlen,d.lencode,0,d.work,et),d.lenbits=et.bits,ze){u.msg="invalid literal/lengths set",d.mode=BAD;break}if(d.distbits=6,d.distcode=d.distdyn,et={bits:d.distbits},ze=inftrees(DISTS,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,et),d.distbits=et.bits,ze){u.msg="invalid distances set",d.mode=BAD;break}if(d.mode=LEN_,a===Z_TREES)break e;case LEN_:d.mode=LEN;case LEN:if(b>=6&&re>=258){u.next_out=te,u.avail_out=re,u.next_in=ee,u.avail_in=b,d.hold=ne,d.bits=ie,inffast(u,fe),te=u.next_out,$=u.output,re=u.avail_out,ee=u.next_in,m=u.input,b=u.avail_in,ne=d.hold,ie=d.bits,d.mode===TYPE&&(d.back=-1);break}for(d.back=0;ge=d.lencode[ne&(1<<d.lenbits)-1],_e=ge>>>24,Ee=ge>>>16&255,Ae=ge&65535,!(_e<=ie);){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if(Ee&&(Ee&240)===0){for(we=_e,Me=Ee,ke=Ae;ge=d.lencode[ke+((ne&(1<<we+Me)-1)>>we)],_e=ge>>>24,Ee=ge>>>16&255,Ae=ge&65535,!(we+_e<=ie);){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}ne>>>=we,ie-=we,d.back+=we}if(ne>>>=_e,ie-=_e,d.back+=_e,d.length=Ae,Ee===0){d.mode=LIT;break}if(Ee&32){d.back=-1,d.mode=TYPE;break}if(Ee&64){u.msg="invalid literal/length code",d.mode=BAD;break}d.extra=Ee&15,d.mode=LENEXT;case LENEXT:if(d.extra){for(Pe=d.extra;ie<Pe;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}d.length+=ne&(1<<d.extra)-1,ne>>>=d.extra,ie-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=DIST;case DIST:for(;ge=d.distcode[ne&(1<<d.distbits)-1],_e=ge>>>24,Ee=ge>>>16&255,Ae=ge&65535,!(_e<=ie);){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if((Ee&240)===0){for(we=_e,Me=Ee,ke=Ae;ge=d.distcode[ke+((ne&(1<<we+Me)-1)>>we)],_e=ge>>>24,Ee=ge>>>16&255,Ae=ge&65535,!(we+_e<=ie);){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}ne>>>=we,ie-=we,d.back+=we}if(ne>>>=_e,ie-=_e,d.back+=_e,Ee&64){u.msg="invalid distance code",d.mode=BAD;break}d.offset=Ae,d.extra=Ee&15,d.mode=DISTEXT;case DISTEXT:if(d.extra){for(Pe=d.extra;ie<Pe;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}d.offset+=ne&(1<<d.extra)-1,ne>>>=d.extra,ie-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){u.msg="invalid distance too far back",d.mode=BAD;break}d.mode=MATCH;case MATCH:if(re===0)break e;if(ce=fe-re,d.offset>ce){if(ce=d.offset-ce,ce>d.whave&&d.sane){u.msg="invalid distance too far back",d.mode=BAD;break}ce>d.wnext?(ce-=d.wnext,de=d.wsize-ce):de=d.wnext-ce,ce>d.length&&(ce=d.length),ye=d.window}else ye=$,de=te-d.offset,ce=d.length;ce>re&&(ce=re),re-=ce,d.length-=ce;do $[te++]=ye[de++];while(--ce);d.length===0&&(d.mode=LEN);break;case LIT:if(re===0)break e;$[te++]=d.length,re--,d.mode=LEN;break;case CHECK:if(d.wrap){for(;ie<32;){if(b===0)break e;b--,ne|=m[ee++]<<ie,ie+=8}if(fe-=re,u.total_out+=fe,d.total+=fe,fe&&(u.adler=d.check=d.flags?crc32_1(d.check,$,fe,te-fe):adler32_1(d.check,$,fe,te-fe)),fe=re,(d.flags?ne:zswap32(ne))!==d.check){u.msg="incorrect data check",d.mode=BAD;break}ne=0,ie=0}d.mode=LENGTH;case LENGTH:if(d.wrap&&d.flags){for(;ie<32;){if(b===0)break e;b--,ne+=m[ee++]<<ie,ie+=8}if(ne!==(d.total&4294967295)){u.msg="incorrect length check",d.mode=BAD;break}ne=0,ie=0}d.mode=DONE;case DONE:ze=Z_STREAM_END$1;break e;case BAD:ze=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return u.next_out=te,u.avail_out=re,u.next_in=ee,u.avail_in=b,d.hold=ne,d.bits=ie,(d.wsize||fe!==u.avail_out&&d.mode<BAD&&(d.mode<CHECK||a!==Z_FINISH$1))&&updatewindow(u,u.output,u.next_out,fe-u.avail_out),se-=u.avail_in,fe-=u.avail_out,u.total_in+=se,u.total_out+=fe,d.total+=fe,d.wrap&&fe&&(u.adler=d.check=d.flags?crc32_1(d.check,$,fe,u.next_out-fe):adler32_1(d.check,$,fe,u.next_out-fe)),u.data_type=d.bits+(d.last?64:0)+(d.mode===TYPE?128:0)+(d.mode===LEN_||d.mode===COPY_?256:0),(se===0&&fe===0||a===Z_FINISH$1)&&ze===Z_OK$1&&(ze=Z_BUF_ERROR),ze},inflateEnd=u=>{if(!u||!u.state)return Z_STREAM_ERROR$1;let a=u.state;return a.window&&(a.window=null),u.state=null,Z_OK$1},inflateGetHeader=(u,a)=>{if(!u||!u.state)return Z_STREAM_ERROR$1;const d=u.state;return(d.wrap&2)===0?Z_STREAM_ERROR$1:(d.head=a,a.done=!1,Z_OK$1)},inflateSetDictionary=(u,a)=>{const d=a.length;let m,$,ee;return!u||!u.state||(m=u.state,m.wrap!==0&&m.mode!==DICT)?Z_STREAM_ERROR$1:m.mode===DICT&&($=1,$=adler32_1($,a,d,0),$!==m.check)?Z_DATA_ERROR$1:(ee=updatewindow(u,a,d,d),ee?(m.mode=MEM,Z_MEM_ERROR$1):(m.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString$2=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(u){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},u||{});const a=this.options;a.raw&&a.windowBits>=0&&a.windowBits<16&&(a.windowBits=-a.windowBits,a.windowBits===0&&(a.windowBits=-15)),a.windowBits>=0&&a.windowBits<16&&!(u&&u.windowBits)&&(a.windowBits+=32),a.windowBits>15&&a.windowBits<48&&(a.windowBits&15)===0&&(a.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let d=inflate_1$2.inflateInit2(this.strm,a.windowBits);if(d!==Z_OK)throw new Error(messages[d]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),a.dictionary&&(typeof a.dictionary=="string"?a.dictionary=strings.string2buf(a.dictionary):toString$2.call(a.dictionary)==="[object ArrayBuffer]"&&(a.dictionary=new Uint8Array(a.dictionary)),a.raw&&(d=inflate_1$2.inflateSetDictionary(this.strm,a.dictionary),d!==Z_OK)))throw new Error(messages[d])}Inflate$1.prototype.push=function(u,a){const d=this.strm,m=this.options.chunkSize,$=this.options.dictionary;let ee,te,b;if(this.ended)return!1;for(a===~~a?te=a:te=a===!0?Z_FINISH:Z_NO_FLUSH,toString$2.call(u)==="[object ArrayBuffer]"?d.input=new Uint8Array(u):d.input=u,d.next_in=0,d.avail_in=d.input.length;;){for(d.avail_out===0&&(d.output=new Uint8Array(m),d.next_out=0,d.avail_out=m),ee=inflate_1$2.inflate(d,te),ee===Z_NEED_DICT&&$&&(ee=inflate_1$2.inflateSetDictionary(d,$),ee===Z_OK?ee=inflate_1$2.inflate(d,te):ee===Z_DATA_ERROR&&(ee=Z_NEED_DICT));d.avail_in>0&&ee===Z_STREAM_END&&d.state.wrap>0&&u[d.next_in]!==0;)inflate_1$2.inflateReset(d),ee=inflate_1$2.inflate(d,te);switch(ee){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(ee),this.ended=!0,!1}if(b=d.avail_out,d.next_out&&(d.avail_out===0||ee===Z_STREAM_END))if(this.options.to==="string"){let re=strings.utf8border(d.output,d.next_out),ne=d.next_out-re,ie=strings.buf2string(d.output,re);d.next_out=ne,d.avail_out=m-ne,ne&&d.output.set(d.output.subarray(re,re+ne),0),this.onData(ie)}else this.onData(d.output.length===d.next_out?d.output:d.output.subarray(0,d.next_out));if(!(ee===Z_OK&&b===0)){if(ee===Z_STREAM_END)return ee=inflate_1$2.inflateEnd(this.strm),this.onEnd(ee),this.ended=!0,!0;if(d.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(u){this.chunks.push(u)};Inflate$1.prototype.onEnd=function(u){u===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg};lib.struct([lib.publicKey("authority"),lib.vecU8("data")]);var assert$1={exports:{}},errors={},util={},types$1={},shams$1=function u(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var a={},d=Symbol("test"),m=Object(d);if(typeof d=="string"||Object.prototype.toString.call(d)!=="[object Symbol]"||Object.prototype.toString.call(m)!=="[object Symbol]")return!1;var $=42;a[d]=$;for(d in a)return!1;if(typeof Object.keys=="function"&&Object.keys(a).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(a).length!==0)return!1;var ee=Object.getOwnPropertySymbols(a);if(ee.length!==1||ee[0]!==d||!Object.prototype.propertyIsEnumerable.call(a,d))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var te=Object.getOwnPropertyDescriptor(a,d);if(te.value!==$||te.enumerable!==!0)return!1}return!0},hasSymbols$1=shams$1,shams=function u(){return hasSymbols$1()&&!!Symbol.toStringTag},hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var u=typeof Symbol<"u"&&Symbol,a=shams$1;return hasSymbols=function(){return typeof u!="function"||typeof Symbol!="function"||typeof u("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:a()},hasSymbols}var implementation$3,hasRequiredImplementation$3;function requireImplementation$3(){if(hasRequiredImplementation$3)return implementation$3;hasRequiredImplementation$3=1;var u="Function.prototype.bind called on incompatible ",a=Array.prototype.slice,d=Object.prototype.toString,m="[object Function]";return implementation$3=function(ee){var te=this;if(typeof te!="function"||d.call(te)!==m)throw new TypeError(u+te);for(var b=a.call(arguments,1),re,ne=function(){if(this instanceof re){var de=te.apply(this,b.concat(a.call(arguments)));return Object(de)===de?de:this}else return te.apply(ee,b.concat(a.call(arguments)))},ie=Math.max(0,te.length-b.length),se=[],fe=0;fe<ie;fe++)se.push("$"+fe);if(re=Function("binder","return function ("+se.join(",")+"){ return binder.apply(this,arguments); }")(ne),te.prototype){var ce=function(){};ce.prototype=te.prototype,re.prototype=new ce,ce.prototype=null}return re},implementation$3}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var u=requireImplementation$3();return functionBind=Function.prototype.bind||u,functionBind}var src$2,hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src$2;hasRequiredSrc=1;var u=requireFunctionBind();return src$2=u.call(Function.call,Object.prototype.hasOwnProperty),src$2}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var u,a=SyntaxError,d=Function,m=TypeError,$=function(et){try{return d('"use strict"; return ('+et+").constructor;")()}catch{}},ee=Object.getOwnPropertyDescriptor;if(ee)try{ee({},"")}catch{ee=null}var te=function(){throw new m},b=ee?function(){try{return arguments.callee,te}catch{try{return ee(arguments,"callee").get}catch{return te}}}():te,re=requireHasSymbols()(),ne=Object.getPrototypeOf||function(et){return et.__proto__},ie={},se=typeof Uint8Array>"u"?u:ne(Uint8Array),fe={"%AggregateError%":typeof AggregateError>"u"?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayIteratorPrototype%":re?ne([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":ie,"%AsyncGenerator%":ie,"%AsyncGeneratorFunction%":ie,"%AsyncIteratorPrototype%":ie,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%BigInt%":typeof BigInt>"u"?u:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?u:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":ie,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":re?ne(ne([][Symbol.iterator]())):u,"%JSON%":typeof JSON=="object"?JSON:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map>"u"||!re?u:ne(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set>"u"||!re?u:ne(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":re?ne(""[Symbol.iterator]()):u,"%Symbol%":re?Symbol:u,"%SyntaxError%":a,"%ThrowTypeError%":b,"%TypedArray%":se,"%TypeError%":m,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakRef%":typeof WeakRef>"u"?u:WeakRef,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet},ce=function et(Pe){var ve;if(Pe==="%AsyncFunction%")ve=$("async function () {}");else if(Pe==="%GeneratorFunction%")ve=$("function* () {}");else if(Pe==="%AsyncGeneratorFunction%")ve=$("async function* () {}");else if(Pe==="%AsyncGenerator%"){var le=et("%AsyncGeneratorFunction%");le&&(ve=le.prototype)}else if(Pe==="%AsyncIteratorPrototype%"){var ae=et("%AsyncGenerator%");ae&&(ve=ne(ae.prototype))}return fe[Pe]=ve,ve},de={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ye=requireFunctionBind(),ge=requireSrc(),_e=ye.call(Function.call,Array.prototype.concat),Ee=ye.call(Function.apply,Array.prototype.splice),Ae=ye.call(Function.call,String.prototype.replace),we=ye.call(Function.call,String.prototype.slice),Me=ye.call(Function.call,RegExp.prototype.exec),ke=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Re=/\\(\\)?/g,ze=function(Pe){var ve=we(Pe,0,1),le=we(Pe,-1);if(ve==="%"&&le!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(le==="%"&&ve!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var ae=[];return Ae(Pe,ke,function(he,xe,$e,He){ae[ae.length]=$e?Ae(He,Re,"$1"):xe||he}),ae},Je=function(Pe,ve){var le=Pe,ae;if(ge(de,le)&&(ae=de[le],le="%"+ae[0]+"%"),ge(fe,le)){var he=fe[le];if(he===ie&&(he=ce(le)),typeof he>"u"&&!ve)throw new m("intrinsic "+Pe+" exists, but is not available. Please file an issue!");return{alias:ae,name:le,value:he}}throw new a("intrinsic "+Pe+" does not exist!")};return getIntrinsic=function(Pe,ve){if(typeof Pe!="string"||Pe.length===0)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ve!="boolean")throw new m('"allowMissing" argument must be a boolean');if(Me(/^%?[^%]*%?$/g,Pe)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var le=ze(Pe),ae=le.length>0?le[0]:"",he=Je("%"+ae+"%",ve),xe=he.name,$e=he.value,He=!1,Fe=he.alias;Fe&&(ae=Fe[0],Ee(le,_e([0,1],Fe)));for(var Ne=1,De=!0;Ne<le.length;Ne+=1){var pe=le[Ne],Le=we(pe,0,1),Be=we(pe,-1);if((Le==='"'||Le==="'"||Le==="`"||Be==='"'||Be==="'"||Be==="`")&&Le!==Be)throw new a("property names with quotes must have matching quotes");if((pe==="constructor"||!De)&&(He=!0),ae+="."+pe,xe="%"+ae+"%",ge(fe,xe))$e=fe[xe];else if($e!=null){if(!(pe in $e)){if(!ve)throw new m("base intrinsic for "+Pe+" exists, but the property is not available.");return}if(ee&&Ne+1>=le.length){var Ce=ee($e,pe);De=!!Ce,De&&"get"in Ce&&!("originalValue"in Ce.get)?$e=Ce.get:$e=$e[pe]}else De=ge($e,pe),$e=$e[pe];De&&!He&&(fe[xe]=$e)}}return $e},getIntrinsic}var callBind$1={exports:{}},hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,function(u){var a=requireFunctionBind(),d=requireGetIntrinsic(),m=d("%Function.prototype.apply%"),$=d("%Function.prototype.call%"),ee=d("%Reflect.apply%",!0)||a.call($,m),te=d("%Object.getOwnPropertyDescriptor%",!0),b=d("%Object.defineProperty%",!0),re=d("%Math.max%");if(b)try{b({},"a",{value:1})}catch{b=null}u.exports=function(se){var fe=ee(a,$,arguments);if(te&&b){var ce=te(fe,"length");ce.configurable&&b(fe,"length",{value:1+re(0,se.length-(arguments.length-1))})}return fe};var ne=function(){return ee(a,m,arguments)};b?b(u.exports,"apply",{value:ne}):u.exports.apply=ne}(callBind$1)),callBind$1.exports}var GetIntrinsic=requireGetIntrinsic(),callBind=requireCallBind(),$indexOf$1=callBind(GetIntrinsic("String.prototype.indexOf")),callBound$3=function u(a,d){var m=GetIntrinsic(a,!!d);return typeof m=="function"&&$indexOf$1(a,".prototype.")>-1?callBind(m):m},hasToStringTag$4=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function u(a){return hasToStringTag$4&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:$toString$2(a)==="[object Arguments]"},isLegacyArguments=function u(a){return isStandardArguments(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&$toString$2(a)!=="[object Array]"&&$toString$2(a.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$3=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$2=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$3=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$3)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function u(a){if(typeof a!="function")return!1;if(isFnRegex.test(fnToStr$1.call(a)))return!0;if(!hasToStringTag$3){var d=toStr$2.call(a);return d==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var m=getGeneratorFunc();GeneratorFunction=m?getProto(m):!1}return getProto(a)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(u){u!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function u(a){try{var d=fnToStr.call(a);return constructorRegex.test(d)}catch{return!1}},tryFunctionObject=function u(a){try{return isES6ClassFn(a)?!1:(fnToStr.call(a),!0)}catch{return!1}},toStr$1=Object.prototype.toString,fnClass="[object Function]",genClass="[object GeneratorFunction]",hasToStringTag$2=typeof Symbol=="function"&&!!Symbol.toStringTag,documentDotAll=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},isCallable$1=reflectApply?function u(a){if(a===documentDotAll)return!0;if(!a||typeof a!="function"&&typeof a!="object")return!1;if(typeof a=="function"&&!a.prototype)return!0;try{reflectApply(a,null,badArrayLike)}catch(d){if(d!==isCallableMarker)return!1}return!isES6ClassFn(a)}:function u(a){if(a===documentDotAll)return!0;if(!a||typeof a!="function"&&typeof a!="object")return!1;if(typeof a=="function"&&!a.prototype)return!0;if(hasToStringTag$2)return tryFunctionObject(a);if(isES6ClassFn(a))return!1;var d=toStr$1.call(a);return d===fnClass||d===genClass},isCallable=isCallable$1,toStr=Object.prototype.toString,hasOwnProperty$1=Object.prototype.hasOwnProperty,forEachArray=function u(a,d,m){for(var $=0,ee=a.length;$<ee;$++)hasOwnProperty$1.call(a,$)&&(m==null?d(a[$],$,a):d.call(m,a[$],$,a))},forEachString=function u(a,d,m){for(var $=0,ee=a.length;$<ee;$++)m==null?d(a.charAt($),$,a):d.call(m,a.charAt($),$,a)},forEachObject=function u(a,d,m){for(var $ in a)hasOwnProperty$1.call(a,$)&&(m==null?d(a[$],$,a):d.call(m,a[$],$,a))},forEach$2=function u(a,d,m){if(!isCallable(d))throw new TypeError("iterator must be a function");var $;arguments.length>=3&&($=m),toStr.call(a)==="[object Array]"?forEachArray(a,d,$):typeof a=="string"?forEachString(a,d,$):forEachObject(a,d,$)},forEach_1=forEach$2,possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g$2=typeof globalThis>"u"?commonjsGlobal$1:globalThis,availableTypedArrays$2=function u(){for(var a=[],d=0;d<possibleNames.length;d++)typeof g$2[possibleNames[d]]=="function"&&(a[a.length]=possibleNames[d]);return a},getOwnPropertyDescriptor,hasRequiredGetOwnPropertyDescriptor;function requireGetOwnPropertyDescriptor(){if(hasRequiredGetOwnPropertyDescriptor)return getOwnPropertyDescriptor;hasRequiredGetOwnPropertyDescriptor=1;var u=requireGetIntrinsic(),a=u("%Object.getOwnPropertyDescriptor%",!0);if(a)try{a([],"length")}catch{a=null}return getOwnPropertyDescriptor=a,getOwnPropertyDescriptor}var forEach$1=forEach_1,availableTypedArrays$1=availableTypedArrays$2,callBound$1=callBound$3,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag$1=shams(),g$1=typeof globalThis>"u"?commonjsGlobal$1:globalThis,typedArrays$1=availableTypedArrays$1(),$indexOf=callBound$1("Array.prototype.indexOf",!0)||function u(a,d){for(var m=0;m<a.length;m+=1)if(a[m]===d)return m;return-1},$slice$1=callBound$1("String.prototype.slice"),toStrTags$1={},gOPD$1=requireGetOwnPropertyDescriptor(),getPrototypeOf$1=Object.getPrototypeOf;hasToStringTag$1&&gOPD$1&&getPrototypeOf$1&&forEach$1(typedArrays$1,function(u){var a=new g$1[u];if(Symbol.toStringTag in a){var d=getPrototypeOf$1(a),m=gOPD$1(d,Symbol.toStringTag);if(!m){var $=getPrototypeOf$1(d);m=gOPD$1($,Symbol.toStringTag)}toStrTags$1[u]=m.get}});var tryTypedArrays$1=function u(a){var d=!1;return forEach$1(toStrTags$1,function(m,$){if(!d)try{d=m.call(a)===$}catch{}}),d},isTypedArray$3=function u(a){if(!a||typeof a!="object")return!1;if(!hasToStringTag$1||!(Symbol.toStringTag in a)){var d=$slice$1($toString$1(a),8,-1);return $indexOf(typedArrays$1,d)>-1}return gOPD$1?tryTypedArrays$1(a):!1},forEach=forEach_1,availableTypedArrays=availableTypedArrays$2,callBound=callBound$3,$toString=callBound("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal$1:globalThis,typedArrays=availableTypedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=requireGetOwnPropertyDescriptor(),getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(u){if(typeof g[u]=="function"){var a=new g[u];if(Symbol.toStringTag in a){var d=getPrototypeOf(a),m=gOPD(d,Symbol.toStringTag);if(!m){var $=getPrototypeOf(d);m=gOPD($,Symbol.toStringTag)}toStrTags[u]=m.get}}});var tryTypedArrays=function u(a){var d=!1;return forEach(toStrTags,function(m,$){if(!d)try{var ee=m.call(a);ee===$&&(d=ee)}catch{}}),d},isTypedArray$2=isTypedArray$3,whichTypedArray=function u(a){return isTypedArray$2(a)?!hasToStringTag||!(Symbol.toStringTag in a)?$slice($toString(a),8,-1):tryTypedArrays(a):!1};(function(u){var a=isArguments$3,d=isGeneratorFunction,m=whichTypedArray,$=isTypedArray$3;function ee(xt){return xt.call.bind(xt)}var te=typeof BigInt<"u",b=typeof Symbol<"u",re=ee(Object.prototype.toString),ne=ee(Number.prototype.valueOf),ie=ee(String.prototype.valueOf),se=ee(Boolean.prototype.valueOf);if(te)var fe=ee(BigInt.prototype.valueOf);if(b)var ce=ee(Symbol.prototype.valueOf);function de(xt,$t){if(typeof xt!="object")return!1;try{return $t(xt),!0}catch{return!1}}u.isArgumentsObject=a,u.isGeneratorFunction=d,u.isTypedArray=$;function ye(xt){return typeof Promise<"u"&&xt instanceof Promise||xt!==null&&typeof xt=="object"&&typeof xt.then=="function"&&typeof xt.catch=="function"}u.isPromise=ye;function ge(xt){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(xt):$(xt)||Le(xt)}u.isArrayBufferView=ge;function _e(xt){return m(xt)==="Uint8Array"}u.isUint8Array=_e;function Ee(xt){return m(xt)==="Uint8ClampedArray"}u.isUint8ClampedArray=Ee;function Ae(xt){return m(xt)==="Uint16Array"}u.isUint16Array=Ae;function we(xt){return m(xt)==="Uint32Array"}u.isUint32Array=we;function Me(xt){return m(xt)==="Int8Array"}u.isInt8Array=Me;function ke(xt){return m(xt)==="Int16Array"}u.isInt16Array=ke;function Re(xt){return m(xt)==="Int32Array"}u.isInt32Array=Re;function ze(xt){return m(xt)==="Float32Array"}u.isFloat32Array=ze;function Je(xt){return m(xt)==="Float64Array"}u.isFloat64Array=Je;function et(xt){return m(xt)==="BigInt64Array"}u.isBigInt64Array=et;function Pe(xt){return m(xt)==="BigUint64Array"}u.isBigUint64Array=Pe;function ve(xt){return re(xt)==="[object Map]"}ve.working=typeof Map<"u"&&ve(new Map);function le(xt){return typeof Map>"u"?!1:ve.working?ve(xt):xt instanceof Map}u.isMap=le;function ae(xt){return re(xt)==="[object Set]"}ae.working=typeof Set<"u"&&ae(new Set);function he(xt){return typeof Set>"u"?!1:ae.working?ae(xt):xt instanceof Set}u.isSet=he;function xe(xt){return re(xt)==="[object WeakMap]"}xe.working=typeof WeakMap<"u"&&xe(new WeakMap);function $e(xt){return typeof WeakMap>"u"?!1:xe.working?xe(xt):xt instanceof WeakMap}u.isWeakMap=$e;function He(xt){return re(xt)==="[object WeakSet]"}He.working=typeof WeakSet<"u"&&He(new WeakSet);function Fe(xt){return He(xt)}u.isWeakSet=Fe;function Ne(xt){return re(xt)==="[object ArrayBuffer]"}Ne.working=typeof ArrayBuffer<"u"&&Ne(new ArrayBuffer);function De(xt){return typeof ArrayBuffer>"u"?!1:Ne.working?Ne(xt):xt instanceof ArrayBuffer}u.isArrayBuffer=De;function pe(xt){return re(xt)==="[object DataView]"}pe.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&pe(new DataView(new ArrayBuffer(1),0,1));function Le(xt){return typeof DataView>"u"?!1:pe.working?pe(xt):xt instanceof DataView}u.isDataView=Le;var Be=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Ce(xt){return re(xt)==="[object SharedArrayBuffer]"}function Ze(xt){return typeof Be>"u"?!1:(typeof Ce.working>"u"&&(Ce.working=Ce(new Be)),Ce.working?Ce(xt):xt instanceof Be)}u.isSharedArrayBuffer=Ze;function it(xt){return re(xt)==="[object AsyncFunction]"}u.isAsyncFunction=it;function rt(xt){return re(xt)==="[object Map Iterator]"}u.isMapIterator=rt;function Oe(xt){return re(xt)==="[object Set Iterator]"}u.isSetIterator=Oe;function Ve(xt){return re(xt)==="[object Generator]"}u.isGeneratorObject=Ve;function We(xt){return re(xt)==="[object WebAssembly.Module]"}u.isWebAssemblyCompiledModule=We;function qe(xt){return de(xt,ne)}u.isNumberObject=qe;function Ge(xt){return de(xt,ie)}u.isStringObject=Ge;function Qe(xt){return de(xt,se)}u.isBooleanObject=Qe;function ct(xt){return te&&de(xt,fe)}u.isBigIntObject=ct;function ft(xt){return b&&de(xt,ce)}u.isSymbolObject=ft;function bt(xt){return qe(xt)||Ge(xt)||Qe(xt)||ct(xt)||ft(xt)}u.isBoxedPrimitive=bt;function St(xt){return typeof Uint8Array<"u"&&(De(xt)||Ze(xt))}u.isAnyArrayBuffer=St,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(xt){Object.defineProperty(u,xt,{enumerable:!1,value:function(){throw new Error(xt+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function u(a){return a&&typeof a=="object"&&typeof a.copy=="function"&&typeof a.fill=="function"&&typeof a.readUInt8=="function"};(function(u){var a=Object.getOwnPropertyDescriptors||function(Le){for(var Be=Object.keys(Le),Ce={},Ze=0;Ze<Be.length;Ze++)Ce[Be[Ze]]=Object.getOwnPropertyDescriptor(Le,Be[Ze]);return Ce},d=/%[sdj%]/g;u.format=function(pe){if(!Me(pe)){for(var Le=[],Be=0;Be<arguments.length;Be++)Le.push(te(arguments[Be]));return Le.join(" ")}for(var Be=1,Ce=arguments,Ze=Ce.length,it=String(pe).replace(d,function(Oe){if(Oe==="%%")return"%";if(Be>=Ze)return Oe;switch(Oe){case"%s":return String(Ce[Be++]);case"%d":return Number(Ce[Be++]);case"%j":try{return JSON.stringify(Ce[Be++])}catch{return"[Circular]"}default:return Oe}}),rt=Ce[Be];Be<Ze;rt=Ce[++Be])Ee(rt)||!Je(rt)?it+=" "+rt:it+=" "+te(rt);return it},u.deprecate=function(pe,Le){if(typeof process<"u"&&process.noDeprecation===!0)return pe;if(typeof process>"u")return function(){return u.deprecate(pe,Le).apply(this,arguments)};var Be=!1;function Ce(){if(!Be){if(process.throwDeprecation)throw new Error(Le);process.traceDeprecation?console.trace(Le):console.error(Le),Be=!0}return pe.apply(this,arguments)}return Ce};var m={},$=/^$/;if(process.env.NODE_DEBUG){var ee=process.env.NODE_DEBUG;ee=ee.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),$=new RegExp("^"+ee+"$","i")}u.debuglog=function(pe){if(pe=pe.toUpperCase(),!m[pe])if($.test(pe)){var Le=process.pid;m[pe]=function(){var Be=u.format.apply(u,arguments);console.error("%s %d: %s",pe,Le,Be)}}else m[pe]=function(){};return m[pe]};function te(pe,Le){var Be={seen:[],stylize:re};return arguments.length>=3&&(Be.depth=arguments[2]),arguments.length>=4&&(Be.colors=arguments[3]),_e(Le)?Be.showHidden=Le:Le&&u._extend(Be,Le),Re(Be.showHidden)&&(Be.showHidden=!1),Re(Be.depth)&&(Be.depth=2),Re(Be.colors)&&(Be.colors=!1),Re(Be.customInspect)&&(Be.customInspect=!0),Be.colors&&(Be.stylize=b),ie(Be,pe,Be.depth)}u.inspect=te,te.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},te.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function b(pe,Le){var Be=te.styles[Le];return Be?"\x1B["+te.colors[Be][0]+"m"+pe+"\x1B["+te.colors[Be][1]+"m":pe}function re(pe,Le){return pe}function ne(pe){var Le={};return pe.forEach(function(Be,Ce){Le[Be]=!0}),Le}function ie(pe,Le,Be){if(pe.customInspect&&Le&&ve(Le.inspect)&&Le.inspect!==u.inspect&&!(Le.constructor&&Le.constructor.prototype===Le)){var Ce=Le.inspect(Be,pe);return Me(Ce)||(Ce=ie(pe,Ce,Be)),Ce}var Ze=se(pe,Le);if(Ze)return Ze;var it=Object.keys(Le),rt=ne(it);if(pe.showHidden&&(it=Object.getOwnPropertyNames(Le)),Pe(Le)&&(it.indexOf("message")>=0||it.indexOf("description")>=0))return fe(Le);if(it.length===0){if(ve(Le)){var Oe=Le.name?": "+Le.name:"";return pe.stylize("[Function"+Oe+"]","special")}if(ze(Le))return pe.stylize(RegExp.prototype.toString.call(Le),"regexp");if(et(Le))return pe.stylize(Date.prototype.toString.call(Le),"date");if(Pe(Le))return fe(Le)}var Ve="",We=!1,qe=["{","}"];if(ge(Le)&&(We=!0,qe=["[","]"]),ve(Le)){var Ge=Le.name?": "+Le.name:"";Ve=" [Function"+Ge+"]"}if(ze(Le)&&(Ve=" "+RegExp.prototype.toString.call(Le)),et(Le)&&(Ve=" "+Date.prototype.toUTCString.call(Le)),Pe(Le)&&(Ve=" "+fe(Le)),it.length===0&&(!We||Le.length==0))return qe[0]+Ve+qe[1];if(Be<0)return ze(Le)?pe.stylize(RegExp.prototype.toString.call(Le),"regexp"):pe.stylize("[Object]","special");pe.seen.push(Le);var Qe;return We?Qe=ce(pe,Le,Be,rt,it):Qe=it.map(function(ct){return de(pe,Le,Be,rt,ct,We)}),pe.seen.pop(),ye(Qe,Ve,qe)}function se(pe,Le){if(Re(Le))return pe.stylize("undefined","undefined");if(Me(Le)){var Be="'"+JSON.stringify(Le).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return pe.stylize(Be,"string")}if(we(Le))return pe.stylize(""+Le,"number");if(_e(Le))return pe.stylize(""+Le,"boolean");if(Ee(Le))return pe.stylize("null","null")}function fe(pe){return"["+Error.prototype.toString.call(pe)+"]"}function ce(pe,Le,Be,Ce,Ze){for(var it=[],rt=0,Oe=Le.length;rt<Oe;++rt)He(Le,String(rt))?it.push(de(pe,Le,Be,Ce,String(rt),!0)):it.push("");return Ze.forEach(function(Ve){Ve.match(/^\d+$/)||it.push(de(pe,Le,Be,Ce,Ve,!0))}),it}function de(pe,Le,Be,Ce,Ze,it){var rt,Oe,Ve;if(Ve=Object.getOwnPropertyDescriptor(Le,Ze)||{value:Le[Ze]},Ve.get?Ve.set?Oe=pe.stylize("[Getter/Setter]","special"):Oe=pe.stylize("[Getter]","special"):Ve.set&&(Oe=pe.stylize("[Setter]","special")),He(Ce,Ze)||(rt="["+Ze+"]"),Oe||(pe.seen.indexOf(Ve.value)<0?(Ee(Be)?Oe=ie(pe,Ve.value,null):Oe=ie(pe,Ve.value,Be-1),Oe.indexOf(`
`)>-1&&(it?Oe=Oe.split(`
`).map(function(We){return"  "+We}).join(`
`).substr(2):Oe=`
`+Oe.split(`
`).map(function(We){return"   "+We}).join(`
`))):Oe=pe.stylize("[Circular]","special")),Re(rt)){if(it&&Ze.match(/^\d+$/))return Oe;rt=JSON.stringify(""+Ze),rt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(rt=rt.substr(1,rt.length-2),rt=pe.stylize(rt,"name")):(rt=rt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),rt=pe.stylize(rt,"string"))}return rt+": "+Oe}function ye(pe,Le,Be){var Ce=pe.reduce(function(Ze,it){return it.indexOf(`
`)>=0,Ze+it.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ce>60?Be[0]+(Le===""?"":Le+`
 `)+" "+pe.join(`,
  `)+" "+Be[1]:Be[0]+Le+" "+pe.join(", ")+" "+Be[1]}u.types=types$1;function ge(pe){return Array.isArray(pe)}u.isArray=ge;function _e(pe){return typeof pe=="boolean"}u.isBoolean=_e;function Ee(pe){return pe===null}u.isNull=Ee;function Ae(pe){return pe==null}u.isNullOrUndefined=Ae;function we(pe){return typeof pe=="number"}u.isNumber=we;function Me(pe){return typeof pe=="string"}u.isString=Me;function ke(pe){return typeof pe=="symbol"}u.isSymbol=ke;function Re(pe){return pe===void 0}u.isUndefined=Re;function ze(pe){return Je(pe)&&ae(pe)==="[object RegExp]"}u.isRegExp=ze,u.types.isRegExp=ze;function Je(pe){return typeof pe=="object"&&pe!==null}u.isObject=Je;function et(pe){return Je(pe)&&ae(pe)==="[object Date]"}u.isDate=et,u.types.isDate=et;function Pe(pe){return Je(pe)&&(ae(pe)==="[object Error]"||pe instanceof Error)}u.isError=Pe,u.types.isNativeError=Pe;function ve(pe){return typeof pe=="function"}u.isFunction=ve;function le(pe){return pe===null||typeof pe=="boolean"||typeof pe=="number"||typeof pe=="string"||typeof pe=="symbol"||typeof pe>"u"}u.isPrimitive=le,u.isBuffer=isBufferBrowser;function ae(pe){return Object.prototype.toString.call(pe)}function he(pe){return pe<10?"0"+pe.toString(10):pe.toString(10)}var xe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function $e(){var pe=new Date,Le=[he(pe.getHours()),he(pe.getMinutes()),he(pe.getSeconds())].join(":");return[pe.getDate(),xe[pe.getMonth()],Le].join(" ")}u.log=function(){console.log("%s - %s",$e(),u.format.apply(u,arguments))},u.inherits=inherits_browser$1.exports,u._extend=function(pe,Le){if(!Le||!Je(Le))return pe;for(var Be=Object.keys(Le),Ce=Be.length;Ce--;)pe[Be[Ce]]=Le[Be[Ce]];return pe};function He(pe,Le){return Object.prototype.hasOwnProperty.call(pe,Le)}var Fe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;u.promisify=function(Le){if(typeof Le!="function")throw new TypeError('The "original" argument must be of type Function');if(Fe&&Le[Fe]){var Be=Le[Fe];if(typeof Be!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Be,Fe,{value:Be,enumerable:!1,writable:!1,configurable:!0}),Be}function Be(){for(var Ce,Ze,it=new Promise(function(Ve,We){Ce=Ve,Ze=We}),rt=[],Oe=0;Oe<arguments.length;Oe++)rt.push(arguments[Oe]);rt.push(function(Ve,We){Ve?Ze(Ve):Ce(We)});try{Le.apply(this,rt)}catch(Ve){Ze(Ve)}return it}return Object.setPrototypeOf(Be,Object.getPrototypeOf(Le)),Fe&&Object.defineProperty(Be,Fe,{value:Be,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Be,a(Le))},u.promisify.custom=Fe;function Ne(pe,Le){if(!pe){var Be=new Error("Promise was rejected with a falsy value");Be.reason=pe,pe=Be}return Le(pe)}function De(pe){if(typeof pe!="function")throw new TypeError('The "original" argument must be of type Function');function Le(){for(var Be=[],Ce=0;Ce<arguments.length;Ce++)Be.push(arguments[Ce]);var Ze=Be.pop();if(typeof Ze!="function")throw new TypeError("The last argument must be of type Function");var it=this,rt=function(){return Ze.apply(it,arguments)};pe.apply(this,Be).then(function(Oe){process.nextTick(rt.bind(null,null,Oe))},function(Oe){process.nextTick(Ne.bind(null,Oe,rt))})}return Object.setPrototypeOf(Le,Object.getPrototypeOf(pe)),Object.defineProperties(Le,a(pe)),Le}u.callbackify=De})(util);var hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function u(ye){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(_e){return typeof _e}:u=function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},u(ye)}function a(ye,ge){if(!(ye instanceof ge))throw new TypeError("Cannot call a class as a function")}function d(ye,ge){return ge&&(u(ge)==="object"||typeof ge=="function")?ge:m(ye)}function m(ye){if(ye===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ye}function $(ye){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(_e){return _e.__proto__||Object.getPrototypeOf(_e)},$(ye)}function ee(ye,ge){if(typeof ge!="function"&&ge!==null)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(ge&&ge.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),ge&&te(ye,ge)}function te(ye,ge){return te=Object.setPrototypeOf||function(Ee,Ae){return Ee.__proto__=Ae,Ee},te(ye,ge)}var b={},re,ne;function ie(ye,ge,_e){_e||(_e=Error);function Ee(we,Me,ke){return typeof ge=="string"?ge:ge(we,Me,ke)}var Ae=function(we){ee(Me,we);function Me(ke,Re,ze){var Je;return a(this,Me),Je=d(this,$(Me).call(this,Ee(ke,Re,ze))),Je.code=ye,Je}return Me}(_e);b[ye]=Ae}function se(ye,ge){if(Array.isArray(ye)){var _e=ye.length;return ye=ye.map(function(Ee){return String(Ee)}),_e>2?"one of ".concat(ge," ").concat(ye.slice(0,_e-1).join(", "),", or ")+ye[_e-1]:_e===2?"one of ".concat(ge," ").concat(ye[0]," or ").concat(ye[1]):"of ".concat(ge," ").concat(ye[0])}else return"of ".concat(ge," ").concat(String(ye))}function fe(ye,ge,_e){return ye.substr(!_e||_e<0?0:+_e,ge.length)===ge}function ce(ye,ge,_e){return(_e===void 0||_e>ye.length)&&(_e=ye.length),ye.substring(_e-ge.length,_e)===ge}function de(ye,ge,_e){return typeof _e!="number"&&(_e=0),_e+ge.length>ye.length?!1:ye.indexOf(ge,_e)!==-1}return ie("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),ie("ERR_INVALID_ARG_TYPE",function(ye,ge,_e){re===void 0&&(re=requireAssert()),re(typeof ye=="string","'name' must be a string");var Ee;typeof ge=="string"&&fe(ge,"not ")?(Ee="must not be",ge=ge.replace(/^not /,"")):Ee="must be";var Ae;if(ce(ye," argument"))Ae="The ".concat(ye," ").concat(Ee," ").concat(se(ge,"type"));else{var we=de(ye,".")?"property":"argument";Ae='The "'.concat(ye,'" ').concat(we," ").concat(Ee," ").concat(se(ge,"type"))}return Ae+=". Received type ".concat(u(_e)),Ae},TypeError),ie("ERR_INVALID_ARG_VALUE",function(ye,ge){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";ne===void 0&&(ne=util);var Ee=ne.inspect(ge);return Ee.length>128&&(Ee="".concat(Ee.slice(0,128),"...")),"The argument '".concat(ye,"' ").concat(_e,". Received ").concat(Ee)},TypeError),ie("ERR_INVALID_RETURN_VALUE",function(ye,ge,_e){var Ee;return _e&&_e.constructor&&_e.constructor.name?Ee="instance of ".concat(_e.constructor.name):Ee="type ".concat(u(_e)),"Expected ".concat(ye,' to be returned from the "').concat(ge,'"')+" function but got ".concat(Ee,".")},TypeError),ie("ERR_MISSING_ARGS",function(){for(var ye=arguments.length,ge=new Array(ye),_e=0;_e<ye;_e++)ge[_e]=arguments[_e];re===void 0&&(re=requireAssert()),re(ge.length>0,"At least one arg needs to be specified");var Ee="The ",Ae=ge.length;switch(ge=ge.map(function(we){return'"'.concat(we,'"')}),Ae){case 1:Ee+="".concat(ge[0]," argument");break;case 2:Ee+="".concat(ge[0]," and ").concat(ge[1]," arguments");break;default:Ee+=ge.slice(0,Ae-1).join(", "),Ee+=", and ".concat(ge[Ae-1]," arguments");break}return"".concat(Ee," must be specified")},TypeError),errors.codes=b,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function u(he){for(var xe=1;xe<arguments.length;xe++){var $e=arguments[xe]!=null?arguments[xe]:{},He=Object.keys($e);typeof Object.getOwnPropertySymbols=="function"&&(He=He.concat(Object.getOwnPropertySymbols($e).filter(function(Fe){return Object.getOwnPropertyDescriptor($e,Fe).enumerable}))),He.forEach(function(Fe){a(he,Fe,$e[Fe])})}return he}function a(he,xe,$e){return xe in he?Object.defineProperty(he,xe,{value:$e,enumerable:!0,configurable:!0,writable:!0}):he[xe]=$e,he}function d(he,xe){if(!(he instanceof xe))throw new TypeError("Cannot call a class as a function")}function m(he,xe){for(var $e=0;$e<xe.length;$e++){var He=xe[$e];He.enumerable=He.enumerable||!1,He.configurable=!0,"value"in He&&(He.writable=!0),Object.defineProperty(he,He.key,He)}}function $(he,xe,$e){return xe&&m(he.prototype,xe),$e&&m(he,$e),he}function ee(he,xe){return xe&&(de(xe)==="object"||typeof xe=="function")?xe:te(he)}function te(he){if(he===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return he}function b(he,xe){if(typeof xe!="function"&&xe!==null)throw new TypeError("Super expression must either be null or a function");he.prototype=Object.create(xe&&xe.prototype,{constructor:{value:he,writable:!0,configurable:!0}}),xe&&fe(he,xe)}function re(he){var xe=typeof Map=="function"?new Map:void 0;return re=function(He){if(He===null||!se(He))return He;if(typeof He!="function")throw new TypeError("Super expression must either be null or a function");if(typeof xe<"u"){if(xe.has(He))return xe.get(He);xe.set(He,Fe)}function Fe(){return ie(He,arguments,ce(this).constructor)}return Fe.prototype=Object.create(He.prototype,{constructor:{value:Fe,enumerable:!1,writable:!0,configurable:!0}}),fe(Fe,He)},re(he)}function ne(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ie(he,xe,$e){return ne()?ie=Reflect.construct:ie=function(Fe,Ne,De){var pe=[null];pe.push.apply(pe,Ne);var Le=Function.bind.apply(Fe,pe),Be=new Le;return De&&fe(Be,De.prototype),Be},ie.apply(null,arguments)}function se(he){return Function.toString.call(he).indexOf("[native code]")!==-1}function fe(he,xe){return fe=Object.setPrototypeOf||function(He,Fe){return He.__proto__=Fe,He},fe(he,xe)}function ce(he){return ce=Object.setPrototypeOf?Object.getPrototypeOf:function($e){return $e.__proto__||Object.getPrototypeOf($e)},ce(he)}function de(he){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?de=function($e){return typeof $e}:de=function($e){return $e&&typeof Symbol=="function"&&$e.constructor===Symbol&&$e!==Symbol.prototype?"symbol":typeof $e},de(he)}var ye=util,ge=ye.inspect,_e=requireErrors(),Ee=_e.codes.ERR_INVALID_ARG_TYPE;function Ae(he,xe,$e){return($e===void 0||$e>he.length)&&($e=he.length),he.substring($e-xe.length,$e)===xe}function we(he,xe){if(xe=Math.floor(xe),he.length==0||xe==0)return"";var $e=he.length*xe;for(xe=Math.floor(Math.log(xe)/Math.log(2));xe;)he+=he,xe--;return he+=he.substring(0,$e-he.length),he}var Me="",ke="",Re="",ze="",Je={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},et=10;function Pe(he){var xe=Object.keys(he),$e=Object.create(Object.getPrototypeOf(he));return xe.forEach(function(He){$e[He]=he[He]}),Object.defineProperty($e,"message",{value:he.message}),$e}function ve(he){return ge(he,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function le(he,xe,$e){var He="",Fe="",Ne=0,De="",pe=!1,Le=ve(he),Be=Le.split(`
`),Ce=ve(xe).split(`
`),Ze=0,it="";if($e==="strictEqual"&&de(he)==="object"&&de(xe)==="object"&&he!==null&&xe!==null&&($e="strictEqualObject"),Be.length===1&&Ce.length===1&&Be[0]!==Ce[0]){var rt=Be[0].length+Ce[0].length;if(rt<=et){if((de(he)!=="object"||he===null)&&(de(xe)!=="object"||xe===null)&&(he!==0||xe!==0))return"".concat(Je[$e],`

`)+"".concat(Be[0]," !== ").concat(Ce[0],`
`)}else if($e!=="strictEqualObject"){var Oe=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(rt<Oe){for(;Be[0][Ze]===Ce[0][Ze];)Ze++;Ze>2&&(it=`
  `.concat(we(" ",Ze),"^"),Ze=0)}}}for(var Ve=Be[Be.length-1],We=Ce[Ce.length-1];Ve===We&&(Ze++<2?De=`
  `.concat(Ve).concat(De):He=Ve,Be.pop(),Ce.pop(),!(Be.length===0||Ce.length===0));)Ve=Be[Be.length-1],We=Ce[Ce.length-1];var qe=Math.max(Be.length,Ce.length);if(qe===0){var Ge=Le.split(`
`);if(Ge.length>30)for(Ge[26]="".concat(Me,"...").concat(ze);Ge.length>27;)Ge.pop();return"".concat(Je.notIdentical,`

`).concat(Ge.join(`
`),`
`)}Ze>3&&(De=`
`.concat(Me,"...").concat(ze).concat(De),pe=!0),He!==""&&(De=`
  `.concat(He).concat(De),He="");var Qe=0,ct=Je[$e]+`
`.concat(ke,"+ actual").concat(ze," ").concat(Re,"- expected").concat(ze),ft=" ".concat(Me,"...").concat(ze," Lines skipped");for(Ze=0;Ze<qe;Ze++){var bt=Ze-Ne;if(Be.length<Ze+1)bt>1&&Ze>2&&(bt>4?(Fe+=`
`.concat(Me,"...").concat(ze),pe=!0):bt>3&&(Fe+=`
  `.concat(Ce[Ze-2]),Qe++),Fe+=`
  `.concat(Ce[Ze-1]),Qe++),Ne=Ze,He+=`
`.concat(Re,"-").concat(ze," ").concat(Ce[Ze]),Qe++;else if(Ce.length<Ze+1)bt>1&&Ze>2&&(bt>4?(Fe+=`
`.concat(Me,"...").concat(ze),pe=!0):bt>3&&(Fe+=`
  `.concat(Be[Ze-2]),Qe++),Fe+=`
  `.concat(Be[Ze-1]),Qe++),Ne=Ze,Fe+=`
`.concat(ke,"+").concat(ze," ").concat(Be[Ze]),Qe++;else{var St=Ce[Ze],xt=Be[Ze],$t=xt!==St&&(!Ae(xt,",")||xt.slice(0,-1)!==St);$t&&Ae(St,",")&&St.slice(0,-1)===xt&&($t=!1,xt+=","),$t?(bt>1&&Ze>2&&(bt>4?(Fe+=`
`.concat(Me,"...").concat(ze),pe=!0):bt>3&&(Fe+=`
  `.concat(Be[Ze-2]),Qe++),Fe+=`
  `.concat(Be[Ze-1]),Qe++),Ne=Ze,Fe+=`
`.concat(ke,"+").concat(ze," ").concat(xt),He+=`
`.concat(Re,"-").concat(ze," ").concat(St),Qe+=2):(Fe+=He,He="",(bt===1||Ze===0)&&(Fe+=`
  `.concat(xt),Qe++))}if(Qe>20&&Ze<qe-2)return"".concat(ct).concat(ft,`
`).concat(Fe,`
`).concat(Me,"...").concat(ze).concat(He,`
`)+"".concat(Me,"...").concat(ze)}return"".concat(ct).concat(pe?ft:"",`
`).concat(Fe).concat(He).concat(De).concat(it)}var ae=function(he){b(xe,he);function xe($e){var He;if(d(this,xe),de($e)!=="object"||$e===null)throw new Ee("options","Object",$e);var Fe=$e.message,Ne=$e.operator,De=$e.stackStartFn,pe=$e.actual,Le=$e.expected,Be=Error.stackTraceLimit;if(Error.stackTraceLimit=0,Fe!=null)He=ee(this,ce(xe).call(this,String(Fe)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(Me="\x1B[34m",ke="\x1B[32m",ze="\x1B[39m",Re="\x1B[31m"):(Me="",ke="",ze="",Re="")),de(pe)==="object"&&pe!==null&&de(Le)==="object"&&Le!==null&&"stack"in pe&&pe instanceof Error&&"stack"in Le&&Le instanceof Error&&(pe=Pe(pe),Le=Pe(Le)),Ne==="deepStrictEqual"||Ne==="strictEqual")He=ee(this,ce(xe).call(this,le(pe,Le,Ne)));else if(Ne==="notDeepStrictEqual"||Ne==="notStrictEqual"){var Ce=Je[Ne],Ze=ve(pe).split(`
`);if(Ne==="notStrictEqual"&&de(pe)==="object"&&pe!==null&&(Ce=Je.notStrictEqualObject),Ze.length>30)for(Ze[26]="".concat(Me,"...").concat(ze);Ze.length>27;)Ze.pop();Ze.length===1?He=ee(this,ce(xe).call(this,"".concat(Ce," ").concat(Ze[0]))):He=ee(this,ce(xe).call(this,"".concat(Ce,`

`).concat(Ze.join(`
`),`
`)))}else{var it=ve(pe),rt="",Oe=Je[Ne];Ne==="notDeepEqual"||Ne==="notEqual"?(it="".concat(Je[Ne],`

`).concat(it),it.length>1024&&(it="".concat(it.slice(0,1021),"..."))):(rt="".concat(ve(Le)),it.length>512&&(it="".concat(it.slice(0,509),"...")),rt.length>512&&(rt="".concat(rt.slice(0,509),"...")),Ne==="deepEqual"||Ne==="equal"?it="".concat(Oe,`

`).concat(it,`

should equal

`):rt=" ".concat(Ne," ").concat(rt)),He=ee(this,ce(xe).call(this,"".concat(it).concat(rt)))}return Error.stackTraceLimit=Be,He.generatedMessage=!Fe,Object.defineProperty(te(He),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),He.code="ERR_ASSERTION",He.actual=pe,He.expected=Le,He.operator=Ne,Error.captureStackTrace&&Error.captureStackTrace(te(He),De),He.stack,He.name="AssertionError",ee(He)}return $(xe,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:ge.custom,value:function(He,Fe){return ge(this,u({},Fe,{customInspect:!1,depth:0}))}}]),xe}(re(Error));return assertion_error=ae,assertion_error}var es6ObjectAssign,hasRequiredEs6ObjectAssign;function requireEs6ObjectAssign(){if(hasRequiredEs6ObjectAssign)return es6ObjectAssign;hasRequiredEs6ObjectAssign=1;function u(d,m){if(d==null)throw new TypeError("Cannot convert first argument to object");for(var $=Object(d),ee=1;ee<arguments.length;ee++){var te=arguments[ee];if(te!=null)for(var b=Object.keys(Object(te)),re=0,ne=b.length;re<ne;re++){var ie=b[re],se=Object.getOwnPropertyDescriptor(te,ie);se!==void 0&&se.enumerable&&($[ie]=te[ie])}}return $}function a(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:u})}return es6ObjectAssign={assign:u,polyfill:a},es6ObjectAssign}var isArguments$2,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments$2;hasRequiredIsArguments=1;var u=Object.prototype.toString;return isArguments$2=function(d){var m=u.call(d),$=m==="[object Arguments]";return $||($=m!=="[object Array]"&&d!==null&&typeof d=="object"&&typeof d.length=="number"&&d.length>=0&&u.call(d.callee)==="[object Function]"),$},isArguments$2}var implementation$2,hasRequiredImplementation$2;function requireImplementation$2(){if(hasRequiredImplementation$2)return implementation$2;hasRequiredImplementation$2=1;var u;if(!Object.keys){var a=Object.prototype.hasOwnProperty,d=Object.prototype.toString,m=requireIsArguments(),$=Object.prototype.propertyIsEnumerable,ee=!$.call({toString:null},"toString"),te=$.call(function(){},"prototype"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],re=function(fe){var ce=fe.constructor;return ce&&ce.prototype===fe},ne={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},ie=function(){if(typeof window>"u")return!1;for(var fe in window)try{if(!ne["$"+fe]&&a.call(window,fe)&&window[fe]!==null&&typeof window[fe]=="object")try{re(window[fe])}catch{return!0}}catch{return!0}return!1}(),se=function(fe){if(typeof window>"u"||!ie)return re(fe);try{return re(fe)}catch{return!1}};u=function(ce){var de=ce!==null&&typeof ce=="object",ye=d.call(ce)==="[object Function]",ge=m(ce),_e=de&&d.call(ce)==="[object String]",Ee=[];if(!de&&!ye&&!ge)throw new TypeError("Object.keys called on a non-object");var Ae=te&&ye;if(_e&&ce.length>0&&!a.call(ce,0))for(var we=0;we<ce.length;++we)Ee.push(String(we));if(ge&&ce.length>0)for(var Me=0;Me<ce.length;++Me)Ee.push(String(Me));else for(var ke in ce)!(Ae&&ke==="prototype")&&a.call(ce,ke)&&Ee.push(String(ke));if(ee)for(var Re=se(ce),ze=0;ze<b.length;++ze)!(Re&&b[ze]==="constructor")&&a.call(ce,b[ze])&&Ee.push(b[ze]);return Ee}}return implementation$2=u,implementation$2}var objectKeys,hasRequiredObjectKeys;function requireObjectKeys(){if(hasRequiredObjectKeys)return objectKeys;hasRequiredObjectKeys=1;var u=Array.prototype.slice,a=requireIsArguments(),d=Object.keys,m=d?function(te){return d(te)}:requireImplementation$2(),$=Object.keys;return m.shim=function(){if(Object.keys){var te=function(){var b=Object.keys(arguments);return b&&b.length===arguments.length}(1,2);te||(Object.keys=function(re){return a(re)?$(u.call(re)):$(re)})}else Object.keys=m;return Object.keys||m},objectKeys=m,objectKeys}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var u=requireGetIntrinsic(),a=u("%Object.defineProperty%",!0),d=function(){if(a)try{return a({},"a",{value:1}),!0}catch{return!1}return!1};return d.hasArrayLengthDefineBug=function(){if(!d())return null;try{return a([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=d,hasPropertyDescriptors_1}var defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var u=requireObjectKeys(),a=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",d=Object.prototype.toString,m=Array.prototype.concat,$=Object.defineProperty,ee=function(ie){return typeof ie=="function"&&d.call(ie)==="[object Function]"},te=requireHasPropertyDescriptors()(),b=$&&te,re=function(ie,se,fe,ce){se in ie&&(!ee(ce)||!ce())||(b?$(ie,se,{configurable:!0,enumerable:!1,value:fe,writable:!0}):ie[se]=fe)},ne=function(ie,se){var fe=arguments.length>2?arguments[2]:{},ce=u(se);a&&(ce=m.call(ce,Object.getOwnPropertySymbols(se)));for(var de=0;de<ce.length;de+=1)re(ie,ce[de],se[ce[de]],fe[ce[de]])};return ne.supportsDescriptors=!!b,defineProperties_1=ne,defineProperties_1}var implementation$1,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$1;hasRequiredImplementation$1=1;var u=function(a){return a!==a};return implementation$1=function(d,m){return d===0&&m===0?1/d===1/m:!!(d===m||u(d)&&u(m))},implementation$1}var polyfill$1,hasRequiredPolyfill$1;function requirePolyfill$1(){if(hasRequiredPolyfill$1)return polyfill$1;hasRequiredPolyfill$1=1;var u=requireImplementation$1();return polyfill$1=function(){return typeof Object.is=="function"?Object.is:u},polyfill$1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var u=requirePolyfill$1(),a=requireDefineProperties();return shim$1=function(){var m=u();return a(Object,{is:m},{is:function(){return Object.is!==m}}),m},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var u=requireDefineProperties(),a=requireCallBind(),d=requireImplementation$1(),m=requirePolyfill$1(),$=requireShim$1(),ee=a(m(),Object);return u(ee,{getPolyfill:m,implementation:d,shim:$}),objectIs=ee,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(a){return a!==a}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var u=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:u},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var u=requireDefineProperties(),a=requirePolyfill();return shim=function(){var m=a();return u(Number,{isNaN:m},{isNaN:function(){return Number.isNaN!==m}}),m},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var u=requireCallBind(),a=requireDefineProperties(),d=requireImplementation(),m=requirePolyfill(),$=requireShim(),ee=u(m(),Number);return a(ee,{getPolyfill:m,implementation:d,shim:$}),isNan=ee,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function u(Et,At){return m(Et)||d(Et,At)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(Et,At){var kt=[],Kt=!0,lt=!1,Se=void 0;try{for(var me=Et[Symbol.iterator](),be;!(Kt=(be=me.next()).done)&&(kt.push(be.value),!(At&&kt.length===At));Kt=!0);}catch(Ye){lt=!0,Se=Ye}finally{try{!Kt&&me.return!=null&&me.return()}finally{if(lt)throw Se}}return kt}function m(Et){if(Array.isArray(Et))return Et}function $(Et){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(kt){return typeof kt}:$=function(kt){return kt&&typeof Symbol=="function"&&kt.constructor===Symbol&&kt!==Symbol.prototype?"symbol":typeof kt},$(Et)}var ee=/a/g.flags!==void 0,te=function(At){var kt=[];return At.forEach(function(Kt){return kt.push(Kt)}),kt},b=function(At){var kt=[];return At.forEach(function(Kt,lt){return kt.push([lt,Kt])}),kt},re=Object.is?Object.is:requireObjectIs(),ne=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},ie=Number.isNaN?Number.isNaN:requireIsNan();function se(Et){return Et.call.bind(Et)}var fe=se(Object.prototype.hasOwnProperty),ce=se(Object.prototype.propertyIsEnumerable),de=se(Object.prototype.toString),ye=util.types,ge=ye.isAnyArrayBuffer,_e=ye.isArrayBufferView,Ee=ye.isDate,Ae=ye.isMap,we=ye.isRegExp,Me=ye.isSet,ke=ye.isNativeError,Re=ye.isBoxedPrimitive,ze=ye.isNumberObject,Je=ye.isStringObject,et=ye.isBooleanObject,Pe=ye.isBigIntObject,ve=ye.isSymbolObject,le=ye.isFloat32Array,ae=ye.isFloat64Array;function he(Et){if(Et.length===0||Et.length>10)return!0;for(var At=0;At<Et.length;At++){var kt=Et.charCodeAt(At);if(kt<48||kt>57)return!0}return Et.length===10&&Et>=Math.pow(2,32)}function xe(Et){return Object.keys(Et).filter(he).concat(ne(Et).filter(Object.prototype.propertyIsEnumerable.bind(Et)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function $e(Et,At){if(Et===At)return 0;for(var kt=Et.length,Kt=At.length,lt=0,Se=Math.min(kt,Kt);lt<Se;++lt)if(Et[lt]!==At[lt]){kt=Et[lt],Kt=At[lt];break}return kt<Kt?-1:Kt<kt?1:0}var He=!0,Fe=!1,Ne=0,De=1,pe=2,Le=3;function Be(Et,At){return ee?Et.source===At.source&&Et.flags===At.flags:RegExp.prototype.toString.call(Et)===RegExp.prototype.toString.call(At)}function Ce(Et,At){if(Et.byteLength!==At.byteLength)return!1;for(var kt=0;kt<Et.byteLength;kt++)if(Et[kt]!==At[kt])return!1;return!0}function Ze(Et,At){return Et.byteLength!==At.byteLength?!1:$e(new Uint8Array(Et.buffer,Et.byteOffset,Et.byteLength),new Uint8Array(At.buffer,At.byteOffset,At.byteLength))===0}function it(Et,At){return Et.byteLength===At.byteLength&&$e(new Uint8Array(Et),new Uint8Array(At))===0}function rt(Et,At){return ze(Et)?ze(At)&&re(Number.prototype.valueOf.call(Et),Number.prototype.valueOf.call(At)):Je(Et)?Je(At)&&String.prototype.valueOf.call(Et)===String.prototype.valueOf.call(At):et(Et)?et(At)&&Boolean.prototype.valueOf.call(Et)===Boolean.prototype.valueOf.call(At):Pe(Et)?Pe(At)&&BigInt.prototype.valueOf.call(Et)===BigInt.prototype.valueOf.call(At):ve(At)&&Symbol.prototype.valueOf.call(Et)===Symbol.prototype.valueOf.call(At)}function Oe(Et,At,kt,Kt){if(Et===At)return Et!==0?!0:kt?re(Et,At):!0;if(kt){if($(Et)!=="object")return typeof Et=="number"&&ie(Et)&&ie(At);if($(At)!=="object"||Et===null||At===null||Object.getPrototypeOf(Et)!==Object.getPrototypeOf(At))return!1}else{if(Et===null||$(Et)!=="object")return At===null||$(At)!=="object"?Et==At:!1;if(At===null||$(At)!=="object")return!1}var lt=de(Et),Se=de(At);if(lt!==Se)return!1;if(Array.isArray(Et)){if(Et.length!==At.length)return!1;var me=xe(Et),be=xe(At);return me.length!==be.length?!1:We(Et,At,kt,Kt,De,me)}if(lt==="[object Object]"&&(!Ae(Et)&&Ae(At)||!Me(Et)&&Me(At)))return!1;if(Ee(Et)){if(!Ee(At)||Date.prototype.getTime.call(Et)!==Date.prototype.getTime.call(At))return!1}else if(we(Et)){if(!we(At)||!Be(Et,At))return!1}else if(ke(Et)||Et instanceof Error){if(Et.message!==At.message||Et.name!==At.name)return!1}else if(_e(Et)){if(!kt&&(le(Et)||ae(Et))){if(!Ce(Et,At))return!1}else if(!Ze(Et,At))return!1;var Ye=xe(Et),ut=xe(At);return Ye.length!==ut.length?!1:We(Et,At,kt,Kt,Ne,Ye)}else{if(Me(Et))return!Me(At)||Et.size!==At.size?!1:We(Et,At,kt,Kt,pe);if(Ae(Et))return!Ae(At)||Et.size!==At.size?!1:We(Et,At,kt,Kt,Le);if(ge(Et)){if(!it(Et,At))return!1}else if(Re(Et)&&!rt(Et,At))return!1}return We(Et,At,kt,Kt,Ne)}function Ve(Et,At){return At.filter(function(kt){return ce(Et,kt)})}function We(Et,At,kt,Kt,lt,Se){if(arguments.length===5){Se=Object.keys(Et);var me=Object.keys(At);if(Se.length!==me.length)return!1}for(var be=0;be<Se.length;be++)if(!fe(At,Se[be]))return!1;if(kt&&arguments.length===5){var Ye=ne(Et);if(Ye.length!==0){var ut=0;for(be=0;be<Ye.length;be++){var yt=Ye[be];if(ce(Et,yt)){if(!ce(At,yt))return!1;Se.push(yt),ut++}else if(ce(At,yt))return!1}var wt=ne(At);if(Ye.length!==wt.length&&Ve(At,wt).length!==ut)return!1}else{var Ut=ne(At);if(Ut.length!==0&&Ve(At,Ut).length!==0)return!1}}if(Se.length===0&&(lt===Ne||lt===De&&Et.length===0||Et.size===0))return!0;if(Kt===void 0)Kt={val1:new Map,val2:new Map,position:0};else{var Xt=Kt.val1.get(Et);if(Xt!==void 0){var Ct=Kt.val2.get(At);if(Ct!==void 0)return Xt===Ct}Kt.position++}Kt.val1.set(Et,Kt.position),Kt.val2.set(At,Kt.position);var Ht=xt(Et,At,kt,Se,Kt,lt);return Kt.val1.delete(Et),Kt.val2.delete(At),Ht}function qe(Et,At,kt,Kt){for(var lt=te(Et),Se=0;Se<lt.length;Se++){var me=lt[Se];if(Oe(At,me,kt,Kt))return Et.delete(me),!0}return!1}function Ge(Et){switch($(Et)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Et=+Et;case"number":if(ie(Et))return!1}return!0}function Qe(Et,At,kt){var Kt=Ge(kt);return Kt??(At.has(Kt)&&!Et.has(Kt))}function ct(Et,At,kt,Kt,lt){var Se=Ge(kt);if(Se!=null)return Se;var me=At.get(Se);return me===void 0&&!At.has(Se)||!Oe(Kt,me,!1,lt)?!1:!Et.has(Se)&&Oe(Kt,me,!1,lt)}function ft(Et,At,kt,Kt){for(var lt=null,Se=te(Et),me=0;me<Se.length;me++){var be=Se[me];if($(be)==="object"&&be!==null)lt===null&&(lt=new Set),lt.add(be);else if(!At.has(be)){if(kt||!Qe(Et,At,be))return!1;lt===null&&(lt=new Set),lt.add(be)}}if(lt!==null){for(var Ye=te(At),ut=0;ut<Ye.length;ut++){var yt=Ye[ut];if($(yt)==="object"&&yt!==null){if(!qe(lt,yt,kt,Kt))return!1}else if(!kt&&!Et.has(yt)&&!qe(lt,yt,kt,Kt))return!1}return lt.size===0}return!0}function bt(Et,At,kt,Kt,lt,Se){for(var me=te(Et),be=0;be<me.length;be++){var Ye=me[be];if(Oe(kt,Ye,lt,Se)&&Oe(Kt,At.get(Ye),lt,Se))return Et.delete(Ye),!0}return!1}function St(Et,At,kt,Kt){for(var lt=null,Se=b(Et),me=0;me<Se.length;me++){var be=u(Se[me],2),Ye=be[0],ut=be[1];if($(Ye)==="object"&&Ye!==null)lt===null&&(lt=new Set),lt.add(Ye);else{var yt=At.get(Ye);if(yt===void 0&&!At.has(Ye)||!Oe(ut,yt,kt,Kt)){if(kt||!ct(Et,At,Ye,ut,Kt))return!1;lt===null&&(lt=new Set),lt.add(Ye)}}}if(lt!==null){for(var wt=b(At),Ut=0;Ut<wt.length;Ut++){var Xt=u(wt[Ut],2),Ye=Xt[0],Ct=Xt[1];if($(Ye)==="object"&&Ye!==null){if(!bt(lt,Et,Ye,Ct,kt,Kt))return!1}else if(!kt&&(!Et.has(Ye)||!Oe(Et.get(Ye),Ct,!1,Kt))&&!bt(lt,Et,Ye,Ct,!1,Kt))return!1}return lt.size===0}return!0}function xt(Et,At,kt,Kt,lt,Se){var me=0;if(Se===pe){if(!ft(Et,At,kt,lt))return!1}else if(Se===Le){if(!St(Et,At,kt,lt))return!1}else if(Se===De)for(;me<Et.length;me++)if(fe(Et,me)){if(!fe(At,me)||!Oe(Et[me],At[me],kt,lt))return!1}else{if(fe(At,me))return!1;for(var be=Object.keys(Et);me<be.length;me++){var Ye=be[me];if(!fe(At,Ye)||!Oe(Et[Ye],At[Ye],kt,lt))return!1}return be.length===Object.keys(At).length}for(me=0;me<Kt.length;me++){var ut=Kt[me];if(!Oe(Et[ut],At[ut],kt,lt))return!1}return!0}function $t(Et,At){return Oe(Et,At,Fe)}function It(Et,At){return Oe(Et,At,He)}return comparisons={isDeepEqual:$t,isDeepStrictEqual:It},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$1.exports;hasRequiredAssert=1;function u(De){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(Le){return typeof Le}:u=function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},u(De)}function a(De,pe){if(!(De instanceof pe))throw new TypeError("Cannot call a class as a function")}var d=requireErrors(),m=d.codes,$=m.ERR_AMBIGUOUS_ARGUMENT,ee=m.ERR_INVALID_ARG_TYPE,te=m.ERR_INVALID_ARG_VALUE,b=m.ERR_INVALID_RETURN_VALUE,re=m.ERR_MISSING_ARGS,ne=requireAssertion_error(),ie=util,se=ie.inspect,fe=util.types,ce=fe.isPromise,de=fe.isRegExp,ye=Object.assign?Object.assign:requireEs6ObjectAssign().assign,ge=Object.is?Object.is:requireObjectIs(),_e,Ee;function Ae(){var De=requireComparisons();_e=De.isDeepEqual,Ee=De.isDeepStrictEqual}var we=!1,Me=assert$1.exports=et,ke={};function Re(De){throw De.message instanceof Error?De.message:new ne(De)}function ze(De,pe,Le,Be,Ce){var Ze=arguments.length,it;if(Ze===0)it="Failed";else if(Ze===1)Le=De,De=void 0;else{if(we===!1){we=!0;var rt=process.emitWarning?process.emitWarning:console.warn.bind(console);rt("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Ze===2&&(Be="!=")}if(Le instanceof Error)throw Le;var Oe={actual:De,expected:pe,operator:Be===void 0?"fail":Be,stackStartFn:Ce||ze};Le!==void 0&&(Oe.message=Le);var Ve=new ne(Oe);throw it&&(Ve.message=it,Ve.generatedMessage=!0),Ve}Me.fail=ze,Me.AssertionError=ne;function Je(De,pe,Le,Be){if(!Le){var Ce=!1;if(pe===0)Ce=!0,Be="No value argument passed to `assert.ok()`";else if(Be instanceof Error)throw Be;var Ze=new ne({actual:Le,expected:!0,message:Be,operator:"==",stackStartFn:De});throw Ze.generatedMessage=Ce,Ze}}function et(){for(var De=arguments.length,pe=new Array(De),Le=0;Le<De;Le++)pe[Le]=arguments[Le];Je.apply(void 0,[et,pe.length].concat(pe))}Me.ok=et,Me.equal=function De(pe,Le,Be){if(arguments.length<2)throw new re("actual","expected");pe!=Le&&Re({actual:pe,expected:Le,message:Be,operator:"==",stackStartFn:De})},Me.notEqual=function De(pe,Le,Be){if(arguments.length<2)throw new re("actual","expected");pe==Le&&Re({actual:pe,expected:Le,message:Be,operator:"!=",stackStartFn:De})},Me.deepEqual=function De(pe,Le,Be){if(arguments.length<2)throw new re("actual","expected");_e===void 0&&Ae(),_e(pe,Le)||Re({actual:pe,expected:Le,message:Be,operator:"deepEqual",stackStartFn:De})},Me.notDeepEqual=function De(pe,Le,Be){if(arguments.length<2)throw new re("actual","expected");_e===void 0&&Ae(),_e(pe,Le)&&Re({actual:pe,expected:Le,message:Be,operator:"notDeepEqual",stackStartFn:De})},Me.deepStrictEqual=function De(pe,Le,Be){if(arguments.length<2)throw new re("actual","expected");_e===void 0&&Ae(),Ee(pe,Le)||Re({actual:pe,expected:Le,message:Be,operator:"deepStrictEqual",stackStartFn:De})},Me.notDeepStrictEqual=Pe;function Pe(De,pe,Le){if(arguments.length<2)throw new re("actual","expected");_e===void 0&&Ae(),Ee(De,pe)&&Re({actual:De,expected:pe,message:Le,operator:"notDeepStrictEqual",stackStartFn:Pe})}Me.strictEqual=function De(pe,Le,Be){if(arguments.length<2)throw new re("actual","expected");ge(pe,Le)||Re({actual:pe,expected:Le,message:Be,operator:"strictEqual",stackStartFn:De})},Me.notStrictEqual=function De(pe,Le,Be){if(arguments.length<2)throw new re("actual","expected");ge(pe,Le)&&Re({actual:pe,expected:Le,message:Be,operator:"notStrictEqual",stackStartFn:De})};var ve=function De(pe,Le,Be){var Ce=this;a(this,De),Le.forEach(function(Ze){Ze in pe&&(Be!==void 0&&typeof Be[Ze]=="string"&&de(pe[Ze])&&pe[Ze].test(Be[Ze])?Ce[Ze]=Be[Ze]:Ce[Ze]=pe[Ze])})};function le(De,pe,Le,Be,Ce,Ze){if(!(Le in De)||!Ee(De[Le],pe[Le])){if(!Be){var it=new ve(De,Ce),rt=new ve(pe,Ce,De),Oe=new ne({actual:it,expected:rt,operator:"deepStrictEqual",stackStartFn:Ze});throw Oe.actual=De,Oe.expected=pe,Oe.operator=Ze.name,Oe}Re({actual:De,expected:pe,message:Be,operator:Ze.name,stackStartFn:Ze})}}function ae(De,pe,Le,Be){if(typeof pe!="function"){if(de(pe))return pe.test(De);if(arguments.length===2)throw new ee("expected",["Function","RegExp"],pe);if(u(De)!=="object"||De===null){var Ce=new ne({actual:De,expected:pe,message:Le,operator:"deepStrictEqual",stackStartFn:Be});throw Ce.operator=Be.name,Ce}var Ze=Object.keys(pe);if(pe instanceof Error)Ze.push("name","message");else if(Ze.length===0)throw new te("error",pe,"may not be an empty object");return _e===void 0&&Ae(),Ze.forEach(function(it){typeof De[it]=="string"&&de(pe[it])&&pe[it].test(De[it])||le(De,pe,it,Le,Ze,Be)}),!0}return pe.prototype!==void 0&&De instanceof pe?!0:Error.isPrototypeOf(pe)?!1:pe.call({},De)===!0}function he(De){if(typeof De!="function")throw new ee("fn","Function",De);try{De()}catch(pe){return pe}return ke}function xe(De){return ce(De)||De!==null&&u(De)==="object"&&typeof De.then=="function"&&typeof De.catch=="function"}function $e(De){return Promise.resolve().then(function(){var pe;if(typeof De=="function"){if(pe=De(),!xe(pe))throw new b("instance of Promise","promiseFn",pe)}else if(xe(De))pe=De;else throw new ee("promiseFn",["Function","Promise"],De);return Promise.resolve().then(function(){return pe}).then(function(){return ke}).catch(function(Le){return Le})})}function He(De,pe,Le,Be){if(typeof Le=="string"){if(arguments.length===4)throw new ee("error",["Object","Error","Function","RegExp"],Le);if(u(pe)==="object"&&pe!==null){if(pe.message===Le)throw new $("error/message",'The error message "'.concat(pe.message,'" is identical to the message.'))}else if(pe===Le)throw new $("error/message",'The error "'.concat(pe,'" is identical to the message.'));Be=Le,Le=void 0}else if(Le!=null&&u(Le)!=="object"&&typeof Le!="function")throw new ee("error",["Object","Error","Function","RegExp"],Le);if(pe===ke){var Ce="";Le&&Le.name&&(Ce+=" (".concat(Le.name,")")),Ce+=Be?": ".concat(Be):".";var Ze=De.name==="rejects"?"rejection":"exception";Re({actual:void 0,expected:Le,operator:De.name,message:"Missing expected ".concat(Ze).concat(Ce),stackStartFn:De})}if(Le&&!ae(pe,Le,Be,De))throw pe}function Fe(De,pe,Le,Be){if(pe!==ke){if(typeof Le=="string"&&(Be=Le,Le=void 0),!Le||ae(pe,Le)){var Ce=Be?": ".concat(Be):".",Ze=De.name==="doesNotReject"?"rejection":"exception";Re({actual:pe,expected:Le,operator:De.name,message:"Got unwanted ".concat(Ze).concat(Ce,`
`)+'Actual message: "'.concat(pe&&pe.message,'"'),stackStartFn:De})}throw pe}}Me.throws=function De(pe){for(var Le=arguments.length,Be=new Array(Le>1?Le-1:0),Ce=1;Ce<Le;Ce++)Be[Ce-1]=arguments[Ce];He.apply(void 0,[De,he(pe)].concat(Be))},Me.rejects=function De(pe){for(var Le=arguments.length,Be=new Array(Le>1?Le-1:0),Ce=1;Ce<Le;Ce++)Be[Ce-1]=arguments[Ce];return $e(pe).then(function(Ze){return He.apply(void 0,[De,Ze].concat(Be))})},Me.doesNotThrow=function De(pe){for(var Le=arguments.length,Be=new Array(Le>1?Le-1:0),Ce=1;Ce<Le;Ce++)Be[Ce-1]=arguments[Ce];Fe.apply(void 0,[De,he(pe)].concat(Be))},Me.doesNotReject=function De(pe){for(var Le=arguments.length,Be=new Array(Le>1?Le-1:0),Ce=1;Ce<Le;Ce++)Be[Ce-1]=arguments[Ce];return $e(pe).then(function(Ze){return Fe.apply(void 0,[De,Ze].concat(Be))})},Me.ifError=function De(pe){if(pe!=null){var Le="ifError got unwanted exception: ";u(pe)==="object"&&typeof pe.message=="string"?pe.message.length===0&&pe.constructor?Le+=pe.constructor.name:Le+=pe.message:Le+=se(pe);var Be=new ne({actual:pe,expected:null,operator:"ifError",message:Le,stackStartFn:De}),Ce=pe.stack;if(typeof Ce=="string"){var Ze=Ce.split(`
`);Ze.shift();for(var it=Be.stack.split(`
`),rt=0;rt<Ze.length;rt++){var Oe=it.indexOf(Ze[rt]);if(Oe!==-1){it=it.slice(0,Oe);break}}Be.stack="".concat(it.join(`
`),`
`).concat(Ze.join(`
`))}throw Be}};function Ne(){for(var De=arguments.length,pe=new Array(De),Le=0;Le<De;Le++)pe[Le]=arguments[Le];Je.apply(void 0,[Ne,pe.length].concat(pe))}return Me.strict=ye(Ne,Me,{equal:Me.strictEqual,deepEqual:Me.deepStrictEqual,notEqual:Me.notStrictEqual,notDeepEqual:Me.notDeepStrictEqual}),Me.strict.strict=Me.strict,assert$1.exports}requireAssert();new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");SystemProgram.programId;new PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");new PublicKey("11111111111111111111111111111111");function base$1(u){if(u.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),d=0;d<a.length;d++)a[d]=255;for(var m=0;m<u.length;m++){var $=u.charAt(m),ee=$.charCodeAt(0);if(a[ee]!==255)throw new TypeError($+" is ambiguous");a[ee]=m}var te=u.length,b=u.charAt(0),re=Math.log(te)/Math.log(256),ne=Math.log(256)/Math.log(te);function ie(ce){if(ce instanceof Uint8Array||(ArrayBuffer.isView(ce)?ce=new Uint8Array(ce.buffer,ce.byteOffset,ce.byteLength):Array.isArray(ce)&&(ce=Uint8Array.from(ce))),!(ce instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(ce.length===0)return"";for(var de=0,ye=0,ge=0,_e=ce.length;ge!==_e&&ce[ge]===0;)ge++,de++;for(var Ee=(_e-ge)*ne+1>>>0,Ae=new Uint8Array(Ee);ge!==_e;){for(var we=ce[ge],Me=0,ke=Ee-1;(we!==0||Me<ye)&&ke!==-1;ke--,Me++)we+=256*Ae[ke]>>>0,Ae[ke]=we%te>>>0,we=we/te>>>0;if(we!==0)throw new Error("Non-zero carry");ye=Me,ge++}for(var Re=Ee-ye;Re!==Ee&&Ae[Re]===0;)Re++;for(var ze=b.repeat(de);Re<Ee;++Re)ze+=u.charAt(Ae[Re]);return ze}function se(ce){if(typeof ce!="string")throw new TypeError("Expected String");if(ce.length===0)return new Uint8Array;for(var de=0,ye=0,ge=0;ce[de]===b;)ye++,de++;for(var _e=(ce.length-de)*re+1>>>0,Ee=new Uint8Array(_e);ce[de];){var Ae=a[ce.charCodeAt(de)];if(Ae===255)return;for(var we=0,Me=_e-1;(Ae!==0||we<ge)&&Me!==-1;Me--,we++)Ae+=te*Ee[Me]>>>0,Ee[Me]=Ae%256>>>0,Ae=Ae/256>>>0;if(Ae!==0)throw new Error("Non-zero carry");ge=we,de++}for(var ke=_e-ge;ke!==_e&&Ee[ke]===0;)ke++;for(var Re=new Uint8Array(ye+(_e-ke)),ze=ye;ke!==_e;)Re[ze++]=Ee[ke++];return Re}function fe(ce){var de=se(ce);if(de)return de;throw new Error("Non-base"+te+" character")}return{encode:ie,decodeUnsafe:se,decode:fe}}var src$1=base$1;const basex$1=src$1,ALPHABET$1="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var bs58$1=basex$1(ALPHABET$1);const useStore=defineStore("walletStore",{state:()=>({wallet:null,disconnecting:!1,connection:null,provider:null,signMessage:null,userToken:JSON.parse(localStorage.getItem("userWallet")),nftList:{},avatar:`@/assets/avatar/${Math.floor(Math.random()*10).toString()}.png`}),getters:{isConnected:u=>!!u.wallet?.publicKey.toBase58()},actions:{async initialize(){const{disconnecting:u,signMessage:a}=useWallet();this.wallet=useAnchorWallet(),this.signMessage=a,this.disconnecting=u},async storeUser(u,a){this.userToken=u,this.nftList=a,a.length>0&&(this.avatar=a[0].img),localStorage.setItem("user",JSON.stringify(u)),router.push("/chat")},async refreshUser(u,a){this.userToken=u,this.nftList=a,localStorage.setItem("user",JSON.stringify(u))},async setAvatar(u){this.avatar=this.nftList[u].img},async storeUserToken(u){this.userToken=u,localStorage.setItem("user",JSON.stringify(u))},async signOut(){this.userToken=null,localStorage.removeItem("user"),router.push("/")}}}),_hoisted_1$7={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_hoisted_2$7=createBaseVNode("path",{d:"M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208s208-93.31 208-208S370.69 48 256 48zm80 224h-64v64a16 16 0 0 1-32 0v-64h-64a16 16 0 0 1 0-32h64v-64a16 16 0 0 1 32 0v64h64a16 16 0 0 1 0 32z",fill:"currentColor"},null,-1),_hoisted_3$7=[_hoisted_2$7],AddIcon=defineComponent({name:"AddCircle",render:function u(a,d){return openBlock(),createElementBlock("svg",_hoisted_1$7,_hoisted_3$7)}}),_hoisted_1$6={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_hoisted_2$6=createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M244 400L100 256l144-144"},null,-1),_hoisted_3$6=createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M120 256h292"},null,-1),_hoisted_4$6=[_hoisted_2$6,_hoisted_3$6],ArrowBack=defineComponent({name:"ArrowBack",render:function u(a,d){return openBlock(),createElementBlock("svg",_hoisted_1$6,_hoisted_4$6)}}),_hoisted_1$5={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},_hoisted_2$5=createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M268 112l144 144l-144 144"},null,-1),_hoisted_3$5=createBaseVNode("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"48",d:"M392 256H100"},null,-1),_hoisted_4$5=[_hoisted_2$5,_hoisted_3$5],ArrowForward=defineComponent({name:"ArrowForward",render:function u(a,d){return openBlock(),createElementBlock("svg",_hoisted_1$5,_hoisted_4$5)}}),FeaturesView_vue_vue_type_style_index_0_scoped_67a42ebe_lang="",_sfc_main$4=defineComponent({components:{ArrowBack,ArrowForward,NCarousel}}),_withScopeId$3=u=>(pushScopeId("data-v-67a42ebe"),u=u(),popScopeId(),u),_hoisted_1$4=_withScopeId$3(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeigggqqam3lzfnyatt2ataoxokqfny4b6o2xrc6n7myndoyswcvtry/1.png"},null,-1)),_hoisted_2$4=_withScopeId$3(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeigggqqam3lzfnyatt2ataoxokqfny4b6o2xrc6n7myndoyswcvtry/2.png"},null,-1)),_hoisted_3$4=_withScopeId$3(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeigggqqam3lzfnyatt2ataoxokqfny4b6o2xrc6n7myndoyswcvtry/3.png"},null,-1)),_hoisted_4$4=_withScopeId$3(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeigggqqam3lzfnyatt2ataoxokqfny4b6o2xrc6n7myndoyswcvtry/4.png"},null,-1)),_hoisted_5$4=_withScopeId$3(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeigggqqam3lzfnyatt2ataoxokqfny4b6o2xrc6n7myndoyswcvtry/5.png"},null,-1)),_hoisted_6$3=_withScopeId$3(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeigggqqam3lzfnyatt2ataoxokqfny4b6o2xrc6n7myndoyswcvtry/6.png"},null,-1)),_hoisted_7$3={class:"custom-arrow"},_hoisted_8$3=["onClick"],_hoisted_9$3=["onClick"],_hoisted_10$2={class:"custom-dots"},_hoisted_11$2=["onClick"];function _sfc_render$2(u,a,d,m,$,ee){const te=resolveComponent("ArrowBack"),b=resolveComponent("n-icon"),re=resolveComponent("ArrowForward"),ne=resolveComponent("n-carousel");return openBlock(),createBlock(ne,{"show-arrow":"",autoplay:""},{arrow:withCtx(({prev:ie,next:se})=>[createBaseVNode("div",_hoisted_7$3,[createBaseVNode("button",{type:"button",class:"curtom-arrow--left",onClick:ie},[createVNode(b,null,{default:withCtx(()=>[createVNode(te)]),_:1})],8,_hoisted_8$3),createBaseVNode("button",{type:"button",class:"curtom-arrow--right",onClick:se},[createVNode(b,null,{default:withCtx(()=>[createVNode(re)]),_:1})],8,_hoisted_9$3)])]),dots:withCtx(({total:ie,currentIndex:se,to:fe})=>[createBaseVNode("ul",_hoisted_10$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ie,ce=>(openBlock(),createElementBlock("li",{key:ce,class:normalizeClass({["is-active"]:se===ce-1}),onClick:de=>fe(ce-1)},null,10,_hoisted_11$2))),128))])]),default:withCtx(()=>[_hoisted_1$4,_hoisted_2$4,_hoisted_3$4,_hoisted_4$4,_hoisted_5$4,_hoisted_6$3]),_:1})}const Features=_export_sfc$1(_sfc_main$4,[["render",_sfc_render$2],["__scopeId","data-v-67a42ebe"]]),AboutView_vue_vue_type_style_index_0_scoped_942ed7de_lang="",_sfc_main$3=defineComponent({components:{ArrowBack,ArrowForward,NCarousel}}),_withScopeId$2=u=>(pushScopeId("data-v-942ed7de"),u=u(),popScopeId(),u),_hoisted_1$3=_withScopeId$2(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeihmdniemr36eh5g43rsfhfesmnugis5upeayel5le7a53vpyd2p5u/1.png"},null,-1)),_hoisted_2$3=_withScopeId$2(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeihmdniemr36eh5g43rsfhfesmnugis5upeayel5le7a53vpyd2p5u/2.png"},null,-1)),_hoisted_3$3=_withScopeId$2(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeihmdniemr36eh5g43rsfhfesmnugis5upeayel5le7a53vpyd2p5u/3.png"},null,-1)),_hoisted_4$3=_withScopeId$2(()=>createBaseVNode("img",{class:"carousel-img",src:"https://nftstorage.link/ipfs/bafybeihmdniemr36eh5g43rsfhfesmnugis5upeayel5le7a53vpyd2p5u/4.png"},null,-1)),_hoisted_5$3={class:"custom-arrow"},_hoisted_6$2=["onClick"],_hoisted_7$2=["onClick"],_hoisted_8$2={class:"custom-dots"},_hoisted_9$2=["onClick"];function _sfc_render$1(u,a,d,m,$,ee){const te=resolveComponent("ArrowBack"),b=resolveComponent("n-icon"),re=resolveComponent("ArrowForward"),ne=resolveComponent("n-carousel");return openBlock(),createBlock(ne,{"show-arrow":"",autoplay:""},{arrow:withCtx(({prev:ie,next:se})=>[createBaseVNode("div",_hoisted_5$3,[createBaseVNode("button",{type:"button",class:"curtom-arrow--left",onClick:ie},[createVNode(b,null,{default:withCtx(()=>[createVNode(te)]),_:1})],8,_hoisted_6$2),createBaseVNode("button",{type:"button",class:"curtom-arrow--right",onClick:se},[createVNode(b,null,{default:withCtx(()=>[createVNode(re)]),_:1})],8,_hoisted_7$2)])]),dots:withCtx(({total:ie,currentIndex:se,to:fe})=>[createBaseVNode("ul",_hoisted_8$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ie,ce=>(openBlock(),createElementBlock("li",{key:ce,class:normalizeClass({["is-active"]:se===ce-1}),onClick:de=>fe(ce-1)},null,10,_hoisted_9$2))),128))])]),default:withCtx(()=>[_hoisted_1$3,_hoisted_2$3,_hoisted_3$3,_hoisted_4$3]),_:1})}const AboutView=_export_sfc$1(_sfc_main$3,[["render",_sfc_render$1],["__scopeId","data-v-942ed7de"]]),AboutView$1=Object.freeze(Object.defineProperty({__proto__:null,default:AboutView},Symbol.toStringTag,{value:"Module"})),HomeView_vue_vue_type_style_index_0_scoped_e848b07a_lang="",_withScopeId$1=u=>(pushScopeId("data-v-e848b07a"),u=u(),popScopeId(),u),_hoisted_1$2={id:"apps"},_hoisted_2$2=_withScopeId$1(()=>createBaseVNode("img",{alt:"Vue logo",class:"logo",src:_imports_0,height:"250"},null,-1)),_hoisted_3$2={class:"wrapper"},_hoisted_4$2=createTextVNode("Home"),_hoisted_5$2=createTextVNode("Readme"),_hoisted_6$1=createTextVNode("About"),_hoisted_7$1=createTextVNode(" Sign In "),_hoisted_8$1=createTextVNode(" Enter a nickname between 3-15 alphanumeric characters. "),_hoisted_9$1=createTextVNode(" Success! You will be asked to sign with your wallet for authentication. "),_hoisted_10$1=createTextVNode(" Enter a nickname between 3-15 alphanumeric characters. "),_hoisted_11$1=_withScopeId$1(()=>createBaseVNode("div",null,null,-1)),_hoisted_12$1=createTextVNode("Close"),_hoisted_13$1=createTextVNode("Sign In"),_sfc_main$2={__name:"HomeView",setup(u){const a=useStore();a.initialize(),defineComponent({components:{NButton,NModal,NCard,NSpace,NInput,NText}});const d="processed",m=de=>{$.value=de},$=ref("features"),ee="confirmed",te=ref(""),b=ref("warning"),re=ref(!0),ne=ref(!1),ie=new Connection$1(clusterApiUrl("devnet"),ee);computed(()=>new AnchorProvider(ie,a?.wallet,{preflightCommitment:d,commitment:ee}));function se(de){b.value=/^[a-zA-Z0-9_]{3,15}$/.test(de)?"success":de.length==0?"warning":"error",te.value=de,re.value=!/^[a-zA-Z0-9_]{3,15}$/.test(de)}const fe=computed(()=>!a.disconnecting);watch(fe,async de=>{ne.value=!de});async function ce(){console.log(/^[a-zA-Z0-9_]{3,15}$/.test(te.value)&&!a.disconnecting?a.wallet?.publicKey.toBase58():"error");let de=Math.floor(Date.now()/1e3);const ye=`I am signing in as ${te.value} and providing a signature to allow solana-hackathon.supacharge.io to validate my wallet ${a.wallet?.publicKey.toBase58()} at timestamp: ${de}`,ge=new TextEncoder().encode(ye),_e=await a.signMessage(ge,"utf8");let Ee={walletAddress:a.wallet?.publicKey.toBase58(),timestamp:de,walletSignature:bs58$1.encode(_e),domain:"solana-hackathon.supacharge.io",nickname:te.value};console.log(Ee),fetch("http://solana-hackathon-api.supacharge.io:3000/signin",{method:"POST",body:JSON.stringify(Ee),headers:{"Content-Type":"application/json"}}).then(function(Ae){return Ae.json()}).then(function(Ae){for(let we=0;we<Ae.nftList.length;we++)fetch(Ae.nftList[we].uri).then(Me=>{Me.json().then(ke=>{Ae.nftList[we].img=ke.image,we+1==Ae.nftList.length&&a.storeUser(Ae.token,Ae.nftList)})})})}return(de,ye)=>(openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("header",null,[_hoisted_2$2,createBaseVNode("div",_hoisted_3$2,[createBaseVNode("nav",null,[createVNode(unref(RouterLink),{to:"/",onClick:ye[0]||(ye[0]=ge=>m("features"))},{default:withCtx(()=>[_hoisted_4$2]),_:1}),createVNode(unref(RouterLink),{to:"/",onClick:ye[1]||(ye[1]=ge=>m("readme"))},{default:withCtx(()=>[_hoisted_5$2]),_:1}),createVNode(unref(RouterLink),{to:"/",onClick:ye[2]||(ye[2]=ge=>m("about"))},{default:withCtx(()=>[_hoisted_6$1]),_:1})]),createVNode(HelloWorld),unref(a).isConnected?createCommentVNode("",!0):(openBlock(),createBlock(unref(WalletMultiButton),{key:0})),unref(a).isConnected?(openBlock(),createBlock(unref(NButton),{key:1,onClick:ye[3]||(ye[3]=ge=>ne.value=!0),"text-color":"#fefefe"},{default:withCtx(()=>[_hoisted_7$1]),_:1})):createCommentVNode("",!0)])]),createBaseVNode("main",null,[createVNode(unref(NModal),{show:ne.value,"onUpdate:show":ye[5]||(ye[5]=ge=>ne.value=ge)},{default:withCtx(()=>[createVNode(unref(NCard),{style:{width:"600px"},title:"Select a Nickname",bordered:!1,size:"huge",role:"dialog","aria-modal":"true"},{"header-extra":withCtx(()=>[createVNode(unref(WalletMultiButton))]),footer:withCtx(()=>[createVNode(unref(NButton),{onClick:ye[4]||(ye[4]=ge=>ne.value=!1)},{default:withCtx(()=>[_hoisted_12$1]),_:1}),createVNode(unref(NButton),{onClick:ce,disabled:re.value},{default:withCtx(()=>[_hoisted_13$1]),_:1},8,["disabled"])]),default:withCtx(()=>[createVNode(unref(NSpace),{vertical:""},{default:withCtx(()=>[createVNode(unref(NInput),{status:b.value,"on-update:value":se,"show-count":"",clearable:"",placeholder:"Example: Degen_Ape"},null,8,["status"])]),_:1}),b.value=="warning"?(openBlock(),createBlock(unref(NText),{key:0,type:"info"},{default:withCtx(()=>[_hoisted_8$1]),_:1})):createCommentVNode("",!0),b.value=="success"?(openBlock(),createBlock(unref(NText),{key:1,type:"success"},{default:withCtx(()=>[_hoisted_9$1]),_:1})):createCommentVNode("",!0),b.value=="error"?(openBlock(),createBlock(unref(NText),{key:2,type:"error"},{default:withCtx(()=>[_hoisted_10$1]),_:1})):createCommentVNode("",!0),_hoisted_11$1]),_:1})]),_:1},8,["show"]),$.value=="readme"?(openBlock(),createBlock(_sfc_main$7,{key:0})):createCommentVNode("",!0),$.value=="features"?(openBlock(),createBlock(Features,{key:1})):createCommentVNode("",!0),$.value=="about"?(openBlock(),createBlock(AboutView,{key:2})):createCommentVNode("",!0)])]))}},HomeView=_export_sfc$1(_sfc_main$2,[["__scopeId","data-v-e848b07a"]]);var vueAdvancedChat_common={exports:{}};const require$$0=getAugmentedNamespace(vue_runtime_esmBundler);(function(u){(()=>{var a={8118:(ee,te)=>{te.Z=(b,re)=>{const ne=b.__vccOpts||b;for(const[ie,se]of re)ne[ie]=se;return ne}},9662:(ee,te,b)=>{var re=b(614),ne=b(6330),ie=TypeError;ee.exports=function(se){if(re(se))return se;throw ie(ne(se)+" is not a function")}},9483:(ee,te,b)=>{var re=b(4411),ne=b(6330),ie=TypeError;ee.exports=function(se){if(re(se))return se;throw ie(ne(se)+" is not a constructor")}},6077:(ee,te,b)=>{var re=b(614),ne=String,ie=TypeError;ee.exports=function(se){if(typeof se=="object"||re(se))return se;throw ie("Can't set "+ne(se)+" as a prototype")}},1223:(ee,te,b)=>{var re=b(5112),ne=b(30),ie=b(3070).f,se=re("unscopables"),fe=Array.prototype;fe[se]==null&&ie(fe,se,{configurable:!0,value:ne(null)}),ee.exports=function(ce){fe[se][ce]=!0}},1530:(ee,te,b)=>{var re=b(8710).charAt;ee.exports=function(ne,ie,se){return ie+(se?re(ne,ie).length:1)}},5787:(ee,te,b)=>{var re=b(7976),ne=TypeError;ee.exports=function(ie,se){if(re(se,ie))return ie;throw ne("Incorrect invocation")}},9670:(ee,te,b)=>{var re=b(111),ne=String,ie=TypeError;ee.exports=function(se){if(re(se))return se;throw ie(ne(se)+" is not an object")}},4019:ee=>{ee.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},7556:(ee,te,b)=>{var re=b(7293);ee.exports=re(function(){if(typeof ArrayBuffer=="function"){var ne=new ArrayBuffer(8);Object.isExtensible(ne)&&Object.defineProperty(ne,"a",{value:8})}})},260:(ee,te,b)=>{var re=b(4019),ne=b(9781),ie=b(7854),se=b(614),fe=b(111),ce=b(2597),de=b(648),ye=b(6330),ge=b(8880),_e=b(8052),Ee=b(3070).f,Ae=b(7976),we=b(9518),Me=b(7674),ke=b(5112),Re=b(9711),ze=b(9909),Je=ze.enforce,et=ze.get,Pe=ie.Int8Array,ve=Pe&&Pe.prototype,le=ie.Uint8ClampedArray,ae=le&&le.prototype,he=Pe&&we(Pe),xe=ve&&we(ve),$e=Object.prototype,He=ie.TypeError,Fe=ke("toStringTag"),Ne=Re("TYPED_ARRAY_TAG"),De="TypedArrayConstructor",pe=re&&!!Me&&de(ie.opera)!=="Opera",Le=!1,Be,Ce,Ze,it={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},rt={BigInt64Array:8,BigUint64Array:8},Oe=function(bt){if(!fe(bt))return!1;var St=de(bt);return St==="DataView"||ce(it,St)||ce(rt,St)},Ve=function(ft){var bt=we(ft);if(!!fe(bt)){var St=et(bt);return St&&ce(St,De)?St[De]:Ve(bt)}},We=function(ft){if(!fe(ft))return!1;var bt=de(ft);return ce(it,bt)||ce(rt,bt)},qe=function(ft){if(We(ft))return ft;throw He("Target is not a typed array")},Ge=function(ft){if(se(ft)&&(!Me||Ae(he,ft)))return ft;throw He(ye(ft)+" is not a typed array constructor")},Qe=function(ft,bt,St,xt){if(!!ne){if(St)for(var $t in it){var It=ie[$t];if(It&&ce(It.prototype,ft))try{delete It.prototype[ft]}catch{try{It.prototype[ft]=bt}catch{}}}(!xe[ft]||St)&&_e(xe,ft,St?bt:pe&&ve[ft]||bt,xt)}},ct=function(ft,bt,St){var xt,$t;if(!!ne){if(Me){if(St){for(xt in it)if($t=ie[xt],$t&&ce($t,ft))try{delete $t[ft]}catch{}}if(!he[ft]||St)try{return _e(he,ft,St?bt:pe&&he[ft]||bt)}catch{}else return}for(xt in it)$t=ie[xt],$t&&(!$t[ft]||St)&&_e($t,ft,bt)}};for(Be in it)Ce=ie[Be],Ze=Ce&&Ce.prototype,Ze?Je(Ze)[De]=Ce:pe=!1;for(Be in rt)Ce=ie[Be],Ze=Ce&&Ce.prototype,Ze&&(Je(Ze)[De]=Ce);if((!pe||!se(he)||he===Function.prototype)&&(he=function(){throw He("Incorrect invocation")},pe))for(Be in it)ie[Be]&&Me(ie[Be],he);if((!pe||!xe||xe===$e)&&(xe=he.prototype,pe))for(Be in it)ie[Be]&&Me(ie[Be].prototype,xe);if(pe&&we(ae)!==xe&&Me(ae,xe),ne&&!ce(xe,Fe)){Le=!0,Ee(xe,Fe,{get:function(){return fe(this)?this[Ne]:void 0}});for(Be in it)ie[Be]&&ge(ie[Be],Ne,Be)}ee.exports={NATIVE_ARRAY_BUFFER_VIEWS:pe,TYPED_ARRAY_TAG:Le&&Ne,aTypedArray:qe,aTypedArrayConstructor:Ge,exportTypedArrayMethod:Qe,exportTypedArrayStaticMethod:ct,getTypedArrayConstructor:Ve,isView:Oe,isTypedArray:We,TypedArray:he,TypedArrayPrototype:xe}},3331:(ee,te,b)=>{var re=b(7854),ne=b(1702),ie=b(9781),se=b(4019),fe=b(6530),ce=b(8880),de=b(9190),ye=b(7293),ge=b(5787),_e=b(9303),Ee=b(7466),Ae=b(7067),we=b(1179),Me=b(9518),ke=b(7674),Re=b(8006).f,ze=b(3070).f,Je=b(1285),et=b(1589),Pe=b(8003),ve=b(9909),le=fe.PROPER,ae=fe.CONFIGURABLE,he=ve.get,xe=ve.set,$e="ArrayBuffer",He="DataView",Fe="prototype",Ne="Wrong length",De="Wrong index",pe=re[$e],Le=pe,Be=Le&&Le[Fe],Ce=re[He],Ze=Ce&&Ce[Fe],it=Object.prototype,rt=re.Array,Oe=re.RangeError,Ve=ne(Je),We=ne([].reverse),qe=we.pack,Ge=we.unpack,Qe=function(be){return[be&255]},ct=function(be){return[be&255,be>>8&255]},ft=function(be){return[be&255,be>>8&255,be>>16&255,be>>24&255]},bt=function(be){return be[3]<<24|be[2]<<16|be[1]<<8|be[0]},St=function(be){return qe(be,23,4)},xt=function(be){return qe(be,52,8)},$t=function(be,Ye){ze(be[Fe],Ye,{get:function(){return he(this)[Ye]}})},It=function(be,Ye,ut,yt){var wt=Ae(ut),Ut=he(be);if(wt+Ye>Ut.byteLength)throw Oe(De);var Xt=he(Ut.buffer).bytes,Ct=wt+Ut.byteOffset,Ht=et(Xt,Ct,Ct+Ye);return yt?Ht:We(Ht)},Et=function(be,Ye,ut,yt,wt,Ut){var Xt=Ae(ut),Ct=he(be);if(Xt+Ye>Ct.byteLength)throw Oe(De);for(var Ht=he(Ct.buffer).bytes,Yt=Xt+Ct.byteOffset,ar=yt(+wt),tr=0;tr<Ye;tr++)Ht[Yt+tr]=ar[Ut?tr:Ye-tr-1]};if(!se)Le=function(Ye){ge(this,Be);var ut=Ae(Ye);xe(this,{bytes:Ve(rt(ut),0),byteLength:ut}),ie||(this.byteLength=ut)},Be=Le[Fe],Ce=function(Ye,ut,yt){ge(this,Ze),ge(Ye,Be);var wt=he(Ye).byteLength,Ut=_e(ut);if(Ut<0||Ut>wt)throw Oe("Wrong offset");if(yt=yt===void 0?wt-Ut:Ee(yt),Ut+yt>wt)throw Oe(Ne);xe(this,{buffer:Ye,byteLength:yt,byteOffset:Ut}),ie||(this.buffer=Ye,this.byteLength=yt,this.byteOffset=Ut)},Ze=Ce[Fe],ie&&($t(Le,"byteLength"),$t(Ce,"buffer"),$t(Ce,"byteLength"),$t(Ce,"byteOffset")),de(Ze,{getInt8:function(Ye){return It(this,1,Ye)[0]<<24>>24},getUint8:function(Ye){return It(this,1,Ye)[0]},getInt16:function(Ye){var ut=It(this,2,Ye,arguments.length>1?arguments[1]:void 0);return(ut[1]<<8|ut[0])<<16>>16},getUint16:function(Ye){var ut=It(this,2,Ye,arguments.length>1?arguments[1]:void 0);return ut[1]<<8|ut[0]},getInt32:function(Ye){return bt(It(this,4,Ye,arguments.length>1?arguments[1]:void 0))},getUint32:function(Ye){return bt(It(this,4,Ye,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(Ye){return Ge(It(this,4,Ye,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(Ye){return Ge(It(this,8,Ye,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(Ye,ut){Et(this,1,Ye,Qe,ut)},setUint8:function(Ye,ut){Et(this,1,Ye,Qe,ut)},setInt16:function(Ye,ut){Et(this,2,Ye,ct,ut,arguments.length>2?arguments[2]:void 0)},setUint16:function(Ye,ut){Et(this,2,Ye,ct,ut,arguments.length>2?arguments[2]:void 0)},setInt32:function(Ye,ut){Et(this,4,Ye,ft,ut,arguments.length>2?arguments[2]:void 0)},setUint32:function(Ye,ut){Et(this,4,Ye,ft,ut,arguments.length>2?arguments[2]:void 0)},setFloat32:function(Ye,ut){Et(this,4,Ye,St,ut,arguments.length>2?arguments[2]:void 0)},setFloat64:function(Ye,ut){Et(this,8,Ye,xt,ut,arguments.length>2?arguments[2]:void 0)}});else{var At=le&&pe.name!==$e;if(!ye(function(){pe(1)})||!ye(function(){new pe(-1)})||ye(function(){return new pe,new pe(1.5),new pe(NaN),At&&!ae})){Le=function(Ye){return ge(this,Be),new pe(Ae(Ye))},Le[Fe]=Be;for(var kt=Re(pe),Kt=0,lt;kt.length>Kt;)(lt=kt[Kt++])in Le||ce(Le,lt,pe[lt]);Be.constructor=Le}else At&&ae&&ce(pe,"name",$e);ke&&Me(Ze)!==it&&ke(Ze,it);var Se=new Ce(new Le(2)),me=ne(Ze.setInt8);Se.setInt8(0,2147483648),Se.setInt8(1,2147483649),(Se.getInt8(0)||!Se.getInt8(1))&&de(Ze,{setInt8:function(Ye,ut){me(this,Ye,ut<<24>>24)},setUint8:function(Ye,ut){me(this,Ye,ut<<24>>24)}},{unsafe:!0})}Pe(Le,$e),Pe(Ce,He),ee.exports={ArrayBuffer:Le,DataView:Ce}},1048:(ee,te,b)=>{var re=b(7908),ne=b(1400),ie=b(6244),se=b(5117),fe=Math.min;ee.exports=[].copyWithin||function(de,ye){var ge=re(this),_e=ie(ge),Ee=ne(de,_e),Ae=ne(ye,_e),we=arguments.length>2?arguments[2]:void 0,Me=fe((we===void 0?_e:ne(we,_e))-Ae,_e-Ee),ke=1;for(Ae<Ee&&Ee<Ae+Me&&(ke=-1,Ae+=Me-1,Ee+=Me-1);Me-- >0;)Ae in ge?ge[Ee]=ge[Ae]:se(ge,Ee),Ee+=ke,Ae+=ke;return ge}},1285:(ee,te,b)=>{var re=b(7908),ne=b(1400),ie=b(6244);ee.exports=function(fe){for(var ce=re(this),de=ie(ce),ye=arguments.length,ge=ne(ye>1?arguments[1]:void 0,de),_e=ye>2?arguments[2]:void 0,Ee=_e===void 0?de:ne(_e,de);Ee>ge;)ce[ge++]=fe;return ce}},8533:(ee,te,b)=>{var re=b(2092).forEach,ne=b(9341),ie=ne("forEach");ee.exports=ie?[].forEach:function(fe){return re(this,fe,arguments.length>1?arguments[1]:void 0)}},7745:(ee,te,b)=>{var re=b(6244);ee.exports=function(ne,ie){for(var se=0,fe=re(ie),ce=new ne(fe);fe>se;)ce[se]=ie[se++];return ce}},8457:(ee,te,b)=>{var re=b(9974),ne=b(6916),ie=b(7908),se=b(3411),fe=b(7659),ce=b(4411),de=b(6244),ye=b(6135),ge=b(8554),_e=b(1246),Ee=Array;ee.exports=function(we){var Me=ie(we),ke=ce(this),Re=arguments.length,ze=Re>1?arguments[1]:void 0,Je=ze!==void 0;Je&&(ze=re(ze,Re>2?arguments[2]:void 0));var et=_e(Me),Pe=0,ve,le,ae,he,xe,$e;if(et&&!(this===Ee&&fe(et)))for(he=ge(Me,et),xe=he.next,le=ke?new this:[];!(ae=ne(xe,he)).done;Pe++)$e=Je?se(he,ze,[ae.value,Pe],!0):ae.value,ye(le,Pe,$e);else for(ve=de(Me),le=ke?new this(ve):Ee(ve);ve>Pe;Pe++)$e=Je?ze(Me[Pe],Pe):Me[Pe],ye(le,Pe,$e);return le.length=Pe,le}},1318:(ee,te,b)=>{var re=b(5656),ne=b(1400),ie=b(6244),se=function(fe){return function(ce,de,ye){var ge=re(ce),_e=ie(ge),Ee=ne(ye,_e),Ae;if(fe&&de!=de){for(;_e>Ee;)if(Ae=ge[Ee++],Ae!=Ae)return!0}else for(;_e>Ee;Ee++)if((fe||Ee in ge)&&ge[Ee]===de)return fe||Ee||0;return!fe&&-1}};ee.exports={includes:se(!0),indexOf:se(!1)}},9671:(ee,te,b)=>{var re=b(9974),ne=b(8361),ie=b(7908),se=b(6244),fe=function(ce){var de=ce==1;return function(ye,ge,_e){for(var Ee=ie(ye),Ae=ne(Ee),we=re(ge,_e),Me=se(Ae),ke,Re;Me-- >0;)if(ke=Ae[Me],Re=we(ke,Me,Ee),Re)switch(ce){case 0:return ke;case 1:return Me}return de?-1:void 0}};ee.exports={findLast:fe(0),findLastIndex:fe(1)}},2092:(ee,te,b)=>{var re=b(9974),ne=b(1702),ie=b(8361),se=b(7908),fe=b(6244),ce=b(5417),de=ne([].push),ye=function(ge){var _e=ge==1,Ee=ge==2,Ae=ge==3,we=ge==4,Me=ge==6,ke=ge==7,Re=ge==5||Me;return function(ze,Je,et,Pe){for(var ve=se(ze),le=ie(ve),ae=re(Je,et),he=fe(le),xe=0,$e=Pe||ce,He=_e?$e(ze,he):Ee||ke?$e(ze,0):void 0,Fe,Ne;he>xe;xe++)if((Re||xe in le)&&(Fe=le[xe],Ne=ae(Fe,xe,ve),ge))if(_e)He[xe]=Ne;else if(Ne)switch(ge){case 3:return!0;case 5:return Fe;case 6:return xe;case 2:de(He,Fe)}else switch(ge){case 4:return!1;case 7:de(He,Fe)}return Me?-1:Ae||we?we:He}};ee.exports={forEach:ye(0),map:ye(1),filter:ye(2),some:ye(3),every:ye(4),find:ye(5),findIndex:ye(6),filterReject:ye(7)}},6583:(ee,te,b)=>{var re=b(2104),ne=b(5656),ie=b(9303),se=b(6244),fe=b(9341),ce=Math.min,de=[].lastIndexOf,ye=!!de&&1/[1].lastIndexOf(1,-0)<0,ge=fe("lastIndexOf"),_e=ye||!ge;ee.exports=_e?function(Ae){if(ye)return re(de,this,arguments)||0;var we=ne(this),Me=se(we),ke=Me-1;for(arguments.length>1&&(ke=ce(ke,ie(arguments[1]))),ke<0&&(ke=Me+ke);ke>=0;ke--)if(ke in we&&we[ke]===Ae)return ke||0;return-1}:de},1194:(ee,te,b)=>{var re=b(7293),ne=b(5112),ie=b(7392),se=ne("species");ee.exports=function(fe){return ie>=51||!re(function(){var ce=[],de=ce.constructor={};return de[se]=function(){return{foo:1}},ce[fe](Boolean).foo!==1})}},9341:(ee,te,b)=>{var re=b(7293);ee.exports=function(ne,ie){var se=[][ne];return!!se&&re(function(){se.call(null,ie||function(){return 1},1)})}},3671:(ee,te,b)=>{var re=b(9662),ne=b(7908),ie=b(8361),se=b(6244),fe=TypeError,ce=function(de){return function(ye,ge,_e,Ee){re(ge);var Ae=ne(ye),we=ie(Ae),Me=se(Ae),ke=de?Me-1:0,Re=de?-1:1;if(_e<2)for(;;){if(ke in we){Ee=we[ke],ke+=Re;break}if(ke+=Re,de?ke<0:Me<=ke)throw fe("Reduce of empty array with no initial value")}for(;de?ke>=0:Me>ke;ke+=Re)ke in we&&(Ee=ge(Ee,we[ke],ke,Ae));return Ee}};ee.exports={left:ce(!1),right:ce(!0)}},1589:(ee,te,b)=>{var re=b(1400),ne=b(6244),ie=b(6135),se=Array,fe=Math.max;ee.exports=function(ce,de,ye){for(var ge=ne(ce),_e=re(de,ge),Ee=re(ye===void 0?ge:ye,ge),Ae=se(fe(Ee-_e,0)),we=0;_e<Ee;_e++,we++)ie(Ae,we,ce[_e]);return Ae.length=we,Ae}},206:(ee,te,b)=>{var re=b(1702);ee.exports=re([].slice)},4362:(ee,te,b)=>{var re=b(1589),ne=Math.floor,ie=function(ce,de){var ye=ce.length,ge=ne(ye/2);return ye<8?se(ce,de):fe(ce,ie(re(ce,0,ge),de),ie(re(ce,ge),de),de)},se=function(ce,de){for(var ye=ce.length,ge=1,_e,Ee;ge<ye;){for(Ee=ge,_e=ce[ge];Ee&&de(ce[Ee-1],_e)>0;)ce[Ee]=ce[--Ee];Ee!==ge++&&(ce[Ee]=_e)}return ce},fe=function(ce,de,ye,ge){for(var _e=de.length,Ee=ye.length,Ae=0,we=0;Ae<_e||we<Ee;)ce[Ae+we]=Ae<_e&&we<Ee?ge(de[Ae],ye[we])<=0?de[Ae++]:ye[we++]:Ae<_e?de[Ae++]:ye[we++];return ce};ee.exports=ie},7475:(ee,te,b)=>{var re=b(3157),ne=b(4411),ie=b(111),se=b(5112),fe=se("species"),ce=Array;ee.exports=function(de){var ye;return re(de)&&(ye=de.constructor,ne(ye)&&(ye===ce||re(ye.prototype))?ye=void 0:ie(ye)&&(ye=ye[fe],ye===null&&(ye=void 0))),ye===void 0?ce:ye}},5417:(ee,te,b)=>{var re=b(7475);ee.exports=function(ne,ie){return new(re(ne))(ie===0?0:ie)}},3411:(ee,te,b)=>{var re=b(9670),ne=b(9212);ee.exports=function(ie,se,fe,ce){try{return ce?se(re(fe)[0],fe[1]):se(fe)}catch(de){ne(ie,"throw",de)}}},7072:(ee,te,b)=>{var re=b(5112),ne=re("iterator"),ie=!1;try{var se=0,fe={next:function(){return{done:!!se++}},return:function(){ie=!0}};fe[ne]=function(){return this},Array.from(fe,function(){throw 2})}catch{}ee.exports=function(ce,de){if(!de&&!ie)return!1;var ye=!1;try{var ge={};ge[ne]=function(){return{next:function(){return{done:ye=!0}}}},ce(ge)}catch{}return ye}},4326:(ee,te,b)=>{var re=b(1702),ne=re({}.toString),ie=re("".slice);ee.exports=function(se){return ie(ne(se),8,-1)}},648:(ee,te,b)=>{var re=b(1694),ne=b(614),ie=b(4326),se=b(5112),fe=se("toStringTag"),ce=Object,de=ie(function(){return arguments}())=="Arguments",ye=function(ge,_e){try{return ge[_e]}catch{}};ee.exports=re?ie:function(ge){var _e,Ee,Ae;return ge===void 0?"Undefined":ge===null?"Null":typeof(Ee=ye(_e=ce(ge),fe))=="string"?Ee:de?ie(_e):(Ae=ie(_e))=="Object"&&ne(_e.callee)?"Arguments":Ae}},7741:(ee,te,b)=>{var re=b(1702),ne=Error,ie=re("".replace),se=function(de){return String(ne(de).stack)}("zxcasd"),fe=/\n\s*at [^:]*:[^\n]*/,ce=fe.test(se);ee.exports=function(de,ye){if(ce&&typeof de=="string"&&!ne.prepareStackTrace)for(;ye--;)de=ie(de,fe,"");return de}},5631:(ee,te,b)=>{var re=b(3070).f,ne=b(30),ie=b(9190),se=b(9974),fe=b(5787),ce=b(408),de=b(654),ye=b(6340),ge=b(9781),_e=b(2423).fastKey,Ee=b(9909),Ae=Ee.set,we=Ee.getterFor;ee.exports={getConstructor:function(Me,ke,Re,ze){var Je=Me(function(ae,he){fe(ae,et),Ae(ae,{type:ke,index:ne(null),first:void 0,last:void 0,size:0}),ge||(ae.size=0),he!=null&&ce(he,ae[ze],{that:ae,AS_ENTRIES:Re})}),et=Je.prototype,Pe=we(ke),ve=function(ae,he,xe){var $e=Pe(ae),He=le(ae,he),Fe,Ne;return He?He.value=xe:($e.last=He={index:Ne=_e(he,!0),key:he,value:xe,previous:Fe=$e.last,next:void 0,removed:!1},$e.first||($e.first=He),Fe&&(Fe.next=He),ge?$e.size++:ae.size++,Ne!=="F"&&($e.index[Ne]=He)),ae},le=function(ae,he){var xe=Pe(ae),$e=_e(he),He;if($e!=="F")return xe.index[$e];for(He=xe.first;He;He=He.next)if(He.key==he)return He};return ie(et,{clear:function(){for(var he=this,xe=Pe(he),$e=xe.index,He=xe.first;He;)He.removed=!0,He.previous&&(He.previous=He.previous.next=void 0),delete $e[He.index],He=He.next;xe.first=xe.last=void 0,ge?xe.size=0:he.size=0},delete:function(ae){var he=this,xe=Pe(he),$e=le(he,ae);if($e){var He=$e.next,Fe=$e.previous;delete xe.index[$e.index],$e.removed=!0,Fe&&(Fe.next=He),He&&(He.previous=Fe),xe.first==$e&&(xe.first=He),xe.last==$e&&(xe.last=Fe),ge?xe.size--:he.size--}return!!$e},forEach:function(he){for(var xe=Pe(this),$e=se(he,arguments.length>1?arguments[1]:void 0),He;He=He?He.next:xe.first;)for($e(He.value,He.key,this);He&&He.removed;)He=He.previous},has:function(he){return!!le(this,he)}}),ie(et,Re?{get:function(he){var xe=le(this,he);return xe&&xe.value},set:function(he,xe){return ve(this,he===0?0:he,xe)}}:{add:function(he){return ve(this,he=he===0?0:he,he)}}),ge&&re(et,"size",{get:function(){return Pe(this).size}}),Je},setStrong:function(Me,ke,Re){var ze=ke+" Iterator",Je=we(ke),et=we(ze);de(Me,ke,function(Pe,ve){Ae(this,{type:ze,target:Pe,state:Je(Pe),kind:ve,last:void 0})},function(){for(var Pe=et(this),ve=Pe.kind,le=Pe.last;le&&le.removed;)le=le.previous;return!Pe.target||!(Pe.last=le=le?le.next:Pe.state.first)?(Pe.target=void 0,{value:void 0,done:!0}):ve=="keys"?{value:le.key,done:!1}:ve=="values"?{value:le.value,done:!1}:{value:[le.key,le.value],done:!1}},Re?"entries":"values",!Re,!0),ye(ke)}}},7710:(ee,te,b)=>{var re=b(2109),ne=b(7854),ie=b(1702),se=b(4705),fe=b(8052),ce=b(2423),de=b(408),ye=b(5787),ge=b(614),_e=b(111),Ee=b(7293),Ae=b(7072),we=b(8003),Me=b(9587);ee.exports=function(ke,Re,ze){var Je=ke.indexOf("Map")!==-1,et=ke.indexOf("Weak")!==-1,Pe=Je?"set":"add",ve=ne[ke],le=ve&&ve.prototype,ae=ve,he={},xe=function(Le){var Be=ie(le[Le]);fe(le,Le,Le=="add"?function(Ze){return Be(this,Ze===0?0:Ze),this}:Le=="delete"?function(Ce){return et&&!_e(Ce)?!1:Be(this,Ce===0?0:Ce)}:Le=="get"?function(Ze){return et&&!_e(Ze)?void 0:Be(this,Ze===0?0:Ze)}:Le=="has"?function(Ze){return et&&!_e(Ze)?!1:Be(this,Ze===0?0:Ze)}:function(Ze,it){return Be(this,Ze===0?0:Ze,it),this})},$e=se(ke,!ge(ve)||!(et||le.forEach&&!Ee(function(){new ve().entries().next()})));if($e)ae=ze.getConstructor(Re,ke,Je,Pe),ce.enable();else if(se(ke,!0)){var He=new ae,Fe=He[Pe](et?{}:-0,1)!=He,Ne=Ee(function(){He.has(1)}),De=Ae(function(Le){new ve(Le)}),pe=!et&&Ee(function(){for(var Le=new ve,Be=5;Be--;)Le[Pe](Be,Be);return!Le.has(-0)});De||(ae=Re(function(Le,Be){ye(Le,le);var Ce=Me(new ve,Le,ae);return Be!=null&&de(Be,Ce[Pe],{that:Ce,AS_ENTRIES:Je}),Ce}),ae.prototype=le,le.constructor=ae),(Ne||pe)&&(xe("delete"),xe("has"),Je&&xe("get")),(pe||Fe)&&xe(Pe),et&&le.clear&&delete le.clear}return he[ke]=ae,re({global:!0,constructor:!0,forced:ae!=ve},he),we(ae,ke),et||ze.setStrong(ae,ke,Je),ae}},9920:(ee,te,b)=>{var re=b(2597),ne=b(3887),ie=b(1236),se=b(3070);ee.exports=function(fe,ce,de){for(var ye=ne(ce),ge=se.f,_e=ie.f,Ee=0;Ee<ye.length;Ee++){var Ae=ye[Ee];!re(fe,Ae)&&!(de&&re(de,Ae))&&ge(fe,Ae,_e(ce,Ae))}}},4964:(ee,te,b)=>{var re=b(5112),ne=re("match");ee.exports=function(ie){var se=/./;try{"/./"[ie](se)}catch{try{return se[ne]=!1,"/./"[ie](se)}catch{}}return!1}},8544:(ee,te,b)=>{var re=b(7293);ee.exports=!re(function(){function ne(){}return ne.prototype.constructor=null,Object.getPrototypeOf(new ne)!==ne.prototype})},4230:(ee,te,b)=>{var re=b(1702),ne=b(4488),ie=b(1340),se=/"/g,fe=re("".replace);ee.exports=function(ce,de,ye,ge){var _e=ie(ne(ce)),Ee="<"+de;return ye!==""&&(Ee+=" "+ye+'="'+fe(ie(ge),se,"&quot;")+'"'),Ee+">"+_e+"</"+de+">"}},4994:(ee,te,b)=>{var re=b(3383).IteratorPrototype,ne=b(30),ie=b(9114),se=b(8003),fe=b(7497),ce=function(){return this};ee.exports=function(de,ye,ge,_e){var Ee=ye+" Iterator";return de.prototype=ne(re,{next:ie(+!_e,ge)}),se(de,Ee,!1,!0),fe[Ee]=ce,de}},8880:(ee,te,b)=>{var re=b(9781),ne=b(3070),ie=b(9114);ee.exports=re?function(se,fe,ce){return ne.f(se,fe,ie(1,ce))}:function(se,fe,ce){return se[fe]=ce,se}},9114:ee=>{ee.exports=function(te,b){return{enumerable:!(te&1),configurable:!(te&2),writable:!(te&4),value:b}}},6135:(ee,te,b)=>{var re=b(4948),ne=b(3070),ie=b(9114);ee.exports=function(se,fe,ce){var de=re(fe);de in se?ne.f(se,de,ie(0,ce)):se[de]=ce}},5573:(ee,te,b)=>{var re=b(1702),ne=b(7293),ie=b(6650).start,se=RangeError,fe=Math.abs,ce=Date.prototype,de=ce.toISOString,ye=re(ce.getTime),ge=re(ce.getUTCDate),_e=re(ce.getUTCFullYear),Ee=re(ce.getUTCHours),Ae=re(ce.getUTCMilliseconds),we=re(ce.getUTCMinutes),Me=re(ce.getUTCMonth),ke=re(ce.getUTCSeconds);ee.exports=ne(function(){return de.call(new Date(-50000000000001))!="0385-07-25T07:06:39.999Z"})||!ne(function(){de.call(new Date(NaN))})?function(){if(!isFinite(ye(this)))throw se("Invalid time value");var ze=this,Je=_e(ze),et=Ae(ze),Pe=Je<0?"-":Je>9999?"+":"";return Pe+ie(fe(Je),Pe?6:4,0)+"-"+ie(Me(ze)+1,2,0)+"-"+ie(ge(ze),2,0)+"T"+ie(Ee(ze),2,0)+":"+ie(we(ze),2,0)+":"+ie(ke(ze),2,0)+"."+ie(et,3,0)+"Z"}:de},7045:(ee,te,b)=>{var re=b(6339),ne=b(3070);ee.exports=function(ie,se,fe){return fe.get&&re(fe.get,se,{getter:!0}),fe.set&&re(fe.set,se,{setter:!0}),ne.f(ie,se,fe)}},8052:(ee,te,b)=>{var re=b(614),ne=b(3070),ie=b(6339),se=b(3072);ee.exports=function(fe,ce,de,ye){ye||(ye={});var ge=ye.enumerable,_e=ye.name!==void 0?ye.name:ce;if(re(de)&&ie(de,_e,ye),ye.global)ge?fe[ce]=de:se(ce,de);else{try{ye.unsafe?fe[ce]&&(ge=!0):delete fe[ce]}catch{}ge?fe[ce]=de:ne.f(fe,ce,{value:de,enumerable:!1,configurable:!ye.nonConfigurable,writable:!ye.nonWritable})}return fe}},9190:(ee,te,b)=>{var re=b(8052);ee.exports=function(ne,ie,se){for(var fe in ie)re(ne,fe,ie[fe],se);return ne}},3072:(ee,te,b)=>{var re=b(7854),ne=Object.defineProperty;ee.exports=function(ie,se){try{ne(re,ie,{value:se,configurable:!0,writable:!0})}catch{re[ie]=se}return se}},654:(ee,te,b)=>{var re=b(2109),ne=b(6916),ie=b(1913),se=b(6530),fe=b(614),ce=b(4994),de=b(9518),ye=b(7674),ge=b(8003),_e=b(8880),Ee=b(8052),Ae=b(5112),we=b(7497),Me=b(3383),ke=se.PROPER,Re=se.CONFIGURABLE,ze=Me.IteratorPrototype,Je=Me.BUGGY_SAFARI_ITERATORS,et=Ae("iterator"),Pe="keys",ve="values",le="entries",ae=function(){return this};ee.exports=function(he,xe,$e,He,Fe,Ne,De){ce($e,xe,He);var pe=function(qe){if(qe===Fe&&it)return it;if(!Je&&qe in Ce)return Ce[qe];switch(qe){case Pe:return function(){return new $e(this,qe)};case ve:return function(){return new $e(this,qe)};case le:return function(){return new $e(this,qe)}}return function(){return new $e(this)}},Le=xe+" Iterator",Be=!1,Ce=he.prototype,Ze=Ce[et]||Ce["@@iterator"]||Fe&&Ce[Fe],it=!Je&&Ze||pe(Fe),rt=xe=="Array"&&Ce.entries||Ze,Oe,Ve,We;if(rt&&(Oe=de(rt.call(new he)),Oe!==Object.prototype&&Oe.next&&(!ie&&de(Oe)!==ze&&(ye?ye(Oe,ze):fe(Oe[et])||Ee(Oe,et,ae)),ge(Oe,Le,!0,!0),ie&&(we[Le]=ae))),ke&&Fe==ve&&Ze&&Ze.name!==ve&&(!ie&&Re?_e(Ce,"name",ve):(Be=!0,it=function(){return ne(Ze,this)})),Fe)if(Ve={values:pe(ve),keys:Ne?it:pe(Pe),entries:pe(le)},De)for(We in Ve)(Je||Be||!(We in Ce))&&Ee(Ce,We,Ve[We]);else re({target:xe,proto:!0,forced:Je||Be},Ve);return(!ie||De)&&Ce[et]!==it&&Ee(Ce,et,it,{name:Fe}),we[xe]=it,Ve}},7235:(ee,te,b)=>{var re=b(857),ne=b(2597),ie=b(6061),se=b(3070).f;ee.exports=function(fe){var ce=re.Symbol||(re.Symbol={});ne(ce,fe)||se(ce,fe,{value:ie.f(fe)})}},5117:(ee,te,b)=>{var re=b(6330),ne=TypeError;ee.exports=function(ie,se){if(!delete ie[se])throw ne("Cannot delete property "+re(se)+" of "+re(ie))}},9781:(ee,te,b)=>{var re=b(7293);ee.exports=!re(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},317:(ee,te,b)=>{var re=b(7854),ne=b(111),ie=re.document,se=ne(ie)&&ne(ie.createElement);ee.exports=function(fe){return se?ie.createElement(fe):{}}},7207:ee=>{var te=TypeError,b=9007199254740991;ee.exports=function(re){if(re>b)throw te("Maximum allowed index exceeded");return re}},8324:ee=>{ee.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(ee,te,b)=>{var re=b(317),ne=re("span").classList,ie=ne&&ne.constructor&&ne.constructor.prototype;ee.exports=ie===Object.prototype?void 0:ie},8886:(ee,te,b)=>{var re=b(8113),ne=re.match(/firefox\/(\d+)/i);ee.exports=!!ne&&+ne[1]},7871:ee=>{ee.exports=typeof window=="object"&&typeof Deno!="object"},256:(ee,te,b)=>{var re=b(8113);ee.exports=/MSIE|Trident/.test(re)},1528:(ee,te,b)=>{var re=b(8113),ne=b(7854);ee.exports=/ipad|iphone|ipod/i.test(re)&&ne.Pebble!==void 0},6833:(ee,te,b)=>{var re=b(8113);ee.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(re)},5268:(ee,te,b)=>{var re=b(4326),ne=b(7854);ee.exports=re(ne.process)=="process"},1036:(ee,te,b)=>{var re=b(8113);ee.exports=/web0s(?!.*chrome)/i.test(re)},8113:(ee,te,b)=>{var re=b(5005);ee.exports=re("navigator","userAgent")||""},7392:(ee,te,b)=>{var re=b(7854),ne=b(8113),ie=re.process,se=re.Deno,fe=ie&&ie.versions||se&&se.version,ce=fe&&fe.v8,de,ye;ce&&(de=ce.split("."),ye=de[0]>0&&de[0]<4?1:+(de[0]+de[1])),!ye&&ne&&(de=ne.match(/Edge\/(\d+)/),(!de||de[1]>=74)&&(de=ne.match(/Chrome\/(\d+)/),de&&(ye=+de[1]))),ee.exports=ye},8008:(ee,te,b)=>{var re=b(8113),ne=re.match(/AppleWebKit\/(\d+)\./);ee.exports=!!ne&&+ne[1]},748:ee=>{ee.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:(ee,te,b)=>{var re=b(7293),ne=b(9114);ee.exports=!re(function(){var ie=Error("a");return"stack"in ie?(Object.defineProperty(ie,"stack",ne(1,7)),ie.stack!==7):!0})},7762:(ee,te,b)=>{var re=b(9781),ne=b(7293),ie=b(9670),se=b(30),fe=b(6277),ce=Error.prototype.toString,de=ne(function(){if(re){var ye=se(Object.defineProperty({},"name",{get:function(){return this===ye}}));if(ce.call(ye)!=="true")return!0}return ce.call({message:1,name:2})!=="2: 1"||ce.call({})!=="Error"});ee.exports=de?function(){var ge=ie(this),_e=fe(ge.name,"Error"),Ee=fe(ge.message);return _e?Ee?_e+": "+Ee:_e:Ee}:ce},2109:(ee,te,b)=>{var re=b(7854),ne=b(1236).f,ie=b(8880),se=b(8052),fe=b(3072),ce=b(9920),de=b(4705);ee.exports=function(ye,ge){var _e=ye.target,Ee=ye.global,Ae=ye.stat,we,Me,ke,Re,ze,Je;if(Ee?Me=re:Ae?Me=re[_e]||fe(_e,{}):Me=(re[_e]||{}).prototype,Me)for(ke in ge){if(ze=ge[ke],ye.dontCallGetSet?(Je=ne(Me,ke),Re=Je&&Je.value):Re=Me[ke],we=de(Ee?ke:_e+(Ae?".":"#")+ke,ye.forced),!we&&Re!==void 0){if(typeof ze==typeof Re)continue;ce(ze,Re)}(ye.sham||Re&&Re.sham)&&ie(ze,"sham",!0),se(Me,ke,ze,ye)}}},7293:ee=>{ee.exports=function(te){try{return!!te()}catch{return!0}}},7007:(ee,te,b)=>{b(4916);var re=b(1702),ne=b(8052),ie=b(2261),se=b(7293),fe=b(5112),ce=b(8880),de=fe("species"),ye=RegExp.prototype;ee.exports=function(ge,_e,Ee,Ae){var we=fe(ge),Me=!se(function(){var Je={};return Je[we]=function(){return 7},""[ge](Je)!=7}),ke=Me&&!se(function(){var Je=!1,et=/a/;return ge==="split"&&(et={},et.constructor={},et.constructor[de]=function(){return et},et.flags="",et[we]=/./[we]),et.exec=function(){return Je=!0,null},et[we](""),!Je});if(!Me||!ke||Ee){var Re=re(/./[we]),ze=_e(we,""[ge],function(Je,et,Pe,ve,le){var ae=re(Je),he=et.exec;return he===ie||he===ye.exec?Me&&!le?{done:!0,value:Re(et,Pe,ve)}:{done:!0,value:ae(Pe,et,ve)}:{done:!1}});ne(String.prototype,ge,ze[0]),ne(ye,we,ze[1])}Ae&&ce(ye[we],"sham",!0)}},6677:(ee,te,b)=>{var re=b(7293);ee.exports=!re(function(){return Object.isExtensible(Object.preventExtensions({}))})},2104:(ee,te,b)=>{var re=b(4374),ne=Function.prototype,ie=ne.apply,se=ne.call;ee.exports=typeof Reflect=="object"&&Reflect.apply||(re?se.bind(ie):function(){return se.apply(ie,arguments)})},9974:(ee,te,b)=>{var re=b(1702),ne=b(9662),ie=b(4374),se=re(re.bind);ee.exports=function(fe,ce){return ne(fe),ce===void 0?fe:ie?se(fe,ce):function(){return fe.apply(ce,arguments)}}},4374:(ee,te,b)=>{var re=b(7293);ee.exports=!re(function(){var ne=function(){}.bind();return typeof ne!="function"||ne.hasOwnProperty("prototype")})},7065:(ee,te,b)=>{var re=b(1702),ne=b(9662),ie=b(111),se=b(2597),fe=b(206),ce=b(4374),de=Function,ye=re([].concat),ge=re([].join),_e={},Ee=function(Ae,we,Me){if(!se(_e,we)){for(var ke=[],Re=0;Re<we;Re++)ke[Re]="a["+Re+"]";_e[we]=de("C,a","return new C("+ge(ke,",")+")")}return _e[we](Ae,Me)};ee.exports=ce?de.bind:function(we){var Me=ne(this),ke=Me.prototype,Re=fe(arguments,1),ze=function(){var et=ye(Re,fe(arguments));return this instanceof ze?Ee(Me,et.length,et):Me.apply(we,et)};return ie(ke)&&(ze.prototype=ke),ze}},6916:(ee,te,b)=>{var re=b(4374),ne=Function.prototype.call;ee.exports=re?ne.bind(ne):function(){return ne.apply(ne,arguments)}},6530:(ee,te,b)=>{var re=b(9781),ne=b(2597),ie=Function.prototype,se=re&&Object.getOwnPropertyDescriptor,fe=ne(ie,"name"),ce=fe&&function(){}.name==="something",de=fe&&(!re||re&&se(ie,"name").configurable);ee.exports={EXISTS:fe,PROPER:ce,CONFIGURABLE:de}},1702:(ee,te,b)=>{var re=b(4374),ne=Function.prototype,ie=ne.bind,se=ne.call,fe=re&&ie.bind(se,se);ee.exports=re?function(ce){return ce&&fe(ce)}:function(ce){return ce&&function(){return se.apply(ce,arguments)}}},5005:(ee,te,b)=>{var re=b(7854),ne=b(614),ie=function(se){return ne(se)?se:void 0};ee.exports=function(se,fe){return arguments.length<2?ie(re[se]):re[se]&&re[se][fe]}},1246:(ee,te,b)=>{var re=b(648),ne=b(8173),ie=b(7497),se=b(5112),fe=se("iterator");ee.exports=function(ce){if(ce!=null)return ne(ce,fe)||ne(ce,"@@iterator")||ie[re(ce)]}},8554:(ee,te,b)=>{var re=b(6916),ne=b(9662),ie=b(9670),se=b(6330),fe=b(1246),ce=TypeError;ee.exports=function(de,ye){var ge=arguments.length<2?fe(de):ye;if(ne(ge))return ie(re(ge,de));throw ce(se(de)+" is not iterable")}},8173:(ee,te,b)=>{var re=b(9662);ee.exports=function(ne,ie){var se=ne[ie];return se==null?void 0:re(se)}},647:(ee,te,b)=>{var re=b(1702),ne=b(7908),ie=Math.floor,se=re("".charAt),fe=re("".replace),ce=re("".slice),de=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ye=/\$([$&'`]|\d{1,2})/g;ee.exports=function(ge,_e,Ee,Ae,we,Me){var ke=Ee+ge.length,Re=Ae.length,ze=ye;return we!==void 0&&(we=ne(we),ze=de),fe(Me,ze,function(Je,et){var Pe;switch(se(et,0)){case"$":return"$";case"&":return ge;case"`":return ce(_e,0,Ee);case"'":return ce(_e,ke);case"<":Pe=we[ce(et,1,-1)];break;default:var ve=+et;if(ve===0)return Je;if(ve>Re){var le=ie(ve/10);return le===0?Je:le<=Re?Ae[le-1]===void 0?se(et,1):Ae[le-1]+se(et,1):Je}Pe=Ae[ve-1]}return Pe===void 0?"":Pe})}},7854:(ee,te,b)=>{var re=function(ne){return ne&&ne.Math==Math&&ne};ee.exports=re(typeof globalThis=="object"&&globalThis)||re(typeof window=="object"&&window)||re(typeof self=="object"&&self)||re(typeof b.g=="object"&&b.g)||function(){return this}()||Function("return this")()},2597:(ee,te,b)=>{var re=b(1702),ne=b(7908),ie=re({}.hasOwnProperty);ee.exports=Object.hasOwn||function(fe,ce){return ie(ne(fe),ce)}},3501:ee=>{ee.exports={}},842:(ee,te,b)=>{var re=b(7854);ee.exports=function(ne,ie){var se=re.console;se&&se.error&&(arguments.length==1?se.error(ne):se.error(ne,ie))}},490:(ee,te,b)=>{var re=b(5005);ee.exports=re("document","documentElement")},4664:(ee,te,b)=>{var re=b(9781),ne=b(7293),ie=b(317);ee.exports=!re&&!ne(function(){return Object.defineProperty(ie("div"),"a",{get:function(){return 7}}).a!=7})},1179:ee=>{var te=Array,b=Math.abs,re=Math.pow,ne=Math.floor,ie=Math.log,se=Math.LN2,fe=function(de,ye,ge){var _e=te(ge),Ee=ge*8-ye-1,Ae=(1<<Ee)-1,we=Ae>>1,Me=ye===23?re(2,-24)-re(2,-77):0,ke=de<0||de===0&&1/de<0?1:0,Re=0,ze,Je,et;for(de=b(de),de!=de||de===1/0?(Je=de!=de?1:0,ze=Ae):(ze=ne(ie(de)/se),et=re(2,-ze),de*et<1&&(ze--,et*=2),ze+we>=1?de+=Me/et:de+=Me*re(2,1-we),de*et>=2&&(ze++,et/=2),ze+we>=Ae?(Je=0,ze=Ae):ze+we>=1?(Je=(de*et-1)*re(2,ye),ze=ze+we):(Je=de*re(2,we-1)*re(2,ye),ze=0));ye>=8;)_e[Re++]=Je&255,Je/=256,ye-=8;for(ze=ze<<ye|Je,Ee+=ye;Ee>0;)_e[Re++]=ze&255,ze/=256,Ee-=8;return _e[--Re]|=ke*128,_e},ce=function(de,ye){var ge=de.length,_e=ge*8-ye-1,Ee=(1<<_e)-1,Ae=Ee>>1,we=_e-7,Me=ge-1,ke=de[Me--],Re=ke&127,ze;for(ke>>=7;we>0;)Re=Re*256+de[Me--],we-=8;for(ze=Re&(1<<-we)-1,Re>>=-we,we+=ye;we>0;)ze=ze*256+de[Me--],we-=8;if(Re===0)Re=1-Ae;else{if(Re===Ee)return ze?NaN:ke?-1/0:1/0;ze=ze+re(2,ye),Re=Re-Ae}return(ke?-1:1)*ze*re(2,Re-ye)};ee.exports={pack:fe,unpack:ce}},8361:(ee,te,b)=>{var re=b(1702),ne=b(7293),ie=b(4326),se=Object,fe=re("".split);ee.exports=ne(function(){return!se("z").propertyIsEnumerable(0)})?function(ce){return ie(ce)=="String"?fe(ce,""):se(ce)}:se},9587:(ee,te,b)=>{var re=b(614),ne=b(111),ie=b(7674);ee.exports=function(se,fe,ce){var de,ye;return ie&&re(de=fe.constructor)&&de!==ce&&ne(ye=de.prototype)&&ye!==ce.prototype&&ie(se,ye),se}},2788:(ee,te,b)=>{var re=b(1702),ne=b(614),ie=b(5465),se=re(Function.toString);ne(ie.inspectSource)||(ie.inspectSource=function(fe){return se(fe)}),ee.exports=ie.inspectSource},8340:(ee,te,b)=>{var re=b(111),ne=b(8880);ee.exports=function(ie,se){re(se)&&"cause"in se&&ne(ie,"cause",se.cause)}},2423:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(3501),se=b(111),fe=b(2597),ce=b(3070).f,de=b(8006),ye=b(1156),ge=b(2050),_e=b(9711),Ee=b(6677),Ae=!1,we=_e("meta"),Me=0,ke=function(ve){ce(ve,we,{value:{objectID:"O"+Me++,weakData:{}}})},Re=function(ve,le){if(!se(ve))return typeof ve=="symbol"?ve:(typeof ve=="string"?"S":"P")+ve;if(!fe(ve,we)){if(!ge(ve))return"F";if(!le)return"E";ke(ve)}return ve[we].objectID},ze=function(ve,le){if(!fe(ve,we)){if(!ge(ve))return!0;if(!le)return!1;ke(ve)}return ve[we].weakData},Je=function(ve){return Ee&&Ae&&ge(ve)&&!fe(ve,we)&&ke(ve),ve},et=function(){Pe.enable=function(){},Ae=!0;var ve=de.f,le=ne([].splice),ae={};ae[we]=1,ve(ae).length&&(de.f=function(he){for(var xe=ve(he),$e=0,He=xe.length;$e<He;$e++)if(xe[$e]===we){le(xe,$e,1);break}return xe},re({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ye.f}))},Pe=ee.exports={enable:et,fastKey:Re,getWeakData:ze,onFreeze:Je};ie[we]=!0},9909:(ee,te,b)=>{var re=b(8536),ne=b(7854),ie=b(1702),se=b(111),fe=b(8880),ce=b(2597),de=b(5465),ye=b(6200),ge=b(3501),_e="Object already initialized",Ee=ne.TypeError,Ae=ne.WeakMap,we,Me,ke,Re=function(ae){return ke(ae)?Me(ae):we(ae,{})},ze=function(ae){return function(he){var xe;if(!se(he)||(xe=Me(he)).type!==ae)throw Ee("Incompatible receiver, "+ae+" required");return xe}};if(re||de.state){var Je=de.state||(de.state=new Ae),et=ie(Je.get),Pe=ie(Je.has),ve=ie(Je.set);we=function(ae,he){if(Pe(Je,ae))throw new Ee(_e);return he.facade=ae,ve(Je,ae,he),he},Me=function(ae){return et(Je,ae)||{}},ke=function(ae){return Pe(Je,ae)}}else{var le=ye("state");ge[le]=!0,we=function(ae,he){if(ce(ae,le))throw new Ee(_e);return he.facade=ae,fe(ae,le,he),he},Me=function(ae){return ce(ae,le)?ae[le]:{}},ke=function(ae){return ce(ae,le)}}ee.exports={set:we,get:Me,has:ke,enforce:Re,getterFor:ze}},7659:(ee,te,b)=>{var re=b(5112),ne=b(7497),ie=re("iterator"),se=Array.prototype;ee.exports=function(fe){return fe!==void 0&&(ne.Array===fe||se[ie]===fe)}},3157:(ee,te,b)=>{var re=b(4326);ee.exports=Array.isArray||function(ie){return re(ie)=="Array"}},614:ee=>{ee.exports=function(te){return typeof te=="function"}},4411:(ee,te,b)=>{var re=b(1702),ne=b(7293),ie=b(614),se=b(648),fe=b(5005),ce=b(2788),de=function(){},ye=[],ge=fe("Reflect","construct"),_e=/^\s*(?:class|function)\b/,Ee=re(_e.exec),Ae=!_e.exec(de),we=function(Re){if(!ie(Re))return!1;try{return ge(de,ye,Re),!0}catch{return!1}},Me=function(Re){if(!ie(Re))return!1;switch(se(Re)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ae||!!Ee(_e,ce(Re))}catch{return!0}};Me.sham=!0,ee.exports=!ge||ne(function(){var ke;return we(we.call)||!we(Object)||!we(function(){ke=!0})||ke})?Me:we},4705:(ee,te,b)=>{var re=b(7293),ne=b(614),ie=/#|\.prototype\./,se=function(ge,_e){var Ee=ce[fe(ge)];return Ee==ye?!0:Ee==de?!1:ne(_e)?re(_e):!!_e},fe=se.normalize=function(ge){return String(ge).replace(ie,".").toLowerCase()},ce=se.data={},de=se.NATIVE="N",ye=se.POLYFILL="P";ee.exports=se},5988:(ee,te,b)=>{var re=b(111),ne=Math.floor;ee.exports=Number.isInteger||function(se){return!re(se)&&isFinite(se)&&ne(se)===se}},111:(ee,te,b)=>{var re=b(614);ee.exports=function(ne){return typeof ne=="object"?ne!==null:re(ne)}},1913:ee=>{ee.exports=!1},7850:(ee,te,b)=>{var re=b(111),ne=b(4326),ie=b(5112),se=ie("match");ee.exports=function(fe){var ce;return re(fe)&&((ce=fe[se])!==void 0?!!ce:ne(fe)=="RegExp")}},2190:(ee,te,b)=>{var re=b(5005),ne=b(614),ie=b(7976),se=b(3307),fe=Object;ee.exports=se?function(ce){return typeof ce=="symbol"}:function(ce){var de=re("Symbol");return ne(de)&&ie(de.prototype,fe(ce))}},408:(ee,te,b)=>{var re=b(9974),ne=b(6916),ie=b(9670),se=b(6330),fe=b(7659),ce=b(6244),de=b(7976),ye=b(8554),ge=b(1246),_e=b(9212),Ee=TypeError,Ae=function(Me,ke){this.stopped=Me,this.result=ke},we=Ae.prototype;ee.exports=function(Me,ke,Re){var ze=Re&&Re.that,Je=!!(Re&&Re.AS_ENTRIES),et=!!(Re&&Re.IS_RECORD),Pe=!!(Re&&Re.IS_ITERATOR),ve=!!(Re&&Re.INTERRUPTED),le=re(ke,ze),ae,he,xe,$e,He,Fe,Ne,De=function(Le){return ae&&_e(ae,"normal",Le),new Ae(!0,Le)},pe=function(Le){return Je?(ie(Le),ve?le(Le[0],Le[1],De):le(Le[0],Le[1])):ve?le(Le,De):le(Le)};if(et)ae=Me.iterator;else if(Pe)ae=Me;else{if(he=ge(Me),!he)throw Ee(se(Me)+" is not iterable");if(fe(he)){for(xe=0,$e=ce(Me);$e>xe;xe++)if(He=pe(Me[xe]),He&&de(we,He))return He;return new Ae(!1)}ae=ye(Me,he)}for(Fe=et?Me.next:ae.next;!(Ne=ne(Fe,ae)).done;){try{He=pe(Ne.value)}catch(Le){_e(ae,"throw",Le)}if(typeof He=="object"&&He&&de(we,He))return He}return new Ae(!1)}},9212:(ee,te,b)=>{var re=b(6916),ne=b(9670),ie=b(8173);ee.exports=function(se,fe,ce){var de,ye;ne(se);try{if(de=ie(se,"return"),!de){if(fe==="throw")throw ce;return ce}de=re(de,se)}catch(ge){ye=!0,de=ge}if(fe==="throw")throw ce;if(ye)throw de;return ne(de),ce}},3383:(ee,te,b)=>{var re=b(7293),ne=b(614),ie=b(30),se=b(9518),fe=b(8052),ce=b(5112),de=b(1913),ye=ce("iterator"),ge=!1,_e,Ee,Ae;[].keys&&(Ae=[].keys(),"next"in Ae?(Ee=se(se(Ae)),Ee!==Object.prototype&&(_e=Ee)):ge=!0);var we=_e==null||re(function(){var Me={};return _e[ye].call(Me)!==Me});we?_e={}:de&&(_e=ie(_e)),ne(_e[ye])||fe(_e,ye,function(){return this}),ee.exports={IteratorPrototype:_e,BUGGY_SAFARI_ITERATORS:ge}},7497:ee=>{ee.exports={}},6244:(ee,te,b)=>{var re=b(7466);ee.exports=function(ne){return re(ne.length)}},6339:(ee,te,b)=>{var re=b(7293),ne=b(614),ie=b(2597),se=b(9781),fe=b(6530).CONFIGURABLE,ce=b(2788),de=b(9909),ye=de.enforce,ge=de.get,_e=Object.defineProperty,Ee=se&&!re(function(){return _e(function(){},"length",{value:8}).length!==8}),Ae=String(String).split("String"),we=ee.exports=function(Me,ke,Re){String(ke).slice(0,7)==="Symbol("&&(ke="["+String(ke).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),Re&&Re.getter&&(ke="get "+ke),Re&&Re.setter&&(ke="set "+ke),(!ie(Me,"name")||fe&&Me.name!==ke)&&(se?_e(Me,"name",{value:ke,configurable:!0}):Me.name=ke),Ee&&Re&&ie(Re,"arity")&&Me.length!==Re.arity&&_e(Me,"length",{value:Re.arity});try{Re&&ie(Re,"constructor")&&Re.constructor?se&&_e(Me,"prototype",{writable:!1}):Me.prototype&&(Me.prototype=void 0)}catch{}var ze=ye(Me);return ie(ze,"source")||(ze.source=Ae.join(typeof ke=="string"?ke:"")),Me};Function.prototype.toString=we(function(){return ne(this)&&ge(this).source||ce(this)},"toString")},4758:ee=>{var te=Math.ceil,b=Math.floor;ee.exports=Math.trunc||function(ne){var ie=+ne;return(ie>0?b:te)(ie)}},5948:(ee,te,b)=>{var re=b(7854),ne=b(9974),ie=b(1236).f,se=b(261).set,fe=b(6833),ce=b(1528),de=b(1036),ye=b(5268),ge=re.MutationObserver||re.WebKitMutationObserver,_e=re.document,Ee=re.process,Ae=re.Promise,we=ie(re,"queueMicrotask"),Me=we&&we.value,ke,Re,ze,Je,et,Pe,ve,le;Me||(ke=function(){var ae,he;for(ye&&(ae=Ee.domain)&&ae.exit();Re;){he=Re.fn,Re=Re.next;try{he()}catch(xe){throw Re?Je():ze=void 0,xe}}ze=void 0,ae&&ae.enter()},!fe&&!ye&&!de&&ge&&_e?(et=!0,Pe=_e.createTextNode(""),new ge(ke).observe(Pe,{characterData:!0}),Je=function(){Pe.data=et=!et}):!ce&&Ae&&Ae.resolve?(ve=Ae.resolve(void 0),ve.constructor=Ae,le=ne(ve.then,ve),Je=function(){le(ke)}):ye?Je=function(){Ee.nextTick(ke)}:(se=ne(se,re),Je=function(){se(ke)})),ee.exports=Me||function(ae){var he={fn:ae,next:void 0};ze&&(ze.next=he),Re||(Re=he,Je()),ze=he}},735:(ee,te,b)=>{var re=b(133);ee.exports=re&&!!Symbol.for&&!!Symbol.keyFor},133:(ee,te,b)=>{var re=b(7392),ne=b(7293);ee.exports=!!Object.getOwnPropertySymbols&&!ne(function(){var ie=Symbol();return!String(ie)||!(Object(ie)instanceof Symbol)||!Symbol.sham&&re&&re<41})},590:(ee,te,b)=>{var re=b(7293),ne=b(5112),ie=b(1913),se=ne("iterator");ee.exports=!re(function(){var fe=new URL("b?a=1&b=2&c=3","http://a"),ce=fe.searchParams,de="";return fe.pathname="c%20d",ce.forEach(function(ye,ge){ce.delete("b"),de+=ge+ye}),ie&&!fe.toJSON||!ce.sort||fe.href!=="http://a/c%20d?a=1&c=3"||ce.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!ce[se]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||de!=="a1c3"||new URL("http://x",void 0).host!=="x"})},8536:(ee,te,b)=>{var re=b(7854),ne=b(614),ie=b(2788),se=re.WeakMap;ee.exports=ne(se)&&/native code/.test(ie(se))},8523:(ee,te,b)=>{var re=b(9662),ne=function(ie){var se,fe;this.promise=new ie(function(ce,de){if(se!==void 0||fe!==void 0)throw TypeError("Bad Promise constructor");se=ce,fe=de}),this.resolve=re(se),this.reject=re(fe)};ee.exports.f=function(ie){return new ne(ie)}},6277:(ee,te,b)=>{var re=b(1340);ee.exports=function(ne,ie){return ne===void 0?arguments.length<2?"":ie:re(ne)}},3929:(ee,te,b)=>{var re=b(7850),ne=TypeError;ee.exports=function(ie){if(re(ie))throw ne("The method doesn't accept regular expressions");return ie}},2814:(ee,te,b)=>{var re=b(7854),ne=b(7293),ie=b(1702),se=b(1340),fe=b(3111).trim,ce=b(1361),de=ie("".charAt),ye=re.parseFloat,ge=re.Symbol,_e=ge&&ge.iterator,Ee=1/ye(ce+"-0")!==-1/0||_e&&!ne(function(){ye(Object(_e))});ee.exports=Ee?function(we){var Me=fe(se(we)),ke=ye(Me);return ke===0&&de(Me,0)=="-"?-0:ke}:ye},1574:(ee,te,b)=>{var re=b(9781),ne=b(1702),ie=b(6916),se=b(7293),fe=b(1956),ce=b(5181),de=b(5296),ye=b(7908),ge=b(8361),_e=Object.assign,Ee=Object.defineProperty,Ae=ne([].concat);ee.exports=!_e||se(function(){if(re&&_e({b:1},_e(Ee({},"a",{enumerable:!0,get:function(){Ee(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var we={},Me={},ke=Symbol(),Re="abcdefghijklmnopqrst";return we[ke]=7,Re.split("").forEach(function(ze){Me[ze]=ze}),_e({},we)[ke]!=7||fe(_e({},Me)).join("")!=Re})?function(Me,ke){for(var Re=ye(Me),ze=arguments.length,Je=1,et=ce.f,Pe=de.f;ze>Je;)for(var ve=ge(arguments[Je++]),le=et?Ae(fe(ve),et(ve)):fe(ve),ae=le.length,he=0,xe;ae>he;)xe=le[he++],(!re||ie(Pe,ve,xe))&&(Re[xe]=ve[xe]);return Re}:_e},30:(ee,te,b)=>{var re=b(9670),ne=b(6048),ie=b(748),se=b(3501),fe=b(490),ce=b(317),de=b(6200),ye=">",ge="<",_e="prototype",Ee="script",Ae=de("IE_PROTO"),we=function(){},Me=function(et){return ge+Ee+ye+et+ge+"/"+Ee+ye},ke=function(et){et.write(Me("")),et.close();var Pe=et.parentWindow.Object;return et=null,Pe},Re=function(){var et=ce("iframe"),Pe="java"+Ee+":",ve;return et.style.display="none",fe.appendChild(et),et.src=String(Pe),ve=et.contentWindow.document,ve.open(),ve.write(Me("document.F=Object")),ve.close(),ve.F},ze,Je=function(){try{ze=new ActiveXObject("htmlfile")}catch{}Je=typeof document<"u"?document.domain&&ze?ke(ze):Re():ke(ze);for(var et=ie.length;et--;)delete Je[_e][ie[et]];return Je()};se[Ae]=!0,ee.exports=Object.create||function(Pe,ve){var le;return Pe!==null?(we[_e]=re(Pe),le=new we,we[_e]=null,le[Ae]=Pe):le=Je(),ve===void 0?le:ne.f(le,ve)}},6048:(ee,te,b)=>{var re=b(9781),ne=b(3353),ie=b(3070),se=b(9670),fe=b(5656),ce=b(1956);te.f=re&&!ne?Object.defineProperties:function(ye,ge){se(ye);for(var _e=fe(ge),Ee=ce(ge),Ae=Ee.length,we=0,Me;Ae>we;)ie.f(ye,Me=Ee[we++],_e[Me]);return ye}},3070:(ee,te,b)=>{var re=b(9781),ne=b(4664),ie=b(3353),se=b(9670),fe=b(4948),ce=TypeError,de=Object.defineProperty,ye=Object.getOwnPropertyDescriptor,ge="enumerable",_e="configurable",Ee="writable";te.f=re?ie?function(we,Me,ke){if(se(we),Me=fe(Me),se(ke),typeof we=="function"&&Me==="prototype"&&"value"in ke&&Ee in ke&&!ke[Ee]){var Re=ye(we,Me);Re&&Re[Ee]&&(we[Me]=ke.value,ke={configurable:_e in ke?ke[_e]:Re[_e],enumerable:ge in ke?ke[ge]:Re[ge],writable:!1})}return de(we,Me,ke)}:de:function(we,Me,ke){if(se(we),Me=fe(Me),se(ke),ne)try{return de(we,Me,ke)}catch{}if("get"in ke||"set"in ke)throw ce("Accessors not supported");return"value"in ke&&(we[Me]=ke.value),we}},1236:(ee,te,b)=>{var re=b(9781),ne=b(6916),ie=b(5296),se=b(9114),fe=b(5656),ce=b(4948),de=b(2597),ye=b(4664),ge=Object.getOwnPropertyDescriptor;te.f=re?ge:function(Ee,Ae){if(Ee=fe(Ee),Ae=ce(Ae),ye)try{return ge(Ee,Ae)}catch{}if(de(Ee,Ae))return se(!ne(ie.f,Ee,Ae),Ee[Ae])}},1156:(ee,te,b)=>{var re=b(4326),ne=b(5656),ie=b(8006).f,se=b(1589),fe=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ce=function(de){try{return ie(de)}catch{return se(fe)}};ee.exports.f=function(ye){return fe&&re(ye)=="Window"?ce(ye):ie(ne(ye))}},8006:(ee,te,b)=>{var re=b(6324),ne=b(748),ie=ne.concat("length","prototype");te.f=Object.getOwnPropertyNames||function(fe){return re(fe,ie)}},5181:(ee,te)=>{te.f=Object.getOwnPropertySymbols},9518:(ee,te,b)=>{var re=b(2597),ne=b(614),ie=b(7908),se=b(6200),fe=b(8544),ce=se("IE_PROTO"),de=Object,ye=de.prototype;ee.exports=fe?de.getPrototypeOf:function(ge){var _e=ie(ge);if(re(_e,ce))return _e[ce];var Ee=_e.constructor;return ne(Ee)&&_e instanceof Ee?Ee.prototype:_e instanceof de?ye:null}},2050:(ee,te,b)=>{var re=b(7293),ne=b(111),ie=b(4326),se=b(7556),fe=Object.isExtensible,ce=re(function(){});ee.exports=ce||se?function(ye){return!ne(ye)||se&&ie(ye)=="ArrayBuffer"?!1:fe?fe(ye):!0}:fe},7976:(ee,te,b)=>{var re=b(1702);ee.exports=re({}.isPrototypeOf)},6324:(ee,te,b)=>{var re=b(1702),ne=b(2597),ie=b(5656),se=b(1318).indexOf,fe=b(3501),ce=re([].push);ee.exports=function(de,ye){var ge=ie(de),_e=0,Ee=[],Ae;for(Ae in ge)!ne(fe,Ae)&&ne(ge,Ae)&&ce(Ee,Ae);for(;ye.length>_e;)ne(ge,Ae=ye[_e++])&&(~se(Ee,Ae)||ce(Ee,Ae));return Ee}},1956:(ee,te,b)=>{var re=b(6324),ne=b(748);ee.exports=Object.keys||function(se){return re(se,ne)}},5296:(ee,te)=>{var b={}.propertyIsEnumerable,re=Object.getOwnPropertyDescriptor,ne=re&&!b.call({1:2},1);te.f=ne?function(se){var fe=re(this,se);return!!fe&&fe.enumerable}:b},7674:(ee,te,b)=>{var re=b(1702),ne=b(9670),ie=b(6077);ee.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var se=!1,fe={},ce;try{ce=re(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),ce(fe,[]),se=fe instanceof Array}catch{}return function(ye,ge){return ne(ye),ie(ge),se?ce(ye,ge):ye.__proto__=ge,ye}}():void 0)},4699:(ee,te,b)=>{var re=b(9781),ne=b(1702),ie=b(1956),se=b(5656),fe=b(5296).f,ce=ne(fe),de=ne([].push),ye=function(ge){return function(_e){for(var Ee=se(_e),Ae=ie(Ee),we=Ae.length,Me=0,ke=[],Re;we>Me;)Re=Ae[Me++],(!re||ce(Ee,Re))&&de(ke,ge?[Re,Ee[Re]]:Ee[Re]);return ke}};ee.exports={entries:ye(!0),values:ye(!1)}},288:(ee,te,b)=>{var re=b(1694),ne=b(648);ee.exports=re?{}.toString:function(){return"[object "+ne(this)+"]"}},2140:(ee,te,b)=>{var re=b(6916),ne=b(614),ie=b(111),se=TypeError;ee.exports=function(fe,ce){var de,ye;if(ce==="string"&&ne(de=fe.toString)&&!ie(ye=re(de,fe))||ne(de=fe.valueOf)&&!ie(ye=re(de,fe))||ce!=="string"&&ne(de=fe.toString)&&!ie(ye=re(de,fe)))return ye;throw se("Can't convert object to primitive value")}},3887:(ee,te,b)=>{var re=b(5005),ne=b(1702),ie=b(8006),se=b(5181),fe=b(9670),ce=ne([].concat);ee.exports=re("Reflect","ownKeys")||function(ye){var ge=ie.f(fe(ye)),_e=se.f;return _e?ce(ge,_e(ye)):ge}},857:(ee,te,b)=>{var re=b(7854);ee.exports=re},2534:ee=>{ee.exports=function(te){try{return{error:!1,value:te()}}catch(b){return{error:!0,value:b}}}},3702:(ee,te,b)=>{var re=b(7854),ne=b(2492),ie=b(614),se=b(4705),fe=b(2788),ce=b(5112),de=b(7871),ye=b(1913),ge=b(7392),_e=ne&&ne.prototype,Ee=ce("species"),Ae=!1,we=ie(re.PromiseRejectionEvent),Me=se("Promise",function(){var ke=fe(ne),Re=ke!==String(ne);if(!Re&&ge===66||ye&&!(_e.catch&&_e.finally))return!0;if(ge>=51&&/native code/.test(ke))return!1;var ze=new ne(function(Pe){Pe(1)}),Je=function(Pe){Pe(function(){},function(){})},et=ze.constructor={};return et[Ee]=Je,Ae=ze.then(function(){})instanceof Je,Ae?!Re&&de&&!we:!0});ee.exports={CONSTRUCTOR:Me,REJECTION_EVENT:we,SUBCLASSING:Ae}},2492:(ee,te,b)=>{var re=b(7854);ee.exports=re.Promise},9478:(ee,te,b)=>{var re=b(9670),ne=b(111),ie=b(8523);ee.exports=function(se,fe){if(re(se),ne(fe)&&fe.constructor===se)return fe;var ce=ie.f(se),de=ce.resolve;return de(fe),ce.promise}},612:(ee,te,b)=>{var re=b(2492),ne=b(7072),ie=b(3702).CONSTRUCTOR;ee.exports=ie||!ne(function(se){re.all(se).then(void 0,function(){})})},2626:(ee,te,b)=>{var re=b(3070).f;ee.exports=function(ne,ie,se){se in ne||re(ne,se,{configurable:!0,get:function(){return ie[se]},set:function(fe){ie[se]=fe}})}},8572:ee=>{var te=function(){this.head=null,this.tail=null};te.prototype={add:function(b){var re={item:b,next:null};this.head?this.tail.next=re:this.head=re,this.tail=re},get:function(){var b=this.head;if(b)return this.head=b.next,this.tail===b&&(this.tail=null),b.item}},ee.exports=te},7651:(ee,te,b)=>{var re=b(6916),ne=b(9670),ie=b(614),se=b(4326),fe=b(2261),ce=TypeError;ee.exports=function(de,ye){var ge=de.exec;if(ie(ge)){var _e=re(ge,de,ye);return _e!==null&&ne(_e),_e}if(se(de)==="RegExp")return re(fe,de,ye);throw ce("RegExp#exec called on incompatible receiver")}},2261:(ee,te,b)=>{var re=b(6916),ne=b(1702),ie=b(1340),se=b(7066),fe=b(2999),ce=b(2309),de=b(30),ye=b(9909).get,ge=b(9441),_e=b(7168),Ee=ce("native-string-replace",String.prototype.replace),Ae=RegExp.prototype.exec,we=Ae,Me=ne("".charAt),ke=ne("".indexOf),Re=ne("".replace),ze=ne("".slice),Je=function(){var le=/a/,ae=/b*/g;return re(Ae,le,"a"),re(Ae,ae,"a"),le.lastIndex!==0||ae.lastIndex!==0}(),et=fe.BROKEN_CARET,Pe=/()??/.exec("")[1]!==void 0,ve=Je||Pe||et||ge||_e;ve&&(we=function(ae){var he=this,xe=ye(he),$e=ie(ae),He=xe.raw,Fe,Ne,De,pe,Le,Be,Ce;if(He)return He.lastIndex=he.lastIndex,Fe=re(we,He,$e),he.lastIndex=He.lastIndex,Fe;var Ze=xe.groups,it=et&&he.sticky,rt=re(se,he),Oe=he.source,Ve=0,We=$e;if(it&&(rt=Re(rt,"y",""),ke(rt,"g")===-1&&(rt+="g"),We=ze($e,he.lastIndex),he.lastIndex>0&&(!he.multiline||he.multiline&&Me($e,he.lastIndex-1)!==`
`)&&(Oe="(?: "+Oe+")",We=" "+We,Ve++),Ne=new RegExp("^(?:"+Oe+")",rt)),Pe&&(Ne=new RegExp("^"+Oe+"$(?!\\s)",rt)),Je&&(De=he.lastIndex),pe=re(Ae,it?Ne:he,We),it?pe?(pe.input=ze(pe.input,Ve),pe[0]=ze(pe[0],Ve),pe.index=he.lastIndex,he.lastIndex+=pe[0].length):he.lastIndex=0:Je&&pe&&(he.lastIndex=he.global?pe.index+pe[0].length:De),Pe&&pe&&pe.length>1&&re(Ee,pe[0],Ne,function(){for(Le=1;Le<arguments.length-2;Le++)arguments[Le]===void 0&&(pe[Le]=void 0)}),pe&&Ze)for(pe.groups=Be=de(null),Le=0;Le<Ze.length;Le++)Ce=Ze[Le],Be[Ce[0]]=pe[Ce[1]];return pe}),ee.exports=we},7066:(ee,te,b)=>{var re=b(9670);ee.exports=function(){var ne=re(this),ie="";return ne.hasIndices&&(ie+="d"),ne.global&&(ie+="g"),ne.ignoreCase&&(ie+="i"),ne.multiline&&(ie+="m"),ne.dotAll&&(ie+="s"),ne.unicode&&(ie+="u"),ne.unicodeSets&&(ie+="v"),ne.sticky&&(ie+="y"),ie}},4706:(ee,te,b)=>{var re=b(6916),ne=b(2597),ie=b(7976),se=b(7066),fe=RegExp.prototype;ee.exports=function(ce){var de=ce.flags;return de===void 0&&!("flags"in fe)&&!ne(ce,"flags")&&ie(fe,ce)?re(se,ce):de}},2999:(ee,te,b)=>{var re=b(7293),ne=b(7854),ie=ne.RegExp,se=re(function(){var de=ie("a","y");return de.lastIndex=2,de.exec("abcd")!=null}),fe=se||re(function(){return!ie("a","y").sticky}),ce=se||re(function(){var de=ie("^r","gy");return de.lastIndex=2,de.exec("str")!=null});ee.exports={BROKEN_CARET:ce,MISSED_STICKY:fe,UNSUPPORTED_Y:se}},9441:(ee,te,b)=>{var re=b(7293),ne=b(7854),ie=ne.RegExp;ee.exports=re(function(){var se=ie(".","s");return!(se.dotAll&&se.exec(`
`)&&se.flags==="s")})},7168:(ee,te,b)=>{var re=b(7293),ne=b(7854),ie=ne.RegExp;ee.exports=re(function(){var se=ie("(?<a>b)","g");return se.exec("b").groups.a!=="b"||"b".replace(se,"$<a>c")!=="bc"})},4488:ee=>{var te=TypeError;ee.exports=function(b){if(b==null)throw te("Can't call method on "+b);return b}},1150:ee=>{ee.exports=Object.is||function(b,re){return b===re?b!==0||1/b===1/re:b!=b&&re!=re}},7152:(ee,te,b)=>{var re=b(7854),ne=b(2104),ie=b(614),se=b(8113),fe=b(206),ce=b(8053),de=/MSIE .\./.test(se),ye=re.Function,ge=function(_e){return de?function(Ee,Ae){var we=ce(arguments.length,1)>2,Me=ie(Ee)?Ee:ye(Ee),ke=we?fe(arguments,2):void 0;return _e(we?function(){ne(Me,this,ke)}:Me,Ae)}:_e};ee.exports={setTimeout:ge(re.setTimeout),setInterval:ge(re.setInterval)}},6340:(ee,te,b)=>{var re=b(5005),ne=b(3070),ie=b(5112),se=b(9781),fe=ie("species");ee.exports=function(ce){var de=re(ce),ye=ne.f;se&&de&&!de[fe]&&ye(de,fe,{configurable:!0,get:function(){return this}})}},8003:(ee,te,b)=>{var re=b(3070).f,ne=b(2597),ie=b(5112),se=ie("toStringTag");ee.exports=function(fe,ce,de){fe&&!de&&(fe=fe.prototype),fe&&!ne(fe,se)&&re(fe,se,{configurable:!0,value:ce})}},6200:(ee,te,b)=>{var re=b(2309),ne=b(9711),ie=re("keys");ee.exports=function(se){return ie[se]||(ie[se]=ne(se))}},5465:(ee,te,b)=>{var re=b(7854),ne=b(3072),ie="__core-js_shared__",se=re[ie]||ne(ie,{});ee.exports=se},2309:(ee,te,b)=>{var re=b(1913),ne=b(5465);(ee.exports=function(ie,se){return ne[ie]||(ne[ie]=se!==void 0?se:{})})("versions",[]).push({version:"3.23.5",mode:re?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(ee,te,b)=>{var re=b(9670),ne=b(9483),ie=b(5112),se=ie("species");ee.exports=function(fe,ce){var de=re(fe).constructor,ye;return de===void 0||(ye=re(de)[se])==null?ce:ne(ye)}},3429:(ee,te,b)=>{var re=b(7293);ee.exports=function(ne){return re(function(){var ie=""[ne]('"');return ie!==ie.toLowerCase()||ie.split('"').length>3})}},8710:(ee,te,b)=>{var re=b(1702),ne=b(9303),ie=b(1340),se=b(4488),fe=re("".charAt),ce=re("".charCodeAt),de=re("".slice),ye=function(ge){return function(_e,Ee){var Ae=ie(se(_e)),we=ne(Ee),Me=Ae.length,ke,Re;return we<0||we>=Me?ge?"":void 0:(ke=ce(Ae,we),ke<55296||ke>56319||we+1===Me||(Re=ce(Ae,we+1))<56320||Re>57343?ge?fe(Ae,we):ke:ge?de(Ae,we,we+2):(ke-55296<<10)+(Re-56320)+65536)}};ee.exports={codeAt:ye(!1),charAt:ye(!0)}},6650:(ee,te,b)=>{var re=b(1702),ne=b(7466),ie=b(1340),se=b(8415),fe=b(4488),ce=re(se),de=re("".slice),ye=Math.ceil,ge=function(_e){return function(Ee,Ae,we){var Me=ie(fe(Ee)),ke=ne(Ae),Re=Me.length,ze=we===void 0?" ":ie(we),Je,et;return ke<=Re||ze==""?Me:(Je=ke-Re,et=ce(ze,ye(Je/ze.length)),et.length>Je&&(et=de(et,0,Je)),_e?Me+et:et+Me)}};ee.exports={start:ge(!1),end:ge(!0)}},3197:(ee,te,b)=>{var re=b(1702),ne=2147483647,ie=36,se=1,fe=26,ce=38,de=700,ye=72,ge=128,_e="-",Ee=/[^\0-\u007E]/,Ae=/[.\u3002\uFF0E\uFF61]/g,we="Overflow: input needs wider integers to process",Me=ie-se,ke=RangeError,Re=re(Ae.exec),ze=Math.floor,Je=String.fromCharCode,et=re("".charCodeAt),Pe=re([].join),ve=re([].push),le=re("".replace),ae=re("".split),he=re("".toLowerCase),xe=function(Ne){for(var De=[],pe=0,Le=Ne.length;pe<Le;){var Be=et(Ne,pe++);if(Be>=55296&&Be<=56319&&pe<Le){var Ce=et(Ne,pe++);(Ce&64512)==56320?ve(De,((Be&1023)<<10)+(Ce&1023)+65536):(ve(De,Be),pe--)}else ve(De,Be)}return De},$e=function(Ne){return Ne+22+75*(Ne<26)},He=function(Ne,De,pe){var Le=0;for(Ne=pe?ze(Ne/de):Ne>>1,Ne+=ze(Ne/De);Ne>Me*fe>>1;)Ne=ze(Ne/Me),Le+=ie;return ze(Le+(Me+1)*Ne/(Ne+ce))},Fe=function(Ne){var De=[];Ne=xe(Ne);var pe=Ne.length,Le=ge,Be=0,Ce=ye,Ze,it;for(Ze=0;Ze<Ne.length;Ze++)it=Ne[Ze],it<128&&ve(De,Je(it));var rt=De.length,Oe=rt;for(rt&&ve(De,_e);Oe<pe;){var Ve=ne;for(Ze=0;Ze<Ne.length;Ze++)it=Ne[Ze],it>=Le&&it<Ve&&(Ve=it);var We=Oe+1;if(Ve-Le>ze((ne-Be)/We))throw ke(we);for(Be+=(Ve-Le)*We,Le=Ve,Ze=0;Ze<Ne.length;Ze++){if(it=Ne[Ze],it<Le&&++Be>ne)throw ke(we);if(it==Le){for(var qe=Be,Ge=ie;;){var Qe=Ge<=Ce?se:Ge>=Ce+fe?fe:Ge-Ce;if(qe<Qe)break;var ct=qe-Qe,ft=ie-Qe;ve(De,Je($e(Qe+ct%ft))),qe=ze(ct/ft),Ge+=ie}ve(De,Je($e(qe))),Ce=He(Be,We,Oe==rt),Be=0,Oe++}}Be++,Le++}return Pe(De,"")};ee.exports=function(Ne){var De=[],pe=ae(le(he(Ne),Ae,"."),"."),Le,Be;for(Le=0;Le<pe.length;Le++)Be=pe[Le],ve(De,Re(Ee,Be)?"xn--"+Fe(Be):Be);return Pe(De,".")}},8415:(ee,te,b)=>{var re=b(9303),ne=b(1340),ie=b(4488),se=RangeError;ee.exports=function(ce){var de=ne(ie(this)),ye="",ge=re(ce);if(ge<0||ge==1/0)throw se("Wrong number of repetitions");for(;ge>0;(ge>>>=1)&&(de+=de))ge&1&&(ye+=de);return ye}},6091:(ee,te,b)=>{var re=b(6530).PROPER,ne=b(7293),ie=b(1361),se="\u200B\x85\u180E";ee.exports=function(fe){return ne(function(){return!!ie[fe]()||se[fe]()!==se||re&&ie[fe].name!==fe})}},3111:(ee,te,b)=>{var re=b(1702),ne=b(4488),ie=b(1340),se=b(1361),fe=re("".replace),ce="["+se+"]",de=RegExp("^"+ce+ce+"*"),ye=RegExp(ce+ce+"*$"),ge=function(_e){return function(Ee){var Ae=ie(ne(Ee));return _e&1&&(Ae=fe(Ae,de,"")),_e&2&&(Ae=fe(Ae,ye,"")),Ae}};ee.exports={start:ge(1),end:ge(2),trim:ge(3)}},6532:(ee,te,b)=>{var re=b(6916),ne=b(5005),ie=b(5112),se=b(8052);ee.exports=function(){var fe=ne("Symbol"),ce=fe&&fe.prototype,de=ce&&ce.valueOf,ye=ie("toPrimitive");ce&&!ce[ye]&&se(ce,ye,function(ge){return re(de,this)},{arity:1})}},261:(ee,te,b)=>{var re=b(7854),ne=b(2104),ie=b(9974),se=b(614),fe=b(2597),ce=b(7293),de=b(490),ye=b(206),ge=b(317),_e=b(8053),Ee=b(6833),Ae=b(5268),we=re.setImmediate,Me=re.clearImmediate,ke=re.process,Re=re.Dispatch,ze=re.Function,Je=re.MessageChannel,et=re.String,Pe=0,ve={},le="onreadystatechange",ae,he,xe,$e;try{ae=re.location}catch{}var He=function(pe){if(fe(ve,pe)){var Le=ve[pe];delete ve[pe],Le()}},Fe=function(pe){return function(){He(pe)}},Ne=function(pe){He(pe.data)},De=function(pe){re.postMessage(et(pe),ae.protocol+"//"+ae.host)};(!we||!Me)&&(we=function(Le){_e(arguments.length,1);var Be=se(Le)?Le:ze(Le),Ce=ye(arguments,1);return ve[++Pe]=function(){ne(Be,void 0,Ce)},he(Pe),Pe},Me=function(Le){delete ve[Le]},Ae?he=function(pe){ke.nextTick(Fe(pe))}:Re&&Re.now?he=function(pe){Re.now(Fe(pe))}:Je&&!Ee?(xe=new Je,$e=xe.port2,xe.port1.onmessage=Ne,he=ie($e.postMessage,$e)):re.addEventListener&&se(re.postMessage)&&!re.importScripts&&ae&&ae.protocol!=="file:"&&!ce(De)?(he=De,re.addEventListener("message",Ne,!1)):le in ge("script")?he=function(pe){de.appendChild(ge("script"))[le]=function(){de.removeChild(this),He(pe)}}:he=function(pe){setTimeout(Fe(pe),0)}),ee.exports={set:we,clear:Me}},863:(ee,te,b)=>{var re=b(1702);ee.exports=re(1 .valueOf)},1400:(ee,te,b)=>{var re=b(9303),ne=Math.max,ie=Math.min;ee.exports=function(se,fe){var ce=re(se);return ce<0?ne(ce+fe,0):ie(ce,fe)}},4599:(ee,te,b)=>{var re=b(7593),ne=TypeError;ee.exports=function(ie){var se=re(ie,"number");if(typeof se=="number")throw ne("Can't convert number to bigint");return BigInt(se)}},7067:(ee,te,b)=>{var re=b(9303),ne=b(7466),ie=RangeError;ee.exports=function(se){if(se===void 0)return 0;var fe=re(se),ce=ne(fe);if(fe!==ce)throw ie("Wrong length or index");return ce}},5656:(ee,te,b)=>{var re=b(8361),ne=b(4488);ee.exports=function(ie){return re(ne(ie))}},9303:(ee,te,b)=>{var re=b(4758);ee.exports=function(ne){var ie=+ne;return ie!==ie||ie===0?0:re(ie)}},7466:(ee,te,b)=>{var re=b(9303),ne=Math.min;ee.exports=function(ie){return ie>0?ne(re(ie),9007199254740991):0}},7908:(ee,te,b)=>{var re=b(4488),ne=Object;ee.exports=function(ie){return ne(re(ie))}},4590:(ee,te,b)=>{var re=b(3002),ne=RangeError;ee.exports=function(ie,se){var fe=re(ie);if(fe%se)throw ne("Wrong offset");return fe}},3002:(ee,te,b)=>{var re=b(9303),ne=RangeError;ee.exports=function(ie){var se=re(ie);if(se<0)throw ne("The argument can't be less than 0");return se}},7593:(ee,te,b)=>{var re=b(6916),ne=b(111),ie=b(2190),se=b(8173),fe=b(2140),ce=b(5112),de=TypeError,ye=ce("toPrimitive");ee.exports=function(ge,_e){if(!ne(ge)||ie(ge))return ge;var Ee=se(ge,ye),Ae;if(Ee){if(_e===void 0&&(_e="default"),Ae=re(Ee,ge,_e),!ne(Ae)||ie(Ae))return Ae;throw de("Can't convert object to primitive value")}return _e===void 0&&(_e="number"),fe(ge,_e)}},4948:(ee,te,b)=>{var re=b(7593),ne=b(2190);ee.exports=function(ie){var se=re(ie,"string");return ne(se)?se:se+""}},1694:(ee,te,b)=>{var re=b(5112),ne=re("toStringTag"),ie={};ie[ne]="z",ee.exports=String(ie)==="[object z]"},1340:(ee,te,b)=>{var re=b(648),ne=String;ee.exports=function(ie){if(re(ie)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return ne(ie)}},6330:ee=>{var te=String;ee.exports=function(b){try{return te(b)}catch{return"Object"}}},9843:(ee,te,b)=>{var re=b(2109),ne=b(7854),ie=b(6916),se=b(9781),fe=b(3832),ce=b(260),de=b(3331),ye=b(5787),ge=b(9114),_e=b(8880),Ee=b(5988),Ae=b(7466),we=b(7067),Me=b(4590),ke=b(4948),Re=b(2597),ze=b(648),Je=b(111),et=b(2190),Pe=b(30),ve=b(7976),le=b(7674),ae=b(8006).f,he=b(7321),xe=b(2092).forEach,$e=b(6340),He=b(3070),Fe=b(1236),Ne=b(9909),De=b(9587),pe=Ne.get,Le=Ne.set,Be=Ne.enforce,Ce=He.f,Ze=Fe.f,it=Math.round,rt=ne.RangeError,Oe=de.ArrayBuffer,Ve=Oe.prototype,We=de.DataView,qe=ce.NATIVE_ARRAY_BUFFER_VIEWS,Ge=ce.TYPED_ARRAY_TAG,Qe=ce.TypedArray,ct=ce.TypedArrayPrototype,ft=ce.aTypedArrayConstructor,bt=ce.isTypedArray,St="BYTES_PER_ELEMENT",xt="Wrong length",$t=function(lt,Se){ft(lt);for(var me=0,be=Se.length,Ye=new lt(be);be>me;)Ye[me]=Se[me++];return Ye},It=function(lt,Se){Ce(lt,Se,{get:function(){return pe(this)[Se]}})},Et=function(lt){var Se;return ve(Ve,lt)||(Se=ze(lt))=="ArrayBuffer"||Se=="SharedArrayBuffer"},At=function(lt,Se){return bt(lt)&&!et(Se)&&Se in lt&&Ee(+Se)&&Se>=0},kt=function(Se,me){return me=ke(me),At(Se,me)?ge(2,Se[me]):Ze(Se,me)},Kt=function(Se,me,be){return me=ke(me),At(Se,me)&&Je(be)&&Re(be,"value")&&!Re(be,"get")&&!Re(be,"set")&&!be.configurable&&(!Re(be,"writable")||be.writable)&&(!Re(be,"enumerable")||be.enumerable)?(Se[me]=be.value,Se):Ce(Se,me,be)};se?(qe||(Fe.f=kt,He.f=Kt,It(ct,"buffer"),It(ct,"byteOffset"),It(ct,"byteLength"),It(ct,"length")),re({target:"Object",stat:!0,forced:!qe},{getOwnPropertyDescriptor:kt,defineProperty:Kt}),ee.exports=function(lt,Se,me){var be=lt.match(/\d+$/)[0]/8,Ye=lt+(me?"Clamped":"")+"Array",ut="get"+lt,yt="set"+lt,wt=ne[Ye],Ut=wt,Xt=Ut&&Ut.prototype,Ct={},Ht=function(vr,ur){var Sr=pe(vr);return Sr.view[ut](ur*be+Sr.byteOffset,!0)},Yt=function(vr,ur,Sr){var Ar=pe(vr);me&&(Sr=(Sr=it(Sr))<0?0:Sr>255?255:Sr&255),Ar.view[yt](ur*be+Ar.byteOffset,Sr,!0)},ar=function(vr,ur){Ce(vr,ur,{get:function(){return Ht(this,ur)},set:function(Sr){return Yt(this,ur,Sr)},enumerable:!0})};qe?fe&&(Ut=Se(function(vr,ur,Sr,Ar){return ye(vr,Xt),De(function(){return Je(ur)?Et(ur)?Ar!==void 0?new wt(ur,Me(Sr,be),Ar):Sr!==void 0?new wt(ur,Me(Sr,be)):new wt(ur):bt(ur)?$t(Ut,ur):ie(he,Ut,ur):new wt(we(ur))}(),vr,Ut)}),le&&le(Ut,Qe),xe(ae(wt),function(vr){vr in Ut||_e(Ut,vr,wt[vr])}),Ut.prototype=Xt):(Ut=Se(function(vr,ur,Sr,Ar){ye(vr,Xt);var $r=0,kr=0,ir,pr,Ir;if(!Je(ur))Ir=we(ur),pr=Ir*be,ir=new Oe(pr);else if(Et(ur)){ir=ur,kr=Me(Sr,be);var Pr=ur.byteLength;if(Ar===void 0){if(Pr%be||(pr=Pr-kr,pr<0))throw rt(xt)}else if(pr=Ae(Ar)*be,pr+kr>Pr)throw rt(xt);Ir=pr/be}else return bt(ur)?$t(Ut,ur):ie(he,Ut,ur);for(Le(vr,{buffer:ir,byteOffset:kr,byteLength:pr,length:Ir,view:new We(ir)});$r<Ir;)ar(vr,$r++)}),le&&le(Ut,Qe),Xt=Ut.prototype=Pe(ct)),Xt.constructor!==Ut&&_e(Xt,"constructor",Ut),Be(Xt).TypedArrayConstructor=Ut,Ge&&_e(Xt,Ge,Ye);var tr=Ut!=wt;Ct[Ye]=Ut,re({global:!0,constructor:!0,forced:tr,sham:!qe},Ct),St in Ut||_e(Ut,St,be),St in Xt||_e(Xt,St,be),$e(Ye)}):ee.exports=function(){}},3832:(ee,te,b)=>{var re=b(7854),ne=b(7293),ie=b(7072),se=b(260).NATIVE_ARRAY_BUFFER_VIEWS,fe=re.ArrayBuffer,ce=re.Int8Array;ee.exports=!se||!ne(function(){ce(1)})||!ne(function(){new ce(-1)})||!ie(function(de){new ce,new ce(null),new ce(1.5),new ce(de)},!0)||ne(function(){return new ce(new fe(2),1,void 0).length!==1})},3074:(ee,te,b)=>{var re=b(7745),ne=b(6304);ee.exports=function(ie,se){return re(ne(ie),se)}},7321:(ee,te,b)=>{var re=b(9974),ne=b(6916),ie=b(9483),se=b(7908),fe=b(6244),ce=b(8554),de=b(1246),ye=b(7659),ge=b(260).aTypedArrayConstructor;ee.exports=function(Ee){var Ae=ie(this),we=se(Ee),Me=arguments.length,ke=Me>1?arguments[1]:void 0,Re=ke!==void 0,ze=de(we),Je,et,Pe,ve,le,ae;if(ze&&!ye(ze))for(le=ce(we,ze),ae=le.next,we=[];!(ve=ne(ae,le)).done;)we.push(ve.value);for(Re&&Me>2&&(ke=re(ke,arguments[2])),et=fe(we),Pe=new(ge(Ae))(et),Je=0;et>Je;Je++)Pe[Je]=Re?ke(we[Je],Je):we[Je];return Pe}},6304:(ee,te,b)=>{var re=b(260),ne=b(6707),ie=re.aTypedArrayConstructor,se=re.getTypedArrayConstructor;ee.exports=function(fe){return ie(ne(fe,se(fe)))}},9711:(ee,te,b)=>{var re=b(1702),ne=0,ie=Math.random(),se=re(1 .toString);ee.exports=function(fe){return"Symbol("+(fe===void 0?"":fe)+")_"+se(++ne+ie,36)}},3307:(ee,te,b)=>{var re=b(133);ee.exports=re&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},3353:(ee,te,b)=>{var re=b(9781),ne=b(7293);ee.exports=re&&ne(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},8053:ee=>{var te=TypeError;ee.exports=function(b,re){if(b<re)throw te("Not enough arguments");return b}},6061:(ee,te,b)=>{var re=b(5112);te.f=re},5112:(ee,te,b)=>{var re=b(7854),ne=b(2309),ie=b(2597),se=b(9711),fe=b(133),ce=b(3307),de=ne("wks"),ye=re.Symbol,ge=ye&&ye.for,_e=ce?ye:ye&&ye.withoutSetter||se;ee.exports=function(Ee){if(!ie(de,Ee)||!(fe||typeof de[Ee]=="string")){var Ae="Symbol."+Ee;fe&&ie(ye,Ee)?de[Ee]=ye[Ee]:ce&&ge?de[Ee]=ge(Ae):de[Ee]=_e(Ae)}return de[Ee]}},1361:ee=>{ee.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},9191:(ee,te,b)=>{var re=b(5005),ne=b(2597),ie=b(8880),se=b(7976),fe=b(7674),ce=b(9920),de=b(2626),ye=b(9587),ge=b(6277),_e=b(8340),Ee=b(7741),Ae=b(2914),we=b(9781),Me=b(1913);ee.exports=function(ke,Re,ze,Je){var et="stackTraceLimit",Pe=Je?2:1,ve=ke.split("."),le=ve[ve.length-1],ae=re.apply(null,ve);if(!!ae){var he=ae.prototype;if(!Me&&ne(he,"cause")&&delete he.cause,!ze)return ae;var xe=re("Error"),$e=Re(function(He,Fe){var Ne=ge(Je?Fe:He,void 0),De=Je?new ae(He):new ae;return Ne!==void 0&&ie(De,"message",Ne),Ae&&ie(De,"stack",Ee(De.stack,2)),this&&se(he,this)&&ye(De,this,$e),arguments.length>Pe&&_e(De,arguments[Pe]),De});if($e.prototype=he,le!=="Error"?fe?fe($e,xe):ce($e,xe,{name:!0}):we&&et in ae&&(de($e,ae,et),de($e,ae,"prepareStackTrace")),ce($e,ae),!Me)try{he.name!==le&&ie(he,"name",le),he.constructor=$e}catch{}return $e}}},9575:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(7293),se=b(3331),fe=b(9670),ce=b(1400),de=b(7466),ye=b(6707),ge=se.ArrayBuffer,_e=se.DataView,Ee=_e.prototype,Ae=ne(ge.prototype.slice),we=ne(Ee.getUint8),Me=ne(Ee.setUint8),ke=ie(function(){return!new ge(2).slice(1,void 0).byteLength});re({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:ke},{slice:function(ze,Je){if(Ae&&Je===void 0)return Ae(fe(this),ze);for(var et=fe(this).byteLength,Pe=ce(ze,et),ve=ce(Je===void 0?et:Je,et),le=new(ye(this,ge))(de(ve-Pe)),ae=new _e(this),he=new _e(le),xe=0;Pe<ve;)Me(he,xe++,we(ae,Pe++));return le}})},2222:(ee,te,b)=>{var re=b(2109),ne=b(7293),ie=b(3157),se=b(111),fe=b(7908),ce=b(6244),de=b(7207),ye=b(6135),ge=b(5417),_e=b(1194),Ee=b(5112),Ae=b(7392),we=Ee("isConcatSpreadable"),Me=Ae>=51||!ne(function(){var Je=[];return Je[we]=!1,Je.concat()[0]!==Je}),ke=_e("concat"),Re=function(Je){if(!se(Je))return!1;var et=Je[we];return et!==void 0?!!et:ie(Je)},ze=!Me||!ke;re({target:"Array",proto:!0,arity:1,forced:ze},{concat:function(et){var Pe=fe(this),ve=ge(Pe,0),le=0,ae,he,xe,$e,He;for(ae=-1,xe=arguments.length;ae<xe;ae++)if(He=ae===-1?Pe:arguments[ae],Re(He))for($e=ce(He),de(le+$e),he=0;he<$e;he++,le++)he in He&&ye(ve,le,He[he]);else de(le+1),ye(ve,le++,He);return ve.length=le,ve}})},6541:(ee,te,b)=>{var re=b(2109),ne=b(2092).every,ie=b(9341),se=ie("every");re({target:"Array",proto:!0,forced:!se},{every:function(ce){return ne(this,ce,arguments.length>1?arguments[1]:void 0)}})},7327:(ee,te,b)=>{var re=b(2109),ne=b(2092).filter,ie=b(1194),se=ie("filter");re({target:"Array",proto:!0,forced:!se},{filter:function(ce){return ne(this,ce,arguments.length>1?arguments[1]:void 0)}})},9826:(ee,te,b)=>{var re=b(2109),ne=b(2092).find,ie=b(1223),se="find",fe=!0;se in[]&&Array(1)[se](function(){fe=!1}),re({target:"Array",proto:!0,forced:fe},{find:function(de){return ne(this,de,arguments.length>1?arguments[1]:void 0)}}),ie(se)},9554:(ee,te,b)=>{var re=b(2109),ne=b(8533);re({target:"Array",proto:!0,forced:[].forEach!=ne},{forEach:ne})},1038:(ee,te,b)=>{var re=b(2109),ne=b(8457),ie=b(7072),se=!ie(function(fe){Array.from(fe)});re({target:"Array",stat:!0,forced:se},{from:ne})},6699:(ee,te,b)=>{var re=b(2109),ne=b(1318).includes,ie=b(7293),se=b(1223),fe=ie(function(){return!Array(1).includes()});re({target:"Array",proto:!0,forced:fe},{includes:function(de){return ne(this,de,arguments.length>1?arguments[1]:void 0)}}),se("includes")},2772:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(1318).indexOf,se=b(9341),fe=ne([].indexOf),ce=!!fe&&1/fe([1],1,-0)<0,de=se("indexOf");re({target:"Array",proto:!0,forced:ce||!de},{indexOf:function(ge){var _e=arguments.length>1?arguments[1]:void 0;return ce?fe(this,ge,_e)||0:ie(this,ge,_e)}})},9753:(ee,te,b)=>{var re=b(2109),ne=b(3157);re({target:"Array",stat:!0},{isArray:ne})},6992:(ee,te,b)=>{var re=b(5656),ne=b(1223),ie=b(7497),se=b(9909),fe=b(3070).f,ce=b(654),de=b(1913),ye=b(9781),ge="Array Iterator",_e=se.set,Ee=se.getterFor(ge);ee.exports=ce(Array,"Array",function(we,Me){_e(this,{type:ge,target:re(we),index:0,kind:Me})},function(){var we=Ee(this),Me=we.target,ke=we.kind,Re=we.index++;return!Me||Re>=Me.length?(we.target=void 0,{value:void 0,done:!0}):ke=="keys"?{value:Re,done:!1}:ke=="values"?{value:Me[Re],done:!1}:{value:[Re,Me[Re]],done:!1}},"values");var Ae=ie.Arguments=ie.Array;if(ne("keys"),ne("values"),ne("entries"),!de&&ye&&Ae.name!=="values")try{fe(Ae,"name",{value:"values"})}catch{}},9600:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(8361),se=b(5656),fe=b(9341),ce=ne([].join),de=ie!=Object,ye=fe("join",",");re({target:"Array",proto:!0,forced:de||!ye},{join:function(_e){return ce(se(this),_e===void 0?",":_e)}})},4986:(ee,te,b)=>{var re=b(2109),ne=b(6583);re({target:"Array",proto:!0,forced:ne!==[].lastIndexOf},{lastIndexOf:ne})},1249:(ee,te,b)=>{var re=b(2109),ne=b(2092).map,ie=b(1194),se=ie("map");re({target:"Array",proto:!0,forced:!se},{map:function(ce){return ne(this,ce,arguments.length>1?arguments[1]:void 0)}})},5827:(ee,te,b)=>{var re=b(2109),ne=b(3671).left,ie=b(9341),se=b(7392),fe=b(5268),ce=ie("reduce"),de=!fe&&se>79&&se<83;re({target:"Array",proto:!0,forced:!ce||de},{reduce:function(ge){var _e=arguments.length;return ne(this,ge,_e,_e>1?arguments[1]:void 0)}})},5069:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(3157),se=ne([].reverse),fe=[1,2];re({target:"Array",proto:!0,forced:String(fe)===String(fe.reverse())},{reverse:function(){return ie(this)&&(this.length=this.length),se(this)}})},7042:(ee,te,b)=>{var re=b(2109),ne=b(3157),ie=b(4411),se=b(111),fe=b(1400),ce=b(6244),de=b(5656),ye=b(6135),ge=b(5112),_e=b(1194),Ee=b(206),Ae=_e("slice"),we=ge("species"),Me=Array,ke=Math.max;re({target:"Array",proto:!0,forced:!Ae},{slice:function(ze,Je){var et=de(this),Pe=ce(et),ve=fe(ze,Pe),le=fe(Je===void 0?Pe:Je,Pe),ae,he,xe;if(ne(et)&&(ae=et.constructor,ie(ae)&&(ae===Me||ne(ae.prototype))?ae=void 0:se(ae)&&(ae=ae[we],ae===null&&(ae=void 0)),ae===Me||ae===void 0))return Ee(et,ve,le);for(he=new(ae===void 0?Me:ae)(ke(le-ve,0)),xe=0;ve<le;ve++,xe++)ve in et&&ye(he,xe,et[ve]);return he.length=xe,he}})},5212:(ee,te,b)=>{var re=b(2109),ne=b(2092).some,ie=b(9341),se=ie("some");re({target:"Array",proto:!0,forced:!se},{some:function(ce){return ne(this,ce,arguments.length>1?arguments[1]:void 0)}})},2707:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(9662),se=b(7908),fe=b(6244),ce=b(5117),de=b(1340),ye=b(7293),ge=b(4362),_e=b(9341),Ee=b(8886),Ae=b(256),we=b(7392),Me=b(8008),ke=[],Re=ne(ke.sort),ze=ne(ke.push),Je=ye(function(){ke.sort(void 0)}),et=ye(function(){ke.sort(null)}),Pe=_e("sort"),ve=!ye(function(){if(we)return we<70;if(!(Ee&&Ee>3)){if(Ae)return!0;if(Me)return Me<603;var he="",xe,$e,He,Fe;for(xe=65;xe<76;xe++){switch($e=String.fromCharCode(xe),xe){case 66:case 69:case 70:case 72:He=3;break;case 68:case 71:He=4;break;default:He=2}for(Fe=0;Fe<47;Fe++)ke.push({k:$e+Fe,v:He})}for(ke.sort(function(Ne,De){return De.v-Ne.v}),Fe=0;Fe<ke.length;Fe++)$e=ke[Fe].k.charAt(0),he.charAt(he.length-1)!==$e&&(he+=$e);return he!=="DGBEFHACIJK"}}),le=Je||!et||!Pe||!ve,ae=function(he){return function(xe,$e){return $e===void 0?-1:xe===void 0?1:he!==void 0?+he(xe,$e)||0:de(xe)>de($e)?1:-1}};re({target:"Array",proto:!0,forced:le},{sort:function(xe){xe!==void 0&&ie(xe);var $e=se(this);if(ve)return xe===void 0?Re($e):Re($e,xe);var He=[],Fe=fe($e),Ne,De;for(De=0;De<Fe;De++)De in $e&&ze(He,$e[De]);for(ge(He,ae(xe)),Ne=He.length,De=0;De<Ne;)$e[De]=He[De++];for(;De<Fe;)ce($e,De++);return $e}})},561:(ee,te,b)=>{var re=b(2109),ne=b(7908),ie=b(1400),se=b(9303),fe=b(6244),ce=b(7207),de=b(5417),ye=b(6135),ge=b(5117),_e=b(1194),Ee=_e("splice"),Ae=Math.max,we=Math.min;re({target:"Array",proto:!0,forced:!Ee},{splice:function(ke,Re){var ze=ne(this),Je=fe(ze),et=ie(ke,Je),Pe=arguments.length,ve,le,ae,he,xe,$e;for(Pe===0?ve=le=0:Pe===1?(ve=0,le=Je-et):(ve=Pe-2,le=we(Ae(se(Re),0),Je-et)),ce(Je+ve-le),ae=de(ze,le),he=0;he<le;he++)xe=et+he,xe in ze&&ye(ae,he,ze[xe]);if(ae.length=le,ve<le){for(he=et;he<Je-le;he++)xe=he+le,$e=he+ve,xe in ze?ze[$e]=ze[xe]:ge(ze,$e);for(he=Je;he>Je-le+ve;he--)ge(ze,he-1)}else if(ve>le)for(he=Je-le;he>et;he--)xe=he+le-1,$e=he+ve-1,xe in ze?ze[$e]=ze[xe]:ge(ze,$e);for(he=0;he<ve;he++)ze[he+et]=arguments[he+2];return ze.length=Je-le+ve,ae}})},3843:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=Date,se=ne(ie.prototype.getTime);re({target:"Date",stat:!0},{now:function(){return se(new ie)}})},8733:(ee,te,b)=>{var re=b(2109),ne=b(5573);re({target:"Date",proto:!0,forced:Date.prototype.toISOString!==ne},{toISOString:ne})},3710:(ee,te,b)=>{var re=b(1702),ne=b(8052),ie=Date.prototype,se="Invalid Date",fe="toString",ce=re(ie[fe]),de=re(ie.getTime);String(new Date(NaN))!=se&&ne(ie,fe,function(){var ge=de(this);return ge===ge?ce(this):se})},1703:(ee,te,b)=>{var re=b(2109),ne=b(7854),ie=b(2104),se=b(9191),fe="WebAssembly",ce=ne[fe],de=Error("e",{cause:7}).cause!==7,ye=function(_e,Ee){var Ae={};Ae[_e]=se(_e,Ee,de),re({global:!0,constructor:!0,arity:1,forced:de},Ae)},ge=function(_e,Ee){if(ce&&ce[_e]){var Ae={};Ae[_e]=se(fe+"."+_e,Ee,de),re({target:fe,stat:!0,constructor:!0,arity:1,forced:de},Ae)}};ye("Error",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ye("EvalError",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ye("RangeError",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ye("ReferenceError",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ye("SyntaxError",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ye("TypeError",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ye("URIError",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ge("CompileError",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ge("LinkError",function(_e){return function(Ae){return ie(_e,this,arguments)}}),ge("RuntimeError",function(_e){return function(Ae){return ie(_e,this,arguments)}})},6647:(ee,te,b)=>{var re=b(8052),ne=b(7762),ie=Error.prototype;ie.toString!==ne&&re(ie,"toString",ne)},4812:(ee,te,b)=>{var re=b(2109),ne=b(7065);re({target:"Function",proto:!0,forced:Function.bind!==ne},{bind:ne})},8309:(ee,te,b)=>{var re=b(9781),ne=b(6530).EXISTS,ie=b(1702),se=b(3070).f,fe=Function.prototype,ce=ie(fe.toString),de=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,ye=ie(de.exec),ge="name";re&&!ne&&se(fe,ge,{configurable:!0,get:function(){try{return ye(de,ce(this))[1]}catch{return""}}})},8862:(ee,te,b)=>{var re=b(2109),ne=b(5005),ie=b(2104),se=b(6916),fe=b(1702),ce=b(7293),de=b(3157),ye=b(614),ge=b(111),_e=b(2190),Ee=b(206),Ae=b(133),we=ne("JSON","stringify"),Me=fe(/./.exec),ke=fe("".charAt),Re=fe("".charCodeAt),ze=fe("".replace),Je=fe(1 .toString),et=/[\uD800-\uDFFF]/g,Pe=/^[\uD800-\uDBFF]$/,ve=/^[\uDC00-\uDFFF]$/,le=!Ae||ce(function(){var $e=ne("Symbol")();return we([$e])!="[null]"||we({a:$e})!="{}"||we(Object($e))!="{}"}),ae=ce(function(){return we("\uDF06\uD834")!=='"\\udf06\\ud834"'||we("\uDEAD")!=='"\\udead"'}),he=function($e,He){var Fe=Ee(arguments),Ne=He;if(!(!ge(He)&&$e===void 0||_e($e)))return de(He)||(He=function(De,pe){if(ye(Ne)&&(pe=se(Ne,this,De,pe)),!_e(pe))return pe}),Fe[1]=He,ie(we,null,Fe)},xe=function($e,He,Fe){var Ne=ke(Fe,He-1),De=ke(Fe,He+1);return Me(Pe,$e)&&!Me(ve,De)||Me(ve,$e)&&!Me(Pe,Ne)?"\\u"+Je(Re($e,0),16):$e};we&&re({target:"JSON",stat:!0,arity:3,forced:le||ae},{stringify:function(He,Fe,Ne){var De=Ee(arguments),pe=ie(le?he:we,null,De);return ae&&typeof pe=="string"?ze(pe,et,xe):pe}})},3706:(ee,te,b)=>{var re=b(7854),ne=b(8003);ne(re.JSON,"JSON",!0)},2703:(ee,te,b)=>{var re=b(8003);re(Math,"Math",!0)},9653:(ee,te,b)=>{var re=b(9781),ne=b(7854),ie=b(1702),se=b(4705),fe=b(8052),ce=b(2597),de=b(9587),ye=b(7976),ge=b(2190),_e=b(7593),Ee=b(7293),Ae=b(8006).f,we=b(1236).f,Me=b(3070).f,ke=b(863),Re=b(3111).trim,ze="Number",Je=ne[ze],et=Je.prototype,Pe=ne.TypeError,ve=ie("".slice),le=ie("".charCodeAt),ae=function(Ne){var De=_e(Ne,"number");return typeof De=="bigint"?De:he(De)},he=function(Ne){var De=_e(Ne,"number"),pe,Le,Be,Ce,Ze,it,rt,Oe;if(ge(De))throw Pe("Cannot convert a Symbol value to a number");if(typeof De=="string"&&De.length>2){if(De=Re(De),pe=le(De,0),pe===43||pe===45){if(Le=le(De,2),Le===88||Le===120)return NaN}else if(pe===48){switch(le(De,1)){case 66:case 98:Be=2,Ce=49;break;case 79:case 111:Be=8,Ce=55;break;default:return+De}for(Ze=ve(De,2),it=Ze.length,rt=0;rt<it;rt++)if(Oe=le(Ze,rt),Oe<48||Oe>Ce)return NaN;return parseInt(Ze,Be)}}return+De};if(se(ze,!Je(" 0o1")||!Je("0b1")||Je("+0x1"))){for(var xe=function(De){var pe=arguments.length<1?0:Je(ae(De)),Le=this;return ye(et,Le)&&Ee(function(){ke(Le)})?de(Object(pe),Le,xe):pe},$e=re?Ae(Je):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),He=0,Fe;$e.length>He;He++)ce(Je,Fe=$e[He])&&!ce(xe,Fe)&&Me(xe,Fe,we(Je,Fe));xe.prototype=et,et.constructor=xe,fe(ne,ze,xe,{constructor:!0})}},6977:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(9303),se=b(863),fe=b(8415),ce=b(7293),de=RangeError,ye=String,ge=Math.floor,_e=ne(fe),Ee=ne("".slice),Ae=ne(1 .toFixed),we=function(et,Pe,ve){return Pe===0?ve:Pe%2===1?we(et,Pe-1,ve*et):we(et*et,Pe/2,ve)},Me=function(et){for(var Pe=0,ve=et;ve>=4096;)Pe+=12,ve/=4096;for(;ve>=2;)Pe+=1,ve/=2;return Pe},ke=function(et,Pe,ve){for(var le=-1,ae=ve;++le<6;)ae+=Pe*et[le],et[le]=ae%1e7,ae=ge(ae/1e7)},Re=function(et,Pe){for(var ve=6,le=0;--ve>=0;)le+=et[ve],et[ve]=ge(le/Pe),le=le%Pe*1e7},ze=function(et){for(var Pe=6,ve="";--Pe>=0;)if(ve!==""||Pe===0||et[Pe]!==0){var le=ye(et[Pe]);ve=ve===""?le:ve+_e("0",7-le.length)+le}return ve},Je=ce(function(){return Ae(8e-5,3)!=="0.000"||Ae(.9,0)!=="1"||Ae(1.255,2)!=="1.25"||Ae(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!ce(function(){Ae({})});re({target:"Number",proto:!0,forced:Je},{toFixed:function(Pe){var ve=se(this),le=ie(Pe),ae=[0,0,0,0,0,0],he="",xe="0",$e,He,Fe,Ne;if(le<0||le>20)throw de("Incorrect fraction digits");if(ve!=ve)return"NaN";if(ve<=-1e21||ve>=1e21)return ye(ve);if(ve<0&&(he="-",ve=-ve),ve>1e-21)if($e=Me(ve*we(2,69,1))-69,He=$e<0?ve*we(2,-$e,1):ve/we(2,$e,1),He*=4503599627370496,$e=52-$e,$e>0){for(ke(ae,0,He),Fe=le;Fe>=7;)ke(ae,1e7,0),Fe-=7;for(ke(ae,we(10,Fe,1),0),Fe=$e-1;Fe>=23;)Re(ae,8388608),Fe-=23;Re(ae,1<<Fe),ke(ae,1,1),Re(ae,2),xe=ze(ae)}else ke(ae,0,He),ke(ae,1<<-$e,0),xe=ze(ae)+_e("0",le);return le>0?(Ne=xe.length,xe=he+(Ne<=le?"0."+_e("0",le-Ne)+xe:Ee(xe,0,Ne-le)+"."+Ee(xe,Ne-le))):xe=he+xe,xe}})},8011:(ee,te,b)=>{var re=b(2109),ne=b(9781),ie=b(30);re({target:"Object",stat:!0,sham:!ne},{create:ie})},3321:(ee,te,b)=>{var re=b(2109),ne=b(9781),ie=b(6048).f;re({target:"Object",stat:!0,forced:Object.defineProperties!==ie,sham:!ne},{defineProperties:ie})},9070:(ee,te,b)=>{var re=b(2109),ne=b(9781),ie=b(3070).f;re({target:"Object",stat:!0,forced:Object.defineProperty!==ie,sham:!ne},{defineProperty:ie})},9720:(ee,te,b)=>{var re=b(2109),ne=b(4699).entries;re({target:"Object",stat:!0},{entries:function(se){return ne(se)}})},5003:(ee,te,b)=>{var re=b(2109),ne=b(7293),ie=b(5656),se=b(1236).f,fe=b(9781),ce=ne(function(){se(1)}),de=!fe||ce;re({target:"Object",stat:!0,forced:de,sham:!fe},{getOwnPropertyDescriptor:function(ge,_e){return se(ie(ge),_e)}})},9337:(ee,te,b)=>{var re=b(2109),ne=b(9781),ie=b(3887),se=b(5656),fe=b(1236),ce=b(6135);re({target:"Object",stat:!0,sham:!ne},{getOwnPropertyDescriptors:function(ye){for(var ge=se(ye),_e=fe.f,Ee=ie(ge),Ae={},we=0,Me,ke;Ee.length>we;)ke=_e(ge,Me=Ee[we++]),ke!==void 0&&ce(Ae,Me,ke);return Ae}})},9660:(ee,te,b)=>{var re=b(2109),ne=b(133),ie=b(7293),se=b(5181),fe=b(7908),ce=!ne||ie(function(){se.f(1)});re({target:"Object",stat:!0,forced:ce},{getOwnPropertySymbols:function(ye){var ge=se.f;return ge?ge(fe(ye)):[]}})},489:(ee,te,b)=>{var re=b(2109),ne=b(7293),ie=b(7908),se=b(9518),fe=b(8544),ce=ne(function(){se(1)});re({target:"Object",stat:!0,forced:ce,sham:!fe},{getPrototypeOf:function(ye){return se(ie(ye))}})},7941:(ee,te,b)=>{var re=b(2109),ne=b(7908),ie=b(1956),se=b(7293),fe=se(function(){ie(1)});re({target:"Object",stat:!0,forced:fe},{keys:function(de){return ie(ne(de))}})},8304:(ee,te,b)=>{var re=b(2109),ne=b(7674);re({target:"Object",stat:!0},{setPrototypeOf:ne})},1539:(ee,te,b)=>{var re=b(1694),ne=b(8052),ie=b(288);re||ne(Object.prototype,"toString",ie,{unsafe:!0})},4678:(ee,te,b)=>{var re=b(2109),ne=b(2814);re({global:!0,forced:parseFloat!=ne},{parseFloat:ne})},821:(ee,te,b)=>{var re=b(2109),ne=b(6916),ie=b(9662),se=b(8523),fe=b(2534),ce=b(408),de=b(612);re({target:"Promise",stat:!0,forced:de},{all:function(ge){var _e=this,Ee=se.f(_e),Ae=Ee.resolve,we=Ee.reject,Me=fe(function(){var ke=ie(_e.resolve),Re=[],ze=0,Je=1;ce(ge,function(et){var Pe=ze++,ve=!1;Je++,ne(ke,_e,et).then(function(le){ve||(ve=!0,Re[Pe]=le,--Je||Ae(Re))},we)}),--Je||Ae(Re)});return Me.error&&we(Me.value),Ee.promise}})},4164:(ee,te,b)=>{var re=b(2109),ne=b(1913),ie=b(3702).CONSTRUCTOR,se=b(2492),fe=b(5005),ce=b(614),de=b(8052),ye=se&&se.prototype;if(re({target:"Promise",proto:!0,forced:ie,real:!0},{catch:function(_e){return this.then(void 0,_e)}}),!ne&&ce(se)){var ge=fe("Promise").prototype.catch;ye.catch!==ge&&de(ye,"catch",ge,{unsafe:!0})}},3401:(ee,te,b)=>{var re=b(2109),ne=b(1913),ie=b(5268),se=b(7854),fe=b(6916),ce=b(8052),de=b(7674),ye=b(8003),ge=b(6340),_e=b(9662),Ee=b(614),Ae=b(111),we=b(5787),Me=b(6707),ke=b(261).set,Re=b(5948),ze=b(842),Je=b(2534),et=b(8572),Pe=b(9909),ve=b(2492),le=b(3702),ae=b(8523),he="Promise",xe=le.CONSTRUCTOR,$e=le.REJECTION_EVENT,He=le.SUBCLASSING,Fe=Pe.getterFor(he),Ne=Pe.set,De=ve&&ve.prototype,pe=ve,Le=De,Be=se.TypeError,Ce=se.document,Ze=se.process,it=ae.f,rt=it,Oe=!!(Ce&&Ce.createEvent&&se.dispatchEvent),Ve="unhandledrejection",We="rejectionhandled",qe=0,Ge=1,Qe=2,ct=1,ft=2,bt,St,xt,$t,It=function(ut){var yt;return Ae(ut)&&Ee(yt=ut.then)?yt:!1},Et=function(ut,yt){var wt=yt.value,Ut=yt.state==Ge,Xt=Ut?ut.ok:ut.fail,Ct=ut.resolve,Ht=ut.reject,Yt=ut.domain,ar,tr,vr;try{Xt?(Ut||(yt.rejection===ft&&Se(yt),yt.rejection=ct),Xt===!0?ar=wt:(Yt&&Yt.enter(),ar=Xt(wt),Yt&&(Yt.exit(),vr=!0)),ar===ut.promise?Ht(Be("Promise-chain cycle")):(tr=It(ar))?fe(tr,ar,Ct,Ht):Ct(ar)):Ht(wt)}catch(ur){Yt&&!vr&&Yt.exit(),Ht(ur)}},At=function(ut,yt){ut.notified||(ut.notified=!0,Re(function(){for(var wt=ut.reactions,Ut;Ut=wt.get();)Et(Ut,ut);ut.notified=!1,yt&&!ut.rejection&&Kt(ut)}))},kt=function(ut,yt,wt){var Ut,Xt;Oe?(Ut=Ce.createEvent("Event"),Ut.promise=yt,Ut.reason=wt,Ut.initEvent(ut,!1,!0),se.dispatchEvent(Ut)):Ut={promise:yt,reason:wt},!$e&&(Xt=se["on"+ut])?Xt(Ut):ut===Ve&&ze("Unhandled promise rejection",wt)},Kt=function(ut){fe(ke,se,function(){var yt=ut.facade,wt=ut.value,Ut=lt(ut),Xt;if(Ut&&(Xt=Je(function(){ie?Ze.emit("unhandledRejection",wt,yt):kt(Ve,yt,wt)}),ut.rejection=ie||lt(ut)?ft:ct,Xt.error))throw Xt.value})},lt=function(ut){return ut.rejection!==ct&&!ut.parent},Se=function(ut){fe(ke,se,function(){var yt=ut.facade;ie?Ze.emit("rejectionHandled",yt):kt(We,yt,ut.value)})},me=function(ut,yt,wt){return function(Ut){ut(yt,Ut,wt)}},be=function(ut,yt,wt){ut.done||(ut.done=!0,wt&&(ut=wt),ut.value=yt,ut.state=Qe,At(ut,!0))},Ye=function(ut,yt,wt){if(!ut.done){ut.done=!0,wt&&(ut=wt);try{if(ut.facade===yt)throw Be("Promise can't be resolved itself");var Ut=It(yt);Ut?Re(function(){var Xt={done:!1};try{fe(Ut,yt,me(Ye,Xt,ut),me(be,Xt,ut))}catch(Ct){be(Xt,Ct,ut)}}):(ut.value=yt,ut.state=Ge,At(ut,!1))}catch(Xt){be({done:!1},Xt,ut)}}};if(xe&&(pe=function(yt){we(this,Le),_e(yt),fe(bt,this);var wt=Fe(this);try{yt(me(Ye,wt),me(be,wt))}catch(Ut){be(wt,Ut)}},Le=pe.prototype,bt=function(yt){Ne(this,{type:he,done:!1,notified:!1,parent:!1,reactions:new et,rejection:!1,state:qe,value:void 0})},bt.prototype=ce(Le,"then",function(yt,wt){var Ut=Fe(this),Xt=it(Me(this,pe));return Ut.parent=!0,Xt.ok=Ee(yt)?yt:!0,Xt.fail=Ee(wt)&&wt,Xt.domain=ie?Ze.domain:void 0,Ut.state==qe?Ut.reactions.add(Xt):Re(function(){Et(Xt,Ut)}),Xt.promise}),St=function(){var ut=new bt,yt=Fe(ut);this.promise=ut,this.resolve=me(Ye,yt),this.reject=me(be,yt)},ae.f=it=function(ut){return ut===pe||ut===xt?new St(ut):rt(ut)},!ne&&Ee(ve)&&De!==Object.prototype)){$t=De.then,He||ce(De,"then",function(yt,wt){var Ut=this;return new pe(function(Xt,Ct){fe($t,Ut,Xt,Ct)}).then(yt,wt)},{unsafe:!0});try{delete De.constructor}catch{}de&&de(De,Le)}re({global:!0,constructor:!0,wrap:!0,forced:xe},{Promise:pe}),ye(pe,he,!1,!0),ge(he)},8674:(ee,te,b)=>{b(3401),b(821),b(4164),b(6027),b(683),b(6294)},6027:(ee,te,b)=>{var re=b(2109),ne=b(6916),ie=b(9662),se=b(8523),fe=b(2534),ce=b(408),de=b(612);re({target:"Promise",stat:!0,forced:de},{race:function(ge){var _e=this,Ee=se.f(_e),Ae=Ee.reject,we=fe(function(){var Me=ie(_e.resolve);ce(ge,function(ke){ne(Me,_e,ke).then(Ee.resolve,Ae)})});return we.error&&Ae(we.value),Ee.promise}})},683:(ee,te,b)=>{var re=b(2109),ne=b(6916),ie=b(8523),se=b(3702).CONSTRUCTOR;re({target:"Promise",stat:!0,forced:se},{reject:function(ce){var de=ie.f(this);return ne(de.reject,void 0,ce),de.promise}})},6294:(ee,te,b)=>{var re=b(2109),ne=b(5005),ie=b(1913),se=b(2492),fe=b(3702).CONSTRUCTOR,ce=b(9478),de=ne("Promise"),ye=ie&&!fe;re({target:"Promise",stat:!0,forced:ie||fe},{resolve:function(_e){return ce(ye&&this===de?se:this,_e)}})},4603:(ee,te,b)=>{var re=b(9781),ne=b(7854),ie=b(1702),se=b(4705),fe=b(9587),ce=b(8880),de=b(8006).f,ye=b(7976),ge=b(7850),_e=b(1340),Ee=b(4706),Ae=b(2999),we=b(2626),Me=b(8052),ke=b(7293),Re=b(2597),ze=b(9909).enforce,Je=b(6340),et=b(5112),Pe=b(9441),ve=b(7168),le=et("match"),ae=ne.RegExp,he=ae.prototype,xe=ne.SyntaxError,$e=ie(he.exec),He=ie("".charAt),Fe=ie("".replace),Ne=ie("".indexOf),De=ie("".slice),pe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Le=/a/g,Be=/a/g,Ce=new ae(Le)!==Le,Ze=Ae.MISSED_STICKY,it=Ae.UNSUPPORTED_Y,rt=re&&(!Ce||Ze||Pe||ve||ke(function(){return Be[le]=!1,ae(Le)!=Le||ae(Be)==Be||ae(Le,"i")!="/a/i"})),Oe=function(Qe){for(var ct=Qe.length,ft=0,bt="",St=!1,xt;ft<=ct;ft++){if(xt=He(Qe,ft),xt==="\\"){bt+=xt+He(Qe,++ft);continue}!St&&xt==="."?bt+="[\\s\\S]":(xt==="["?St=!0:xt==="]"&&(St=!1),bt+=xt)}return bt},Ve=function(Qe){for(var ct=Qe.length,ft=0,bt="",St=[],xt={},$t=!1,It=!1,Et=0,At="",kt;ft<=ct;ft++){if(kt=He(Qe,ft),kt==="\\")kt=kt+He(Qe,++ft);else if(kt==="]")$t=!1;else if(!$t)switch(!0){case kt==="[":$t=!0;break;case kt==="(":$e(pe,De(Qe,ft+1))&&(ft+=2,It=!0),bt+=kt,Et++;continue;case(kt===">"&&It):if(At===""||Re(xt,At))throw new xe("Invalid capture group name");xt[At]=!0,St[St.length]=[At,Et],It=!1,At="";continue}It?At+=kt:bt+=kt}return[bt,St]};if(se("RegExp",rt)){for(var We=function(ct,ft){var bt=ye(he,this),St=ge(ct),xt=ft===void 0,$t=[],It=ct,Et,At,kt,Kt,lt,Se;if(!bt&&St&&xt&&ct.constructor===We)return ct;if((St||ye(he,ct))&&(ct=ct.source,xt&&(ft=Ee(It))),ct=ct===void 0?"":_e(ct),ft=ft===void 0?"":_e(ft),It=ct,Pe&&"dotAll"in Le&&(At=!!ft&&Ne(ft,"s")>-1,At&&(ft=Fe(ft,/s/g,""))),Et=ft,Ze&&"sticky"in Le&&(kt=!!ft&&Ne(ft,"y")>-1,kt&&it&&(ft=Fe(ft,/y/g,""))),ve&&(Kt=Ve(ct),ct=Kt[0],$t=Kt[1]),lt=fe(ae(ct,ft),bt?this:he,We),(At||kt||$t.length)&&(Se=ze(lt),At&&(Se.dotAll=!0,Se.raw=We(Oe(ct),Et)),kt&&(Se.sticky=!0),$t.length&&(Se.groups=$t)),ct!==It)try{ce(lt,"source",It===""?"(?:)":It)}catch{}return lt},qe=de(ae),Ge=0;qe.length>Ge;)we(We,ae,qe[Ge++]);he.constructor=We,We.prototype=he,Me(ne,"RegExp",We,{constructor:!0})}Je("RegExp")},8450:(ee,te,b)=>{var re=b(9781),ne=b(9441),ie=b(4326),se=b(7045),fe=b(9909).get,ce=RegExp.prototype,de=TypeError;re&&ne&&se(ce,"dotAll",{configurable:!0,get:function(){if(this!==ce){if(ie(this)==="RegExp")return!!fe(this).dotAll;throw de("Incompatible receiver, RegExp required")}}})},4916:(ee,te,b)=>{var re=b(2109),ne=b(2261);re({target:"RegExp",proto:!0,forced:/./.exec!==ne},{exec:ne})},8386:(ee,te,b)=>{var re=b(9781),ne=b(2999).MISSED_STICKY,ie=b(4326),se=b(7045),fe=b(9909).get,ce=RegExp.prototype,de=TypeError;re&&ne&&se(ce,"sticky",{configurable:!0,get:function(){if(this!==ce){if(ie(this)==="RegExp")return!!fe(this).sticky;throw de("Incompatible receiver, RegExp required")}}})},7601:(ee,te,b)=>{b(4916);var re=b(2109),ne=b(6916),ie=b(1702),se=b(614),fe=b(111),ce=function(){var ge=!1,_e=/[ac]/;return _e.exec=function(){return ge=!0,/./.exec.apply(this,arguments)},_e.test("abc")===!0&&ge}(),de=TypeError,ye=ie(/./.test);re({target:"RegExp",proto:!0,forced:!ce},{test:function(ge){var _e=this.exec;if(!se(_e))return ye(this,ge);var Ee=ne(_e,this,ge);if(Ee!==null&&!fe(Ee))throw new de("RegExp exec method returned something other than an Object or null");return!!Ee}})},9714:(ee,te,b)=>{var re=b(6530).PROPER,ne=b(8052),ie=b(9670),se=b(1340),fe=b(7293),ce=b(4706),de="toString",ye=RegExp.prototype,ge=ye[de],_e=fe(function(){return ge.call({source:"a",flags:"b"})!="/a/b"}),Ee=re&&ge.name!=de;(_e||Ee)&&ne(RegExp.prototype,de,function(){var we=ie(this),Me=se(we.source),ke=se(ce(we));return"/"+Me+"/"+ke},{unsafe:!0})},7227:(ee,te,b)=>{var re=b(7710),ne=b(5631);re("Set",function(ie){return function(){return ie(this,arguments.length?arguments[0]:void 0)}},ne)},189:(ee,te,b)=>{b(7227)},915:(ee,te,b)=>{var re=b(2109),ne=b(4230),ie=b(3429);re({target:"String",proto:!0,forced:ie("bold")},{bold:function(){return ne(this,"b","","")}})},2023:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(3929),se=b(4488),fe=b(1340),ce=b(4964),de=ne("".indexOf);re({target:"String",proto:!0,forced:!ce("includes")},{includes:function(ge){return!!~de(fe(se(this)),fe(ie(ge)),arguments.length>1?arguments[1]:void 0)}})},8734:(ee,te,b)=>{var re=b(2109),ne=b(4230),ie=b(3429);re({target:"String",proto:!0,forced:ie("italics")},{italics:function(){return ne(this,"i","","")}})},8783:(ee,te,b)=>{var re=b(8710).charAt,ne=b(1340),ie=b(9909),se=b(654),fe="String Iterator",ce=ie.set,de=ie.getterFor(fe);se(String,"String",function(ye){ce(this,{type:fe,string:ne(ye),index:0})},function(){var ge=de(this),_e=ge.string,Ee=ge.index,Ae;return Ee>=_e.length?{value:void 0,done:!0}:(Ae=re(_e,Ee),ge.index+=Ae.length,{value:Ae,done:!1})})},6373:(ee,te,b)=>{var re=b(2109),ne=b(6916),ie=b(1702),se=b(4994),fe=b(4488),ce=b(7466),de=b(1340),ye=b(9670),ge=b(4326),_e=b(7850),Ee=b(4706),Ae=b(8173),we=b(8052),Me=b(7293),ke=b(5112),Re=b(6707),ze=b(1530),Je=b(7651),et=b(9909),Pe=b(1913),ve=ke("matchAll"),le="RegExp String",ae=le+" Iterator",he=et.set,xe=et.getterFor(ae),$e=RegExp.prototype,He=TypeError,Fe=ie("".indexOf),Ne=ie("".matchAll),De=!!Ne&&!Me(function(){Ne("a",/./)}),pe=se(function(Ce,Ze,it,rt){he(this,{type:ae,regexp:Ce,string:Ze,global:it,unicode:rt,done:!1})},le,function(){var Ce=xe(this);if(Ce.done)return{value:void 0,done:!0};var Ze=Ce.regexp,it=Ce.string,rt=Je(Ze,it);return rt===null?{value:void 0,done:Ce.done=!0}:Ce.global?(de(rt[0])===""&&(Ze.lastIndex=ze(it,ce(Ze.lastIndex),Ce.unicode)),{value:rt,done:!1}):(Ce.done=!0,{value:rt,done:!1})}),Le=function(Be){var Ce=ye(this),Ze=de(Be),it=Re(Ce,RegExp),rt=de(Ee(Ce)),Oe,Ve,We;return Oe=new it(it===RegExp?Ce.source:Ce,rt),Ve=!!~Fe(rt,"g"),We=!!~Fe(rt,"u"),Oe.lastIndex=ce(Ce.lastIndex),new pe(Oe,Ze,Ve,We)};re({target:"String",proto:!0,forced:De},{matchAll:function(Ce){var Ze=fe(this),it,rt,Oe,Ve;if(Ce!=null){if(_e(Ce)&&(it=de(fe(Ee(Ce))),!~Fe(it,"g")))throw He("`.matchAll` does not allow non-global regexes");if(De)return Ne(Ze,Ce);if(Oe=Ae(Ce,ve),Oe===void 0&&Pe&&ge(Ce)=="RegExp"&&(Oe=Le),Oe)return ne(Oe,Ce,Ze)}else if(De)return Ne(Ze,Ce);return rt=de(Ze),Ve=new RegExp(Ce,"g"),Pe?ne(Le,Ve,rt):Ve[ve](rt)}}),Pe||ve in $e||we($e,ve,Le)},4723:(ee,te,b)=>{var re=b(6916),ne=b(7007),ie=b(9670),se=b(7466),fe=b(1340),ce=b(4488),de=b(8173),ye=b(1530),ge=b(7651);ne("match",function(_e,Ee,Ae){return[function(Me){var ke=ce(this),Re=Me==null?void 0:de(Me,_e);return Re?re(Re,Me,ke):new RegExp(Me)[_e](fe(ke))},function(we){var Me=ie(this),ke=fe(we),Re=Ae(Ee,Me,ke);if(Re.done)return Re.value;if(!Me.global)return ge(Me,ke);var ze=Me.unicode;Me.lastIndex=0;for(var Je=[],et=0,Pe;(Pe=ge(Me,ke))!==null;){var ve=fe(Pe[0]);Je[et]=ve,ve===""&&(Me.lastIndex=ye(ke,se(Me.lastIndex),ze)),et++}return et===0?null:Je}]})},8757:(ee,te,b)=>{var re=b(2109),ne=b(6916),ie=b(1702),se=b(4488),fe=b(614),ce=b(7850),de=b(1340),ye=b(8173),ge=b(4706),_e=b(647),Ee=b(5112),Ae=b(1913),we=Ee("replace"),Me=TypeError,ke=ie("".indexOf),Re=ie("".replace),ze=ie("".slice),Je=Math.max,et=function(Pe,ve,le){return le>Pe.length?-1:ve===""?le:ke(Pe,ve,le)};re({target:"String",proto:!0},{replaceAll:function(ve,le){var ae=se(this),he,xe,$e,He,Fe,Ne,De,pe,Le,Be=0,Ce=0,Ze="";if(ve!=null){if(he=ce(ve),he&&(xe=de(se(ge(ve))),!~ke(xe,"g")))throw Me("`.replaceAll` does not allow non-global regexes");if($e=ye(ve,we),$e)return ne($e,ve,ae,le);if(Ae&&he)return Re(de(ae),ve,le)}for(He=de(ae),Fe=de(ve),Ne=fe(le),Ne||(le=de(le)),De=Fe.length,pe=Je(1,De),Be=et(He,Fe,0);Be!==-1;)Le=Ne?de(le(Fe,Be,He)):_e(Fe,He,Be,[],void 0,le),Ze+=ze(He,Ce,Be)+Le,Ce=Be+De,Be=et(He,Fe,Be+pe);return Ce<He.length&&(Ze+=ze(He,Ce)),Ze}})},5306:(ee,te,b)=>{var re=b(2104),ne=b(6916),ie=b(1702),se=b(7007),fe=b(7293),ce=b(9670),de=b(614),ye=b(9303),ge=b(7466),_e=b(1340),Ee=b(4488),Ae=b(1530),we=b(8173),Me=b(647),ke=b(7651),Re=b(5112),ze=Re("replace"),Je=Math.max,et=Math.min,Pe=ie([].concat),ve=ie([].push),le=ie("".indexOf),ae=ie("".slice),he=function(Fe){return Fe===void 0?Fe:String(Fe)},xe=function(){return"a".replace(/./,"$0")==="$0"}(),$e=function(){return/./[ze]?/./[ze]("a","$0")==="":!1}(),He=!fe(function(){var Fe=/./;return Fe.exec=function(){var Ne=[];return Ne.groups={a:"7"},Ne},"".replace(Fe,"$<a>")!=="7"});se("replace",function(Fe,Ne,De){var pe=$e?"$":"$0";return[function(Be,Ce){var Ze=Ee(this),it=Be==null?void 0:we(Be,ze);return it?ne(it,Be,Ze,Ce):ne(Ne,_e(Ze),Be,Ce)},function(Le,Be){var Ce=ce(this),Ze=_e(Le);if(typeof Be=="string"&&le(Be,pe)===-1&&le(Be,"$<")===-1){var it=De(Ne,Ce,Ze,Be);if(it.done)return it.value}var rt=de(Be);rt||(Be=_e(Be));var Oe=Ce.global;if(Oe){var Ve=Ce.unicode;Ce.lastIndex=0}for(var We=[];;){var qe=ke(Ce,Ze);if(qe===null||(ve(We,qe),!Oe))break;var Ge=_e(qe[0]);Ge===""&&(Ce.lastIndex=Ae(Ze,ge(Ce.lastIndex),Ve))}for(var Qe="",ct=0,ft=0;ft<We.length;ft++){qe=We[ft];for(var bt=_e(qe[0]),St=Je(et(ye(qe.index),Ze.length),0),xt=[],$t=1;$t<qe.length;$t++)ve(xt,he(qe[$t]));var It=qe.groups;if(rt){var Et=Pe([bt],xt,St,Ze);It!==void 0&&ve(Et,It);var At=_e(re(Be,void 0,Et))}else At=Me(bt,Ze,St,xt,It,Be);St>=ct&&(Qe+=ae(Ze,ct,St)+At,ct=St+bt.length)}return Qe+ae(Ze,ct)}]},!He||!xe||$e)},4765:(ee,te,b)=>{var re=b(6916),ne=b(7007),ie=b(9670),se=b(4488),fe=b(1150),ce=b(1340),de=b(8173),ye=b(7651);ne("search",function(ge,_e,Ee){return[function(we){var Me=se(this),ke=we==null?void 0:de(we,ge);return ke?re(ke,we,Me):new RegExp(we)[ge](ce(Me))},function(Ae){var we=ie(this),Me=ce(Ae),ke=Ee(_e,we,Me);if(ke.done)return ke.value;var Re=we.lastIndex;fe(Re,0)||(we.lastIndex=0);var ze=ye(we,Me);return fe(we.lastIndex,Re)||(we.lastIndex=Re),ze===null?-1:ze.index}]})},6755:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(1236).f,se=b(7466),fe=b(1340),ce=b(3929),de=b(4488),ye=b(4964),ge=b(1913),_e=ne("".startsWith),Ee=ne("".slice),Ae=Math.min,we=ye("startsWith"),Me=!ge&&!we&&!!function(){var ke=ie(String.prototype,"startsWith");return ke&&!ke.writable}();re({target:"String",proto:!0,forced:!Me&&!we},{startsWith:function(Re){var ze=fe(de(this));ce(Re);var Je=se(Ae(arguments.length>1?arguments[1]:void 0,ze.length)),et=fe(Re);return _e?_e(ze,et,Je):Ee(ze,Je,Je+et.length)===et}})},7397:(ee,te,b)=>{var re=b(2109),ne=b(4230),ie=b(3429);re({target:"String",proto:!0,forced:ie("strike")},{strike:function(){return ne(this,"strike","","")}})},3650:(ee,te,b)=>{var re=b(2109),ne=b(1702),ie=b(4488),se=b(9303),fe=b(1340),ce=ne("".slice),de=Math.max,ye=Math.min,ge=!"".substr||"ab".substr(-1)!=="b";re({target:"String",proto:!0,forced:ge},{substr:function(Ee,Ae){var we=fe(ie(this)),Me=we.length,ke=se(Ee),Re,ze;return ke===1/0&&(ke=0),ke<0&&(ke=de(Me+ke,0)),Re=Ae===void 0?Me:se(Ae),Re<=0||Re===1/0?"":(ze=ye(ke+Re,Me),ke>=ze?"":ce(we,ke,ze))}})},3210:(ee,te,b)=>{var re=b(2109),ne=b(3111).trim,ie=b(6091);re({target:"String",proto:!0,forced:ie("trim")},{trim:function(){return ne(this)}})},2443:(ee,te,b)=>{var re=b(7235);re("asyncIterator")},4032:(ee,te,b)=>{var re=b(2109),ne=b(7854),ie=b(6916),se=b(1702),fe=b(1913),ce=b(9781),de=b(133),ye=b(7293),ge=b(2597),_e=b(7976),Ee=b(9670),Ae=b(5656),we=b(4948),Me=b(1340),ke=b(9114),Re=b(30),ze=b(1956),Je=b(8006),et=b(1156),Pe=b(5181),ve=b(1236),le=b(3070),ae=b(6048),he=b(5296),xe=b(8052),$e=b(2309),He=b(6200),Fe=b(3501),Ne=b(9711),De=b(5112),pe=b(6061),Le=b(7235),Be=b(6532),Ce=b(8003),Ze=b(9909),it=b(2092).forEach,rt=He("hidden"),Oe="Symbol",Ve="prototype",We=Ze.set,qe=Ze.getterFor(Oe),Ge=Object[Ve],Qe=ne.Symbol,ct=Qe&&Qe[Ve],ft=ne.TypeError,bt=ne.QObject,St=ve.f,xt=le.f,$t=et.f,It=he.f,Et=se([].push),At=$e("symbols"),kt=$e("op-symbols"),Kt=$e("wks"),lt=!bt||!bt[Ve]||!bt[Ve].findChild,Se=ce&&ye(function(){return Re(xt({},"a",{get:function(){return xt(this,"a",{value:7}).a}})).a!=7})?function(Ct,Ht,Yt){var ar=St(Ge,Ht);ar&&delete Ge[Ht],xt(Ct,Ht,Yt),ar&&Ct!==Ge&&xt(Ge,Ht,ar)}:xt,me=function(Ct,Ht){var Yt=At[Ct]=Re(ct);return We(Yt,{type:Oe,tag:Ct,description:Ht}),ce||(Yt.description=Ht),Yt},be=function(Ht,Yt,ar){Ht===Ge&&be(kt,Yt,ar),Ee(Ht);var tr=we(Yt);return Ee(ar),ge(At,tr)?(ar.enumerable?(ge(Ht,rt)&&Ht[rt][tr]&&(Ht[rt][tr]=!1),ar=Re(ar,{enumerable:ke(0,!1)})):(ge(Ht,rt)||xt(Ht,rt,ke(1,{})),Ht[rt][tr]=!0),Se(Ht,tr,ar)):xt(Ht,tr,ar)},Ye=function(Ht,Yt){Ee(Ht);var ar=Ae(Yt),tr=ze(ar).concat(Xt(ar));return it(tr,function(vr){(!ce||ie(yt,ar,vr))&&be(Ht,vr,ar[vr])}),Ht},ut=function(Ht,Yt){return Yt===void 0?Re(Ht):Ye(Re(Ht),Yt)},yt=function(Ht){var Yt=we(Ht),ar=ie(It,this,Yt);return this===Ge&&ge(At,Yt)&&!ge(kt,Yt)?!1:ar||!ge(this,Yt)||!ge(At,Yt)||ge(this,rt)&&this[rt][Yt]?ar:!0},wt=function(Ht,Yt){var ar=Ae(Ht),tr=we(Yt);if(!(ar===Ge&&ge(At,tr)&&!ge(kt,tr))){var vr=St(ar,tr);return vr&&ge(At,tr)&&!(ge(ar,rt)&&ar[rt][tr])&&(vr.enumerable=!0),vr}},Ut=function(Ht){var Yt=$t(Ae(Ht)),ar=[];return it(Yt,function(tr){!ge(At,tr)&&!ge(Fe,tr)&&Et(ar,tr)}),ar},Xt=function(Ct){var Ht=Ct===Ge,Yt=$t(Ht?kt:Ae(Ct)),ar=[];return it(Yt,function(tr){ge(At,tr)&&(!Ht||ge(Ge,tr))&&Et(ar,At[tr])}),ar};de||(Qe=function(){if(_e(ct,this))throw ft("Symbol is not a constructor");var Ht=!arguments.length||arguments[0]===void 0?void 0:Me(arguments[0]),Yt=Ne(Ht),ar=function(tr){this===Ge&&ie(ar,kt,tr),ge(this,rt)&&ge(this[rt],Yt)&&(this[rt][Yt]=!1),Se(this,Yt,ke(1,tr))};return ce&&lt&&Se(Ge,Yt,{configurable:!0,set:ar}),me(Yt,Ht)},ct=Qe[Ve],xe(ct,"toString",function(){return qe(this).tag}),xe(Qe,"withoutSetter",function(Ct){return me(Ne(Ct),Ct)}),he.f=yt,le.f=be,ae.f=Ye,ve.f=wt,Je.f=et.f=Ut,Pe.f=Xt,pe.f=function(Ct){return me(De(Ct),Ct)},ce&&(xt(ct,"description",{configurable:!0,get:function(){return qe(this).description}}),fe||xe(Ge,"propertyIsEnumerable",yt,{unsafe:!0}))),re({global:!0,constructor:!0,wrap:!0,forced:!de,sham:!de},{Symbol:Qe}),it(ze(Kt),function(Ct){Le(Ct)}),re({target:Oe,stat:!0,forced:!de},{useSetter:function(){lt=!0},useSimple:function(){lt=!1}}),re({target:"Object",stat:!0,forced:!de,sham:!ce},{create:ut,defineProperty:be,defineProperties:Ye,getOwnPropertyDescriptor:wt}),re({target:"Object",stat:!0,forced:!de},{getOwnPropertyNames:Ut}),Be(),Ce(Qe,Oe),Fe[rt]=!0},1817:(ee,te,b)=>{var re=b(2109),ne=b(9781),ie=b(7854),se=b(1702),fe=b(2597),ce=b(614),de=b(7976),ye=b(1340),ge=b(3070).f,_e=b(9920),Ee=ie.Symbol,Ae=Ee&&Ee.prototype;if(ne&&ce(Ee)&&(!("description"in Ae)||Ee().description!==void 0)){var we={},Me=function(){var le=arguments.length<1||arguments[0]===void 0?void 0:ye(arguments[0]),ae=de(Ae,this)?new Ee(le):le===void 0?Ee():Ee(le);return le===""&&(we[ae]=!0),ae};_e(Me,Ee),Me.prototype=Ae,Ae.constructor=Me;var ke=String(Ee("test"))=="Symbol(test)",Re=se(Ae.toString),ze=se(Ae.valueOf),Je=/^Symbol\((.*)\)[^)]+$/,et=se("".replace),Pe=se("".slice);ge(Ae,"description",{configurable:!0,get:function(){var le=ze(this),ae=Re(le);if(fe(we,le))return"";var he=ke?Pe(ae,7,-1):et(ae,Je,"$1");return he===""?void 0:he}}),re({global:!0,constructor:!0,forced:!0},{Symbol:Me})}},763:(ee,te,b)=>{var re=b(2109),ne=b(5005),ie=b(2597),se=b(1340),fe=b(2309),ce=b(735),de=fe("string-to-symbol-registry"),ye=fe("symbol-to-string-registry");re({target:"Symbol",stat:!0,forced:!ce},{for:function(ge){var _e=se(ge);if(ie(de,_e))return de[_e];var Ee=ne("Symbol")(_e);return de[_e]=Ee,ye[Ee]=_e,Ee}})},2165:(ee,te,b)=>{var re=b(7235);re("iterator")},2526:(ee,te,b)=>{b(4032),b(763),b(6620),b(8862),b(9660)},6620:(ee,te,b)=>{var re=b(2109),ne=b(2597),ie=b(2190),se=b(6330),fe=b(2309),ce=b(735),de=fe("symbol-to-string-registry");re({target:"Symbol",stat:!0,forced:!ce},{keyFor:function(ge){if(!ie(ge))throw TypeError(se(ge)+" is not a symbol");if(ne(de,ge))return de[ge]}})},3680:(ee,te,b)=>{var re=b(5005),ne=b(7235),ie=b(8003);ne("toStringTag"),ie(re("Symbol"),"Symbol")},8675:(ee,te,b)=>{var re=b(260),ne=b(6244),ie=b(9303),se=re.aTypedArray,fe=re.exportTypedArrayMethod;fe("at",function(de){var ye=se(this),ge=ne(ye),_e=ie(de),Ee=_e>=0?_e:ge+_e;return Ee<0||Ee>=ge?void 0:ye[Ee]})},2990:(ee,te,b)=>{var re=b(1702),ne=b(260),ie=b(1048),se=re(ie),fe=ne.aTypedArray,ce=ne.exportTypedArrayMethod;ce("copyWithin",function(ye,ge){return se(fe(this),ye,ge,arguments.length>2?arguments[2]:void 0)})},8927:(ee,te,b)=>{var re=b(260),ne=b(2092).every,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("every",function(ce){return ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},3105:(ee,te,b)=>{var re=b(260),ne=b(1285),ie=b(4599),se=b(648),fe=b(6916),ce=b(1702),de=b(7293),ye=re.aTypedArray,ge=re.exportTypedArrayMethod,_e=ce("".slice),Ee=de(function(){var Ae=0;return new Int8Array(2).fill({valueOf:function(){return Ae++}}),Ae!==1});ge("fill",function(we){var Me=arguments.length;ye(this);var ke=_e(se(this),0,3)==="Big"?ie(we):+we;return fe(ne,this,ke,Me>1?arguments[1]:void 0,Me>2?arguments[2]:void 0)},Ee)},5035:(ee,te,b)=>{var re=b(260),ne=b(2092).filter,ie=b(3074),se=re.aTypedArray,fe=re.exportTypedArrayMethod;fe("filter",function(de){var ye=ne(se(this),de,arguments.length>1?arguments[1]:void 0);return ie(this,ye)})},7174:(ee,te,b)=>{var re=b(260),ne=b(2092).findIndex,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("findIndex",function(ce){return ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},2958:(ee,te,b)=>{var re=b(260),ne=b(9671).findLastIndex,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("findLastIndex",function(ce){return ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},3408:(ee,te,b)=>{var re=b(260),ne=b(9671).findLast,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("findLast",function(ce){return ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},4345:(ee,te,b)=>{var re=b(260),ne=b(2092).find,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("find",function(ce){return ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},4197:(ee,te,b)=>{var re=b(9843);re("Float32",function(ne){return function(se,fe,ce){return ne(this,se,fe,ce)}})},2846:(ee,te,b)=>{var re=b(260),ne=b(2092).forEach,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("forEach",function(ce){ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},4731:(ee,te,b)=>{var re=b(260),ne=b(1318).includes,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("includes",function(ce){return ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},7209:(ee,te,b)=>{var re=b(260),ne=b(1318).indexOf,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("indexOf",function(ce){return ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},5109:(ee,te,b)=>{var re=b(9843);re("Int16",function(ne){return function(se,fe,ce){return ne(this,se,fe,ce)}})},7145:(ee,te,b)=>{var re=b(9843);re("Int8",function(ne){return function(se,fe,ce){return ne(this,se,fe,ce)}})},6319:(ee,te,b)=>{var re=b(7854),ne=b(7293),ie=b(1702),se=b(260),fe=b(6992),ce=b(5112),de=ce("iterator"),ye=re.Uint8Array,ge=ie(fe.values),_e=ie(fe.keys),Ee=ie(fe.entries),Ae=se.aTypedArray,we=se.exportTypedArrayMethod,Me=ye&&ye.prototype,ke=!ne(function(){Me[de].call([1])}),Re=!!Me&&Me.values&&Me[de]===Me.values&&Me.values.name==="values",ze=function(){return ge(Ae(this))};we("entries",function(){return Ee(Ae(this))},ke),we("keys",function(){return _e(Ae(this))},ke),we("values",ze,ke||!Re,{name:"values"}),we(de,ze,ke||!Re,{name:"values"})},8867:(ee,te,b)=>{var re=b(260),ne=b(1702),ie=re.aTypedArray,se=re.exportTypedArrayMethod,fe=ne([].join);se("join",function(de){return fe(ie(this),de)})},7789:(ee,te,b)=>{var re=b(260),ne=b(2104),ie=b(6583),se=re.aTypedArray,fe=re.exportTypedArrayMethod;fe("lastIndexOf",function(de){var ye=arguments.length;return ne(ie,se(this),ye>1?[de,arguments[1]]:[de])})},3739:(ee,te,b)=>{var re=b(260),ne=b(2092).map,ie=b(6304),se=re.aTypedArray,fe=re.exportTypedArrayMethod;fe("map",function(de){return ne(se(this),de,arguments.length>1?arguments[1]:void 0,function(ye,ge){return new(ie(ye))(ge)})})},4483:(ee,te,b)=>{var re=b(260),ne=b(3671).right,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("reduceRight",function(ce){var de=arguments.length;return ne(ie(this),ce,de,de>1?arguments[1]:void 0)})},9368:(ee,te,b)=>{var re=b(260),ne=b(3671).left,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("reduce",function(ce){var de=arguments.length;return ne(ie(this),ce,de,de>1?arguments[1]:void 0)})},2056:(ee,te,b)=>{var re=b(260),ne=re.aTypedArray,ie=re.exportTypedArrayMethod,se=Math.floor;ie("reverse",function(){for(var ce=this,de=ne(ce).length,ye=se(de/2),ge=0,_e;ge<ye;)_e=ce[ge],ce[ge++]=ce[--de],ce[de]=_e;return ce})},3462:(ee,te,b)=>{var re=b(7854),ne=b(6916),ie=b(260),se=b(6244),fe=b(4590),ce=b(7908),de=b(7293),ye=re.RangeError,ge=re.Int8Array,_e=ge&&ge.prototype,Ee=_e&&_e.set,Ae=ie.aTypedArray,we=ie.exportTypedArrayMethod,Me=!de(function(){var Re=new Uint8ClampedArray(2);return ne(Ee,Re,{length:1,0:3},1),Re[1]!==3}),ke=Me&&ie.NATIVE_ARRAY_BUFFER_VIEWS&&de(function(){var Re=new ge(2);return Re.set(1),Re.set("2",1),Re[0]!==0||Re[1]!==2});we("set",function(ze){Ae(this);var Je=fe(arguments.length>1?arguments[1]:void 0,1),et=ce(ze);if(Me)return ne(Ee,this,et,Je);var Pe=this.length,ve=se(et),le=0;if(ve+Je>Pe)throw ye("Wrong length");for(;le<ve;)this[Je+le]=et[le++]},!Me||ke)},678:(ee,te,b)=>{var re=b(260),ne=b(6304),ie=b(7293),se=b(206),fe=re.aTypedArray,ce=re.exportTypedArrayMethod,de=ie(function(){new Int8Array(1).slice()});ce("slice",function(ge,_e){for(var Ee=se(fe(this),ge,_e),Ae=ne(this),we=0,Me=Ee.length,ke=new Ae(Me);Me>we;)ke[we]=Ee[we++];return ke},de)},7462:(ee,te,b)=>{var re=b(260),ne=b(2092).some,ie=re.aTypedArray,se=re.exportTypedArrayMethod;se("some",function(ce){return ne(ie(this),ce,arguments.length>1?arguments[1]:void 0)})},3824:(ee,te,b)=>{var re=b(7854),ne=b(1702),ie=b(7293),se=b(9662),fe=b(4362),ce=b(260),de=b(8886),ye=b(256),ge=b(7392),_e=b(8008),Ee=ce.aTypedArray,Ae=ce.exportTypedArrayMethod,we=re.Uint16Array,Me=we&&ne(we.prototype.sort),ke=!!Me&&!(ie(function(){Me(new we(2),null)})&&ie(function(){Me(new we(2),{})})),Re=!!Me&&!ie(function(){if(ge)return ge<74;if(de)return de<67;if(ye)return!0;if(_e)return _e<602;var Je=new we(516),et=Array(516),Pe,ve;for(Pe=0;Pe<516;Pe++)ve=Pe%4,Je[Pe]=515-Pe,et[Pe]=Pe-2*ve+3;for(Me(Je,function(le,ae){return(le/4|0)-(ae/4|0)}),Pe=0;Pe<516;Pe++)if(Je[Pe]!==et[Pe])return!0}),ze=function(Je){return function(et,Pe){return Je!==void 0?+Je(et,Pe)||0:Pe!==Pe?-1:et!==et?1:et===0&&Pe===0?1/et>0&&1/Pe<0?1:-1:et>Pe}};Ae("sort",function(et){return et!==void 0&&se(et),Re?Me(this,et):fe(Ee(this),ze(et))},!Re||ke)},5021:(ee,te,b)=>{var re=b(260),ne=b(7466),ie=b(1400),se=b(6304),fe=re.aTypedArray,ce=re.exportTypedArrayMethod;ce("subarray",function(ye,ge){var _e=fe(this),Ee=_e.length,Ae=ie(ye,Ee),we=se(_e);return new we(_e.buffer,_e.byteOffset+Ae*_e.BYTES_PER_ELEMENT,ne((ge===void 0?Ee:ie(ge,Ee))-Ae))})},2974:(ee,te,b)=>{var re=b(7854),ne=b(2104),ie=b(260),se=b(7293),fe=b(206),ce=re.Int8Array,de=ie.aTypedArray,ye=ie.exportTypedArrayMethod,ge=[].toLocaleString,_e=!!ce&&se(function(){ge.call(new ce(1))}),Ee=se(function(){return[1,2].toLocaleString()!=new ce([1,2]).toLocaleString()})||!se(function(){ce.prototype.toLocaleString.call([1,2])});ye("toLocaleString",function(){return ne(ge,_e?fe(de(this)):de(this),fe(arguments))},Ee)},5016:(ee,te,b)=>{var re=b(260).exportTypedArrayMethod,ne=b(7293),ie=b(7854),se=b(1702),fe=ie.Uint8Array,ce=fe&&fe.prototype||{},de=[].toString,ye=se([].join);ne(function(){de.call({})})&&(de=function(){return ye(this)});var ge=ce.toString!=de;re("toString",de,ge)},1118:(ee,te,b)=>{b(2958)},7380:(ee,te,b)=>{b(3408)},4747:(ee,te,b)=>{var re=b(7854),ne=b(8324),ie=b(8509),se=b(8533),fe=b(8880),ce=function(ye){if(ye&&ye.forEach!==se)try{fe(ye,"forEach",se)}catch{ye.forEach=se}};for(var de in ne)ne[de]&&ce(re[de]&&re[de].prototype);ce(ie)},3948:(ee,te,b)=>{var re=b(7854),ne=b(8324),ie=b(8509),se=b(6992),fe=b(8880),ce=b(5112),de=ce("iterator"),ye=ce("toStringTag"),ge=se.values,_e=function(Ae,we){if(Ae){if(Ae[de]!==ge)try{fe(Ae,de,ge)}catch{Ae[de]=ge}if(Ae[ye]||fe(Ae,ye,we),ne[we]){for(var Me in se)if(Ae[Me]!==se[Me])try{fe(Ae,Me,se[Me])}catch{Ae[Me]=se[Me]}}}};for(var Ee in ne)_e(re[Ee]&&re[Ee].prototype,Ee);_e(ie,"DOMTokenList")},6815:(ee,te,b)=>{var re=b(2109),ne=b(7854),ie=b(7152).setInterval;re({global:!0,bind:!0,forced:ne.setInterval!==ie},{setInterval:ie})},8417:(ee,te,b)=>{var re=b(2109),ne=b(7854),ie=b(7152).setTimeout;re({global:!0,bind:!0,forced:ne.setTimeout!==ie},{setTimeout:ie})},2564:(ee,te,b)=>{b(6815),b(8417)},5556:(ee,te,b)=>{b(6992);var re=b(2109),ne=b(7854),ie=b(6916),se=b(1702),fe=b(9781),ce=b(590),de=b(8052),ye=b(9190),ge=b(8003),_e=b(4994),Ee=b(9909),Ae=b(5787),we=b(614),Me=b(2597),ke=b(9974),Re=b(648),ze=b(9670),Je=b(111),et=b(1340),Pe=b(30),ve=b(9114),le=b(8554),ae=b(1246),he=b(8053),xe=b(5112),$e=b(4362),He=xe("iterator"),Fe="URLSearchParams",Ne=Fe+"Iterator",De=Ee.set,pe=Ee.getterFor(Fe),Le=Ee.getterFor(Ne),Be=Object.getOwnPropertyDescriptor,Ce=function(tr){if(!fe)return ne[tr];var vr=Be(ne,tr);return vr&&vr.value},Ze=Ce("fetch"),it=Ce("Request"),rt=Ce("Headers"),Oe=it&&it.prototype,Ve=rt&&rt.prototype,We=ne.RegExp,qe=ne.TypeError,Ge=ne.decodeURIComponent,Qe=ne.encodeURIComponent,ct=se("".charAt),ft=se([].join),bt=se([].push),St=se("".replace),xt=se([].shift),$t=se([].splice),It=se("".split),Et=se("".slice),At=/\+/g,kt=Array(4),Kt=function(tr){return kt[tr-1]||(kt[tr-1]=We("((?:%[\\da-f]{2}){"+tr+"})","gi"))},lt=function(tr){try{return Ge(tr)}catch{return tr}},Se=function(tr){var vr=St(tr,At," "),ur=4;try{return Ge(vr)}catch{for(;ur;)vr=St(vr,Kt(ur--),lt);return vr}},me=/[!'()~]|%20/g,be={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ye=function(tr){return be[tr]},ut=function(tr){return St(Qe(tr),me,Ye)},yt=_e(function(vr,ur){De(this,{type:Ne,iterator:le(pe(vr).entries),kind:ur})},"Iterator",function(){var vr=Le(this),ur=vr.kind,Sr=vr.iterator.next(),Ar=Sr.value;return Sr.done||(Sr.value=ur==="keys"?Ar.key:ur==="values"?Ar.value:[Ar.key,Ar.value]),Sr},!0),wt=function(tr){this.entries=[],this.url=null,tr!==void 0&&(Je(tr)?this.parseObject(tr):this.parseQuery(typeof tr=="string"?ct(tr,0)==="?"?Et(tr,1):tr:et(tr)))};wt.prototype={type:Fe,bindURL:function(tr){this.url=tr,this.update()},parseObject:function(tr){var vr=ae(tr),ur,Sr,Ar,$r,kr,ir,pr;if(vr)for(ur=le(tr,vr),Sr=ur.next;!(Ar=ie(Sr,ur)).done;){if($r=le(ze(Ar.value)),kr=$r.next,(ir=ie(kr,$r)).done||(pr=ie(kr,$r)).done||!ie(kr,$r).done)throw qe("Expected sequence with length 2");bt(this.entries,{key:et(ir.value),value:et(pr.value)})}else for(var Ir in tr)Me(tr,Ir)&&bt(this.entries,{key:Ir,value:et(tr[Ir])})},parseQuery:function(tr){if(tr)for(var vr=It(tr,"&"),ur=0,Sr,Ar;ur<vr.length;)Sr=vr[ur++],Sr.length&&(Ar=It(Sr,"="),bt(this.entries,{key:Se(xt(Ar)),value:Se(ft(Ar,"="))}))},serialize:function(){for(var tr=this.entries,vr=[],ur=0,Sr;ur<tr.length;)Sr=tr[ur++],bt(vr,ut(Sr.key)+"="+ut(Sr.value));return ft(vr,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ut=function(){Ae(this,Xt);var vr=arguments.length>0?arguments[0]:void 0;De(this,new wt(vr))},Xt=Ut.prototype;if(ye(Xt,{append:function(vr,ur){he(arguments.length,2);var Sr=pe(this);bt(Sr.entries,{key:et(vr),value:et(ur)}),Sr.updateURL()},delete:function(tr){he(arguments.length,1);for(var vr=pe(this),ur=vr.entries,Sr=et(tr),Ar=0;Ar<ur.length;)ur[Ar].key===Sr?$t(ur,Ar,1):Ar++;vr.updateURL()},get:function(vr){he(arguments.length,1);for(var ur=pe(this).entries,Sr=et(vr),Ar=0;Ar<ur.length;Ar++)if(ur[Ar].key===Sr)return ur[Ar].value;return null},getAll:function(vr){he(arguments.length,1);for(var ur=pe(this).entries,Sr=et(vr),Ar=[],$r=0;$r<ur.length;$r++)ur[$r].key===Sr&&bt(Ar,ur[$r].value);return Ar},has:function(vr){he(arguments.length,1);for(var ur=pe(this).entries,Sr=et(vr),Ar=0;Ar<ur.length;)if(ur[Ar++].key===Sr)return!0;return!1},set:function(vr,ur){he(arguments.length,1);for(var Sr=pe(this),Ar=Sr.entries,$r=!1,kr=et(vr),ir=et(ur),pr=0,Ir;pr<Ar.length;pr++)Ir=Ar[pr],Ir.key===kr&&($r?$t(Ar,pr--,1):($r=!0,Ir.value=ir));$r||bt(Ar,{key:kr,value:ir}),Sr.updateURL()},sort:function(){var vr=pe(this);$e(vr.entries,function(ur,Sr){return ur.key>Sr.key?1:-1}),vr.updateURL()},forEach:function(vr){for(var ur=pe(this).entries,Sr=ke(vr,arguments.length>1?arguments[1]:void 0),Ar=0,$r;Ar<ur.length;)$r=ur[Ar++],Sr($r.value,$r.key,this)},keys:function(){return new yt(this,"keys")},values:function(){return new yt(this,"values")},entries:function(){return new yt(this,"entries")}},{enumerable:!0}),de(Xt,He,Xt.entries,{name:"entries"}),de(Xt,"toString",function(){return pe(this).serialize()},{enumerable:!0}),ge(Ut,Fe),re({global:!0,constructor:!0,forced:!ce},{URLSearchParams:Ut}),!ce&&we(rt)){var Ct=se(Ve.has),Ht=se(Ve.set),Yt=function(tr){if(Je(tr)){var vr=tr.body,ur;if(Re(vr)===Fe)return ur=tr.headers?new rt(tr.headers):new rt,Ct(ur,"content-type")||Ht(ur,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Pe(tr,{body:ve(0,et(vr)),headers:ve(0,ur)})}return tr};if(we(Ze)&&re({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(vr){return Ze(vr,arguments.length>1?Yt(arguments[1]):{})}}),we(it)){var ar=function(vr){return Ae(this,Oe),new it(vr,arguments.length>1?Yt(arguments[1]):{})};Oe.constructor=ar,ar.prototype=Oe,re({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ar})}}ee.exports={URLSearchParams:Ut,getState:pe}},1637:(ee,te,b)=>{b(5556)},8789:(ee,te,b)=>{b(8783);var re=b(2109),ne=b(9781),ie=b(590),se=b(7854),fe=b(9974),ce=b(1702),de=b(8052),ye=b(7045),ge=b(5787),_e=b(2597),Ee=b(1574),Ae=b(8457),we=b(1589),Me=b(8710).codeAt,ke=b(3197),Re=b(1340),ze=b(8003),Je=b(8053),et=b(5556),Pe=b(9909),ve=Pe.set,le=Pe.getterFor("URL"),ae=et.URLSearchParams,he=et.getState,xe=se.URL,$e=se.TypeError,He=se.parseInt,Fe=Math.floor,Ne=Math.pow,De=ce("".charAt),pe=ce(/./.exec),Le=ce([].join),Be=ce(1 .toString),Ce=ce([].pop),Ze=ce([].push),it=ce("".replace),rt=ce([].shift),Oe=ce("".split),Ve=ce("".slice),We=ce("".toLowerCase),qe=ce([].unshift),Ge="Invalid authority",Qe="Invalid scheme",ct="Invalid host",ft="Invalid port",bt=/[a-z]/i,St=/[\d+-.a-z]/i,xt=/\d/,$t=/^0x/i,It=/^[0-7]+$/,Et=/^\d+$/,At=/^[\da-f]+$/i,kt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,Kt=/[\0\t\n\r #/:<>?@[\\\]^|]/,lt=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,Se=/[\t\n\r]/g,me,be=function(Dt){var Qt=Oe(Dt,"."),Pt,Ot,Bt,nr,dr,sr,gr;if(Qt.length&&Qt[Qt.length-1]==""&&Qt.length--,Pt=Qt.length,Pt>4)return Dt;for(Ot=[],Bt=0;Bt<Pt;Bt++){if(nr=Qt[Bt],nr=="")return Dt;if(dr=10,nr.length>1&&De(nr,0)=="0"&&(dr=pe($t,nr)?16:8,nr=Ve(nr,dr==8?1:2)),nr==="")sr=0;else{if(!pe(dr==10?Et:dr==8?It:At,nr))return Dt;sr=He(nr,dr)}Ze(Ot,sr)}for(Bt=0;Bt<Pt;Bt++)if(sr=Ot[Bt],Bt==Pt-1){if(sr>=Ne(256,5-Pt))return null}else if(sr>255)return null;for(gr=Ce(Ot),Bt=0;Bt<Ot.length;Bt++)gr+=Ot[Bt]*Ne(256,3-Bt);return gr},Ye=function(Dt){var Qt=[0,0,0,0,0,0,0,0],Pt=0,Ot=null,Bt=0,nr,dr,sr,gr,Zt,rr,Gt,mr=function(){return De(Dt,Bt)};if(mr()==":"){if(De(Dt,1)!=":")return;Bt+=2,Pt++,Ot=Pt}for(;mr();){if(Pt==8)return;if(mr()==":"){if(Ot!==null)return;Bt++,Pt++,Ot=Pt;continue}for(nr=dr=0;dr<4&&pe(At,mr());)nr=nr*16+He(mr(),16),Bt++,dr++;if(mr()=="."){if(dr==0||(Bt-=dr,Pt>6))return;for(sr=0;mr();){if(gr=null,sr>0)if(mr()=="."&&sr<4)Bt++;else return;if(!pe(xt,mr()))return;for(;pe(xt,mr());){if(Zt=He(mr(),10),gr===null)gr=Zt;else{if(gr==0)return;gr=gr*10+Zt}if(gr>255)return;Bt++}Qt[Pt]=Qt[Pt]*256+gr,sr++,(sr==2||sr==4)&&Pt++}if(sr!=4)return;break}else if(mr()==":"){if(Bt++,!mr())return}else if(mr())return;Qt[Pt++]=nr}if(Ot!==null)for(rr=Pt-Ot,Pt=7;Pt!=0&&rr>0;)Gt=Qt[Pt],Qt[Pt--]=Qt[Ot+rr-1],Qt[Ot+--rr]=Gt;else if(Pt!=8)return;return Qt},ut=function(Dt){for(var Qt=null,Pt=1,Ot=null,Bt=0,nr=0;nr<8;nr++)Dt[nr]!==0?(Bt>Pt&&(Qt=Ot,Pt=Bt),Ot=null,Bt=0):(Ot===null&&(Ot=nr),++Bt);return Bt>Pt&&(Qt=Ot,Pt=Bt),Qt},yt=function(Dt){var Qt,Pt,Ot,Bt;if(typeof Dt=="number"){for(Qt=[],Pt=0;Pt<4;Pt++)qe(Qt,Dt%256),Dt=Fe(Dt/256);return Le(Qt,".")}else if(typeof Dt=="object"){for(Qt="",Ot=ut(Dt),Pt=0;Pt<8;Pt++)Bt&&Dt[Pt]===0||(Bt&&(Bt=!1),Ot===Pt?(Qt+=Pt?":":"::",Bt=!0):(Qt+=Be(Dt[Pt],16),Pt<7&&(Qt+=":")));return"["+Qt+"]"}return Dt},wt={},Ut=Ee({},wt,{" ":1,'"':1,"<":1,">":1,"`":1}),Xt=Ee({},Ut,{"#":1,"?":1,"{":1,"}":1}),Ct=Ee({},Xt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Ht=function(Dt,Qt){var Pt=Me(Dt,0);return Pt>32&&Pt<127&&!_e(Qt,Dt)?Dt:encodeURIComponent(Dt)},Yt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ar=function(Dt,Qt){var Pt;return Dt.length==2&&pe(bt,De(Dt,0))&&((Pt=De(Dt,1))==":"||!Qt&&Pt=="|")},tr=function(Dt){var Qt;return Dt.length>1&&ar(Ve(Dt,0,2))&&(Dt.length==2||(Qt=De(Dt,2))==="/"||Qt==="\\"||Qt==="?"||Qt==="#")},vr=function(Dt){return Dt==="."||We(Dt)==="%2e"},ur=function(Dt){return Dt=We(Dt),Dt===".."||Dt==="%2e."||Dt===".%2e"||Dt==="%2e%2e"},Sr={},Ar={},$r={},kr={},ir={},pr={},Ir={},Pr={},Rr={},Ft={},je={},Xe={},ot={},Ke={},pt={},gt={},Tt={},Rt={},Mt={},zt={},Lt={},er=function(Dt,Qt,Pt){var Ot=Re(Dt),Bt,nr,dr;if(Qt){if(nr=this.parse(Ot),nr)throw $e(nr);this.searchParams=null}else{if(Pt!==void 0&&(Bt=new er(Pt,!0)),nr=this.parse(Ot,null,Bt),nr)throw $e(nr);dr=he(new ae),dr.bindURL(this),this.searchParams=dr}};er.prototype={type:"URL",parse:function(Dt,Qt,Pt){var Ot=this,Bt=Qt||Sr,nr=0,dr="",sr=!1,gr=!1,Zt=!1,rr,Gt,mr,yr;for(Dt=Re(Dt),Qt||(Ot.scheme="",Ot.username="",Ot.password="",Ot.host=null,Ot.port=null,Ot.path=[],Ot.query=null,Ot.fragment=null,Ot.cannotBeABaseURL=!1,Dt=it(Dt,lt,"")),Dt=it(Dt,Se,""),rr=Ae(Dt);nr<=rr.length;){switch(Gt=rr[nr],Bt){case Sr:if(Gt&&pe(bt,Gt))dr+=We(Gt),Bt=Ar;else{if(Qt)return Qe;Bt=$r;continue}break;case Ar:if(Gt&&(pe(St,Gt)||Gt=="+"||Gt=="-"||Gt=="."))dr+=We(Gt);else if(Gt==":"){if(Qt&&(Ot.isSpecial()!=_e(Yt,dr)||dr=="file"&&(Ot.includesCredentials()||Ot.port!==null)||Ot.scheme=="file"&&!Ot.host))return;if(Ot.scheme=dr,Qt){Ot.isSpecial()&&Yt[Ot.scheme]==Ot.port&&(Ot.port=null);return}dr="",Ot.scheme=="file"?Bt=Ke:Ot.isSpecial()&&Pt&&Pt.scheme==Ot.scheme?Bt=kr:Ot.isSpecial()?Bt=Pr:rr[nr+1]=="/"?(Bt=ir,nr++):(Ot.cannotBeABaseURL=!0,Ze(Ot.path,""),Bt=Mt)}else{if(Qt)return Qe;dr="",Bt=$r,nr=0;continue}break;case $r:if(!Pt||Pt.cannotBeABaseURL&&Gt!="#")return Qe;if(Pt.cannotBeABaseURL&&Gt=="#"){Ot.scheme=Pt.scheme,Ot.path=we(Pt.path),Ot.query=Pt.query,Ot.fragment="",Ot.cannotBeABaseURL=!0,Bt=Lt;break}Bt=Pt.scheme=="file"?Ke:pr;continue;case kr:if(Gt=="/"&&rr[nr+1]=="/")Bt=Rr,nr++;else{Bt=pr;continue}break;case ir:if(Gt=="/"){Bt=Ft;break}else{Bt=Rt;continue}case pr:if(Ot.scheme=Pt.scheme,Gt==me)Ot.username=Pt.username,Ot.password=Pt.password,Ot.host=Pt.host,Ot.port=Pt.port,Ot.path=we(Pt.path),Ot.query=Pt.query;else if(Gt=="/"||Gt=="\\"&&Ot.isSpecial())Bt=Ir;else if(Gt=="?")Ot.username=Pt.username,Ot.password=Pt.password,Ot.host=Pt.host,Ot.port=Pt.port,Ot.path=we(Pt.path),Ot.query="",Bt=zt;else if(Gt=="#")Ot.username=Pt.username,Ot.password=Pt.password,Ot.host=Pt.host,Ot.port=Pt.port,Ot.path=we(Pt.path),Ot.query=Pt.query,Ot.fragment="",Bt=Lt;else{Ot.username=Pt.username,Ot.password=Pt.password,Ot.host=Pt.host,Ot.port=Pt.port,Ot.path=we(Pt.path),Ot.path.length--,Bt=Rt;continue}break;case Ir:if(Ot.isSpecial()&&(Gt=="/"||Gt=="\\"))Bt=Rr;else if(Gt=="/")Bt=Ft;else{Ot.username=Pt.username,Ot.password=Pt.password,Ot.host=Pt.host,Ot.port=Pt.port,Bt=Rt;continue}break;case Pr:if(Bt=Rr,Gt!="/"||De(dr,nr+1)!="/")continue;nr++;break;case Rr:if(Gt!="/"&&Gt!="\\"){Bt=Ft;continue}break;case Ft:if(Gt=="@"){sr&&(dr="%40"+dr),sr=!0,mr=Ae(dr);for(var Cr=0;Cr<mr.length;Cr++){var Br=mr[Cr];if(Br==":"&&!Zt){Zt=!0;continue}var Hr=Ht(Br,Ct);Zt?Ot.password+=Hr:Ot.username+=Hr}dr=""}else if(Gt==me||Gt=="/"||Gt=="?"||Gt=="#"||Gt=="\\"&&Ot.isSpecial()){if(sr&&dr=="")return Ge;nr-=Ae(dr).length+1,dr="",Bt=je}else dr+=Gt;break;case je:case Xe:if(Qt&&Ot.scheme=="file"){Bt=gt;continue}else if(Gt==":"&&!gr){if(dr=="")return ct;if(yr=Ot.parseHost(dr),yr)return yr;if(dr="",Bt=ot,Qt==Xe)return}else if(Gt==me||Gt=="/"||Gt=="?"||Gt=="#"||Gt=="\\"&&Ot.isSpecial()){if(Ot.isSpecial()&&dr=="")return ct;if(Qt&&dr==""&&(Ot.includesCredentials()||Ot.port!==null))return;if(yr=Ot.parseHost(dr),yr)return yr;if(dr="",Bt=Tt,Qt)return;continue}else Gt=="["?gr=!0:Gt=="]"&&(gr=!1),dr+=Gt;break;case ot:if(pe(xt,Gt))dr+=Gt;else if(Gt==me||Gt=="/"||Gt=="?"||Gt=="#"||Gt=="\\"&&Ot.isSpecial()||Qt){if(dr!=""){var zr=He(dr,10);if(zr>65535)return ft;Ot.port=Ot.isSpecial()&&zr===Yt[Ot.scheme]?null:zr,dr=""}if(Qt)return;Bt=Tt;continue}else return ft;break;case Ke:if(Ot.scheme="file",Gt=="/"||Gt=="\\")Bt=pt;else if(Pt&&Pt.scheme=="file")if(Gt==me)Ot.host=Pt.host,Ot.path=we(Pt.path),Ot.query=Pt.query;else if(Gt=="?")Ot.host=Pt.host,Ot.path=we(Pt.path),Ot.query="",Bt=zt;else if(Gt=="#")Ot.host=Pt.host,Ot.path=we(Pt.path),Ot.query=Pt.query,Ot.fragment="",Bt=Lt;else{tr(Le(we(rr,nr),""))||(Ot.host=Pt.host,Ot.path=we(Pt.path),Ot.shortenPath()),Bt=Rt;continue}else{Bt=Rt;continue}break;case pt:if(Gt=="/"||Gt=="\\"){Bt=gt;break}Pt&&Pt.scheme=="file"&&!tr(Le(we(rr,nr),""))&&(ar(Pt.path[0],!0)?Ze(Ot.path,Pt.path[0]):Ot.host=Pt.host),Bt=Rt;continue;case gt:if(Gt==me||Gt=="/"||Gt=="\\"||Gt=="?"||Gt=="#"){if(!Qt&&ar(dr))Bt=Rt;else if(dr==""){if(Ot.host="",Qt)return;Bt=Tt}else{if(yr=Ot.parseHost(dr),yr)return yr;if(Ot.host=="localhost"&&(Ot.host=""),Qt)return;dr="",Bt=Tt}continue}else dr+=Gt;break;case Tt:if(Ot.isSpecial()){if(Bt=Rt,Gt!="/"&&Gt!="\\")continue}else if(!Qt&&Gt=="?")Ot.query="",Bt=zt;else if(!Qt&&Gt=="#")Ot.fragment="",Bt=Lt;else if(Gt!=me&&(Bt=Rt,Gt!="/"))continue;break;case Rt:if(Gt==me||Gt=="/"||Gt=="\\"&&Ot.isSpecial()||!Qt&&(Gt=="?"||Gt=="#")){if(ur(dr)?(Ot.shortenPath(),Gt!="/"&&!(Gt=="\\"&&Ot.isSpecial())&&Ze(Ot.path,"")):vr(dr)?Gt!="/"&&!(Gt=="\\"&&Ot.isSpecial())&&Ze(Ot.path,""):(Ot.scheme=="file"&&!Ot.path.length&&ar(dr)&&(Ot.host&&(Ot.host=""),dr=De(dr,0)+":"),Ze(Ot.path,dr)),dr="",Ot.scheme=="file"&&(Gt==me||Gt=="?"||Gt=="#"))for(;Ot.path.length>1&&Ot.path[0]==="";)rt(Ot.path);Gt=="?"?(Ot.query="",Bt=zt):Gt=="#"&&(Ot.fragment="",Bt=Lt)}else dr+=Ht(Gt,Xt);break;case Mt:Gt=="?"?(Ot.query="",Bt=zt):Gt=="#"?(Ot.fragment="",Bt=Lt):Gt!=me&&(Ot.path[0]+=Ht(Gt,wt));break;case zt:!Qt&&Gt=="#"?(Ot.fragment="",Bt=Lt):Gt!=me&&(Gt=="'"&&Ot.isSpecial()?Ot.query+="%27":Gt=="#"?Ot.query+="%23":Ot.query+=Ht(Gt,wt));break;case Lt:Gt!=me&&(Ot.fragment+=Ht(Gt,Ut));break}nr++}},parseHost:function(Dt){var Qt,Pt,Ot;if(De(Dt,0)=="["){if(De(Dt,Dt.length-1)!="]"||(Qt=Ye(Ve(Dt,1,-1)),!Qt))return ct;this.host=Qt}else if(this.isSpecial()){if(Dt=ke(Dt),pe(kt,Dt)||(Qt=be(Dt),Qt===null))return ct;this.host=Qt}else{if(pe(Kt,Dt))return ct;for(Qt="",Pt=Ae(Dt),Ot=0;Ot<Pt.length;Ot++)Qt+=Ht(Pt[Ot],wt);this.host=Qt}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return _e(Yt,this.scheme)},shortenPath:function(){var Dt=this.path,Qt=Dt.length;Qt&&(this.scheme!="file"||Qt!=1||!ar(Dt[0],!0))&&Dt.length--},serialize:function(){var Dt=this,Qt=Dt.scheme,Pt=Dt.username,Ot=Dt.password,Bt=Dt.host,nr=Dt.port,dr=Dt.path,sr=Dt.query,gr=Dt.fragment,Zt=Qt+":";return Bt!==null?(Zt+="//",Dt.includesCredentials()&&(Zt+=Pt+(Ot?":"+Ot:"")+"@"),Zt+=yt(Bt),nr!==null&&(Zt+=":"+nr)):Qt=="file"&&(Zt+="//"),Zt+=Dt.cannotBeABaseURL?dr[0]:dr.length?"/"+Le(dr,"/"):"",sr!==null&&(Zt+="?"+sr),gr!==null&&(Zt+="#"+gr),Zt},setHref:function(Dt){var Qt=this.parse(Dt);if(Qt)throw $e(Qt);this.searchParams.update()},getOrigin:function(){var Dt=this.scheme,Qt=this.port;if(Dt=="blob")try{return new lr(Dt.path[0]).origin}catch{return"null"}return Dt=="file"||!this.isSpecial()?"null":Dt+"://"+yt(this.host)+(Qt!==null?":"+Qt:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(Dt){this.parse(Re(Dt)+":",Sr)},getUsername:function(){return this.username},setUsername:function(Dt){var Qt=Ae(Re(Dt));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var Pt=0;Pt<Qt.length;Pt++)this.username+=Ht(Qt[Pt],Ct)}},getPassword:function(){return this.password},setPassword:function(Dt){var Qt=Ae(Re(Dt));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var Pt=0;Pt<Qt.length;Pt++)this.password+=Ht(Qt[Pt],Ct)}},getHost:function(){var Dt=this.host,Qt=this.port;return Dt===null?"":Qt===null?yt(Dt):yt(Dt)+":"+Qt},setHost:function(Dt){this.cannotBeABaseURL||this.parse(Dt,je)},getHostname:function(){var Dt=this.host;return Dt===null?"":yt(Dt)},setHostname:function(Dt){this.cannotBeABaseURL||this.parse(Dt,Xe)},getPort:function(){var Dt=this.port;return Dt===null?"":Re(Dt)},setPort:function(Dt){this.cannotHaveUsernamePasswordPort()||(Dt=Re(Dt),Dt==""?this.port=null:this.parse(Dt,ot))},getPathname:function(){var Dt=this.path;return this.cannotBeABaseURL?Dt[0]:Dt.length?"/"+Le(Dt,"/"):""},setPathname:function(Dt){this.cannotBeABaseURL||(this.path=[],this.parse(Dt,Tt))},getSearch:function(){var Dt=this.query;return Dt?"?"+Dt:""},setSearch:function(Dt){Dt=Re(Dt),Dt==""?this.query=null:(De(Dt,0)=="?"&&(Dt=Ve(Dt,1)),this.query="",this.parse(Dt,zt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var Dt=this.fragment;return Dt?"#"+Dt:""},setHash:function(Dt){if(Dt=Re(Dt),Dt==""){this.fragment=null;return}De(Dt,0)=="#"&&(Dt=Ve(Dt,1)),this.fragment="",this.parse(Dt,Lt)},update:function(){this.query=this.searchParams.serialize()||null}};var lr=function(Qt){var Pt=ge(this,Er),Ot=Je(arguments.length,1)>1?arguments[1]:void 0,Bt=ve(Pt,new er(Qt,!1,Ot));ne||(Pt.href=Bt.serialize(),Pt.origin=Bt.getOrigin(),Pt.protocol=Bt.getProtocol(),Pt.username=Bt.getUsername(),Pt.password=Bt.getPassword(),Pt.host=Bt.getHost(),Pt.hostname=Bt.getHostname(),Pt.port=Bt.getPort(),Pt.pathname=Bt.getPathname(),Pt.search=Bt.getSearch(),Pt.searchParams=Bt.getSearchParams(),Pt.hash=Bt.getHash())},Er=lr.prototype,or=function(Dt,Qt){return{get:function(){return le(this)[Dt]()},set:Qt&&function(Pt){return le(this)[Qt](Pt)},configurable:!0,enumerable:!0}};if(ne&&(ye(Er,"href",or("serialize","setHref")),ye(Er,"origin",or("getOrigin")),ye(Er,"protocol",or("getProtocol","setProtocol")),ye(Er,"username",or("getUsername","setUsername")),ye(Er,"password",or("getPassword","setPassword")),ye(Er,"host",or("getHost","setHost")),ye(Er,"hostname",or("getHostname","setHostname")),ye(Er,"port",or("getPort","setPort")),ye(Er,"pathname",or("getPathname","setPathname")),ye(Er,"search",or("getSearch","setSearch")),ye(Er,"searchParams",or("getSearchParams")),ye(Er,"hash",or("getHash","setHash"))),de(Er,"toJSON",function(){return le(this).serialize()},{enumerable:!0}),de(Er,"toString",function(){return le(this).serialize()},{enumerable:!0}),xe){var Tr=xe.createObjectURL,Jt=xe.revokeObjectURL;Tr&&de(lr,"createObjectURL",fe(Tr,xe)),Jt&&de(lr,"revokeObjectURL",fe(Jt,xe))}ze(lr,"URL"),re({global:!0,constructor:!0,forced:!ie,sham:!ne},{URL:lr})},285:(ee,te,b)=>{b(8789)},7514:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double;var ne=re.new_float;re.new_float_n,re.new_int,re.new_int_n,re.assert;var ie=b(687);function se(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=ne(ie.SBMAX_l),this.s=ne(ie.SBMAX_s),this.psfb21=ne(ie.PSFB21),this.psfb12=ne(ie.PSFB12),this.cb_l=ne(ie.CBANDS),this.cb_s=ne(ie.CBANDS),this.eql_w=ne(ie.BLKSIZE/2)}ee.exports=se},3724:(ee,te,b)=>{var re=b(935),ne=re.System;re.VbrMode,re.Float,re.ShortBlock,re.Util;var ie=re.Arrays;re.new_array_n;var se=re.new_byte;re.new_double,re.new_float;var fe=re.new_float_n,ce=re.new_int;re.new_int_n;var de=re.assert,ye=b(5638),ge=b(7721),_e=b(687),Ee=b(1998);Ae.EQ=function(we,Me){return Math.abs(we)>Math.abs(Me)?Math.abs(we-Me)<=Math.abs(we)*1e-6:Math.abs(we-Me)<=Math.abs(Me)*1e-6},Ae.NEQ=function(we,Me){return!Ae.EQ(we,Me)};function Ae(){var we=this,Me=32773,ke=32,Re=null,ze=null,Je=null,et=null;this.setModules=function(Oe,Ve,We,qe){Re=Oe,ze=Ve,Je=We,et=qe};var Pe=null,ve=0,le=0,ae=0;this.getframebits=function(Oe){var Ve=Oe.internal_flags,We;Ve.bitrate_index!=0?We=ge.bitrate_table[Oe.version][Ve.bitrate_index]:We=Oe.brate,de(8<=We&&We<=640);var qe=0|(Oe.version+1)*72e3*We/Oe.out_samplerate+Ve.padding;return 8*qe};function he(Oe){ne.arraycopy(Oe.header[Oe.w_ptr].buf,0,Pe,le,Oe.sideinfo_len),le+=Oe.sideinfo_len,ve+=Oe.sideinfo_len*8,Oe.w_ptr=Oe.w_ptr+1&Ee.MAX_HEADER_BUF-1}function xe(Oe,Ve,We){for(de(We<ke-2);We>0;){var qe;ae==0&&(ae=8,le++,de(le<Lame.LAME_MAXMP3BUFFER),de(Oe.header[Oe.w_ptr].write_timing>=ve),Oe.header[Oe.w_ptr].write_timing==ve&&he(Oe),Pe[le]=0),qe=Math.min(We,ae),We-=qe,ae-=qe,de(We<ke),de(ae<ke),Pe[le]|=Ve>>We<<ae,ve+=qe}}function $e(Oe,Ve,We){for(de(We<ke-2);We>0;){var qe;ae==0&&(ae=8,le++,de(le<Lame.LAME_MAXMP3BUFFER),Pe[le]=0),qe=Math.min(We,ae),We-=qe,ae-=qe,de(We<ke),de(ae<ke),Pe[le]|=Ve>>We<<ae,ve+=qe}}function He(Oe,Ve){var We=Oe.internal_flags,qe;if(de(Ve>=0),Ve>=8&&(xe(We,76,8),Ve-=8),Ve>=8&&(xe(We,65,8),Ve-=8),Ve>=8&&(xe(We,77,8),Ve-=8),Ve>=8&&(xe(We,69,8),Ve-=8),Ve>=32){var Ge=Je.getLameShortVersion();if(Ve>=32)for(qe=0;qe<Ge.length&&Ve>=8;++qe)Ve-=8,xe(We,Ge.charAt(qe),8)}for(;Ve>=1;Ve-=1)xe(We,We.ancillary_flag,1),We.ancillary_flag^=Oe.disable_reservoir?0:1;de(Ve==0)}function Fe(Oe,Ve,We){for(var qe=Oe.header[Oe.h_ptr].ptr;We>0;){var Ge=Math.min(We,8-(qe&7));We-=Ge,de(We<ke),Oe.header[Oe.h_ptr].buf[qe>>3]|=Ve>>We<<8-(qe&7)-Ge,qe+=Ge}Oe.header[Oe.h_ptr].ptr=qe}function Ne(Oe,Ve){Oe<<=8;for(var We=0;We<8;We++)Oe<<=1,Ve<<=1,((Ve^Oe)&65536)!=0&&(Ve^=Me);return Ve}this.CRC_writeheader=function(Oe,Ve){var We=65535;We=Ne(Ve[2]&255,We),We=Ne(Ve[3]&255,We);for(var qe=6;qe<Oe.sideinfo_len;qe++)We=Ne(Ve[qe]&255,We);Ve[4]=byte(We>>8),Ve[5]=byte(We&255)};function De(Oe,Ve){var We=Oe.internal_flags,qe,Ge,Qe;if(qe=We.l3_side,We.header[We.h_ptr].ptr=0,ie.fill(We.header[We.h_ptr].buf,0,We.sideinfo_len,0),Oe.out_samplerate<16e3?Fe(We,4094,12):Fe(We,4095,12),Fe(We,Oe.version,1),Fe(We,1,2),Fe(We,Oe.error_protection?0:1,1),Fe(We,We.bitrate_index,4),Fe(We,We.samplerate_index,2),Fe(We,We.padding,1),Fe(We,Oe.extension,1),Fe(We,Oe.mode.ordinal(),2),Fe(We,We.mode_ext,2),Fe(We,Oe.copyright,1),Fe(We,Oe.original,1),Fe(We,Oe.emphasis,2),Oe.error_protection&&Fe(We,0,16),Oe.version==1){for(de(qe.main_data_begin>=0),Fe(We,qe.main_data_begin,9),We.channels_out==2?Fe(We,qe.private_bits,3):Fe(We,qe.private_bits,5),Qe=0;Qe<We.channels_out;Qe++){var ct;for(ct=0;ct<4;ct++)Fe(We,qe.scfsi[Qe][ct],1)}for(Ge=0;Ge<2;Ge++)for(Qe=0;Qe<We.channels_out;Qe++){var ft=qe.tt[Ge][Qe];Fe(We,ft.part2_3_length+ft.part2_length,12),Fe(We,ft.big_values/2,9),Fe(We,ft.global_gain,8),Fe(We,ft.scalefac_compress,4),ft.block_type!=_e.NORM_TYPE?(Fe(We,1,1),Fe(We,ft.block_type,2),Fe(We,ft.mixed_block_flag,1),ft.table_select[0]==14&&(ft.table_select[0]=16),Fe(We,ft.table_select[0],5),ft.table_select[1]==14&&(ft.table_select[1]=16),Fe(We,ft.table_select[1],5),Fe(We,ft.subblock_gain[0],3),Fe(We,ft.subblock_gain[1],3),Fe(We,ft.subblock_gain[2],3)):(Fe(We,0,1),ft.table_select[0]==14&&(ft.table_select[0]=16),Fe(We,ft.table_select[0],5),ft.table_select[1]==14&&(ft.table_select[1]=16),Fe(We,ft.table_select[1],5),ft.table_select[2]==14&&(ft.table_select[2]=16),Fe(We,ft.table_select[2],5),de(0<=ft.region0_count&&ft.region0_count<16),de(0<=ft.region1_count&&ft.region1_count<8),Fe(We,ft.region0_count,4),Fe(We,ft.region1_count,3)),Fe(We,ft.preflag,1),Fe(We,ft.scalefac_scale,1),Fe(We,ft.count1table_select,1)}}else for(de(qe.main_data_begin>=0),Fe(We,qe.main_data_begin,8),Fe(We,qe.private_bits,We.channels_out),Ge=0,Qe=0;Qe<We.channels_out;Qe++){var ft=qe.tt[Ge][Qe];Fe(We,ft.part2_3_length+ft.part2_length,12),Fe(We,ft.big_values/2,9),Fe(We,ft.global_gain,8),Fe(We,ft.scalefac_compress,9),ft.block_type!=_e.NORM_TYPE?(Fe(We,1,1),Fe(We,ft.block_type,2),Fe(We,ft.mixed_block_flag,1),ft.table_select[0]==14&&(ft.table_select[0]=16),Fe(We,ft.table_select[0],5),ft.table_select[1]==14&&(ft.table_select[1]=16),Fe(We,ft.table_select[1],5),Fe(We,ft.subblock_gain[0],3),Fe(We,ft.subblock_gain[1],3),Fe(We,ft.subblock_gain[2],3)):(Fe(We,0,1),ft.table_select[0]==14&&(ft.table_select[0]=16),Fe(We,ft.table_select[0],5),ft.table_select[1]==14&&(ft.table_select[1]=16),Fe(We,ft.table_select[1],5),ft.table_select[2]==14&&(ft.table_select[2]=16),Fe(We,ft.table_select[2],5),de(0<=ft.region0_count&&ft.region0_count<16),de(0<=ft.region1_count&&ft.region1_count<8),Fe(We,ft.region0_count,4),Fe(We,ft.region1_count,3)),Fe(We,ft.scalefac_scale,1),Fe(We,ft.count1table_select,1)}Oe.error_protection&&CRC_writeheader(We,We.header[We.h_ptr].buf);{var bt=We.h_ptr;de(We.header[bt].ptr==We.sideinfo_len*8),We.h_ptr=bt+1&Ee.MAX_HEADER_BUF-1,We.header[We.h_ptr].write_timing=We.header[bt].write_timing+Ve,We.h_ptr==We.w_ptr&&ne.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function pe(Oe,Ve){var We=ge.ht[Ve.count1table_select+32],qe,Ge=0,Qe=Ve.big_values,ct=Ve.big_values;for(de(Ve.count1table_select<2),qe=(Ve.count1-Ve.big_values)/4;qe>0;--qe){var ft=0,bt=0,St;St=Ve.l3_enc[Qe+0],St!=0&&(bt+=8,Ve.xr[ct+0]<0&&ft++,de(St<=1)),St=Ve.l3_enc[Qe+1],St!=0&&(bt+=4,ft*=2,Ve.xr[ct+1]<0&&ft++,de(St<=1)),St=Ve.l3_enc[Qe+2],St!=0&&(bt+=2,ft*=2,Ve.xr[ct+2]<0&&ft++,de(St<=1)),St=Ve.l3_enc[Qe+3],St!=0&&(bt++,ft*=2,Ve.xr[ct+3]<0&&ft++,de(St<=1)),Qe+=4,ct+=4,xe(Oe,ft+We.table[bt],We.hlen[bt]),Ge+=We.hlen[bt]}return Ge}function Le(Oe,Ve,We,qe,Ge){var Qe=ge.ht[Ve],ct=0;if(de(Ve<32),Ve==0)return ct;for(var ft=We;ft<qe;ft+=2){var bt=0,St=0,xt=Qe.xlen,$t=Qe.xlen,It=0,Et=Ge.l3_enc[ft],At=Ge.l3_enc[ft+1];if(Et!=0&&(Ge.xr[ft]<0&&It++,bt--),Ve>15){if(Et>14){var kt=Et-15;de(kt<=Qe.linmax),It|=kt<<1,St=xt,Et=15}if(At>14){var Kt=At-15;de(Kt<=Qe.linmax),It<<=xt,It|=Kt,St+=xt,At=15}$t=16}At!=0&&(It<<=1,Ge.xr[ft+1]<0&&It++,bt--),de((Et|At)<16),Et=Et*$t+At,St-=bt,bt+=Qe.hlen[Et],de(bt<=ke),de(St<=ke),xe(Oe,Qe.table[Et],bt),xe(Oe,It,St),ct+=bt+St}return ct}function Be(Oe,Ve){var We=3*Oe.scalefac_band.s[3];We>Ve.big_values&&(We=Ve.big_values);var qe=Le(Oe,Ve.table_select[0],0,We,Ve);return qe+=Le(Oe,Ve.table_select[1],We,Ve.big_values,Ve),qe}function Ce(Oe,Ve){var We,qe,Ge,Qe;We=Ve.big_values,de(0<=We&&We<=576);var ct=Ve.region0_count+1;return de(0<=ct),de(ct<Oe.scalefac_band.l.length),Ge=Oe.scalefac_band.l[ct],ct+=Ve.region1_count+1,de(0<=ct),de(ct<Oe.scalefac_band.l.length),Qe=Oe.scalefac_band.l[ct],Ge>We&&(Ge=We),Qe>We&&(Qe=We),qe=Le(Oe,Ve.table_select[0],0,Ge,Ve),qe+=Le(Oe,Ve.table_select[1],Ge,Qe,Ve),qe+=Le(Oe,Ve.table_select[2],Qe,We,Ve),qe}function Ze(Oe){var Ve,We,qe,Ge,Qe=0,ct=Oe.internal_flags,ft=ct.l3_side;if(Oe.version==1)for(Ve=0;Ve<2;Ve++)for(We=0;We<ct.channels_out;We++){var bt=ft.tt[Ve][We],St=ye.slen1_tab[bt.scalefac_compress],xt=ye.slen2_tab[bt.scalefac_compress];for(Ge=0,qe=0;qe<bt.sfbdivide;qe++)bt.scalefac[qe]!=-1&&(xe(ct,bt.scalefac[qe],St),Ge+=St);for(;qe<bt.sfbmax;qe++)bt.scalefac[qe]!=-1&&(xe(ct,bt.scalefac[qe],xt),Ge+=xt);de(Ge==bt.part2_length),bt.block_type==_e.SHORT_TYPE?Ge+=Be(ct,bt):Ge+=Ce(ct,bt),Ge+=pe(ct,bt),de(Ge==bt.part2_3_length+bt.part2_length),Qe+=Ge}else for(Ve=0,We=0;We<ct.channels_out;We++){var bt=ft.tt[Ve][We],$t,It,Et=0;if(de(bt.sfb_partition_table!=null),Ge=0,qe=0,It=0,bt.block_type==_e.SHORT_TYPE){for(;It<4;It++){var At=bt.sfb_partition_table[It]/3,kt=bt.slen[It];for($t=0;$t<At;$t++,qe++)xe(ct,Math.max(bt.scalefac[qe*3+0],0),kt),xe(ct,Math.max(bt.scalefac[qe*3+1],0),kt),xe(ct,Math.max(bt.scalefac[qe*3+2],0),kt),Et+=3*kt}Ge+=Be(ct,bt)}else{for(;It<4;It++){var At=bt.sfb_partition_table[It],kt=bt.slen[It];for($t=0;$t<At;$t++,qe++)xe(ct,Math.max(bt.scalefac[qe],0),kt),Et+=kt}Ge+=Ce(ct,bt)}Ge+=pe(ct,bt),de(Ge==bt.part2_3_length),de(Et==bt.part2_length),Qe+=Et+Ge}return Qe}function it(){this.total=0}function rt(Oe,Ve){var We=Oe.internal_flags,qe,Ge,Qe,ct,ft;return ft=We.w_ptr,ct=We.h_ptr-1,ct==-1&&(ct=Ee.MAX_HEADER_BUF-1),qe=We.header[ct].write_timing-ve,Ve.total=qe,qe>=0&&(Ge=1+ct-ft,ct<ft&&(Ge=1+ct-ft+Ee.MAX_HEADER_BUF),qe-=Ge*8*We.sideinfo_len),Qe=we.getframebits(Oe),qe+=Qe,Ve.total+=Qe,Ve.total%8!=0?Ve.total=1+Ve.total/8:Ve.total=Ve.total/8,Ve.total+=le+1,qe<0&&ne.err.println(`strange error flushing buffer ... 
`),qe}this.flush_bitstream=function(Oe){var Ve=Oe.internal_flags,We,qe,Ge=Ve.h_ptr-1;if(Ge==-1&&(Ge=Ee.MAX_HEADER_BUF-1),We=Ve.l3_side,!((qe=rt(Oe,new it))<0)){if(He(Oe,qe),de(Ve.header[Ge].write_timing+this.getframebits(Oe)==ve),Ve.ResvSize=0,We.main_data_begin=0,Ve.findReplayGain){var Qe=Re.GetTitleGain(Ve.rgdata);de(NEQ(Qe,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),Ve.RadioGain=Math.floor(Qe*10+.5)|0}Ve.findPeakSample&&(Ve.noclipGainChange=Math.ceil(Math.log10(Ve.PeakSample/32767)*20*10)|0,Ve.noclipGainChange>0&&(EQ(Oe.scale,1)||EQ(Oe.scale,0))?Ve.noclipScale=Math.floor(32767/Ve.PeakSample*100)/100:Ve.noclipScale=-1)}},this.add_dummy_byte=function(Oe,Ve,We){for(var qe=Oe.internal_flags,Ge;We-- >0;)for($e(qe,Ve,8),Ge=0;Ge<Ee.MAX_HEADER_BUF;++Ge)qe.header[Ge].write_timing+=8},this.format_bitstream=function(Oe){var Ve=Oe.internal_flags,We;We=Ve.l3_side;var qe=this.getframebits(Oe);He(Oe,We.resvDrain_pre),De(Oe,qe);var Ge=8*Ve.sideinfo_len;if(Ge+=Ze(Oe),He(Oe,We.resvDrain_post),Ge+=We.resvDrain_post,We.main_data_begin+=(qe-Ge)/8,rt(Oe,new it)!=Ve.ResvSize&&ne.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),We.main_data_begin*8!=Ve.ResvSize&&(ne.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*We.main_data_begin,Ve.ResvSize,We.resvDrain_post,We.resvDrain_pre,8*Ve.sideinfo_len,Ge-We.resvDrain_post-8*Ve.sideinfo_len,Ge,Ge%8,qe),ne.err.println("This is a fatal error.  It has several possible causes:"),ne.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),ne.err.println(" 9%%  Your system is overclocked"),ne.err.println(" 1%%  bug in LAME encoding library"),Ve.ResvSize=We.main_data_begin*8),de(ve%8==0),ve>1e9){var Qe;for(Qe=0;Qe<Ee.MAX_HEADER_BUF;++Qe)Ve.header[Qe].write_timing-=ve;ve=0}return 0},this.copy_buffer=function(Oe,Ve,We,qe,Ge){var Qe=le+1;if(Qe<=0)return 0;if(qe!=0&&Qe>qe)return-1;if(ne.arraycopy(Pe,0,Ve,We,Qe),le=-1,ae=0,Ge!=0){var ct=ce(1);if(ct[0]=Oe.nMusicCRC,et.updateMusicCRC(ct,Ve,We,Qe),Oe.nMusicCRC=ct[0],Qe>0&&(Oe.VBR_seek_table.nBytesWritten+=Qe),Oe.decode_on_the_fly){for(var ft=fe([2,1152]),bt=Qe,St=-1,xt;St!=0;)if(St=ze.hip_decode1_unclipped(Oe.hip,Ve,We,bt,ft[0],ft[1]),bt=0,St==-1&&(St=0),St>0){if(de(St<=1152),Oe.findPeakSample){for(xt=0;xt<St;xt++)ft[0][xt]>Oe.PeakSample?Oe.PeakSample=ft[0][xt]:-ft[0][xt]>Oe.PeakSample&&(Oe.PeakSample=-ft[0][xt]);if(Oe.channels_out>1)for(xt=0;xt<St;xt++)ft[1][xt]>Oe.PeakSample?Oe.PeakSample=ft[1][xt]:-ft[1][xt]>Oe.PeakSample&&(Oe.PeakSample=-ft[1][xt])}if(Oe.findReplayGain&&Re.AnalyzeSamples(Oe.rgdata,ft[0],0,ft[1],0,St,Oe.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}}return Qe},this.init_bit_stream_w=function(Oe){Pe=se(Lame.LAME_MAXMP3BUFFER),Oe.h_ptr=Oe.w_ptr=0,Oe.header[Oe.h_ptr].write_timing=0,le=-1,ae=0,ve=0}}ee.exports=Ae},9120:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double;var ne=re.new_float;re.new_float_n;var ie=re.new_int;re.new_int_n;var se=re.assert,fe=b(3134),ce=b(687),de=b(354),ye=b(1998);function ge(_e){var Ee=_e;this.quantize=Ee,this.iteration_loop=function(Ae,we,Me,ke){var Re=Ae.internal_flags,ze=ne(de.SFBMAX),Je=ne(576),et=ie(2),Pe=0,ve,le=Re.l3_side,ae=new fe(Pe);this.quantize.rv.ResvFrameBegin(Ae,ae),Pe=ae.bits;for(var he=0;he<Re.mode_gr;he++){ve=this.quantize.qupvt.on_pe(Ae,we,et,Pe,he,he),Re.mode_ext==ce.MPG_MD_MS_LR&&(this.quantize.ms_convert(Re.l3_side,he),this.quantize.qupvt.reduce_side(et,Me[he],Pe,ve));for(var xe=0;xe<Re.channels_out;xe++){var $e,He,Fe=le.tt[he][xe];Fe.block_type!=ce.SHORT_TYPE?($e=0,He=Re.PSY.mask_adjust-$e):($e=0,He=Re.PSY.mask_adjust_short-$e),Re.masking_lower=Math.pow(10,He*.1),this.quantize.init_outer_loop(Re,Fe),this.quantize.init_xrpow(Re,Fe,Je)&&(this.quantize.qupvt.calc_xmin(Ae,ke[he][xe],Fe,ze),this.quantize.outer_loop(Ae,Fe,ze,Je,xe,et[xe])),this.quantize.iteration_finish_one(Re,he,xe),se(Fe.part2_3_length<=ye.MAX_BITS_PER_CHANNEL),se(Fe.part2_3_length<=et[xe])}}this.quantize.rv.ResvFrameEnd(Re,Pe)}}ee.exports=ge},3449:(ee,te,b)=>{var re=b(935),ne=re.new_float,ie=re.new_int;re.assert;function se(){this.global_gain=0,this.sfb_count1=0,this.step=ie(39),this.noise=ne(39),this.noise_log=ne(39)}ee.exports=se},2711:ee=>{function te(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}ee.exports=te},687:(ee,te,b)=>{var re=b(935),ne=re.System,ie=re.VbrMode;re.Float,re.ShortBlock,re.Util,re.Arrays;var se=re.new_array_n;re.new_byte,re.new_double;var fe=re.new_float,ce=re.new_float_n,de=re.new_int;re.new_int_n;var ye=re.assert;ge.ENCDELAY=576,ge.POSTDELAY=1152,ge.MDCTDELAY=48,ge.FFTOFFSET=224+ge.MDCTDELAY,ge.DECDELAY=528,ge.SBLIMIT=32,ge.CBANDS=64,ge.SBPSY_l=21,ge.SBPSY_s=12,ge.SBMAX_l=22,ge.SBMAX_s=13,ge.PSFB21=6,ge.PSFB12=6,ge.BLKSIZE=1024,ge.HBLKSIZE=ge.BLKSIZE/2+1,ge.BLKSIZE_s=256,ge.HBLKSIZE_s=ge.BLKSIZE_s/2+1,ge.NORM_TYPE=0,ge.START_TYPE=1,ge.SHORT_TYPE=2,ge.STOP_TYPE=3,ge.MPG_MD_LR_LR=0,ge.MPG_MD_LR_I=1,ge.MPG_MD_MS_LR=2,ge.MPG_MD_MS_I=3,ge.fircoef=[-.1039435,-.1892065,-.21623599999999998,-.155915,3898045e-23,.23387249999999998,.50455,.756825,.9354899999999999];function ge(){var _e=b(2143),Ee=b(9584),Ae=ge.FFTOFFSET,we=ge.MPG_MD_MS_LR,Me=null;this.psy=null;var ke=null,Re=null,ze=null;this.setModules=function(le,ae,he,xe){Me=le,this.psy=ae,ke=ae,Re=xe,ze=he};var Je=new _e;function et(le){var ae,he;if(le.ATH.useAdjust==0){le.ATH.adjust=1;return}if(he=le.loudness_sq[0][0],ae=le.loudness_sq[1][0],le.channels_out==2?(he+=le.loudness_sq[0][1],ae+=le.loudness_sq[1][1]):(he+=he,ae+=ae),le.mode_gr==2&&(he=Math.max(he,ae)),he*=.5,he*=le.ATH.aaSensitivityP,he>.03125)le.ATH.adjust>=1?le.ATH.adjust=1:le.ATH.adjust<le.ATH.adjustLimit&&(le.ATH.adjust=le.ATH.adjustLimit),le.ATH.adjustLimit=1;else{var xe=31.98*he+625e-6;le.ATH.adjust>=xe?(le.ATH.adjust*=xe*.075+.925,le.ATH.adjust<xe&&(le.ATH.adjust=xe)):le.ATH.adjustLimit>=xe?le.ATH.adjust=xe:le.ATH.adjust<le.ATH.adjustLimit&&(le.ATH.adjust=le.ATH.adjustLimit),le.ATH.adjustLimit=xe}}function Pe(le){var ae,he;for(ye(0<=le.bitrate_index&&le.bitrate_index<16),ye(0<=le.mode_ext&&le.mode_ext<4),le.bitrate_stereoMode_Hist[le.bitrate_index][4]++,le.bitrate_stereoMode_Hist[15][4]++,le.channels_out==2&&(le.bitrate_stereoMode_Hist[le.bitrate_index][le.mode_ext]++,le.bitrate_stereoMode_Hist[15][le.mode_ext]++),ae=0;ae<le.mode_gr;++ae)for(he=0;he<le.channels_out;++he){var xe=le.l3_side.tt[ae][he].block_type|0;le.l3_side.tt[ae][he].mixed_block_flag!=0&&(xe=4),le.bitrate_blockType_Hist[le.bitrate_index][xe]++,le.bitrate_blockType_Hist[le.bitrate_index][5]++,le.bitrate_blockType_Hist[15][xe]++,le.bitrate_blockType_Hist[15][5]++}}function ve(le,ae){var he=le.internal_flags,xe,$e;if(he.lame_encode_frame_init==0){var He,Fe,Ne=fe(2014),De=fe(286+1152+576);for(he.lame_encode_frame_init=1,He=0,Fe=0;He<286+576*(1+he.mode_gr);++He)He<576*he.mode_gr?(Ne[He]=0,he.channels_out==2&&(De[He]=0)):(Ne[He]=ae[0][Fe],he.channels_out==2&&(De[He]=ae[1][Fe]),++Fe);for($e=0;$e<he.mode_gr;$e++)for(xe=0;xe<he.channels_out;xe++)he.l3_side.tt[$e][xe].block_type=ge.SHORT_TYPE;Je.mdct_sub48(he,Ne,De),ye(576>=ge.FFTOFFSET),ye(he.mf_size>=ge.BLKSIZE+le.framesize-ge.FFTOFFSET),ye(he.mf_size>=512+le.framesize-32)}}this.lame_encode_mp3_frame=function(le,ae,he,xe,$e,He){var Fe,Ne=se([2,2]);Ne[0][0]=new Ee,Ne[0][1]=new Ee,Ne[1][0]=new Ee,Ne[1][1]=new Ee;var De=se([2,2]);De[0][0]=new Ee,De[0][1]=new Ee,De[1][0]=new Ee,De[1][1]=new Ee;var pe,Le=[null,null],Be=le.internal_flags,Ce=ce([2,4]),Ze=[.5,.5],it=[[0,0],[0,0]],rt=[[0,0],[0,0]],Oe,Ve,We;if(Le[0]=ae,Le[1]=he,Be.lame_encode_frame_init==0&&ve(le,Le),Be.padding=0,(Be.slot_lag-=Be.frac_SpF)<0&&(Be.slot_lag+=le.out_samplerate,Be.padding=1),Be.psymodel!=0){var qe,Ge=[null,null],Qe=0,ct=de(2);for(We=0;We<Be.mode_gr;We++){for(Ve=0;Ve<Be.channels_out;Ve++)Ge[Ve]=Le[Ve],Qe=576+We*576-ge.FFTOFFSET;if(le.VBR==ie.vbr_mtrh||le.VBR==ie.vbr_mt?qe=ke.L3psycho_anal_vbr(le,Ge,Qe,We,Ne,De,it[We],rt[We],Ce[We],ct):qe=ke.L3psycho_anal_ns(le,Ge,Qe,We,Ne,De,it[We],rt[We],Ce[We],ct),qe!=0)return-4;for(le.mode==MPEGMode.JOINT_STEREO&&(Ze[We]=Ce[We][2]+Ce[We][3],Ze[We]>0&&(Ze[We]=Ce[We][3]/Ze[We])),Ve=0;Ve<Be.channels_out;Ve++){var ft=Be.l3_side.tt[We][Ve];ft.block_type=ct[Ve],ft.mixed_block_flag=0}}}else for(We=0;We<Be.mode_gr;We++)for(Ve=0;Ve<Be.channels_out;Ve++)Be.l3_side.tt[We][Ve].block_type=ge.NORM_TYPE,Be.l3_side.tt[We][Ve].mixed_block_flag=0,rt[We][Ve]=it[We][Ve]=700;if(et(Be),Je.mdct_sub48(Be,Le[0],Le[1]),Be.mode_ext=ge.MPG_MD_LR_LR,le.force_ms)Be.mode_ext=ge.MPG_MD_MS_LR;else if(le.mode==MPEGMode.JOINT_STEREO){var bt=0,St=0;for(We=0;We<Be.mode_gr;We++)for(Ve=0;Ve<Be.channels_out;Ve++)bt+=rt[We][Ve],St+=it[We][Ve];if(bt<=1*St){var xt=Be.l3_side.tt[0],$t=Be.l3_side.tt[Be.mode_gr-1];xt[0].block_type==xt[1].block_type&&$t[0].block_type==$t[1].block_type&&(Be.mode_ext=ge.MPG_MD_MS_LR)}}if(Be.mode_ext==we?(pe=De,Oe=rt):(pe=Ne,Oe=it),le.analysis&&Be.pinfo!=null)for(We=0;We<Be.mode_gr;We++)for(Ve=0;Ve<Be.channels_out;Ve++)Be.pinfo.ms_ratio[We]=Be.ms_ratio[We],Be.pinfo.ms_ener_ratio[We]=Ze[We],Be.pinfo.blocktype[We][Ve]=Be.l3_side.tt[We][Ve].block_type,Be.pinfo.pe[We][Ve]=Oe[We][Ve],ne.arraycopy(Be.l3_side.tt[We][Ve].xr,0,Be.pinfo.xr[We][Ve],0,576),Be.mode_ext==we&&(Be.pinfo.ers[We][Ve]=Be.pinfo.ers[We][Ve+2],ne.arraycopy(Be.pinfo.energy[We][Ve+2],0,Be.pinfo.energy[We][Ve],0,Be.pinfo.energy[We][Ve].length));if(le.VBR==ie.vbr_off||le.VBR==ie.vbr_abr){var It,Et;for(It=0;It<18;It++)Be.nsPsy.pefirbuf[It]=Be.nsPsy.pefirbuf[It+1];for(Et=0,We=0;We<Be.mode_gr;We++)for(Ve=0;Ve<Be.channels_out;Ve++)Et+=Oe[We][Ve];for(Be.nsPsy.pefirbuf[18]=Et,Et=Be.nsPsy.pefirbuf[9],It=0;It<9;It++)Et+=(Be.nsPsy.pefirbuf[It]+Be.nsPsy.pefirbuf[18-It])*ge.fircoef[It];for(Et=3350*Be.mode_gr*Be.channels_out/Et,We=0;We<Be.mode_gr;We++)for(Ve=0;Ve<Be.channels_out;Ve++)Oe[We][Ve]*=Et}if(Be.iteration_loop.iteration_loop(le,Oe,Ze,pe),Me.format_bitstream(le),Fe=Me.copy_buffer(Be,xe,$e,He,1),le.bWriteVbrTag&&Re.addVbrFrame(le),le.analysis&&Be.pinfo!=null){for(Ve=0;Ve<Be.channels_out;Ve++){var At;for(At=0;At<Ae;At++)Be.pinfo.pcmdata[Ve][At]=Be.pinfo.pcmdata[Ve][At+le.framesize];for(At=Ae;At<1600;At++)Be.pinfo.pcmdata[Ve][At]=Le[Ve][At-Ae]}ze.set_frame_pinfo(le,pe)}return Pe(Be),Fe}}ee.exports=ge},9347:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock;var ne=re.Util;re.Arrays,re.new_array_n,re.new_byte,re.new_double;var ie=re.new_float;re.new_float_n,re.new_int,re.new_int_n,re.assert;var se=b(687);function fe(){var ce=ie(se.BLKSIZE),de=ie(se.BLKSIZE_s/2),ye=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function ge(Ee,Ae,we){var Me=0,ke,Re,ze;we<<=1;var Je=Ae+we;ke=4;do{var et,Pe,ve,le,ae,he,xe;xe=ke>>1,le=ke,ae=ke<<1,he=ae+le,ke=ae<<1,Re=Ae,ze=Re+xe;do{var $e,He,Fe,Ne;He=Ee[Re+0]-Ee[Re+le],$e=Ee[Re+0]+Ee[Re+le],Ne=Ee[Re+ae]-Ee[Re+he],Fe=Ee[Re+ae]+Ee[Re+he],Ee[Re+ae]=$e-Fe,Ee[Re+0]=$e+Fe,Ee[Re+he]=He-Ne,Ee[Re+le]=He+Ne,He=Ee[ze+0]-Ee[ze+le],$e=Ee[ze+0]+Ee[ze+le],Ne=ne.SQRT2*Ee[ze+he],Fe=ne.SQRT2*Ee[ze+ae],Ee[ze+ae]=$e-Fe,Ee[ze+0]=$e+Fe,Ee[ze+he]=He-Ne,Ee[ze+le]=He+Ne,ze+=ke,Re+=ke}while(Re<Je);for(Pe=ye[Me+0],et=ye[Me+1],ve=1;ve<xe;ve++){var De,pe;De=1-2*et*et,pe=2*et*Pe,Re=Ae+ve,ze=Ae+le-ve;do{var Le,Be,Ce,$e,He,Ze,Fe,it,Ne,rt;Be=pe*Ee[Re+le]-De*Ee[ze+le],Le=De*Ee[Re+le]+pe*Ee[ze+le],He=Ee[Re+0]-Le,$e=Ee[Re+0]+Le,Ze=Ee[ze+0]-Be,Ce=Ee[ze+0]+Be,Be=pe*Ee[Re+he]-De*Ee[ze+he],Le=De*Ee[Re+he]+pe*Ee[ze+he],Ne=Ee[Re+ae]-Le,Fe=Ee[Re+ae]+Le,rt=Ee[ze+ae]-Be,it=Ee[ze+ae]+Be,Be=et*Fe-Pe*rt,Le=Pe*Fe+et*rt,Ee[Re+ae]=$e-Le,Ee[Re+0]=$e+Le,Ee[ze+he]=Ze-Be,Ee[ze+le]=Ze+Be,Be=Pe*it-et*Ne,Le=et*it+Pe*Ne,Ee[ze+ae]=Ce-Le,Ee[ze+0]=Ce+Le,Ee[Re+he]=He-Be,Ee[Re+le]=He+Be,ze+=ke,Re+=ke}while(Re<Je);De=Pe,Pe=De*ye[Me+0]-et*ye[Me+1],et=De*ye[Me+1]+et*ye[Me+0]}Me+=2}while(ke<we)}var _e=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(Ee,Ae,we,Me,ke){for(var Re=0;Re<3;Re++){var ze=se.BLKSIZE_s/2,Je=65535&576/3*(Re+1),et=se.BLKSIZE_s/8-1;do{var Pe,ve,le,ae,he,xe=_e[et<<2]&255;Pe=de[xe]*Me[we][ke+xe+Je],he=de[127-xe]*Me[we][ke+xe+Je+128],ve=Pe-he,Pe=Pe+he,le=de[xe+64]*Me[we][ke+xe+Je+64],he=de[63-xe]*Me[we][ke+xe+Je+192],ae=le-he,le=le+he,ze-=4,Ae[Re][ze+0]=Pe+le,Ae[Re][ze+2]=Pe-le,Ae[Re][ze+1]=ve+ae,Ae[Re][ze+3]=ve-ae,Pe=de[xe+1]*Me[we][ke+xe+Je+1],he=de[126-xe]*Me[we][ke+xe+Je+129],ve=Pe-he,Pe=Pe+he,le=de[xe+65]*Me[we][ke+xe+Je+65],he=de[62-xe]*Me[we][ke+xe+Je+193],ae=le-he,le=le+he,Ae[Re][ze+se.BLKSIZE_s/2+0]=Pe+le,Ae[Re][ze+se.BLKSIZE_s/2+2]=Pe-le,Ae[Re][ze+se.BLKSIZE_s/2+1]=ve+ae,Ae[Re][ze+se.BLKSIZE_s/2+3]=ve-ae}while(--et>=0);ge(Ae[Re],ze,se.BLKSIZE_s/2)}},this.fft_long=function(Ee,Ae,we,Me,ke){var Re=se.BLKSIZE/8-1,ze=se.BLKSIZE/2;do{var Je,et,Pe,ve,le,ae=_e[Re]&255;Je=ce[ae]*Me[we][ke+ae],le=ce[ae+512]*Me[we][ke+ae+512],et=Je-le,Je=Je+le,Pe=ce[ae+256]*Me[we][ke+ae+256],le=ce[ae+768]*Me[we][ke+ae+768],ve=Pe-le,Pe=Pe+le,ze-=4,Ae[ze+0]=Je+Pe,Ae[ze+2]=Je-Pe,Ae[ze+1]=et+ve,Ae[ze+3]=et-ve,Je=ce[ae+1]*Me[we][ke+ae+1],le=ce[ae+513]*Me[we][ke+ae+513],et=Je-le,Je=Je+le,Pe=ce[ae+257]*Me[we][ke+ae+257],le=ce[ae+769]*Me[we][ke+ae+769],ve=Pe-le,Pe=Pe+le,Ae[ze+se.BLKSIZE/2+0]=Je+Pe,Ae[ze+se.BLKSIZE/2+2]=Je-Pe,Ae[ze+se.BLKSIZE/2+1]=et+ve,Ae[ze+se.BLKSIZE/2+3]=et-ve}while(--Re>=0);ge(Ae,ze,se.BLKSIZE/2)},this.init_fft=function(Ee){for(var Ae=0;Ae<se.BLKSIZE;Ae++)ce[Ae]=.42-.5*Math.cos(2*Math.PI*(Ae+.5)/se.BLKSIZE)+.08*Math.cos(4*Math.PI*(Ae+.5)/se.BLKSIZE);for(var Ae=0;Ae<se.BLKSIZE_s/2;Ae++)de[Ae]=.5*(1-Math.cos(2*Math.PI*(Ae+.5)/se.BLKSIZE_s))}}ee.exports=fe},1287:(ee,te,b)=>{var re=b(935),ne=re.System;re.VbrMode,re.Float,re.ShortBlock,re.Util;var ie=re.Arrays;re.new_array_n,re.new_byte,re.new_double,re.new_float,re.new_float_n,re.new_int,re.new_int_n,re.assert,se.STEPS_per_dB=100,se.MAX_dB=120,se.GAIN_NOT_ENOUGH_SAMPLES=-24601,se.GAIN_ANALYSIS_ERROR=0,se.GAIN_ANALYSIS_OK=1,se.INIT_GAIN_ANALYSIS_ERROR=0,se.INIT_GAIN_ANALYSIS_OK=1,se.YULE_ORDER=10,se.MAX_ORDER=se.YULE_ORDER,se.MAX_SAMP_FREQ=48e3,se.RMS_WINDOW_TIME_NUMERATOR=1,se.RMS_WINDOW_TIME_DENOMINATOR=20,se.MAX_SAMPLES_PER_WINDOW=se.MAX_SAMP_FREQ*se.RMS_WINDOW_TIME_NUMERATOR/se.RMS_WINDOW_TIME_DENOMINATOR+1;function se(){var fe=64.82;se.YULE_ORDER;var ce=.95;se.MAX_SAMP_FREQ;var de=se.RMS_WINDOW_TIME_NUMERATOR,ye=se.RMS_WINDOW_TIME_DENOMINATOR;se.MAX_SAMPLES_PER_WINDOW;var ge=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],_e=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function Ee(Re,ze,Je,et,Pe,ve){for(;Pe--!=0;)Je[et]=1e-10+Re[ze+0]*ve[0]-Je[et-1]*ve[1]+Re[ze-1]*ve[2]-Je[et-2]*ve[3]+Re[ze-2]*ve[4]-Je[et-3]*ve[5]+Re[ze-3]*ve[6]-Je[et-4]*ve[7]+Re[ze-4]*ve[8]-Je[et-5]*ve[9]+Re[ze-5]*ve[10]-Je[et-6]*ve[11]+Re[ze-6]*ve[12]-Je[et-7]*ve[13]+Re[ze-7]*ve[14]-Je[et-8]*ve[15]+Re[ze-8]*ve[16]-Je[et-9]*ve[17]+Re[ze-9]*ve[18]-Je[et-10]*ve[19]+Re[ze-10]*ve[20],++et,++ze}function Ae(Re,ze,Je,et,Pe,ve){for(;Pe--!=0;)Je[et]=Re[ze+0]*ve[0]-Je[et-1]*ve[1]+Re[ze-1]*ve[2]-Je[et-2]*ve[3]+Re[ze-2]*ve[4],++et,++ze}function we(Re,ze){for(var Je=0;Je<MAX_ORDER;Je++)Re.linprebuf[Je]=Re.lstepbuf[Je]=Re.loutbuf[Je]=Re.rinprebuf[Je]=Re.rstepbuf[Je]=Re.routbuf[Je]=0;switch(0|ze){case 48e3:Re.reqindex=0;break;case 44100:Re.reqindex=1;break;case 32e3:Re.reqindex=2;break;case 24e3:Re.reqindex=3;break;case 22050:Re.reqindex=4;break;case 16e3:Re.reqindex=5;break;case 12e3:Re.reqindex=6;break;case 11025:Re.reqindex=7;break;case 8e3:Re.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return Re.sampleWindow=0|(ze*de+ye-1)/ye,Re.lsum=0,Re.rsum=0,Re.totsamp=0,ie.ill(Re.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(Re,ze){return we(Re,ze)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(Re.linpre=MAX_ORDER,Re.rinpre=MAX_ORDER,Re.lstep=MAX_ORDER,Re.rstep=MAX_ORDER,Re.lout=MAX_ORDER,Re.rout=MAX_ORDER,ie.fill(Re.B,0),INIT_GAIN_ANALYSIS_OK)};function Me(Re){return Re*Re}this.AnalyzeSamples=function(Re,ze,Je,et,Pe,ve,le){var ae,he,xe,$e,He,Fe,Ne;if(ve==0)return GAIN_ANALYSIS_OK;switch(Ne=0,He=ve,le){case 1:et=ze,Pe=Je;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(ve<MAX_ORDER?(ne.arraycopy(ze,Je,Re.linprebuf,MAX_ORDER,ve),ne.arraycopy(et,Pe,Re.rinprebuf,MAX_ORDER,ve)):(ne.arraycopy(ze,Je,Re.linprebuf,MAX_ORDER,MAX_ORDER),ne.arraycopy(et,Pe,Re.rinprebuf,MAX_ORDER,MAX_ORDER));He>0;){Fe=He>Re.sampleWindow-Re.totsamp?Re.sampleWindow-Re.totsamp:He,Ne<MAX_ORDER?(ae=Re.linpre+Ne,he=Re.linprebuf,xe=Re.rinpre+Ne,$e=Re.rinprebuf,Fe>MAX_ORDER-Ne&&(Fe=MAX_ORDER-Ne)):(ae=Je+Ne,he=ze,xe=Pe+Ne,$e=et),Ee(he,ae,Re.lstepbuf,Re.lstep+Re.totsamp,Fe,ge[Re.reqindex]),Ee($e,xe,Re.rstepbuf,Re.rstep+Re.totsamp,Fe,ge[Re.reqindex]),Ae(Re.lstepbuf,Re.lstep+Re.totsamp,Re.loutbuf,Re.lout+Re.totsamp,Fe,_e[Re.reqindex]),Ae(Re.rstepbuf,Re.rstep+Re.totsamp,Re.routbuf,Re.rout+Re.totsamp,Fe,_e[Re.reqindex]),ae=Re.lout+Re.totsamp,he=Re.loutbuf,xe=Re.rout+Re.totsamp,$e=Re.routbuf;for(var De=Fe%8;De--!=0;)Re.lsum+=Me(he[ae++]),Re.rsum+=Me($e[xe++]);for(De=Fe/8;De--!=0;)Re.lsum+=Me(he[ae+0])+Me(he[ae+1])+Me(he[ae+2])+Me(he[ae+3])+Me(he[ae+4])+Me(he[ae+5])+Me(he[ae+6])+Me(he[ae+7]),ae+=8,Re.rsum+=Me($e[xe+0])+Me($e[xe+1])+Me($e[xe+2])+Me($e[xe+3])+Me($e[xe+4])+Me($e[xe+5])+Me($e[xe+6])+Me($e[xe+7]),xe+=8;if(He-=Fe,Ne+=Fe,Re.totsamp+=Fe,Re.totsamp==Re.sampleWindow){var pe=se.STEPS_per_dB*10*Math.log10((Re.lsum+Re.rsum)/Re.totsamp*.5+1e-37),Le=pe<=0?0:0|pe;Le>=Re.A.length&&(Le=Re.A.length-1),Re.A[Le]++,Re.lsum=Re.rsum=0,ne.arraycopy(Re.loutbuf,Re.totsamp,Re.loutbuf,0,MAX_ORDER),ne.arraycopy(Re.routbuf,Re.totsamp,Re.routbuf,0,MAX_ORDER),ne.arraycopy(Re.lstepbuf,Re.totsamp,Re.lstepbuf,0,MAX_ORDER),ne.arraycopy(Re.rstepbuf,Re.totsamp,Re.rstepbuf,0,MAX_ORDER),Re.totsamp=0}if(Re.totsamp>Re.sampleWindow)return GAIN_ANALYSIS_ERROR}return ve<MAX_ORDER?(ne.arraycopy(Re.linprebuf,ve,Re.linprebuf,0,MAX_ORDER-ve),ne.arraycopy(Re.rinprebuf,ve,Re.rinprebuf,0,MAX_ORDER-ve),ne.arraycopy(ze,Je,Re.linprebuf,MAX_ORDER-ve,ve),ne.arraycopy(et,Pe,Re.rinprebuf,MAX_ORDER-ve,ve)):(ne.arraycopy(ze,Je+ve-MAX_ORDER,Re.linprebuf,0,MAX_ORDER),ne.arraycopy(et,Pe+ve-MAX_ORDER,Re.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function ke(Re,ze){var Je,et=0;for(Je=0;Je<ze;Je++)et+=Re[Je];if(et==0)return GAIN_NOT_ENOUGH_SAMPLES;var Pe=0|Math.ceil(et*(1-ce));for(Je=ze;Je-- >0&&!((Pe-=Re[Je])<=0););return fe-Je/se.STEPS_per_dB}this.GetTitleGain=function(Re){for(var ze=ke(Re.A,Re.A.length),Je=0;Je<Re.A.length;Je++)Re.B[Je]+=Re.A[Je],Re.A[Je]=0;for(var Je=0;Je<MAX_ORDER;Je++)Re.linprebuf[Je]=Re.lstepbuf[Je]=Re.loutbuf[Je]=Re.rinprebuf[Je]=Re.rstepbuf[Je]=Re.routbuf[Je]=0;return Re.totsamp=0,Re.lsum=Re.rsum=0,ze}}ee.exports=se},9438:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double;var ne=re.new_float;re.new_float_n;var ie=re.new_int;re.new_int_n,re.assert;var se=b(354);function fe(){this.xr=ne(576),this.l3_enc=ie(576),this.scalefac=ie(se.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=ie(3),this.subblock_gain=ie(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=ie(se.SFBMAX),this.window=ie(se.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=ie(4),this.max_nonzero_coeff=0;var ce=this;function de(ge){return new Int32Array(ge)}function ye(ge){return new Float32Array(ge)}this.assign=function(ge){ce.xr=ye(ge.xr),ce.l3_enc=de(ge.l3_enc),ce.scalefac=de(ge.scalefac),ce.xrpow_max=ge.xrpow_max,ce.part2_3_length=ge.part2_3_length,ce.big_values=ge.big_values,ce.count1=ge.count1,ce.global_gain=ge.global_gain,ce.scalefac_compress=ge.scalefac_compress,ce.block_type=ge.block_type,ce.mixed_block_flag=ge.mixed_block_flag,ce.table_select=de(ge.table_select),ce.subblock_gain=de(ge.subblock_gain),ce.region0_count=ge.region0_count,ce.region1_count=ge.region1_count,ce.preflag=ge.preflag,ce.scalefac_scale=ge.scalefac_scale,ce.count1table_select=ge.count1table_select,ce.part2_length=ge.part2_length,ce.sfb_lmax=ge.sfb_lmax,ce.sfb_smin=ge.sfb_smin,ce.psy_lmax=ge.psy_lmax,ce.sfbmax=ge.sfbmax,ce.psymax=ge.psymax,ce.sfbdivide=ge.sfbdivide,ce.width=de(ge.width),ce.window=de(ge.window),ce.count1bits=ge.count1bits,ce.sfb_partition_table=ge.sfb_partition_table.slice(0),ce.slen=de(ge.slen),ce.max_nonzero_coeff=ge.max_nonzero_coeff}}ee.exports=fe},9524:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double,re.new_float,re.new_float_n;var ne=re.new_int;re.new_int_n,re.assert;var ie=b(9438);function se(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[ne(4),ne(4)];for(var fe=0;fe<2;fe++)for(var ce=0;ce<2;ce++)this.tt[fe][ce]=new ie}ee.exports=se},9584:(ee,te,b)=>{var re=b(8200);function ne(){this.thm=new re,this.en=new re}ee.exports=ne},8200:(ee,te,b)=>{var re=b(687),ne=b(935),ie=ne.System;ne.VbrMode,ne.Float,ne.ShortBlock,ne.Util,ne.Arrays,ne.new_array_n,ne.new_byte,ne.new_double;var se=ne.new_float,fe=ne.new_float_n;ne.new_int,ne.new_int_n,ne.assert;function ce(){this.l=se(re.SBMAX_l),this.s=fe([re.SBMAX_s,3]);var de=this;this.assign=function(ye){ie.arraycopy(ye.l,0,de.l,0,re.SBMAX_l);for(var ge=0;ge<re.SBMAX_s;ge++)for(var _e=0;_e<3;_e++)de.s[ge][_e]=ye.s[ge][_e]}}ee.exports=ce},354:(ee,te,b)=>{var re=b(687),ne={};ne.SFBMAX=re.SBMAX_s*3,ee.exports=ne},4566:(ee,te,b)=>{var re=b(935),ne=re.System,ie=re.VbrMode;re.Float;var se=re.ShortBlock;re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double;var fe=re.new_float;re.new_float_n,re.new_int;var ce=re.new_int_n,de=re.new_short_n,ye=re.assert,ge=b(9319),_e=b(3893),Ee=b(1998),Ae=b(7514),we=b(1062),Me=b(9120),ke=b(3724),Re=b(7721),ze=b(687);function Je(){var et=this,Pe=128*1024;Je.V9=410,Je.V8=420,Je.V7=430,Je.V6=440,Je.V5=450,Je.V4=460,Je.V3=470,Je.V2=480,Je.V1=490,Je.V0=500,Je.R3MIX=1e3,Je.STANDARD=1001,Je.EXTREME=1002,Je.INSANE=1003,Je.STANDARD_FAST=1004,Je.EXTREME_FAST=1005,Je.MEDIUM=1006,Je.MEDIUM_FAST=1007;var ve=16384+Pe;Je.LAME_MAXMP3BUFFER=ve;var le,ae,he,xe,$e,He=new ge,Fe,Ne,De;this.enc=new ze,this.setModules=function(lt,Se,me,be,Ye,ut,yt,wt,Ut){le=lt,ae=Se,he=me,xe=be,$e=Ye,Fe=ut,Ne=wt,De=Ut,this.enc.setModules(ae,He,xe,Fe)};function pe(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=fe(ze.SBMAX_l),this.bo_s_weight=fe(ze.SBMAX_s)}function Le(){this.lowerlimit=0}function Be(lt,Se){this.lowpass=Se}var Ce=4294479419;function Ze(lt){var Se;return lt.class_id=Ce,Se=lt.internal_flags=new Ee,lt.mode=MPEGMode.NOT_SET,lt.original=1,lt.in_samplerate=44100,lt.num_channels=2,lt.num_samples=-1,lt.bWriteVbrTag=!0,lt.quality=-1,lt.short_blocks=null,Se.subblock_gain=-1,lt.lowpassfreq=0,lt.highpassfreq=0,lt.lowpasswidth=-1,lt.highpasswidth=-1,lt.VBR=ie.vbr_off,lt.VBR_q=4,lt.ATHcurve=-1,lt.VBR_mean_bitrate_kbps=128,lt.VBR_min_bitrate_kbps=0,lt.VBR_max_bitrate_kbps=0,lt.VBR_hard_min=0,Se.VBR_min_bitrate=1,Se.VBR_max_bitrate=13,lt.quant_comp=-1,lt.quant_comp_short=-1,lt.msfix=-1,Se.resample_ratio=1,Se.OldValue[0]=180,Se.OldValue[1]=180,Se.CurrentStep[0]=4,Se.CurrentStep[1]=4,Se.masking_lower=1,Se.nsPsy.attackthre=-1,Se.nsPsy.attackthre_s=-1,lt.scale=-1,lt.athaa_type=-1,lt.ATHtype=-1,lt.athaa_loudapprox=-1,lt.athaa_sensitivity=0,lt.useTemporal=null,lt.interChRatio=-1,Se.mf_samples_to_encode=ze.ENCDELAY+ze.POSTDELAY,lt.encoder_padding=0,Se.mf_size=ze.ENCDELAY-ze.MDCTDELAY,lt.findReplayGain=!1,lt.decode_on_the_fly=!1,Se.decode_on_the_fly=!1,Se.findReplayGain=!1,Se.findPeakSample=!1,Se.RadioGain=0,Se.AudiophileGain=0,Se.noclipGainChange=0,Se.noclipScale=-1,lt.preset=0,lt.write_id3tag_automatic=!0,0}this.lame_init=function(){var lt=new _e;return Ze(lt),lt.lame_allocated_gfp=1,lt};function it(lt){return lt>1?0:lt<=0?1:Math.cos(Math.PI/2*lt)}this.nearestBitrateFullIndex=function(lt){var Se=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],me=0,be=0,Ye=0,ut=0;ut=Se[16],Ye=16,be=Se[16],me=16;for(var yt=0;yt<16;yt++)if(Math.max(lt,Se[yt+1])!=lt){ut=Se[yt+1],Ye=yt+1,be=Se[yt],me=yt;break}return ut-lt>lt-be?me:Ye};function rt(lt,Se){var me=44100;return Se>=48e3?me=48e3:Se>=44100?me=44100:Se>=32e3?me=32e3:Se>=24e3?me=24e3:Se>=22050?me=22050:Se>=16e3?me=16e3:Se>=12e3?me=12e3:Se>=11025?me=11025:Se>=8e3&&(me=8e3),lt==-1?me:(lt<=15960&&(me=44100),lt<=15250&&(me=32e3),lt<=11220&&(me=24e3),lt<=9970&&(me=22050),lt<=7230&&(me=16e3),lt<=5420&&(me=12e3),lt<=4510&&(me=11025),lt<=3970&&(me=8e3),Se<me?Se>44100?48e3:Se>32e3?44100:Se>24e3?32e3:Se>22050?24e3:Se>16e3?22050:Se>12e3?16e3:Se>11025?12e3:Se>8e3?11025:8e3:me)}function Oe(lt,Se){switch(lt){case 44100:return Se.version=1,0;case 48e3:return Se.version=1,1;case 32e3:return Se.version=1,2;case 22050:return Se.version=0,0;case 24e3:return Se.version=0,1;case 16e3:return Se.version=0,2;case 11025:return Se.version=0,0;case 12e3:return Se.version=0,1;case 8e3:return Se.version=0,2;default:return Se.version=0,-1}}function Ve(lt,Se,me){me<16e3&&(Se=2);for(var be=Re.bitrate_table[Se][1],Ye=2;Ye<=14;Ye++)Re.bitrate_table[Se][Ye]>0&&Math.abs(Re.bitrate_table[Se][Ye]-lt)<Math.abs(be-lt)&&(be=Re.bitrate_table[Se][Ye]);return be}function We(lt,Se,me){me<16e3&&(Se=2);for(var be=0;be<=14;be++)if(Re.bitrate_table[Se][be]>0&&Re.bitrate_table[Se][be]==lt)return be;return-1}function qe(lt,Se){var me=[new Be(8,2e3),new Be(16,3700),new Be(24,3900),new Be(32,5500),new Be(40,7e3),new Be(48,7500),new Be(56,1e4),new Be(64,11e3),new Be(80,13500),new Be(96,15100),new Be(112,15600),new Be(128,17e3),new Be(160,17500),new Be(192,18600),new Be(224,19400),new Be(256,19700),new Be(320,20500)],be=et.nearestBitrateFullIndex(Se);lt.lowerlimit=me[be].lowpass}function Ge(lt){var Se=lt.internal_flags,me=32,be=-1;if(Se.lowpass1>0){for(var Ye=999,ut=0;ut<=31;ut++){var yt=ut/31;yt>=Se.lowpass2&&(me=Math.min(me,ut)),Se.lowpass1<yt&&yt<Se.lowpass2&&(Ye=Math.min(Ye,ut))}Ye==999?Se.lowpass1=(me-.75)/31:Se.lowpass1=(Ye-.75)/31,Se.lowpass2=me/31}if(Se.highpass2>0&&Se.highpass2<.021774193548387097&&(Se.highpass1=0,Se.highpass2=0,ne.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),Se.highpass2>0){for(var wt=-1,ut=0;ut<=31;ut++){var yt=ut/31;yt<=Se.highpass1&&(be=Math.max(be,ut)),Se.highpass1<yt&&yt<Se.highpass2&&(wt=Math.max(wt,ut))}Se.highpass1=be/31,wt==-1?Se.highpass2=(be+.75)/31:Se.highpass2=(wt+.75)/31}for(var ut=0;ut<32;ut++){var Ut,Xt,yt=ut/31;Se.highpass2>Se.highpass1?Ut=it((Se.highpass2-yt)/(Se.highpass2-Se.highpass1+1e-20)):Ut=1,Se.lowpass2>Se.lowpass1?Xt=it((yt-Se.lowpass1)/(Se.lowpass2-Se.lowpass1+1e-20)):Xt=1,Se.amp_filter[ut]=Ut*Xt}}function Qe(lt){var Se=lt.internal_flags;switch(lt.quality){default:case 9:Se.psymodel=0,Se.noise_shaping=0,Se.noise_shaping_amp=0,Se.noise_shaping_stop=0,Se.use_best_huffman=0,Se.full_outer_loop=0;break;case 8:lt.quality=7;case 7:Se.psymodel=1,Se.noise_shaping=0,Se.noise_shaping_amp=0,Se.noise_shaping_stop=0,Se.use_best_huffman=0,Se.full_outer_loop=0;break;case 6:Se.psymodel=1,Se.noise_shaping==0&&(Se.noise_shaping=1),Se.noise_shaping_amp=0,Se.noise_shaping_stop=0,Se.subblock_gain==-1&&(Se.subblock_gain=1),Se.use_best_huffman=0,Se.full_outer_loop=0;break;case 5:Se.psymodel=1,Se.noise_shaping==0&&(Se.noise_shaping=1),Se.noise_shaping_amp=0,Se.noise_shaping_stop=0,Se.subblock_gain==-1&&(Se.subblock_gain=1),Se.use_best_huffman=0,Se.full_outer_loop=0;break;case 4:Se.psymodel=1,Se.noise_shaping==0&&(Se.noise_shaping=1),Se.noise_shaping_amp=0,Se.noise_shaping_stop=0,Se.subblock_gain==-1&&(Se.subblock_gain=1),Se.use_best_huffman=1,Se.full_outer_loop=0;break;case 3:Se.psymodel=1,Se.noise_shaping==0&&(Se.noise_shaping=1),Se.noise_shaping_amp=1,Se.noise_shaping_stop=1,Se.subblock_gain==-1&&(Se.subblock_gain=1),Se.use_best_huffman=1,Se.full_outer_loop=0;break;case 2:Se.psymodel=1,Se.noise_shaping==0&&(Se.noise_shaping=1),Se.substep_shaping==0&&(Se.substep_shaping=2),Se.noise_shaping_amp=1,Se.noise_shaping_stop=1,Se.subblock_gain==-1&&(Se.subblock_gain=1),Se.use_best_huffman=1,Se.full_outer_loop=0;break;case 1:Se.psymodel=1,Se.noise_shaping==0&&(Se.noise_shaping=1),Se.substep_shaping==0&&(Se.substep_shaping=2),Se.noise_shaping_amp=2,Se.noise_shaping_stop=1,Se.subblock_gain==-1&&(Se.subblock_gain=1),Se.use_best_huffman=1,Se.full_outer_loop=0;break;case 0:Se.psymodel=1,Se.noise_shaping==0&&(Se.noise_shaping=1),Se.substep_shaping==0&&(Se.substep_shaping=2),Se.noise_shaping_amp=2,Se.noise_shaping_stop=1,Se.subblock_gain==-1&&(Se.subblock_gain=1),Se.use_best_huffman=1,Se.full_outer_loop=0;break}}function ct(lt){var Se=lt.internal_flags;lt.frameNum=0,lt.write_id3tag_automatic&&Ne.id3tag_write_v2(lt),Se.bitrate_stereoMode_Hist=ce([16,5]),Se.bitrate_blockType_Hist=ce([16,6]),Se.PeakSample=0,lt.bWriteVbrTag&&Fe.InitVbrTag(lt)}this.lame_init_params=function(lt){var Se=lt.internal_flags;if(Se.Class_ID=0,Se.ATH==null&&(Se.ATH=new Ae),Se.PSY==null&&(Se.PSY=new pe),Se.rgdata==null&&(Se.rgdata=new we),Se.channels_in=lt.num_channels,Se.channels_in==1&&(lt.mode=MPEGMode.MONO),Se.channels_out=lt.mode==MPEGMode.MONO?1:2,Se.mode_ext=ze.MPG_MD_MS_LR,lt.mode==MPEGMode.MONO&&(lt.force_ms=!1),lt.VBR==ie.vbr_off&&lt.VBR_mean_bitrate_kbps!=128&&lt.brate==0&&(lt.brate=lt.VBR_mean_bitrate_kbps),lt.VBR==ie.vbr_off||lt.VBR==ie.vbr_mtrh||lt.VBR==ie.vbr_mt||(lt.free_format=!1),lt.VBR==ie.vbr_off&&lt.brate==0&&ke.EQ(lt.compression_ratio,0)&&(lt.compression_ratio=11.025),lt.VBR==ie.vbr_off&&lt.compression_ratio>0&&(lt.out_samplerate==0&&(lt.out_samplerate=map2MP3Frequency(int(.97*lt.in_samplerate))),lt.brate=0|lt.out_samplerate*16*Se.channels_out/(1e3*lt.compression_ratio),Se.samplerate_index=Oe(lt.out_samplerate,lt),lt.free_format||(lt.brate=Ve(lt.brate,lt.version,lt.out_samplerate))),lt.out_samplerate!=0&&(lt.out_samplerate<16e3?(lt.VBR_mean_bitrate_kbps=Math.max(lt.VBR_mean_bitrate_kbps,8),lt.VBR_mean_bitrate_kbps=Math.min(lt.VBR_mean_bitrate_kbps,64)):lt.out_samplerate<32e3?(lt.VBR_mean_bitrate_kbps=Math.max(lt.VBR_mean_bitrate_kbps,8),lt.VBR_mean_bitrate_kbps=Math.min(lt.VBR_mean_bitrate_kbps,160)):(lt.VBR_mean_bitrate_kbps=Math.max(lt.VBR_mean_bitrate_kbps,32),lt.VBR_mean_bitrate_kbps=Math.min(lt.VBR_mean_bitrate_kbps,320))),lt.lowpassfreq==0){var me=16e3;switch(lt.VBR){case ie.vbr_off:{var be=new Le;qe(be,lt.brate),me=be.lowerlimit;break}case ie.vbr_abr:{var be=new Le;qe(be,lt.VBR_mean_bitrate_kbps),me=be.lowerlimit;break}case ie.vbr_rh:{var Ye=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=lt.VBR_q&&lt.VBR_q<=9){var ut=Ye[lt.VBR_q],yt=Ye[lt.VBR_q+1],wt=lt.VBR_q_frac;me=linear_int(ut,yt,wt)}else me=19500;break}default:{var Ye=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=lt.VBR_q&&lt.VBR_q<=9){var ut=Ye[lt.VBR_q],yt=Ye[lt.VBR_q+1],wt=lt.VBR_q_frac;me=linear_int(ut,yt,wt)}else me=19500}}lt.mode==MPEGMode.MONO&&(lt.VBR==ie.vbr_off||lt.VBR==ie.vbr_abr)&&(me*=1.5),lt.lowpassfreq=me|0}if(lt.out_samplerate==0&&(2*lt.lowpassfreq>lt.in_samplerate&&(lt.lowpassfreq=lt.in_samplerate/2),lt.out_samplerate=rt(lt.lowpassfreq|0,lt.in_samplerate)),lt.lowpassfreq=Math.min(20500,lt.lowpassfreq),lt.lowpassfreq=Math.min(lt.out_samplerate/2,lt.lowpassfreq),lt.VBR==ie.vbr_off&&(lt.compression_ratio=lt.out_samplerate*16*Se.channels_out/(1e3*lt.brate)),lt.VBR==ie.vbr_abr&&(lt.compression_ratio=lt.out_samplerate*16*Se.channels_out/(1e3*lt.VBR_mean_bitrate_kbps)),lt.bWriteVbrTag||(lt.findReplayGain=!1,lt.decode_on_the_fly=!1,Se.findPeakSample=!1),Se.findReplayGain=lt.findReplayGain,Se.decode_on_the_fly=lt.decode_on_the_fly,Se.decode_on_the_fly&&(Se.findPeakSample=!0),Se.findReplayGain&&le.InitGainAnalysis(Se.rgdata,lt.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return lt.internal_flags=null,-6;switch(Se.decode_on_the_fly&&!lt.decode_only&&(Se.hip!=null&&De.hip_decode_exit(Se.hip),Se.hip=De.hip_decode_init()),Se.mode_gr=lt.out_samplerate<=24e3?1:2,lt.framesize=576*Se.mode_gr,lt.encoder_delay=ze.ENCDELAY,Se.resample_ratio=lt.in_samplerate/lt.out_samplerate,lt.VBR){case ie.vbr_mt:case ie.vbr_rh:case ie.vbr_mtrh:{var Ut=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];lt.compression_ratio=Ut[lt.VBR_q]}break;case ie.vbr_abr:lt.compression_ratio=lt.out_samplerate*16*Se.channels_out/(1e3*lt.VBR_mean_bitrate_kbps);break;default:lt.compression_ratio=lt.out_samplerate*16*Se.channels_out/(1e3*lt.brate);break}if(lt.mode==MPEGMode.NOT_SET&&(lt.mode=MPEGMode.JOINT_STEREO),lt.highpassfreq>0?(Se.highpass1=2*lt.highpassfreq,lt.highpasswidth>=0?Se.highpass2=2*(lt.highpassfreq+lt.highpasswidth):Se.highpass2=2*lt.highpassfreq,Se.highpass1/=lt.out_samplerate,Se.highpass2/=lt.out_samplerate):(Se.highpass1=0,Se.highpass2=0),lt.lowpassfreq>0?(Se.lowpass2=2*lt.lowpassfreq,lt.lowpasswidth>=0?(Se.lowpass1=2*(lt.lowpassfreq-lt.lowpasswidth),Se.lowpass1<0&&(Se.lowpass1=0)):Se.lowpass1=2*lt.lowpassfreq,Se.lowpass1/=lt.out_samplerate,Se.lowpass2/=lt.out_samplerate):(Se.lowpass1=0,Se.lowpass2=0),Ge(lt),Se.samplerate_index=Oe(lt.out_samplerate,lt),Se.samplerate_index<0)return lt.internal_flags=null,-1;if(lt.VBR==ie.vbr_off){if(lt.free_format)Se.bitrate_index=0;else if(lt.brate=Ve(lt.brate,lt.version,lt.out_samplerate),Se.bitrate_index=We(lt.brate,lt.version,lt.out_samplerate),Se.bitrate_index<=0)return lt.internal_flags=null,-1}else Se.bitrate_index=1;lt.analysis&&(lt.bWriteVbrTag=!1),Se.pinfo!=null&&(lt.bWriteVbrTag=!1),ae.init_bit_stream_w(Se);for(var Xt=Se.samplerate_index+3*lt.version+6*(lt.out_samplerate<16e3?1:0),Ct=0;Ct<ze.SBMAX_l+1;Ct++)Se.scalefac_band.l[Ct]=xe.sfBandIndex[Xt].l[Ct];for(var Ct=0;Ct<ze.PSFB21+1;Ct++){var Ht=(Se.scalefac_band.l[22]-Se.scalefac_band.l[21])/ze.PSFB21,Yt=Se.scalefac_band.l[21]+Ct*Ht;Se.scalefac_band.psfb21[Ct]=Yt}Se.scalefac_band.psfb21[ze.PSFB21]=576;for(var Ct=0;Ct<ze.SBMAX_s+1;Ct++)Se.scalefac_band.s[Ct]=xe.sfBandIndex[Xt].s[Ct];for(var Ct=0;Ct<ze.PSFB12+1;Ct++){var Ht=(Se.scalefac_band.s[13]-Se.scalefac_band.s[12])/ze.PSFB12,Yt=Se.scalefac_band.s[12]+Ct*Ht;Se.scalefac_band.psfb12[Ct]=Yt}Se.scalefac_band.psfb12[ze.PSFB12]=192,lt.version==1?Se.sideinfo_len=Se.channels_out==1?21:36:Se.sideinfo_len=Se.channels_out==1?13:21,lt.error_protection&&(Se.sideinfo_len+=2),ct(lt),Se.Class_ID=Ce;{var ar;for(ar=0;ar<19;ar++)Se.nsPsy.pefirbuf[ar]=700*Se.mode_gr*Se.channels_out;lt.ATHtype==-1&&(lt.ATHtype=4)}switch(ye(lt.VBR_q<=9),ye(lt.VBR_q>=0),lt.VBR){case ie.vbr_mt:lt.VBR=ie.vbr_mtrh;case ie.vbr_mtrh:{lt.useTemporal==null&&(lt.useTemporal=!1),he.apply_preset(lt,500-lt.VBR_q*10,0),lt.quality<0&&(lt.quality=LAME_DEFAULT_QUALITY),lt.quality<5&&(lt.quality=0),lt.quality>5&&(lt.quality=5),Se.PSY.mask_adjust=lt.maskingadjust,Se.PSY.mask_adjust_short=lt.maskingadjust_short,lt.experimentalY?Se.sfb21_extra=!1:Se.sfb21_extra=lt.out_samplerate>44e3,Se.iteration_loop=new VBRNewIterationLoop($e);break}case ie.vbr_rh:{he.apply_preset(lt,500-lt.VBR_q*10,0),Se.PSY.mask_adjust=lt.maskingadjust,Se.PSY.mask_adjust_short=lt.maskingadjust_short,lt.experimentalY?Se.sfb21_extra=!1:Se.sfb21_extra=lt.out_samplerate>44e3,lt.quality>6&&(lt.quality=6),lt.quality<0&&(lt.quality=LAME_DEFAULT_QUALITY),Se.iteration_loop=new VBROldIterationLoop($e);break}default:{var tr;Se.sfb21_extra=!1,lt.quality<0&&(lt.quality=LAME_DEFAULT_QUALITY),tr=lt.VBR,tr==ie.vbr_off&&(lt.VBR_mean_bitrate_kbps=lt.brate),he.apply_preset(lt,lt.VBR_mean_bitrate_kbps,0),lt.VBR=tr,Se.PSY.mask_adjust=lt.maskingadjust,Se.PSY.mask_adjust_short=lt.maskingadjust_short,tr==ie.vbr_off?Se.iteration_loop=new Me($e):Se.iteration_loop=new ABRIterationLoop($e);break}}if(ye(lt.scale>=0),lt.VBR!=ie.vbr_off){if(Se.VBR_min_bitrate=1,Se.VBR_max_bitrate=14,lt.out_samplerate<16e3&&(Se.VBR_max_bitrate=8),lt.VBR_min_bitrate_kbps!=0&&(lt.VBR_min_bitrate_kbps=Ve(lt.VBR_min_bitrate_kbps,lt.version,lt.out_samplerate),Se.VBR_min_bitrate=We(lt.VBR_min_bitrate_kbps,lt.version,lt.out_samplerate),Se.VBR_min_bitrate<0)||lt.VBR_max_bitrate_kbps!=0&&(lt.VBR_max_bitrate_kbps=Ve(lt.VBR_max_bitrate_kbps,lt.version,lt.out_samplerate),Se.VBR_max_bitrate=We(lt.VBR_max_bitrate_kbps,lt.version,lt.out_samplerate),Se.VBR_max_bitrate<0))return-1;lt.VBR_min_bitrate_kbps=Re.bitrate_table[lt.version][Se.VBR_min_bitrate],lt.VBR_max_bitrate_kbps=Re.bitrate_table[lt.version][Se.VBR_max_bitrate],lt.VBR_mean_bitrate_kbps=Math.min(Re.bitrate_table[lt.version][Se.VBR_max_bitrate],lt.VBR_mean_bitrate_kbps),lt.VBR_mean_bitrate_kbps=Math.max(Re.bitrate_table[lt.version][Se.VBR_min_bitrate],lt.VBR_mean_bitrate_kbps)}return lt.tune&&(Se.PSY.mask_adjust+=lt.tune_value_a,Se.PSY.mask_adjust_short+=lt.tune_value_a),Qe(lt),ye(lt.scale>=0),lt.athaa_type<0?Se.ATH.useAdjust=3:Se.ATH.useAdjust=lt.athaa_type,Se.ATH.aaSensitivityP=Math.pow(10,lt.athaa_sensitivity/-10),lt.short_blocks==null&&(lt.short_blocks=se.short_block_allowed),lt.short_blocks==se.short_block_allowed&&(lt.mode==MPEGMode.JOINT_STEREO||lt.mode==MPEGMode.STEREO)&&(lt.short_blocks=se.short_block_coupled),lt.quant_comp<0&&(lt.quant_comp=1),lt.quant_comp_short<0&&(lt.quant_comp_short=0),lt.msfix<0&&(lt.msfix=0),lt.exp_nspsytune=lt.exp_nspsytune|1,lt.internal_flags.nsPsy.attackthre<0&&(lt.internal_flags.nsPsy.attackthre=ge.NSATTACKTHRE),lt.internal_flags.nsPsy.attackthre_s<0&&(lt.internal_flags.nsPsy.attackthre_s=ge.NSATTACKTHRE_S),ye(lt.scale>=0),lt.scale<0&&(lt.scale=1),lt.ATHtype<0&&(lt.ATHtype=4),lt.ATHcurve<0&&(lt.ATHcurve=4),lt.athaa_loudapprox<0&&(lt.athaa_loudapprox=2),lt.interChRatio<0&&(lt.interChRatio=0),lt.useTemporal==null&&(lt.useTemporal=!0),Se.slot_lag=Se.frac_SpF=0,lt.VBR==ie.vbr_off&&(Se.slot_lag=Se.frac_SpF=(lt.version+1)*72e3*lt.brate%lt.out_samplerate|0),xe.iteration_init(lt),He.psymodel_init(lt),ye(lt.scale>=0),0};function ft(lt,Se){(lt.in_buffer_0==null||lt.in_buffer_nsamples<Se)&&(lt.in_buffer_0=fe(Se),lt.in_buffer_1=fe(Se),lt.in_buffer_nsamples=Se)}this.lame_encode_flush=function(lt,Se,me,be){var Ye=lt.internal_flags,ut=de([2,1152]),yt=0,wt,Ut,Xt,Ct,Ht=Ye.mf_samples_to_encode-ze.POSTDELAY,Yt=bt(lt);if(Ye.mf_samples_to_encode<1)return 0;for(wt=0,lt.in_samplerate!=lt.out_samplerate&&(Ht+=16*lt.out_samplerate/lt.in_samplerate),Xt=lt.framesize-Ht%lt.framesize,Xt<576&&(Xt+=lt.framesize),lt.encoder_padding=Xt,Ct=(Ht+Xt)/lt.framesize;Ct>0&&yt>=0;){var ar=Yt-Ye.mf_size,tr=lt.frameNum;ar*=lt.in_samplerate,ar/=lt.out_samplerate,ar>1152&&(ar=1152),ar<1&&(ar=1),Ut=be-wt,be==0&&(Ut=0),yt=this.lame_encode_buffer(lt,ut[0],ut[1],ar,Se,me,Ut),me+=yt,wt+=yt,Ct-=tr!=lt.frameNum?1:0}if(Ye.mf_samples_to_encode=0,yt<0||(Ut=be-wt,be==0&&(Ut=0),ae.flush_bitstream(lt),yt=ae.copy_buffer(Ye,Se,me,Ut,1),yt<0))return yt;if(me+=yt,wt+=yt,Ut=be-wt,be==0&&(Ut=0),lt.write_id3tag_automatic){if(Ne.id3tag_write_v1(lt),yt=ae.copy_buffer(Ye,Se,me,Ut,0),yt<0)return yt;wt+=yt}return wt},this.lame_encode_buffer=function(lt,Se,me,be,Ye,ut,yt){var wt=lt.internal_flags,Ut=[null,null];if(wt.Class_ID!=Ce)return-3;if(be==0)return 0;ft(wt,be),Ut[0]=wt.in_buffer_0,Ut[1]=wt.in_buffer_1;for(var Xt=0;Xt<be;Xt++)Ut[0][Xt]=Se[Xt],wt.channels_in>1&&(Ut[1][Xt]=me[Xt]);return St(lt,Ut[0],Ut[1],be,Ye,ut,yt)};function bt(lt){var Se=ze.BLKSIZE+lt.framesize-ze.FFTOFFSET;return Se=Math.max(Se,512+lt.framesize-32),ye(Ee.MFSIZE>=Se),Se}function St(lt,Se,me,be,Ye,ut,yt){var wt=lt.internal_flags,Ut=0,Xt,Ct,Ht,Yt,ar,tr=[null,null],vr=[null,null];if(wt.Class_ID!=Ce)return-3;if(be==0)return 0;if(ar=ae.copy_buffer(wt,Ye,ut,yt,0),ar<0)return ar;if(ut+=ar,Ut+=ar,vr[0]=Se,vr[1]=me,ke.NEQ(lt.scale,0)&&ke.NEQ(lt.scale,1))for(Ct=0;Ct<be;++Ct)vr[0][Ct]*=lt.scale,wt.channels_out==2&&(vr[1][Ct]*=lt.scale);if(ke.NEQ(lt.scale_left,0)&&ke.NEQ(lt.scale_left,1))for(Ct=0;Ct<be;++Ct)vr[0][Ct]*=lt.scale_left;if(ke.NEQ(lt.scale_right,0)&&ke.NEQ(lt.scale_right,1))for(Ct=0;Ct<be;++Ct)vr[1][Ct]*=lt.scale_right;if(lt.num_channels==2&&wt.channels_out==1)for(Ct=0;Ct<be;++Ct)vr[0][Ct]=.5*(vr[0][Ct]+vr[1][Ct]),vr[1][Ct]=0;Yt=bt(lt),tr[0]=wt.mfbuf[0],tr[1]=wt.mfbuf[1];for(var ur=0;be>0;){var Sr=[null,null],Ar=0,$r=0;Sr[0]=vr[0],Sr[1]=vr[1];var kr=new $t;if(Kt(lt,tr,Sr,ur,be,kr),Ar=kr.n_in,$r=kr.n_out,wt.findReplayGain&&!wt.decode_on_the_fly&&le.AnalyzeSamples(wt.rgdata,tr[0],wt.mf_size,tr[1],wt.mf_size,$r,wt.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(be-=Ar,ur+=Ar,wt.channels_out==2,wt.mf_size+=$r,ye(wt.mf_size<=Ee.MFSIZE),wt.mf_samples_to_encode<1&&(wt.mf_samples_to_encode=ze.ENCDELAY+ze.POSTDELAY),wt.mf_samples_to_encode+=$r,wt.mf_size>=Yt){var ir=yt-Ut;if(yt==0&&(ir=0),Xt=xt(lt,tr[0],tr[1],Ye,ut,ir),Xt<0)return Xt;for(ut+=Xt,Ut+=Xt,wt.mf_size-=lt.framesize,wt.mf_samples_to_encode-=lt.framesize,Ht=0;Ht<wt.channels_out;Ht++)for(Ct=0;Ct<wt.mf_size;Ct++)tr[Ht][Ct]=tr[Ht][Ct+lt.framesize]}}return ye(be==0),Ut}function xt(lt,Se,me,be,Ye,ut){var yt=et.enc.lame_encode_mp3_frame(lt,Se,me,be,Ye,ut);return lt.frameNum++,yt}function $t(){this.n_in=0,this.n_out=0}function It(){this.num_used=0}function Et(lt,Se){return Se!=0?Et(Se,lt%Se):lt}function At(lt,Se,me){var be=Math.PI*Se;lt/=me,lt<0&&(lt=0),lt>1&&(lt=1);var Ye=lt-.5,ut=.42-.5*Math.cos(2*lt*Math.PI)+.08*Math.cos(4*lt*Math.PI);return Math.abs(Ye)<1e-9?be/Math.PI:ut*Math.sin(me*be*Ye)/(Math.PI*me*Ye)}function kt(lt,Se,me,be,Ye,ut,yt,wt,Ut){var Xt=lt.internal_flags,Ct,Ht=0,Yt,ar=lt.out_samplerate/Et(lt.out_samplerate,lt.in_samplerate);ar>Ee.BPC&&(ar=Ee.BPC);var tr=Math.abs(Xt.resample_ratio-Math.floor(.5+Xt.resample_ratio))<1e-4?1:0,vr=1/Xt.resample_ratio;vr>1&&(vr=1);var ur=31;ur%2==0&&--ur,ur+=tr;var Sr=ur+1;if(Xt.fill_buffer_resample_init==0){for(Xt.inbuf_old[0]=fe(Sr),Xt.inbuf_old[1]=fe(Sr),Ct=0;Ct<=2*ar;++Ct)Xt.blackfilt[Ct]=fe(Sr);for(Xt.itime[0]=0,Xt.itime[1]=0,Ht=0;Ht<=2*ar;Ht++){var Ar=0,$r=(Ht-ar)/(2*ar);for(Ct=0;Ct<=ur;Ct++)Ar+=Xt.blackfilt[Ht][Ct]=At(Ct-$r,vr,ur);for(Ct=0;Ct<=ur;Ct++)Xt.blackfilt[Ht][Ct]/=Ar}Xt.fill_buffer_resample_init=1}var kr=Xt.inbuf_old[Ut];for(Yt=0;Yt<be;Yt++){var ir,pr;if(ir=Yt*Xt.resample_ratio,Ht=0|Math.floor(ir-Xt.itime[Ut]),ur+Ht-ur/2>=yt)break;var $r=ir-Xt.itime[Ut]-(Ht+.5*(ur%2));ye(Math.abs($r)<=.501),pr=0|Math.floor($r*2*ar+ar+.5);var Ir=0;for(Ct=0;Ct<=ur;++Ct){var Pr=Ct+Ht-ur/2,Rr;ye(Pr<yt),ye(Pr+Sr>=0),Rr=Pr<0?kr[Sr+Pr]:Ye[ut+Pr],Ir+=Rr*Xt.blackfilt[pr][Ct]}Se[me+Yt]=Ir}if(wt.num_used=Math.min(yt,ur+Ht-ur/2),Xt.itime[Ut]+=wt.num_used-Yt*Xt.resample_ratio,wt.num_used>=Sr)for(Ct=0;Ct<Sr;Ct++)kr[Ct]=Ye[ut+wt.num_used+Ct-Sr];else{var Ft=Sr-wt.num_used;for(Ct=0;Ct<Ft;++Ct)kr[Ct]=kr[Ct+wt.num_used];for(Ht=0;Ct<Sr;++Ct,++Ht)kr[Ct]=Ye[ut+Ht];ye(Ht==wt.num_used)}return Yt}function Kt(lt,Se,me,be,Ye,ut){var yt=lt.internal_flags;if(yt.resample_ratio<.9999||yt.resample_ratio>1.0001)for(var wt=0;wt<yt.channels_out;wt++){var Ut=new It;ut.n_out=kt(lt,Se[wt],yt.mf_size,lt.framesize,me[wt],be,Ye,Ut,wt),ut.n_in=Ut.num_used}else{ut.n_out=Math.min(lt.framesize,Ye),ut.n_in=ut.n_out;for(var Xt=0;Xt<ut.n_out;++Xt)Se[0][yt.mf_size+Xt]=me[0][be+Xt],yt.channels_out==2&&(Se[1][yt.mf_size+Xt]=me[1][be+Xt])}}}ee.exports=Je},3893:(ee,te,b)=>{var re=b(8231);function ne(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=re.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}ee.exports=ne},1998:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n;var ne=re.new_byte,ie=re.new_double,se=re.new_float,fe=re.new_float_n,ce=re.new_int,de=re.new_int_n;re.assert;var ye=b(9524),ge=b(302),_e=b(7885),Ee=b(3362),Ae=b(8200),we=b(687),Me=b(354);ke.MFSIZE=3456+we.ENCDELAY-we.MDCTDELAY,ke.MAX_HEADER_BUF=256,ke.MAX_BITS_PER_CHANNEL=4095,ke.MAX_BITS_PER_GRANULE=7680,ke.BPC=320;function ke(){var Re=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=fe([2,ke.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new ye,this.ms_ratio=se(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=ce(2),this.CurrentStep=ce(2),this.masking_lower=0,this.bv_scf=ce(576),this.pseudohalf=ce(Me.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*ke.BPC+1),this.itime=ie(2),this.sideinfo_len=0,this.sb_sample=fe([2,2,18,we.SBLIMIT]),this.amp_filter=se(32);function ze(){this.write_timing=0,this.ptr=0,this.buf=ne(Re)}this.header=new Array(ke.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new ge,this.minval_l=se(we.CBANDS),this.minval_s=se(we.CBANDS),this.nb_1=fe([4,we.CBANDS]),this.nb_2=fe([4,we.CBANDS]),this.nb_s1=fe([4,we.CBANDS]),this.nb_s2=fe([4,we.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=se(4),this.loudness_sq=fe([2,2]),this.loudness_sq_save=se(2),this.mld_l=se(we.SBMAX_l),this.mld_s=se(we.SBMAX_s),this.bm_l=ce(we.SBMAX_l),this.bo_l=ce(we.SBMAX_l),this.bm_s=ce(we.SBMAX_s),this.bo_s=ce(we.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=de([we.CBANDS,2]),this.s3ind_s=de([we.CBANDS,2]),this.numlines_s=ce(we.CBANDS),this.numlines_l=ce(we.CBANDS),this.rnumlines_l=se(we.CBANDS),this.mld_cb_l=se(we.CBANDS),this.mld_cb_s=se(we.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=se(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=ce(2),this.nsPsy=new _e,this.VBR_seek_table=new Ee,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=de([16,5]),this.bitrate_blockType_Hist=de([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var Je=0;Je<this.en.length;Je++)this.en[Je]=new Ae;for(var Je=0;Je<this.thm.length;Je++)this.thm[Je]=new Ae;for(var Je=0;Je<this.header.length;Je++)this.header[Je]=new ze}ee.exports=ke},8231:ee=>{function te(b){var re=b;this.ordinal=function(){return re}}te.STEREO=new te(0),te.JOINT_STEREO=new te(1),te.DUAL_CHANNEL=new te(2),te.MONO=new te(3),te.NOT_SET=new te(4),ee.exports=te},3134:ee=>{function te(b){this.bits=b}ee.exports=te},2143:(ee,te,b)=>{var re=b(935),ne=re.System;re.VbrMode,re.Float,re.ShortBlock;var ie=re.Util,se=re.Arrays;re.new_array_n,re.new_byte,re.new_double;var fe=re.new_float;re.new_float_n,re.new_int,re.new_int_n,re.assert;var ce=b(687);function de(){var ye=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*ie.SQRT2*.5/2384e-9,.017876148*ie.SQRT2*.5/2384e-9,.003134727*ie.SQRT2*.5/2384e-9,.002457142*ie.SQRT2*.5/2384e-9,971317e-9*ie.SQRT2*.5/2384e-9,218868e-9*ie.SQRT2*.5/2384e-9,101566e-9*ie.SQRT2*.5/2384e-9,13828e-9*ie.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],ge=12,_e=36,Ee=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],Ae=Ee[ce.SHORT_TYPE],we=Ee[ce.SHORT_TYPE],Me=Ee[ce.SHORT_TYPE],ke=Ee[ce.SHORT_TYPE],Re=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function ze(Pe,ve,le){for(var ae=10,he=ve+238-14-286,xe=-15;xe<0;xe++){var $e,He,Fe;$e=ye[ae+-10],He=Pe[he+-224]*$e,Fe=Pe[ve+224]*$e,$e=ye[ae+-9],He+=Pe[he+-160]*$e,Fe+=Pe[ve+160]*$e,$e=ye[ae+-8],He+=Pe[he+-96]*$e,Fe+=Pe[ve+96]*$e,$e=ye[ae+-7],He+=Pe[he+-32]*$e,Fe+=Pe[ve+32]*$e,$e=ye[ae+-6],He+=Pe[he+32]*$e,Fe+=Pe[ve+-32]*$e,$e=ye[ae+-5],He+=Pe[he+96]*$e,Fe+=Pe[ve+-96]*$e,$e=ye[ae+-4],He+=Pe[he+160]*$e,Fe+=Pe[ve+-160]*$e,$e=ye[ae+-3],He+=Pe[he+224]*$e,Fe+=Pe[ve+-224]*$e,$e=ye[ae+-2],He+=Pe[ve+-256]*$e,Fe-=Pe[he+256]*$e,$e=ye[ae+-1],He+=Pe[ve+-192]*$e,Fe-=Pe[he+192]*$e,$e=ye[ae+0],He+=Pe[ve+-128]*$e,Fe-=Pe[he+128]*$e,$e=ye[ae+1],He+=Pe[ve+-64]*$e,Fe-=Pe[he+64]*$e,$e=ye[ae+2],He+=Pe[ve+0]*$e,Fe-=Pe[he+0]*$e,$e=ye[ae+3],He+=Pe[ve+64]*$e,Fe-=Pe[he+-64]*$e,$e=ye[ae+4],He+=Pe[ve+128]*$e,Fe-=Pe[he+-128]*$e,$e=ye[ae+5],He+=Pe[ve+192]*$e,Fe-=Pe[he+-192]*$e,He*=ye[ae+6],$e=Fe-He,le[30+xe*2]=Fe+He,le[31+xe*2]=ye[ae+7]*$e,ae+=18,ve--,he++}{var He,Fe,Ne,De;Fe=Pe[ve+-16]*ye[ae+-10],He=Pe[ve+-32]*ye[ae+-2],Fe+=(Pe[ve+-48]-Pe[ve+16])*ye[ae+-9],He+=Pe[ve+-96]*ye[ae+-1],Fe+=(Pe[ve+-80]+Pe[ve+48])*ye[ae+-8],He+=Pe[ve+-160]*ye[ae+0],Fe+=(Pe[ve+-112]-Pe[ve+80])*ye[ae+-7],He+=Pe[ve+-224]*ye[ae+1],Fe+=(Pe[ve+-144]+Pe[ve+112])*ye[ae+-6],He-=Pe[ve+32]*ye[ae+2],Fe+=(Pe[ve+-176]-Pe[ve+144])*ye[ae+-5],He-=Pe[ve+96]*ye[ae+3],Fe+=(Pe[ve+-208]+Pe[ve+176])*ye[ae+-4],He-=Pe[ve+160]*ye[ae+4],Fe+=(Pe[ve+-240]-Pe[ve+208])*ye[ae+-3],He-=Pe[ve+224],Ne=He-Fe,De=He+Fe,Fe=le[14],He=le[15]-Fe,le[31]=De+Fe,le[30]=Ne+He,le[15]=Ne-He,le[14]=De-Fe}{var pe;pe=le[28]-le[0],le[0]+=le[28],le[28]=pe*ye[ae+-36+7],pe=le[29]-le[1],le[1]+=le[29],le[29]=pe*ye[ae+-36+7],pe=le[26]-le[2],le[2]+=le[26],le[26]=pe*ye[ae+-72+7],pe=le[27]-le[3],le[3]+=le[27],le[27]=pe*ye[ae+-72+7],pe=le[24]-le[4],le[4]+=le[24],le[24]=pe*ye[ae+-108+7],pe=le[25]-le[5],le[5]+=le[25],le[25]=pe*ye[ae+-108+7],pe=le[22]-le[6],le[6]+=le[22],le[22]=pe*ie.SQRT2,pe=le[23]-le[7],le[7]+=le[23],le[23]=pe*ie.SQRT2-le[7],le[7]-=le[6],le[22]-=le[7],le[23]-=le[22],pe=le[6],le[6]=le[31]-pe,le[31]=le[31]+pe,pe=le[7],le[7]=le[30]-pe,le[30]=le[30]+pe,pe=le[22],le[22]=le[15]-pe,le[15]=le[15]+pe,pe=le[23],le[23]=le[14]-pe,le[14]=le[14]+pe,pe=le[20]-le[8],le[8]+=le[20],le[20]=pe*ye[ae+-180+7],pe=le[21]-le[9],le[9]+=le[21],le[21]=pe*ye[ae+-180+7],pe=le[18]-le[10],le[10]+=le[18],le[18]=pe*ye[ae+-216+7],pe=le[19]-le[11],le[11]+=le[19],le[19]=pe*ye[ae+-216+7],pe=le[16]-le[12],le[12]+=le[16],le[16]=pe*ye[ae+-252+7],pe=le[17]-le[13],le[13]+=le[17],le[17]=pe*ye[ae+-252+7],pe=-le[20]+le[24],le[20]+=le[24],le[24]=pe*ye[ae+-216+7],pe=-le[21]+le[25],le[21]+=le[25],le[25]=pe*ye[ae+-216+7],pe=le[4]-le[8],le[4]+=le[8],le[8]=pe*ye[ae+-216+7],pe=le[5]-le[9],le[5]+=le[9],le[9]=pe*ye[ae+-216+7],pe=le[0]-le[12],le[0]+=le[12],le[12]=pe*ye[ae+-72+7],pe=le[1]-le[13],le[1]+=le[13],le[13]=pe*ye[ae+-72+7],pe=le[16]-le[28],le[16]+=le[28],le[28]=pe*ye[ae+-72+7],pe=-le[17]+le[29],le[17]+=le[29],le[29]=pe*ye[ae+-72+7],pe=ie.SQRT2*(le[2]-le[10]),le[2]+=le[10],le[10]=pe,pe=ie.SQRT2*(le[3]-le[11]),le[3]+=le[11],le[11]=pe,pe=ie.SQRT2*(-le[18]+le[26]),le[18]+=le[26],le[26]=pe-le[18],pe=ie.SQRT2*(-le[19]+le[27]),le[19]+=le[27],le[27]=pe-le[19],pe=le[2],le[19]-=le[3],le[3]-=pe,le[2]=le[31]-pe,le[31]+=pe,pe=le[3],le[11]-=le[19],le[18]-=pe,le[3]=le[30]-pe,le[30]+=pe,pe=le[18],le[27]-=le[11],le[19]-=pe,le[18]=le[15]-pe,le[15]+=pe,pe=le[19],le[10]-=pe,le[19]=le[14]-pe,le[14]+=pe,pe=le[10],le[11]-=pe,le[10]=le[23]-pe,le[23]+=pe,pe=le[11],le[26]-=pe,le[11]=le[22]-pe,le[22]+=pe,pe=le[26],le[27]-=pe,le[26]=le[7]-pe,le[7]+=pe,pe=le[27],le[27]=le[6]-pe,le[6]+=pe,pe=ie.SQRT2*(le[0]-le[4]),le[0]+=le[4],le[4]=pe,pe=ie.SQRT2*(le[1]-le[5]),le[1]+=le[5],le[5]=pe,pe=ie.SQRT2*(le[16]-le[20]),le[16]+=le[20],le[20]=pe,pe=ie.SQRT2*(le[17]-le[21]),le[17]+=le[21],le[21]=pe,pe=-ie.SQRT2*(le[8]-le[12]),le[8]+=le[12],le[12]=pe-le[8],pe=-ie.SQRT2*(le[9]-le[13]),le[9]+=le[13],le[13]=pe-le[9],pe=-ie.SQRT2*(le[25]-le[29]),le[25]+=le[29],le[29]=pe-le[25],pe=-ie.SQRT2*(le[24]+le[28]),le[24]-=le[28],le[28]=pe-le[24],pe=le[24]-le[16],le[24]=pe,pe=le[20]-pe,le[20]=pe,pe=le[28]-pe,le[28]=pe,pe=le[25]-le[17],le[25]=pe,pe=le[21]-pe,le[21]=pe,pe=le[29]-pe,le[29]=pe,pe=le[17]-le[1],le[17]=pe,pe=le[9]-pe,le[9]=pe,pe=le[25]-pe,le[25]=pe,pe=le[5]-pe,le[5]=pe,pe=le[21]-pe,le[21]=pe,pe=le[13]-pe,le[13]=pe,pe=le[29]-pe,le[29]=pe,pe=le[1]-le[0],le[1]=pe,pe=le[16]-pe,le[16]=pe,pe=le[17]-pe,le[17]=pe,pe=le[8]-pe,le[8]=pe,pe=le[9]-pe,le[9]=pe,pe=le[24]-pe,le[24]=pe,pe=le[25]-pe,le[25]=pe,pe=le[4]-pe,le[4]=pe,pe=le[5]-pe,le[5]=pe,pe=le[20]-pe,le[20]=pe,pe=le[21]-pe,le[21]=pe,pe=le[12]-pe,le[12]=pe,pe=le[13]-pe,le[13]=pe,pe=le[28]-pe,le[28]=pe,pe=le[29]-pe,le[29]=pe,pe=le[0],le[0]+=le[31],le[31]-=pe,pe=le[1],le[1]+=le[30],le[30]-=pe,pe=le[16],le[16]+=le[15],le[15]-=pe,pe=le[17],le[17]+=le[14],le[14]-=pe,pe=le[8],le[8]+=le[23],le[23]-=pe,pe=le[9],le[9]+=le[22],le[22]-=pe,pe=le[24],le[24]+=le[7],le[7]-=pe,pe=le[25],le[25]+=le[6],le[6]-=pe,pe=le[4],le[4]+=le[27],le[27]-=pe,pe=le[5],le[5]+=le[26],le[26]-=pe,pe=le[20],le[20]+=le[11],le[11]-=pe,pe=le[21],le[21]+=le[10],le[10]-=pe,pe=le[12],le[12]+=le[19],le[19]-=pe,pe=le[13],le[13]+=le[18],le[18]-=pe,pe=le[28],le[28]+=le[3],le[3]-=pe,pe=le[29],le[29]+=le[2],le[2]-=pe}}function Je(Pe,ve){for(var le=0;le<3;le++){var ae,he,xe,$e,He,Fe;$e=Pe[ve+6]*Ee[ce.SHORT_TYPE][0]-Pe[ve+15],ae=Pe[ve+0]*Ee[ce.SHORT_TYPE][2]-Pe[ve+9],he=$e+ae,xe=$e-ae,$e=Pe[ve+15]*Ee[ce.SHORT_TYPE][0]+Pe[ve+6],ae=Pe[ve+9]*Ee[ce.SHORT_TYPE][2]+Pe[ve+0],He=$e+ae,Fe=-$e+ae,ae=(Pe[ve+3]*Ee[ce.SHORT_TYPE][1]-Pe[ve+12])*2069978111953089e-26,$e=(Pe[ve+12]*Ee[ce.SHORT_TYPE][1]+Pe[ve+3])*2069978111953089e-26,Pe[ve+0]=he*190752519173728e-25+ae,Pe[ve+15]=-He*190752519173728e-25+$e,xe=xe*.8660254037844387*1907525191737281e-26,He=He*.5*1907525191737281e-26+$e,Pe[ve+3]=xe-He,Pe[ve+6]=xe+He,he=he*.5*1907525191737281e-26-ae,Fe=Fe*.8660254037844387*1907525191737281e-26,Pe[ve+9]=he+Fe,Pe[ve+12]=he-Fe,ve++}}function et(Pe,ve,le){var ae,he;{var xe,$e,He,Fe,Ne,De,pe,Le;xe=le[17]-le[9],He=le[15]-le[11],Fe=le[14]-le[12],Ne=le[0]+le[8],De=le[1]+le[7],pe=le[2]+le[6],Le=le[3]+le[5],Pe[ve+17]=Ne+pe-Le-(De-le[4]),he=(Ne+pe-Le)*we[19]+(De-le[4]),ae=(xe-He-Fe)*we[18],Pe[ve+5]=ae+he,Pe[ve+6]=ae-he,$e=(le[16]-le[10])*we[18],De=De*we[19]+le[4],ae=xe*we[12]+$e+He*we[13]+Fe*we[14],he=-Ne*we[16]+De-pe*we[17]+Le*we[15],Pe[ve+1]=ae+he,Pe[ve+2]=ae-he,ae=xe*we[13]-$e-He*we[14]+Fe*we[12],he=-Ne*we[17]+De-pe*we[15]+Le*we[16],Pe[ve+9]=ae+he,Pe[ve+10]=ae-he,ae=xe*we[14]-$e+He*we[12]-Fe*we[13],he=Ne*we[15]-De+pe*we[16]-Le*we[17],Pe[ve+13]=ae+he,Pe[ve+14]=ae-he}{var Be,Ce,Ze,it,rt,Oe,Ve,We;Be=le[8]-le[0],Ze=le[6]-le[2],it=le[5]-le[3],rt=le[17]+le[9],Oe=le[16]+le[10],Ve=le[15]+le[11],We=le[14]+le[12],Pe[ve+0]=rt+Ve+We+(Oe+le[13]),ae=(rt+Ve+We)*we[19]-(Oe+le[13]),he=(Be-Ze+it)*we[18],Pe[ve+11]=ae+he,Pe[ve+12]=ae-he,Ce=(le[7]-le[1])*we[18],Oe=le[13]-Oe*we[19],ae=rt*we[15]-Oe+Ve*we[16]+We*we[17],he=Be*we[14]+Ce+Ze*we[12]+it*we[13],Pe[ve+3]=ae+he,Pe[ve+4]=ae-he,ae=-rt*we[17]+Oe-Ve*we[15]-We*we[16],he=Be*we[13]+Ce-Ze*we[14]-it*we[12],Pe[ve+7]=ae+he,Pe[ve+8]=ae-he,ae=-rt*we[16]+Oe-Ve*we[17]-We*we[15],he=Be*we[12]-Ce+Ze*we[13]-it*we[14],Pe[ve+15]=ae+he,Pe[ve+16]=ae-he}}this.mdct_sub48=function(Pe,ve,le){for(var ae=ve,he=286,xe=0;xe<Pe.channels_out;xe++){for(var $e=0;$e<Pe.mode_gr;$e++){for(var He,Fe=Pe.l3_side.tt[$e][xe],Ne=Fe.xr,De=0,pe=Pe.sb_sample[xe][1-$e],Le=0,Be=0;Be<9;Be++)for(ze(ae,he,pe[Le]),ze(ae,he+32,pe[Le+1]),Le+=2,he+=64,He=1;He<32;He+=2)pe[Le-1][He]*=-1;for(He=0;He<32;He++,De+=18){var Ce=Fe.block_type,Ze=Pe.sb_sample[xe][$e],it=Pe.sb_sample[xe][1-$e];if(Fe.mixed_block_flag!=0&&He<2&&(Ce=0),Pe.amp_filter[He]<1e-12)se.fill(Ne,De+0,De+18,0);else{if(Pe.amp_filter[He]<1)for(var Be=0;Be<18;Be++)it[Be][Re[He]]*=Pe.amp_filter[He];if(Ce==ce.SHORT_TYPE){for(var Be=-ge/4;Be<0;Be++){var rt=Ee[ce.SHORT_TYPE][Be+3];Ne[De+Be*3+9]=Ze[9+Be][Re[He]]*rt-Ze[8-Be][Re[He]],Ne[De+Be*3+18]=Ze[14-Be][Re[He]]*rt+Ze[15+Be][Re[He]],Ne[De+Be*3+10]=Ze[15+Be][Re[He]]*rt-Ze[14-Be][Re[He]],Ne[De+Be*3+19]=it[2-Be][Re[He]]*rt+it[3+Be][Re[He]],Ne[De+Be*3+11]=it[3+Be][Re[He]]*rt-it[2-Be][Re[He]],Ne[De+Be*3+20]=it[8-Be][Re[He]]*rt+it[9+Be][Re[He]]}Je(Ne,De)}else{for(var Oe=fe(18),Be=-_e/4;Be<0;Be++){var Ve,We;Ve=Ee[Ce][Be+27]*it[Be+9][Re[He]]+Ee[Ce][Be+36]*it[8-Be][Re[He]],We=Ee[Ce][Be+9]*Ze[Be+9][Re[He]]-Ee[Ce][Be+18]*Ze[8-Be][Re[He]],Oe[Be+9]=Ve-We*Ae[3+Be+9],Oe[Be+18]=Ve*Ae[3+Be+9]+We}et(Ne,De,Oe)}}if(Ce!=ce.SHORT_TYPE&&He!=0)for(var Be=7;Be>=0;--Be){var qe,Ge;qe=Ne[De+Be]*Me[20+Be]+Ne[De+-1-Be]*ke[28+Be],Ge=Ne[De+Be]*ke[28+Be]-Ne[De+-1-Be]*Me[20+Be],Ne[De+-1-Be]=qe,Ne[De+Be]=Ge}}}if(ae=le,he=286,Pe.mode_gr==1)for(var Qe=0;Qe<18;Qe++)ne.arraycopy(Pe.sb_sample[xe][1][Qe],0,Pe.sb_sample[xe][0][Qe],0,32)}}}ee.exports=de},7885:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double;var ne=re.new_float,ie=re.new_float_n,se=re.new_int;re.new_int_n,re.assert;var fe=b(687);function ce(){this.last_en_subshort=ie([4,9]),this.lastAttacks=se(4),this.pefirbuf=ne(19),this.longfact=ne(fe.SBMAX_l),this.shortfact=ne(fe.SBMAX_s),this.attackthre=0,this.attackthre_s=0}ee.exports=ce},9457:(ee,te,b)=>{var re=b(935);re.System;var ne=re.VbrMode;re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double,re.new_float,re.new_float_n,re.new_int,re.new_int_n,re.assert;function ie(){function se(we,Me,ke,Re,ze,Je,et,Pe,ve,le,ae,he,xe,$e,He){this.vbr_q=we,this.quant_comp=Me,this.quant_comp_s=ke,this.expY=Re,this.st_lrm=ze,this.st_s=Je,this.masking_adj=et,this.masking_adj_short=Pe,this.ath_lower=ve,this.ath_curve=le,this.ath_sensitivity=ae,this.interch=he,this.safejoint=xe,this.sfb21mod=$e,this.msfix=He}function fe(we,Me,ke,Re,ze,Je,et,Pe,ve,le,ae,he,xe,$e){this.quant_comp=Me,this.quant_comp_s=ke,this.safejoint=Re,this.nsmsfix=ze,this.st_lrm=Je,this.st_s=et,this.nsbass=Pe,this.scale=ve,this.masking_adj=le,this.ath_lower=ae,this.ath_curve=he,this.interch=xe,this.sfscale=$e}var ce;this.setModules=function(we){ce=we};var de=[new se(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new se(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new se(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new se(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new se(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new se(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new se(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new se(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new se(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new se(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new se(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],ye=[new se(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new se(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new se(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new se(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new se(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new se(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new se(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new se(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new se(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new se(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new se(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function ge(we,Me,ke){var Re=we.VBR==ne.vbr_rh?de:ye,ze=we.VBR_q_frac,Je=Re[Me],et=Re[Me+1],Pe=Je;Je.st_lrm=Je.st_lrm+ze*(et.st_lrm-Je.st_lrm),Je.st_s=Je.st_s+ze*(et.st_s-Je.st_s),Je.masking_adj=Je.masking_adj+ze*(et.masking_adj-Je.masking_adj),Je.masking_adj_short=Je.masking_adj_short+ze*(et.masking_adj_short-Je.masking_adj_short),Je.ath_lower=Je.ath_lower+ze*(et.ath_lower-Je.ath_lower),Je.ath_curve=Je.ath_curve+ze*(et.ath_curve-Je.ath_curve),Je.ath_sensitivity=Je.ath_sensitivity+ze*(et.ath_sensitivity-Je.ath_sensitivity),Je.interch=Je.interch+ze*(et.interch-Je.interch),Je.msfix=Je.msfix+ze*(et.msfix-Je.msfix),Ae(we,Pe.vbr_q),ke!=0?we.quant_comp=Pe.quant_comp:Math.abs(we.quant_comp- -1)>0||(we.quant_comp=Pe.quant_comp),ke!=0?we.quant_comp_short=Pe.quant_comp_s:Math.abs(we.quant_comp_short- -1)>0||(we.quant_comp_short=Pe.quant_comp_s),Pe.expY!=0&&(we.experimentalY=Pe.expY!=0),ke!=0?we.internal_flags.nsPsy.attackthre=Pe.st_lrm:Math.abs(we.internal_flags.nsPsy.attackthre- -1)>0||(we.internal_flags.nsPsy.attackthre=Pe.st_lrm),ke!=0?we.internal_flags.nsPsy.attackthre_s=Pe.st_s:Math.abs(we.internal_flags.nsPsy.attackthre_s- -1)>0||(we.internal_flags.nsPsy.attackthre_s=Pe.st_s),ke!=0?we.maskingadjust=Pe.masking_adj:Math.abs(we.maskingadjust-0)>0||(we.maskingadjust=Pe.masking_adj),ke!=0?we.maskingadjust_short=Pe.masking_adj_short:Math.abs(we.maskingadjust_short-0)>0||(we.maskingadjust_short=Pe.masking_adj_short),ke!=0?we.ATHlower=-Pe.ath_lower/10:Math.abs(-we.ATHlower*10-0)>0||(we.ATHlower=-Pe.ath_lower/10),ke!=0?we.ATHcurve=Pe.ath_curve:Math.abs(we.ATHcurve- -1)>0||(we.ATHcurve=Pe.ath_curve),ke!=0?we.athaa_sensitivity=Pe.ath_sensitivity:Math.abs(we.athaa_sensitivity- -1)>0||(we.athaa_sensitivity=Pe.ath_sensitivity),Pe.interch>0&&(ke!=0?we.interChRatio=Pe.interch:Math.abs(we.interChRatio- -1)>0||(we.interChRatio=Pe.interch)),Pe.safejoint>0&&(we.exp_nspsytune=we.exp_nspsytune|Pe.safejoint),Pe.sfb21mod>0&&(we.exp_nspsytune=we.exp_nspsytune|Pe.sfb21mod<<20),ke!=0?we.msfix=Pe.msfix:Math.abs(we.msfix- -1)>0||(we.msfix=Pe.msfix),ke==0&&(we.VBR_q=Me,we.VBR_q_frac=ze)}var _e=[new fe(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new fe(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new fe(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new fe(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new fe(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new fe(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new fe(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new fe(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new fe(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new fe(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new fe(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new fe(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new fe(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new fe(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new fe(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new fe(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new fe(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function Ee(we,Me,ke){var Re=Me,ze=ce.nearestBitrateFullIndex(Me);if(we.VBR=ne.vbr_abr,we.VBR_mean_bitrate_kbps=Re,we.VBR_mean_bitrate_kbps=Math.min(we.VBR_mean_bitrate_kbps,320),we.VBR_mean_bitrate_kbps=Math.max(we.VBR_mean_bitrate_kbps,8),we.brate=we.VBR_mean_bitrate_kbps,we.VBR_mean_bitrate_kbps>320&&(we.disable_reservoir=!0),_e[ze].safejoint>0&&(we.exp_nspsytune=we.exp_nspsytune|2),_e[ze].sfscale>0&&(we.internal_flags.noise_shaping=2),Math.abs(_e[ze].nsbass)>0){var Je=int(_e[ze].nsbass*4);Je<0&&(Je+=64),we.exp_nspsytune=we.exp_nspsytune|Je<<2}return ke!=0?we.quant_comp=_e[ze].quant_comp:Math.abs(we.quant_comp- -1)>0||(we.quant_comp=_e[ze].quant_comp),ke!=0?we.quant_comp_short=_e[ze].quant_comp_s:Math.abs(we.quant_comp_short- -1)>0||(we.quant_comp_short=_e[ze].quant_comp_s),ke!=0?we.msfix=_e[ze].nsmsfix:Math.abs(we.msfix- -1)>0||(we.msfix=_e[ze].nsmsfix),ke!=0?we.internal_flags.nsPsy.attackthre=_e[ze].st_lrm:Math.abs(we.internal_flags.nsPsy.attackthre- -1)>0||(we.internal_flags.nsPsy.attackthre=_e[ze].st_lrm),ke!=0?we.internal_flags.nsPsy.attackthre_s=_e[ze].st_s:Math.abs(we.internal_flags.nsPsy.attackthre_s- -1)>0||(we.internal_flags.nsPsy.attackthre_s=_e[ze].st_s),ke!=0?we.scale=_e[ze].scale:Math.abs(we.scale- -1)>0||(we.scale=_e[ze].scale),ke!=0?we.maskingadjust=_e[ze].masking_adj:Math.abs(we.maskingadjust-0)>0||(we.maskingadjust=_e[ze].masking_adj),_e[ze].masking_adj>0?ke!=0?we.maskingadjust_short=_e[ze].masking_adj*.9:Math.abs(we.maskingadjust_short-0)>0||(we.maskingadjust_short=_e[ze].masking_adj*.9):ke!=0?we.maskingadjust_short=_e[ze].masking_adj*1.1:Math.abs(we.maskingadjust_short-0)>0||(we.maskingadjust_short=_e[ze].masking_adj*1.1),ke!=0?we.ATHlower=-_e[ze].ath_lower/10:Math.abs(-we.ATHlower*10-0)>0||(we.ATHlower=-_e[ze].ath_lower/10),ke!=0?we.ATHcurve=_e[ze].ath_curve:Math.abs(we.ATHcurve- -1)>0||(we.ATHcurve=_e[ze].ath_curve),ke!=0?we.interChRatio=_e[ze].interch:Math.abs(we.interChRatio- -1)>0||(we.interChRatio=_e[ze].interch),Me}this.apply_preset=function(we,Me,ke){switch(Me){case Lame.R3MIX:{Me=Lame.V3,we.VBR=ne.vbr_mtrh;break}case Lame.MEDIUM:{Me=Lame.V4,we.VBR=ne.vbr_rh;break}case Lame.MEDIUM_FAST:{Me=Lame.V4,we.VBR=ne.vbr_mtrh;break}case Lame.STANDARD:{Me=Lame.V2,we.VBR=ne.vbr_rh;break}case Lame.STANDARD_FAST:{Me=Lame.V2,we.VBR=ne.vbr_mtrh;break}case Lame.EXTREME:{Me=Lame.V0,we.VBR=ne.vbr_rh;break}case Lame.EXTREME_FAST:{Me=Lame.V0,we.VBR=ne.vbr_mtrh;break}case Lame.INSANE:return Me=320,we.preset=Me,Ee(we,Me,ke),we.VBR=ne.vbr_off,Me}switch(we.preset=Me,Me){case Lame.V9:return ge(we,9,ke),Me;case Lame.V8:return ge(we,8,ke),Me;case Lame.V7:return ge(we,7,ke),Me;case Lame.V6:return ge(we,6,ke),Me;case Lame.V5:return ge(we,5,ke),Me;case Lame.V4:return ge(we,4,ke),Me;case Lame.V3:return ge(we,3,ke),Me;case Lame.V2:return ge(we,2,ke),Me;case Lame.V1:return ge(we,1,ke),Me;case Lame.V0:return ge(we,0,ke),Me}return 8<=Me&&Me<=320?Ee(we,Me,ke):(we.preset=0,Me)};function Ae(we,Me){var ke=0;return 0>Me&&(ke=-1,Me=0),9<Me&&(ke=-1,Me=9),we.VBR_q=Me,we.VBR_q_frac=0,ke}}ee.exports=ie},9319:(ee,te,b)=>{var re=b(935);re.System;var ne=re.VbrMode,ie=re.Float,se=re.ShortBlock,fe=re.Util,ce=re.Arrays;re.new_array_n,re.new_byte,re.new_double;var de=re.new_float,ye=re.new_float_n,ge=re.new_int;re.new_int_n;var _e=re.assert,Ee=b(9347),Ae=b(687);function we(){var Me=new Ee,ke=2.302585092994046,Re=2,ze=16,Je=2,et=16,Pe=.34,ve=1/(14752*14752)/(Ae.BLKSIZE/2),le=.01,ae=.8,he=.6,xe=.3,$e=3.5,He=21,Fe=.2302585093;function Ne(je){return je}function De(je,Xe){for(var ot=0,Ke=0;Ke<Ae.BLKSIZE/2;++Ke)ot+=je[Ke]*Xe.ATH.eql_w[Ke];return ot*=ve,ot}function pe(je,Xe,ot,Ke,pt,gt,Tt,Rt,Mt,zt,Lt){var er=je.internal_flags;if(Mt<2)Me.fft_long(er,Ke[pt],Mt,zt,Lt),Me.fft_short(er,gt[Tt],Mt,zt,Lt);else if(Mt==2){for(var lr=Ae.BLKSIZE-1;lr>=0;--lr){var Er=Ke[pt+0][lr],or=Ke[pt+1][lr];Ke[pt+0][lr]=(Er+or)*fe.SQRT2*.5,Ke[pt+1][lr]=(Er-or)*fe.SQRT2*.5}for(var Tr=2;Tr>=0;--Tr)for(var lr=Ae.BLKSIZE_s-1;lr>=0;--lr){var Er=gt[Tt+0][Tr][lr],or=gt[Tt+1][Tr][lr];gt[Tt+0][Tr][lr]=(Er+or)*fe.SQRT2*.5,gt[Tt+1][Tr][lr]=(Er-or)*fe.SQRT2*.5}}Xe[0]=Ke[pt+0][0],Xe[0]*=Xe[0];for(var lr=Ae.BLKSIZE/2-1;lr>=0;--lr){var Jt=Ke[pt+0][Ae.BLKSIZE/2-lr],Dt=Ke[pt+0][Ae.BLKSIZE/2+lr];Xe[Ae.BLKSIZE/2-lr]=(Jt*Jt+Dt*Dt)*.5}for(var Tr=2;Tr>=0;--Tr){ot[Tr][0]=gt[Tt+0][Tr][0],ot[Tr][0]*=ot[Tr][0];for(var lr=Ae.BLKSIZE_s/2-1;lr>=0;--lr){var Jt=gt[Tt+0][Tr][Ae.BLKSIZE_s/2-lr],Dt=gt[Tt+0][Tr][Ae.BLKSIZE_s/2+lr];ot[Tr][Ae.BLKSIZE_s/2-lr]=(Jt*Jt+Dt*Dt)*.5}}{for(var Qt=0,lr=11;lr<Ae.HBLKSIZE;lr++)Qt+=Xe[lr];er.tot_ener[Mt]=Qt}if(je.analysis){for(var lr=0;lr<Ae.HBLKSIZE;lr++)er.pinfo.energy[Rt][Mt][lr]=er.pinfo.energy_save[Mt][lr],er.pinfo.energy_save[Mt][lr]=Xe[lr];er.pinfo.pe[Rt][Mt]=er.pe[Mt]}je.athaa_loudapprox==2&&Mt<2&&(er.loudness_sq[Rt][Mt]=er.loudness_sq_save[Mt],er.loudness_sq_save[Mt]=De(Xe,er))}var Le=8,Be=23,Ce=15,Ze,it,rt,Oe=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function Ve(){Ze=Math.pow(10,(Le+1)/16),it=Math.pow(10,(Be+1)/16),rt=Math.pow(10,Ce/10)}var We=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],qe=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],Ge=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function Qe(je,Xe,ot,Ke,pt,gt){var Tt;if(Xe>je)if(Xe<je*it)Tt=Xe/je;else return je+Xe;else{if(je>=Xe*it)return je+Xe;Tt=je/Xe}if(_e(je>=0),_e(Xe>=0),je+=Xe,Ke+3<=6){if(Tt>=Ze)return je;var Rt=0|fe.FAST_LOG10_X(Tt,16);return je*qe[Rt]}var Rt=0|fe.FAST_LOG10_X(Tt,16);if(gt!=0?Xe=pt.ATH.cb_s[ot]*pt.ATH.adjust:Xe=pt.ATH.cb_l[ot]*pt.ATH.adjust,_e(Xe>=0),je<rt*Xe){if(je>Xe){var Mt,zt;return Mt=1,Rt<=13&&(Mt=Ge[Rt]),zt=fe.FAST_LOG10_X(je/Xe,.6666666666666666),je*((We[Rt]-Mt)*zt+Mt)}return Rt>13?je:je*Ge[Rt]}return je*We[Rt]}var ct=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function ft(je,Xe,ot){var Ke;if(je<0&&(je=0),Xe<0&&(Xe=0),je<=0)return Xe;if(Xe<=0)return je;if(Xe>je?Ke=Xe/je:Ke=je/Xe,-2<=ot&&ot<=2){if(Ke>=Ze)return je+Xe;var pt=0|fe.FAST_LOG10_X(Ke,16);return(je+Xe)*ct[pt]}return Ke<it?je+Xe:(je<Xe&&(je=Xe),je)}function bt(je,Xe){var ot=je.internal_flags;if(ot.channels_out>1){for(var Ke=0;Ke<Ae.SBMAX_l;Ke++){var pt=ot.thm[0].l[Ke],gt=ot.thm[1].l[Ke];ot.thm[0].l[Ke]+=gt*Xe,ot.thm[1].l[Ke]+=pt*Xe}for(var Ke=0;Ke<Ae.SBMAX_s;Ke++)for(var Tt=0;Tt<3;Tt++){var pt=ot.thm[0].s[Ke][Tt],gt=ot.thm[1].s[Ke][Tt];ot.thm[0].s[Ke][Tt]+=gt*Xe,ot.thm[1].s[Ke][Tt]+=pt*Xe}}}function St(je){for(var Xe=0;Xe<Ae.SBMAX_l;Xe++)if(!(je.thm[0].l[Xe]>1.58*je.thm[1].l[Xe]||je.thm[1].l[Xe]>1.58*je.thm[0].l[Xe])){var ot=je.mld_l[Xe]*je.en[3].l[Xe],Ke=Math.max(je.thm[2].l[Xe],Math.min(je.thm[3].l[Xe],ot));ot=je.mld_l[Xe]*je.en[2].l[Xe];var pt=Math.max(je.thm[3].l[Xe],Math.min(je.thm[2].l[Xe],ot));je.thm[2].l[Xe]=Ke,je.thm[3].l[Xe]=pt}for(var Xe=0;Xe<Ae.SBMAX_s;Xe++)for(var gt=0;gt<3;gt++)if(!(je.thm[0].s[Xe][gt]>1.58*je.thm[1].s[Xe][gt]||je.thm[1].s[Xe][gt]>1.58*je.thm[0].s[Xe][gt])){var ot=je.mld_s[Xe]*je.en[3].s[Xe][gt],Ke=Math.max(je.thm[2].s[Xe][gt],Math.min(je.thm[3].s[Xe][gt],ot));ot=je.mld_s[Xe]*je.en[2].s[Xe][gt];var pt=Math.max(je.thm[3].s[Xe][gt],Math.min(je.thm[2].s[Xe][gt],ot));je.thm[2].s[Xe][gt]=Ke,je.thm[3].s[Xe][gt]=pt}}function xt(je,Xe,ot){var Ke=Xe,pt=Math.pow(10,ot);Xe*=2,Ke*=2;for(var gt=0;gt<Ae.SBMAX_l;gt++){var Tt,Rt,Mt,zt;if(zt=je.ATH.cb_l[je.bm_l[gt]]*pt,Tt=Math.min(Math.max(je.thm[0].l[gt],zt),Math.max(je.thm[1].l[gt],zt)),Rt=Math.max(je.thm[2].l[gt],zt),Mt=Math.max(je.thm[3].l[gt],zt),Tt*Xe<Rt+Mt){var Lt=Tt*Ke/(Rt+Mt);Rt*=Lt,Mt*=Lt,_e(Rt+Mt>0)}je.thm[2].l[gt]=Math.min(Rt,je.thm[2].l[gt]),je.thm[3].l[gt]=Math.min(Mt,je.thm[3].l[gt])}pt*=Ae.BLKSIZE_s/Ae.BLKSIZE;for(var gt=0;gt<Ae.SBMAX_s;gt++)for(var er=0;er<3;er++){var Tt,Rt,Mt,zt;if(zt=je.ATH.cb_s[je.bm_s[gt]]*pt,Tt=Math.min(Math.max(je.thm[0].s[gt][er],zt),Math.max(je.thm[1].s[gt][er],zt)),Rt=Math.max(je.thm[2].s[gt][er],zt),Mt=Math.max(je.thm[3].s[gt][er],zt),Tt*Xe<Rt+Mt){var Lt=Tt*Xe/(Rt+Mt);Rt*=Lt,Mt*=Lt,_e(Rt+Mt>0)}je.thm[2].s[gt][er]=Math.min(je.thm[2].s[gt][er],Rt),je.thm[3].s[gt][er]=Math.min(je.thm[3].s[gt][er],Mt)}}function $t(je,Xe,ot,Ke,pt){var gt,Tt,Rt=0,Mt=0;for(gt=Tt=0;gt<Ae.SBMAX_s;++Tt,++gt){for(var zt=je.bo_s[gt],Lt=je.npart_s,er=zt<Lt?zt:Lt;Tt<er;)_e(Xe[Tt]>=0),_e(ot[Tt]>=0),Rt+=Xe[Tt],Mt+=ot[Tt],Tt++;if(je.en[Ke].s[gt][pt]=Rt,je.thm[Ke].s[gt][pt]=Mt,Tt>=Lt){++gt;break}_e(Xe[Tt]>=0),_e(ot[Tt]>=0);{var lr=je.PSY.bo_s_weight[gt],Er=1-lr;Rt=lr*Xe[Tt],Mt=lr*ot[Tt],je.en[Ke].s[gt][pt]+=Rt,je.thm[Ke].s[gt][pt]+=Mt,Rt=Er*Xe[Tt],Mt=Er*ot[Tt]}}for(;gt<Ae.SBMAX_s;++gt)je.en[Ke].s[gt][pt]=0,je.thm[Ke].s[gt][pt]=0}function It(je,Xe,ot,Ke){var pt,gt,Tt=0,Rt=0;for(pt=gt=0;pt<Ae.SBMAX_l;++gt,++pt){for(var Mt=je.bo_l[pt],zt=je.npart_l,Lt=Mt<zt?Mt:zt;gt<Lt;)_e(Xe[gt]>=0),_e(ot[gt]>=0),Tt+=Xe[gt],Rt+=ot[gt],gt++;if(je.en[Ke].l[pt]=Tt,je.thm[Ke].l[pt]=Rt,gt>=zt){++pt;break}_e(Xe[gt]>=0),_e(ot[gt]>=0);{var er=je.PSY.bo_l_weight[pt],lr=1-er;Tt=er*Xe[gt],Rt=er*ot[gt],je.en[Ke].l[pt]+=Tt,je.thm[Ke].l[pt]+=Rt,Tt=lr*Xe[gt],Rt=lr*ot[gt]}}for(;pt<Ae.SBMAX_l;++pt)je.en[Ke].l[pt]=0,je.thm[Ke].l[pt]=0}function Et(je,Xe,ot,Ke,pt,gt){var Tt=je.internal_flags,Rt,Mt;for(Mt=Rt=0;Mt<Tt.npart_s;++Mt){for(var zt=0,Lt=Tt.numlines_s[Mt],er=0;er<Lt;++er,++Rt){var lr=Xe[gt][Rt];zt+=lr}ot[Mt]=zt}for(_e(Mt==Tt.npart_s),_e(Rt==129),Rt=Mt=0;Mt<Tt.npart_s;Mt++){var Er=Tt.s3ind_s[Mt][0],or=Tt.s3_ss[Rt++]*ot[Er];for(++Er;Er<=Tt.s3ind_s[Mt][1];)or+=Tt.s3_ss[Rt]*ot[Er],++Rt,++Er;{var Tr=Je*Tt.nb_s1[pt][Mt];Ke[Mt]=Math.min(or,Tr)}if(Tt.blocktype_old[pt&1]==Ae.SHORT_TYPE){var Tr=et*Tt.nb_s2[pt][Mt],Jt=Ke[Mt];Ke[Mt]=Math.min(Tr,Jt)}Tt.nb_s2[pt][Mt]=Tt.nb_s1[pt][Mt],Tt.nb_s1[pt][Mt]=or,_e(Ke[Mt]>=0)}for(;Mt<=Ae.CBANDS;++Mt)ot[Mt]=0,Ke[Mt]=0}function At(je,Xe,ot,Ke){var pt=je.internal_flags;je.short_blocks==se.short_block_coupled&&!(Xe[0]!=0&&Xe[1]!=0)&&(Xe[0]=Xe[1]=0);for(var gt=0;gt<pt.channels_out;gt++)Ke[gt]=Ae.NORM_TYPE,je.short_blocks==se.short_block_dispensed&&(Xe[gt]=1),je.short_blocks==se.short_block_forced&&(Xe[gt]=0),Xe[gt]!=0?(_e(pt.blocktype_old[gt]!=Ae.START_TYPE),pt.blocktype_old[gt]==Ae.SHORT_TYPE&&(Ke[gt]=Ae.STOP_TYPE)):(Ke[gt]=Ae.SHORT_TYPE,pt.blocktype_old[gt]==Ae.NORM_TYPE&&(pt.blocktype_old[gt]=Ae.START_TYPE),pt.blocktype_old[gt]==Ae.STOP_TYPE&&(pt.blocktype_old[gt]=Ae.SHORT_TYPE)),ot[gt]=pt.blocktype_old[gt],pt.blocktype_old[gt]=Ke[gt]}function kt(je,Xe,ot){return ot>=1?je:ot<=0?Xe:Xe>0?Math.pow(je/Xe,ot)*Xe:0}var Kt=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function lt(je,Xe){for(var ot=309.07,Ke=0;Ke<Ae.SBMAX_s-1;Ke++)for(var pt=0;pt<3;pt++){var gt=je.thm.s[Ke][pt];if(_e(Ke<Kt.length),gt>0){var Tt=gt*Xe,Rt=je.en.s[Ke][pt];Rt>Tt&&(Rt>Tt*1e10?ot+=Kt[Ke]*(10*ke):(_e(Tt>0),ot+=Kt[Ke]*fe.FAST_LOG10(Rt/Tt)))}}return ot}var Se=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function me(je,Xe){for(var ot=281.0575,Ke=0;Ke<Ae.SBMAX_l-1;Ke++){var pt=je.thm.l[Ke];if(_e(Ke<Se.length),pt>0){var gt=pt*Xe,Tt=je.en.l[Ke];Tt>gt&&(Tt>gt*1e10?ot+=Se[Ke]*(10*ke):(_e(gt>0),ot+=Se[Ke]*fe.FAST_LOG10(Tt/gt)))}}return ot}function be(je,Xe,ot,Ke,pt){var gt,Tt;for(gt=Tt=0;gt<je.npart_l;++gt){var Rt=0,Mt=0,zt;for(zt=0;zt<je.numlines_l[gt];++zt,++Tt){var Lt=Xe[Tt];_e(Lt>=0),Rt+=Lt,Mt<Lt&&(Mt=Lt)}ot[gt]=Rt,Ke[gt]=Mt,pt[gt]=Rt*je.rnumlines_l[gt],_e(je.rnumlines_l[gt]>=0),_e(Rt>=0),_e(ot[gt]>=0),_e(Ke[gt]>=0),_e(pt[gt]>=0)}}function Ye(je,Xe,ot,Ke){var pt=Oe.length-1,gt=0,Tt=ot[gt]+ot[gt+1];if(_e(Tt>=0),Tt>0){var Rt=Xe[gt];Rt<Xe[gt+1]&&(Rt=Xe[gt+1]),_e(je.numlines_l[gt]+je.numlines_l[gt+1]-1>0),Tt=20*(Rt*2-Tt)/(Tt*(je.numlines_l[gt]+je.numlines_l[gt+1]-1));var Mt=0|Tt;Mt>pt&&(Mt=pt),Ke[gt]=Mt}else Ke[gt]=0;for(gt=1;gt<je.npart_l-1;gt++)if(Tt=ot[gt-1]+ot[gt]+ot[gt+1],_e(Tt>=0),Tt>0){var Rt=Xe[gt-1];Rt<Xe[gt]&&(Rt=Xe[gt]),Rt<Xe[gt+1]&&(Rt=Xe[gt+1]),_e(je.numlines_l[gt-1]+je.numlines_l[gt]+je.numlines_l[gt+1]-1>0),Tt=20*(Rt*3-Tt)/(Tt*(je.numlines_l[gt-1]+je.numlines_l[gt]+je.numlines_l[gt+1]-1));var Mt=0|Tt;Mt>pt&&(Mt=pt),Ke[gt]=Mt}else Ke[gt]=0;if(_e(gt>0),_e(gt==je.npart_l-1),Tt=ot[gt-1]+ot[gt],_e(Tt>=0),Tt>0){var Rt=Xe[gt-1];Rt<Xe[gt]&&(Rt=Xe[gt]),_e(je.numlines_l[gt-1]+je.numlines_l[gt]-1>0),Tt=20*(Rt*2-Tt)/(Tt*(je.numlines_l[gt-1]+je.numlines_l[gt]-1));var Mt=0|Tt;Mt>pt&&(Mt=pt),Ke[gt]=Mt}else Ke[gt]=0;_e(gt==je.npart_l-1)}var ut=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(je,Xe,ot,Ke,pt,gt,Tt,Rt,Mt,zt){var Lt=je.internal_flags,er=ye([2,Ae.BLKSIZE]),lr=ye([2,3,Ae.BLKSIZE_s]),Er=de(Ae.CBANDS+1),or=de(Ae.CBANDS+1),Tr=de(Ae.CBANDS+2),Jt=ge(2),Dt=ge(2),Qt,Pt,Ot,Bt,nr,dr,sr,gr,Zt=ye([2,576]),rr,Gt=ge(Ae.CBANDS+2),mr=ge(Ae.CBANDS+2);for(ce.fill(mr,0),Qt=Lt.channels_out,je.mode==MPEGMode.JOINT_STEREO&&(Qt=4),je.VBR==ne.vbr_off?rr=Lt.ResvMax==0?0:Lt.ResvSize/Lt.ResvMax*.5:je.VBR==ne.vbr_rh||je.VBR==ne.vbr_mtrh||je.VBR==ne.vbr_mt?rr=.6:rr=1,Pt=0;Pt<Lt.channels_out;Pt++){var yr=Xe[Pt],Cr=ot+576-350-He+192;for(_e(ut.length==(He-1)/2),Bt=0;Bt<576;Bt++){var Br,Hr;for(Br=yr[Cr+Bt+10],Hr=0,nr=0;nr<(He-1)/2-1;nr+=2)Br+=ut[nr]*(yr[Cr+Bt+nr]+yr[Cr+Bt+He-nr]),Hr+=ut[nr+1]*(yr[Cr+Bt+nr+1]+yr[Cr+Bt+He-nr-1]);Zt[Pt][Bt]=Br+Hr}pt[Ke][Pt].en.assign(Lt.en[Pt]),pt[Ke][Pt].thm.assign(Lt.thm[Pt]),Qt>2&&(gt[Ke][Pt].en.assign(Lt.en[Pt+2]),gt[Ke][Pt].thm.assign(Lt.thm[Pt+2]))}for(Pt=0;Pt<Qt;Pt++){var zr,Wr,jt=de(12),Yr=[0,0,0,0],Jr=de(12),nn=1,qr,sn=de(Ae.CBANDS),an=de(Ae.CBANDS),Xr=[0,0,0,0],tn=de(Ae.HBLKSIZE),vn=ye([3,Ae.HBLKSIZE_s]);for(_e(Lt.npart_s<=Ae.CBANDS),_e(Lt.npart_l<=Ae.CBANDS),Bt=0;Bt<3;Bt++)jt[Bt]=Lt.nsPsy.last_en_subshort[Pt][Bt+6],_e(Lt.nsPsy.last_en_subshort[Pt][Bt+4]>0),Jr[Bt]=jt[Bt]/Lt.nsPsy.last_en_subshort[Pt][Bt+4],Yr[0]+=jt[Bt];if(Pt==2)for(Bt=0;Bt<576;Bt++){var hn,dn;hn=Zt[0][Bt],dn=Zt[1][Bt],Zt[0][Bt]=hn+dn,Zt[1][Bt]=hn-dn}{var En=Zt[Pt&1],wn=0;for(Bt=0;Bt<9;Bt++){for(var Rn=wn+64,Qr=1;wn<Rn;wn++)Qr<Math.abs(En[wn])&&(Qr=Math.abs(En[wn]));Lt.nsPsy.last_en_subshort[Pt][Bt]=jt[Bt+3]=Qr,Yr[1+Bt/3]+=Qr,Qr>jt[Bt+3-2]?(_e(jt[Bt+3-2]>0),Qr=Qr/jt[Bt+3-2]):jt[Bt+3-2]>Qr*10?(_e(Qr>0),Qr=jt[Bt+3-2]/(Qr*10)):Qr=0,Jr[Bt+3]=Qr}}if(je.analysis){var Kn=Jr[0];for(Bt=1;Bt<12;Bt++)Kn<Jr[Bt]&&(Kn=Jr[Bt]);Lt.pinfo.ers[Ke][Pt]=Lt.pinfo.ers_save[Pt],Lt.pinfo.ers_save[Pt]=Kn}for(qr=Pt==3?Lt.nsPsy.attackthre_s:Lt.nsPsy.attackthre,Bt=0;Bt<12;Bt++)Xr[Bt/3]==0&&Jr[Bt]>qr&&(Xr[Bt/3]=Bt%3+1);for(Bt=1;Bt<4;Bt++){var no;Yr[Bt-1]>Yr[Bt]?(_e(Yr[Bt]>0),no=Yr[Bt-1]/Yr[Bt]):(_e(Yr[Bt-1]>0),no=Yr[Bt]/Yr[Bt-1]),no<1.7&&(Xr[Bt]=0,Bt==1&&(Xr[0]=0))}for(Xr[0]!=0&&Lt.nsPsy.lastAttacks[Pt]!=0&&(Xr[0]=0),(Lt.nsPsy.lastAttacks[Pt]==3||Xr[0]+Xr[1]+Xr[2]+Xr[3]!=0)&&(nn=0,Xr[1]!=0&&Xr[0]!=0&&(Xr[1]=0),Xr[2]!=0&&Xr[1]!=0&&(Xr[2]=0),Xr[3]!=0&&Xr[2]!=0&&(Xr[3]=0)),Pt<2?Dt[Pt]=nn:nn==0&&(Dt[0]=Dt[1]=0),Mt[Pt]=Lt.tot_ener[Pt],Wr=lr,zr=er,pe(je,tn,vn,zr,Pt&1,Wr,Pt&1,Ke,Pt,Xe,ot),be(Lt,tn,Er,sn,an),Ye(Lt,sn,an,Gt),gr=0;gr<3;gr++){var wo,$n;for(Et(je,vn,or,Tr,Pt,gr),$t(Lt,or,Tr,Pt,gr),sr=0;sr<Ae.SBMAX_s;sr++){if($n=Lt.thm[Pt].s[sr][gr],$n*=ae,Xr[gr]>=2||Xr[gr+1]==1){var oo=gr!=0?gr-1:2,Qr=kt(Lt.thm[Pt].s[sr][oo],$n,he*rr);$n=Math.min($n,Qr)}if(Xr[gr]==1){var oo=gr!=0?gr-1:2,Qr=kt(Lt.thm[Pt].s[sr][oo],$n,xe*rr);$n=Math.min($n,Qr)}else if(gr!=0&&Xr[gr-1]==3||gr==0&&Lt.nsPsy.lastAttacks[Pt]==3){var oo=gr!=2?gr+1:0,Qr=kt(Lt.thm[Pt].s[sr][oo],$n,xe*rr);$n=Math.min($n,Qr)}wo=jt[gr*3+3]+jt[gr*3+4]+jt[gr*3+5],jt[gr*3+5]*6<wo&&($n*=.5,jt[gr*3+4]*6<wo&&($n*=.5)),Lt.thm[Pt].s[sr][gr]=$n}}for(Lt.nsPsy.lastAttacks[Pt]=Xr[2],dr=0,Ot=0;Ot<Lt.npart_l;Ot++){for(var Gn=Lt.s3ind[Ot][0],xo=Er[Gn]*Oe[Gt[Gn]],qn=Lt.s3_ll[dr++]*xo;++Gn<=Lt.s3ind[Ot][1];)xo=Er[Gn]*Oe[Gt[Gn]],qn=Qe(qn,Lt.s3_ll[dr++]*xo,Gn,Gn-Ot,Lt,0);qn*=.158489319246111,Lt.blocktype_old[Pt&1]==Ae.SHORT_TYPE?Tr[Ot]=qn:Tr[Ot]=kt(Math.min(qn,Math.min(Re*Lt.nb_1[Pt][Ot],ze*Lt.nb_2[Pt][Ot])),qn,rr),Lt.nb_2[Pt][Ot]=Lt.nb_1[Pt][Ot],Lt.nb_1[Pt][Ot]=qn}for(;Ot<=Ae.CBANDS;++Ot)Er[Ot]=0,Tr[Ot]=0;It(Lt,Er,Tr,Pt)}if((je.mode==MPEGMode.STEREO||je.mode==MPEGMode.JOINT_STEREO)&&je.interChRatio>0&&bt(je,je.interChRatio),je.mode==MPEGMode.JOINT_STEREO){var uo;St(Lt),uo=je.msfix,Math.abs(uo)>0&&xt(Lt,uo,je.ATHlower*Lt.ATH.adjust)}for(At(je,Dt,zt,Jt),Pt=0;Pt<Qt;Pt++){var Jn,Yn=0,io,Un;Pt>1?(Jn=Rt,Yn=-2,io=Ae.NORM_TYPE,(zt[0]==Ae.SHORT_TYPE||zt[1]==Ae.SHORT_TYPE)&&(io=Ae.SHORT_TYPE),Un=gt[Ke][Pt-2]):(Jn=Tt,Yn=0,io=zt[Pt],Un=pt[Ke][Pt]),io==Ae.SHORT_TYPE?Jn[Yn+Pt]=lt(Un,Lt.masking_lower):Jn[Yn+Pt]=me(Un,Lt.masking_lower),je.analysis&&(Lt.pinfo.pe[Ke][Pt]=Jn[Yn+Pt])}return 0};function yt(je,Xe,ot,Ke,pt,gt,Tt,Rt){var Mt=je.internal_flags;if(Ke<2)Me.fft_long(Mt,Tt[Rt],Ke,Xe,ot);else if(Ke==2)for(var zt=Ae.BLKSIZE-1;zt>=0;--zt){var Lt=Tt[Rt+0][zt],er=Tt[Rt+1][zt];Tt[Rt+0][zt]=(Lt+er)*fe.SQRT2*.5,Tt[Rt+1][zt]=(Lt-er)*fe.SQRT2*.5}gt[0]=Tt[Rt+0][0],gt[0]*=gt[0];for(var zt=Ae.BLKSIZE/2-1;zt>=0;--zt){var lr=Tt[Rt+0][Ae.BLKSIZE/2-zt],Er=Tt[Rt+0][Ae.BLKSIZE/2+zt];gt[Ae.BLKSIZE/2-zt]=(lr*lr+Er*Er)*.5}{for(var or=0,zt=11;zt<Ae.HBLKSIZE;zt++)or+=gt[zt];Mt.tot_ener[Ke]=or}if(je.analysis){for(var zt=0;zt<Ae.HBLKSIZE;zt++)Mt.pinfo.energy[pt][Ke][zt]=Mt.pinfo.energy_save[Ke][zt],Mt.pinfo.energy_save[Ke][zt]=gt[zt];Mt.pinfo.pe[pt][Ke]=Mt.pe[Ke]}}function wt(je,Xe,ot,Ke,pt,gt,Tt,Rt){var Mt=je.internal_flags;if(pt==0&&Ke<2&&Me.fft_short(Mt,Tt[Rt],Ke,Xe,ot),Ke==2)for(var zt=Ae.BLKSIZE_s-1;zt>=0;--zt){var Lt=Tt[Rt+0][pt][zt],er=Tt[Rt+1][pt][zt];Tt[Rt+0][pt][zt]=(Lt+er)*fe.SQRT2*.5,Tt[Rt+1][pt][zt]=(Lt-er)*fe.SQRT2*.5}gt[pt][0]=Tt[Rt+0][pt][0],gt[pt][0]*=gt[pt][0];for(var zt=Ae.BLKSIZE_s/2-1;zt>=0;--zt){var lr=Tt[Rt+0][pt][Ae.BLKSIZE_s/2-zt],Er=Tt[Rt+0][pt][Ae.BLKSIZE_s/2+zt];gt[pt][Ae.BLKSIZE_s/2-zt]=(lr*lr+Er*Er)*.5}}function Ut(je,Xe,ot,Ke){var pt=je.internal_flags;je.athaa_loudapprox==2&&ot<2&&(pt.loudness_sq[Xe][ot]=pt.loudness_sq_save[ot],pt.loudness_sq_save[ot]=De(Ke,pt))}var Xt=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Ct(je,Xe,ot,Ke,pt,gt,Tt,Rt,Mt,zt){for(var Lt=ye([2,576]),er=je.internal_flags,lr=er.channels_out,Er=je.mode==MPEGMode.JOINT_STEREO?4:lr,or=0;or<lr;or++){firbuf=Xe[or];var Tr=ot+576-350-He+192;_e(Xt.length==(He-1)/2);for(var Jt=0;Jt<576;Jt++){var Dt,Qt;Dt=firbuf[Tr+Jt+10],Qt=0;for(var Pt=0;Pt<(He-1)/2-1;Pt+=2)Dt+=Xt[Pt]*(firbuf[Tr+Jt+Pt]+firbuf[Tr+Jt+He-Pt]),Qt+=Xt[Pt+1]*(firbuf[Tr+Jt+Pt+1]+firbuf[Tr+Jt+He-Pt-1]);Lt[or][Jt]=Dt+Qt}pt[Ke][or].en.assign(er.en[or]),pt[Ke][or].thm.assign(er.thm[or]),Er>2&&(gt[Ke][or].en.assign(er.en[or+2]),gt[Ke][or].thm.assign(er.thm[or+2]))}for(var or=0;or<Er;or++){var Ot=de(12),Bt=de(12),nr=[0,0,0,0],dr=Lt[or&1],sr=0,gr=or==3?er.nsPsy.attackthre_s:er.nsPsy.attackthre,Zt=1;if(or==2)for(var Jt=0,Pt=576;Pt>0;++Jt,--Pt){var rr=Lt[0][Jt],Gt=Lt[1][Jt];Lt[0][Jt]=rr+Gt,Lt[1][Jt]=rr-Gt}for(var Jt=0;Jt<3;Jt++)Bt[Jt]=er.nsPsy.last_en_subshort[or][Jt+6],_e(er.nsPsy.last_en_subshort[or][Jt+4]>0),Ot[Jt]=Bt[Jt]/er.nsPsy.last_en_subshort[or][Jt+4],nr[0]+=Bt[Jt];for(var Jt=0;Jt<9;Jt++){for(var mr=sr+64,yr=1;sr<mr;sr++)yr<Math.abs(dr[sr])&&(yr=Math.abs(dr[sr]));er.nsPsy.last_en_subshort[or][Jt]=Bt[Jt+3]=yr,nr[1+Jt/3]+=yr,yr>Bt[Jt+3-2]?(_e(Bt[Jt+3-2]>0),yr=yr/Bt[Jt+3-2]):Bt[Jt+3-2]>yr*10?(_e(yr>0),yr=Bt[Jt+3-2]/(yr*10)):yr=0,Ot[Jt+3]=yr}for(var Jt=0;Jt<3;++Jt){var Cr=Bt[Jt*3+3]+Bt[Jt*3+4]+Bt[Jt*3+5],Br=1;Bt[Jt*3+5]*6<Cr&&(Br*=.5,Bt[Jt*3+4]*6<Cr&&(Br*=.5)),Rt[or][Jt]=Br}if(je.analysis){for(var Hr=Ot[0],Jt=1;Jt<12;Jt++)Hr<Ot[Jt]&&(Hr=Ot[Jt]);er.pinfo.ers[Ke][or]=er.pinfo.ers_save[or],er.pinfo.ers_save[or]=Hr}for(var Jt=0;Jt<12;Jt++)Mt[or][Jt/3]==0&&Ot[Jt]>gr&&(Mt[or][Jt/3]=Jt%3+1);for(var Jt=1;Jt<4;Jt++){var zr=nr[Jt-1],Wr=nr[Jt],jt=Math.max(zr,Wr);jt<4e4&&zr<1.7*Wr&&Wr<1.7*zr&&(Jt==1&&Mt[or][0]<=Mt[or][Jt]&&(Mt[or][0]=0),Mt[or][Jt]=0)}Mt[or][0]<=er.nsPsy.lastAttacks[or]&&(Mt[or][0]=0),(er.nsPsy.lastAttacks[or]==3||Mt[or][0]+Mt[or][1]+Mt[or][2]+Mt[or][3]!=0)&&(Zt=0,Mt[or][1]!=0&&Mt[or][0]!=0&&(Mt[or][1]=0),Mt[or][2]!=0&&Mt[or][1]!=0&&(Mt[or][2]=0),Mt[or][3]!=0&&Mt[or][2]!=0&&(Mt[or][3]=0)),or<2?zt[or]=Zt:Zt==0&&(zt[0]=zt[1]=0),Tt[or]=er.tot_ener[or]}}function Ht(je,Xe,ot){if(ot==0)for(var Ke=0;Ke<je.npart_s;Ke++)je.nb_s2[Xe][Ke]=je.nb_s1[Xe][Ke],je.nb_s1[Xe][Ke]=0}function Yt(je,Xe){for(var ot=0;ot<je.npart_l;ot++)je.nb_2[Xe][ot]=je.nb_1[Xe][ot],je.nb_1[Xe][ot]=0}function ar(je,Xe,ot,Ke){var pt=Oe.length-1,gt=0,Tt=ot[gt]+ot[gt+1];if(_e(Tt>=0),Tt>0){var Rt=Xe[gt];Rt<Xe[gt+1]&&(Rt=Xe[gt+1]),_e(je.numlines_s[gt]+je.numlines_s[gt+1]-1>0),Tt=20*(Rt*2-Tt)/(Tt*(je.numlines_s[gt]+je.numlines_s[gt+1]-1));var Mt=0|Tt;Mt>pt&&(Mt=pt),Ke[gt]=Mt}else Ke[gt]=0;for(gt=1;gt<je.npart_s-1;gt++)if(Tt=ot[gt-1]+ot[gt]+ot[gt+1],_e(gt+1<je.npart_s),_e(Tt>=0),Tt>0){var Rt=Xe[gt-1];Rt<Xe[gt]&&(Rt=Xe[gt]),Rt<Xe[gt+1]&&(Rt=Xe[gt+1]),_e(je.numlines_s[gt-1]+je.numlines_s[gt]+je.numlines_s[gt+1]-1>0),Tt=20*(Rt*3-Tt)/(Tt*(je.numlines_s[gt-1]+je.numlines_s[gt]+je.numlines_s[gt+1]-1));var Mt=0|Tt;Mt>pt&&(Mt=pt),Ke[gt]=Mt}else Ke[gt]=0;if(_e(gt>0),_e(gt==je.npart_s-1),Tt=ot[gt-1]+ot[gt],_e(Tt>=0),Tt>0){var Rt=Xe[gt-1];Rt<Xe[gt]&&(Rt=Xe[gt]),_e(je.numlines_s[gt-1]+je.numlines_s[gt]-1>0),Tt=20*(Rt*2-Tt)/(Tt*(je.numlines_s[gt-1]+je.numlines_s[gt]-1));var Mt=0|Tt;Mt>pt&&(Mt=pt),Ke[gt]=Mt}else Ke[gt]=0;_e(gt==je.npart_s-1)}function tr(je,Xe,ot,Ke,pt,gt){var Tt=je.internal_flags,Rt=new float[Ae.CBANDS],Mt=de(Ae.CBANDS),zt,Lt,er,lr=new int[Ae.CBANDS];for(er=Lt=0;er<Tt.npart_s;++er){var Er=0,or=0,Tr=Tt.numlines_s[er];for(zt=0;zt<Tr;++zt,++Lt){var Jt=Xe[gt][Lt];Er+=Jt,or<Jt&&(or=Jt)}ot[er]=Er,_e(Er>=0),Rt[er]=or,_e(Tr>0),Mt[er]=Er/Tr,_e(Mt[er]>=0)}for(_e(er==Tt.npart_s),_e(Lt==129);er<Ae.CBANDS;++er)Rt[er]=0,Mt[er]=0;for(ar(Tt,Rt,Mt,lr),Lt=er=0;er<Tt.npart_s;er++){var Dt=Tt.s3ind_s[er][0],Qt=Tt.s3ind_s[er][1],Pt,Ot,Bt,nr,dr;for(Pt=lr[Dt],Ot=1,nr=Tt.s3_ss[Lt]*ot[Dt]*Oe[lr[Dt]],++Lt,++Dt;Dt<=Qt;)Pt+=lr[Dt],Ot+=1,Bt=Tt.s3_ss[Lt]*ot[Dt]*Oe[lr[Dt]],nr=ft(nr,Bt,Dt-er),++Lt,++Dt;Pt=(1+2*Pt)/(2*Ot),dr=Oe[Pt]*.5,nr*=dr,Ke[er]=nr,Tt.nb_s2[pt][er]=Tt.nb_s1[pt][er],Tt.nb_s1[pt][er]=nr,Bt=Rt[er],Bt*=Tt.minval_s[er],Bt*=dr,Ke[er]>Bt&&(Ke[er]=Bt),Tt.masking_lower>1&&(Ke[er]*=Tt.masking_lower),Ke[er]>ot[er]&&(Ke[er]=ot[er]),Tt.masking_lower<1&&(Ke[er]*=Tt.masking_lower),_e(Ke[er]>=0)}for(;er<Ae.CBANDS;++er)ot[er]=0,Ke[er]=0}function vr(je,Xe,ot,Ke,pt){var gt=de(Ae.CBANDS),Tt=de(Ae.CBANDS),Rt=ge(Ae.CBANDS+2),Mt;be(je,Xe,ot,gt,Tt),Ye(je,gt,Tt,Rt);var zt=0;for(Mt=0;Mt<je.npart_l;Mt++){var Lt,er,lr,Er,or=je.s3ind[Mt][0],Tr=je.s3ind[Mt][1],Jt=0,Dt=0;for(Jt=Rt[or],Dt+=1,er=je.s3_ll[zt]*ot[or]*Oe[Rt[or]],++zt,++or;or<=Tr;)Jt+=Rt[or],Dt+=1,Lt=je.s3_ll[zt]*ot[or]*Oe[Rt[or]],Er=ft(er,Lt,or-Mt),er=Er,++zt,++or;if(Jt=(1+2*Jt)/(2*Dt),lr=Oe[Jt]*.5,er*=lr,je.blocktype_old[pt&1]==Ae.SHORT_TYPE){var Qt=Re*je.nb_1[pt][Mt];Qt>0?Ke[Mt]=Math.min(er,Qt):Ke[Mt]=Math.min(er,ot[Mt]*xe)}else{var Pt=ze*je.nb_2[pt][Mt],Ot=Re*je.nb_1[pt][Mt],Qt;Pt<=0&&(Pt=er),Ot<=0&&(Ot=er),je.blocktype_old[pt&1]==Ae.NORM_TYPE?Qt=Math.min(Ot,Pt):Qt=Ot,Ke[Mt]=Math.min(er,Qt)}je.nb_2[pt][Mt]=je.nb_1[pt][Mt],je.nb_1[pt][Mt]=er,Lt=gt[Mt],Lt*=je.minval_l[Mt],Lt*=lr,Ke[Mt]>Lt&&(Ke[Mt]=Lt),je.masking_lower>1&&(Ke[Mt]*=je.masking_lower),Ke[Mt]>ot[Mt]&&(Ke[Mt]=ot[Mt]),je.masking_lower<1&&(Ke[Mt]*=je.masking_lower),_e(Ke[Mt]>=0)}for(;Mt<Ae.CBANDS;++Mt)ot[Mt]=0,Ke[Mt]=0}function ur(je,Xe){var ot=je.internal_flags;je.short_blocks==se.short_block_coupled&&!(Xe[0]!=0&&Xe[1]!=0)&&(Xe[0]=Xe[1]=0);for(var Ke=0;Ke<ot.channels_out;Ke++)je.short_blocks==se.short_block_dispensed&&(Xe[Ke]=1),je.short_blocks==se.short_block_forced&&(Xe[Ke]=0)}function Sr(je,Xe,ot){for(var Ke=je.internal_flags,pt=0;pt<Ke.channels_out;pt++){var gt=Ae.NORM_TYPE;Xe[pt]!=0?(_e(Ke.blocktype_old[pt]!=Ae.START_TYPE),Ke.blocktype_old[pt]==Ae.SHORT_TYPE&&(gt=Ae.STOP_TYPE)):(gt=Ae.SHORT_TYPE,Ke.blocktype_old[pt]==Ae.NORM_TYPE&&(Ke.blocktype_old[pt]=Ae.START_TYPE),Ke.blocktype_old[pt]==Ae.STOP_TYPE&&(Ke.blocktype_old[pt]=Ae.SHORT_TYPE)),ot[pt]=Ke.blocktype_old[pt],Ke.blocktype_old[pt]=gt}}function Ar(je,Xe,ot,Ke,pt,gt,Tt){for(var Rt=gt*2,Mt=gt>0?Math.pow(10,pt):1,zt,Lt,er=0;er<Tt;++er){var lr=je[2][er],Er=je[3][er],or=Xe[0][er],Tr=Xe[1][er],Jt=Xe[2][er],Dt=Xe[3][er];if(or<=1.58*Tr&&Tr<=1.58*or){var Qt=ot[er]*Er,Pt=ot[er]*lr;Lt=Math.max(Jt,Math.min(Dt,Qt)),zt=Math.max(Dt,Math.min(Jt,Pt))}else Lt=Jt,zt=Dt;if(gt>0){var Ot,Bt,nr=Ke[er]*Mt;if(Ot=Math.min(Math.max(or,nr),Math.max(Tr,nr)),Jt=Math.max(Lt,nr),Dt=Math.max(zt,nr),Bt=Jt+Dt,Bt>0&&Ot*Rt<Bt){var dr=Ot*Rt/Bt;Jt*=dr,Dt*=dr,_e(Bt>0)}Lt=Math.min(Jt,Lt),zt=Math.min(Dt,zt)}Lt>lr&&(Lt=lr),zt>Er&&(zt=Er),Xe[2][er]=Lt,Xe[3][er]=zt}}this.L3psycho_anal_vbr=function(je,Xe,ot,Ke,pt,gt,Tt,Rt,Mt,zt){var Lt=je.internal_flags,er,lr,Er=de(Ae.HBLKSIZE),or=ye([3,Ae.HBLKSIZE_s]),Tr=ye([2,Ae.BLKSIZE]),Jt=ye([2,3,Ae.BLKSIZE_s]),Dt=ye([4,Ae.CBANDS]),Qt=ye([4,Ae.CBANDS]),Pt=ye([4,3]),Ot=.6,Bt=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],nr=ge(2),dr=je.mode==MPEGMode.JOINT_STEREO?4:Lt.channels_out;Ct(je,Xe,ot,Ke,pt,gt,Mt,Pt,Bt,nr),ur(je,nr);{for(var sr=0;sr<dr;sr++){var gr=sr&1;er=Tr,yt(je,Xe,ot,sr,Ke,Er,er,gr),Ut(je,Ke,sr,Er),nr[gr]!=0?vr(Lt,Er,Dt[sr],Qt[sr],sr):Yt(Lt,sr)}nr[0]+nr[1]==2&&je.mode==MPEGMode.JOINT_STEREO&&Ar(Dt,Qt,Lt.mld_cb_l,Lt.ATH.cb_l,je.ATHlower*Lt.ATH.adjust,je.msfix,Lt.npart_l);for(var sr=0;sr<dr;sr++){var gr=sr&1;nr[gr]!=0&&It(Lt,Dt[sr],Qt[sr],sr)}}{for(var Zt=0;Zt<3;Zt++){for(var sr=0;sr<dr;++sr){var gr=sr&1;nr[gr]!=0?Ht(Lt,sr,Zt):(lr=Jt,wt(je,Xe,ot,sr,Zt,or,lr,gr),tr(je,or,Dt[sr],Qt[sr],sr,Zt))}nr[0]+nr[1]==0&&je.mode==MPEGMode.JOINT_STEREO&&Ar(Dt,Qt,Lt.mld_cb_s,Lt.ATH.cb_s,je.ATHlower*Lt.ATH.adjust,je.msfix,Lt.npart_s);for(var sr=0;sr<dr;++sr){var gr=sr&1;nr[gr]==0&&$t(Lt,Dt[sr],Qt[sr],sr,Zt)}}for(var sr=0;sr<dr;sr++){var gr=sr&1;if(nr[gr]==0)for(var rr=0;rr<Ae.SBMAX_s;rr++){for(var Gt=de(3),Zt=0;Zt<3;Zt++){var mr=Lt.thm[sr].s[rr][Zt];if(mr*=ae,Bt[sr][Zt]>=2||Bt[sr][Zt+1]==1){var yr=Zt!=0?Zt-1:2,Cr=kt(Lt.thm[sr].s[rr][yr],mr,he*Ot);mr=Math.min(mr,Cr)}else if(Bt[sr][Zt]==1){var yr=Zt!=0?Zt-1:2,Cr=kt(Lt.thm[sr].s[rr][yr],mr,xe*Ot);mr=Math.min(mr,Cr)}else if(Zt!=0&&Bt[sr][Zt-1]==3||Zt==0&&Lt.nsPsy.lastAttacks[sr]==3){var yr=Zt!=2?Zt+1:0,Cr=kt(Lt.thm[sr].s[rr][yr],mr,xe*Ot);mr=Math.min(mr,Cr)}mr*=Pt[sr][Zt],Gt[Zt]=mr}for(var Zt=0;Zt<3;Zt++)Lt.thm[sr].s[rr][Zt]=Gt[Zt]}}}for(var sr=0;sr<dr;sr++)Lt.nsPsy.lastAttacks[sr]=Bt[sr][2];Sr(je,nr,zt);for(var sr=0;sr<dr;sr++){var Br,Hr,zr,Wr;sr>1?(Br=Rt,Hr=-2,zr=Ae.NORM_TYPE,(zt[0]==Ae.SHORT_TYPE||zt[1]==Ae.SHORT_TYPE)&&(zr=Ae.SHORT_TYPE),Wr=gt[Ke][sr-2]):(Br=Tt,Hr=0,zr=zt[sr],Wr=pt[Ke][sr]),zr==Ae.SHORT_TYPE?Br[Hr+sr]=lt(Wr,Lt.masking_lower):Br[Hr+sr]=me(Wr,Lt.masking_lower),je.analysis&&(Lt.pinfo.pe[Ke][sr]=Br[Hr+sr])}return 0};function $r(je,Xe){var ot=je,Ke;return ot>=0?Ke=-ot*27:Ke=ot*Xe,Ke<=-72?0:Math.exp(Ke*Fe)}function kr(je){var Xe=0,ot=0;{var Ke=0,pt,gt;for(Ke=0;$r(Ke,je)>1e-20;Ke-=1);for(pt=Ke,gt=0;Math.abs(gt-pt)>1e-12;)Ke=(gt+pt)/2,$r(Ke,je)>0?gt=Ke:pt=Ke;Xe=pt}{var Ke=0,pt,gt;for(Ke=0;$r(Ke,je)>1e-20;Ke+=1);for(pt=0,gt=Ke;Math.abs(gt-pt)>1e-12;)Ke=(gt+pt)/2,$r(Ke,je)>0?pt=Ke:gt=Ke;ot=gt}{var Tt=0,Rt=1e3,Mt;for(Mt=0;Mt<=Rt;++Mt){var Ke=Xe+Mt*(ot-Xe)/Rt,zt=$r(Ke,je);Tt+=zt}{var Lt=(Rt+1)/(Tt*(ot-Xe));return Lt}}}function ir(je){var Xe,ot,Ke,pt;return Xe=je,Xe>=0?Xe*=3:Xe*=1.5,Xe>=.5&&Xe<=2.5?(pt=Xe-.5,ot=8*(pt*pt-2*pt)):ot=0,Xe+=.474,Ke=15.811389+7.5*Xe-17.5*Math.sqrt(1+Xe*Xe),Ke<=-60?0:(Xe=Math.exp((ot+Ke)*Fe),Xe/=.6609193,Xe)}function pr(je){return je<0&&(je=0),je=je*.001,13*Math.atan(.76*je)+3.5*Math.atan(je*je/56.25)}function Ir(je,Xe,ot,Ke,pt,gt,Tt,Rt,Mt,zt,Lt,er){var lr=de(Ae.CBANDS+1),Er=Rt/(er>15?2*576:2*192),or=ge(Ae.HBLKSIZE),Tr;Rt/=Mt;var Jt=0,Dt=0;for(Tr=0;Tr<Ae.CBANDS;Tr++){var Qt,Pt;for(Qt=pr(Rt*Jt),lr[Tr]=Rt*Jt,Pt=Jt;pr(Rt*Pt)-Qt<Pe&&Pt<=Mt/2;Pt++);for(je[Tr]=Pt-Jt,Dt=Tr+1;Jt<Pt;)_e(Jt<Ae.HBLKSIZE),or[Jt++]=Tr;if(Jt>Mt/2){Jt=Mt/2,++Tr;break}}_e(Tr<Ae.CBANDS),lr[Tr]=Rt*Jt;for(var Ot=0;Ot<er;Ot++){var Bt,nr,dr,sr,gr;dr=zt[Ot],sr=zt[Ot+1],Bt=0|Math.floor(.5+Lt*(dr-.5)),Bt<0&&(Bt=0),nr=0|Math.floor(.5+Lt*(sr-.5)),nr>Mt/2&&(nr=Mt/2),ot[Ot]=(or[Bt]+or[nr])/2,Xe[Ot]=or[nr];var Zt=Er*sr;Tt[Ot]=(Zt-lr[Xe[Ot]])/(lr[Xe[Ot]+1]-lr[Xe[Ot]]),Tt[Ot]<0?Tt[Ot]=0:Tt[Ot]>1&&(Tt[Ot]=1),gr=pr(Rt*zt[Ot]*Lt),gr=Math.min(gr,15.5)/15.5,gt[Ot]=Math.pow(10,1.25*(1-Math.cos(Math.PI*gr))-2.5)}Jt=0;for(var rr=0;rr<Dt;rr++){var Gt=je[rr],Qt,mr;Qt=pr(Rt*Jt),mr=pr(Rt*(Jt+Gt-1)),Ke[rr]=.5*(Qt+mr),Qt=pr(Rt*(Jt-.5)),mr=pr(Rt*(Jt+Gt-.5)),pt[rr]=mr-Qt,Jt+=Gt}return Dt}function Pr(je,Xe,ot,Ke,pt,gt){var Tt=ye([Ae.CBANDS,Ae.CBANDS]),Rt,Mt=0;if(gt)for(var zt=0;zt<Xe;zt++)for(Rt=0;Rt<Xe;Rt++){var Lt=ir(ot[zt]-ot[Rt])*Ke[Rt];Tt[zt][Rt]=Lt*pt[zt]}else for(Rt=0;Rt<Xe;Rt++)for(var er=15+Math.min(21/ot[Rt],12),lr=kr(er),zt=0;zt<Xe;zt++){var Lt=lr*$r(ot[zt]-ot[Rt],er)*Ke[Rt];Tt[zt][Rt]=Lt*pt[zt]}for(var zt=0;zt<Xe;zt++){for(Rt=0;Rt<Xe&&!(Tt[zt][Rt]>0);Rt++);for(je[zt][0]=Rt,Rt=Xe-1;Rt>0&&!(Tt[zt][Rt]>0);Rt--);je[zt][1]=Rt,Mt+=je[zt][1]-je[zt][0]+1}for(var Er=de(Mt),or=0,zt=0;zt<Xe;zt++)for(Rt=je[zt][0];Rt<=je[zt][1];Rt++)Er[or++]=Tt[zt][Rt];return Er}function Rr(je){var Xe=pr(je);return Xe=Math.min(Xe,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*Xe))-2.5)}this.psymodel_init=function(je){var Xe=je.internal_flags,ot,Ke=!0,pt=13,gt=24,Tt=0,Rt=0,Mt=-8.25,zt=-4.5,Lt=de(Ae.CBANDS),er=de(Ae.CBANDS),lr=de(Ae.CBANDS),Er=je.out_samplerate;switch(je.experimentalZ){default:case 0:Ke=!0;break;case 1:Ke=!(je.VBR==ne.vbr_mtrh||je.VBR==ne.vbr_mt);break;case 2:Ke=!1;break;case 3:pt=8,Tt=-1.75,Rt=-.0125,Mt=-8.25,zt=-2.25;break}for(Xe.ms_ener_ratio_old=.25,Xe.blocktype_old[0]=Xe.blocktype_old[1]=Ae.NORM_TYPE,ot=0;ot<4;++ot){for(var Jt=0;Jt<Ae.CBANDS;++Jt)Xe.nb_1[ot][Jt]=1e20,Xe.nb_2[ot][Jt]=1e20,Xe.nb_s1[ot][Jt]=Xe.nb_s2[ot][Jt]=1;for(var or=0;or<Ae.SBMAX_l;or++)Xe.en[ot].l[or]=1e20,Xe.thm[ot].l[or]=1e20;for(var Jt=0;Jt<3;++Jt){for(var or=0;or<Ae.SBMAX_s;or++)Xe.en[ot].s[or][Jt]=1e20,Xe.thm[ot].s[or][Jt]=1e20;Xe.nsPsy.lastAttacks[ot]=0}for(var Jt=0;Jt<9;Jt++)Xe.nsPsy.last_en_subshort[ot][Jt]=10}for(Xe.loudness_sq_save[0]=Xe.loudness_sq_save[1]=0,Xe.npart_l=Ir(Xe.numlines_l,Xe.bo_l,Xe.bm_l,Lt,er,Xe.mld_l,Xe.PSY.bo_l_weight,Er,Ae.BLKSIZE,Xe.scalefac_band.l,Ae.BLKSIZE/1152,Ae.SBMAX_l),_e(Xe.npart_l<Ae.CBANDS),ot=0;ot<Xe.npart_l;ot++){var Tr=Tt;Lt[ot]>=pt&&(Tr=Rt*(Lt[ot]-pt)/(gt-pt)+Tt*(gt-Lt[ot])/(gt-pt)),lr[ot]=Math.pow(10,Tr/10),Xe.numlines_l[ot]>0?Xe.rnumlines_l[ot]=1/Xe.numlines_l[ot]:Xe.rnumlines_l[ot]=0}Xe.s3_ll=Pr(Xe.s3ind,Xe.npart_l,Lt,er,lr,Ke);var Jt=0;for(ot=0;ot<Xe.npart_l;ot++){var Dt;Dt=ie.MAX_VALUE;for(var Qt=0;Qt<Xe.numlines_l[ot];Qt++,Jt++){var Pt=Er*Jt/(1e3*Ae.BLKSIZE),Ot;Ot=this.ATHformula(Pt*1e3,je)-20,Ot=Math.pow(10,.1*Ot),Ot*=Xe.numlines_l[ot],Dt>Ot&&(Dt=Ot)}Xe.ATH.cb_l[ot]=Dt,Dt=-20+Lt[ot]*20/10,Dt>6&&(Dt=100),Dt<-15&&(Dt=-15),Dt-=8,Xe.minval_l[ot]=Math.pow(10,Dt/10)*Xe.numlines_l[ot]}for(Xe.npart_s=Ir(Xe.numlines_s,Xe.bo_s,Xe.bm_s,Lt,er,Xe.mld_s,Xe.PSY.bo_s_weight,Er,Ae.BLKSIZE_s,Xe.scalefac_band.s,Ae.BLKSIZE_s/384,Ae.SBMAX_s),_e(Xe.npart_s<Ae.CBANDS),Jt=0,ot=0;ot<Xe.npart_s;ot++){var Dt,Tr=Mt;Lt[ot]>=pt&&(Tr=zt*(Lt[ot]-pt)/(gt-pt)+Mt*(gt-Lt[ot])/(gt-pt)),lr[ot]=Math.pow(10,Tr/10),Dt=ie.MAX_VALUE;for(var Qt=0;Qt<Xe.numlines_s[ot];Qt++,Jt++){var Pt=Er*Jt/(1e3*Ae.BLKSIZE_s),Ot;Ot=this.ATHformula(Pt*1e3,je)-20,Ot=Math.pow(10,.1*Ot),Ot*=Xe.numlines_s[ot],Dt>Ot&&(Dt=Ot)}Xe.ATH.cb_s[ot]=Dt,Dt=-7+Lt[ot]*7/12,Lt[ot]>12&&(Dt*=1+Math.log(1+Dt)*3.1),Lt[ot]<12&&(Dt*=1+Math.log(1-Dt)*2.3),Dt<-15&&(Dt=-15),Dt-=8,Xe.minval_s[ot]=Math.pow(10,Dt/10)*Xe.numlines_s[ot]}Xe.s3_ss=Pr(Xe.s3ind_s,Xe.npart_s,Lt,er,lr,Ke),Ve(),Me.init_fft(Xe),Xe.decay=Math.exp(-1*ke/(le*Er/192));{var Bt;Bt=$e,(je.exp_nspsytune&2)!=0&&(Bt=1),Math.abs(je.msfix)>0&&(Bt=je.msfix),je.msfix=Bt;for(var nr=0;nr<Xe.npart_l;nr++)Xe.s3ind[nr][1]>Xe.npart_l-1&&(Xe.s3ind[nr][1]=Xe.npart_l-1)}var dr=576*Xe.mode_gr/Er;if(Xe.ATH.decay=Math.pow(10,-1.2*dr),Xe.ATH.adjust=.01,Xe.ATH.adjustLimit=1,_e(Xe.bo_l[Ae.SBMAX_l-1]<=Xe.npart_l),_e(Xe.bo_s[Ae.SBMAX_s-1]<=Xe.npart_s),je.ATHtype!=-1){var Pt,sr=je.out_samplerate/Ae.BLKSIZE,gr=0;for(Pt=0,ot=0;ot<Ae.BLKSIZE/2;++ot)Pt+=sr,Xe.ATH.eql_w[ot]=1/Math.pow(10,this.ATHformula(Pt,je)/10),gr+=Xe.ATH.eql_w[ot];for(gr=1/gr,ot=Ae.BLKSIZE/2;--ot>=0;)Xe.ATH.eql_w[ot]*=gr}{for(var nr=Jt=0;nr<Xe.npart_s;++nr)for(ot=0;ot<Xe.numlines_s[nr];++ot)++Jt;_e(Jt==129);for(var nr=Jt=0;nr<Xe.npart_l;++nr)for(ot=0;ot<Xe.numlines_l[nr];++ot)++Jt;_e(Jt==513)}for(Jt=0,ot=0;ot<Xe.npart_l;ot++){var Pt=Er*(Jt+Xe.numlines_l[ot]/2)/(1*Ae.BLKSIZE);Xe.mld_cb_l[ot]=Rr(Pt),Jt+=Xe.numlines_l[ot]}for(;ot<Ae.CBANDS;++ot)Xe.mld_cb_l[ot]=1;for(Jt=0,ot=0;ot<Xe.npart_s;ot++){var Pt=Er*(Jt+Xe.numlines_s[ot]/2)/(1*Ae.BLKSIZE_s);Xe.mld_cb_s[ot]=Rr(Pt),Jt+=Xe.numlines_s[ot]}for(;ot<Ae.CBANDS;++ot)Xe.mld_cb_s[ot]=1;return 0};function Ft(je,Xe){je<-.3&&(je=3410),je/=1e3,je=Math.max(.1,je);var ot=3.64*Math.pow(je,-.8)-6.8*Math.exp(-.6*Math.pow(je-3.4,2))+6*Math.exp(-.15*Math.pow(je-8.7,2))+(.6+.04*Xe)*.001*Math.pow(je,4);return ot}this.ATHformula=function(je,Xe){var ot;switch(Xe.ATHtype){case 0:ot=Ft(je,9);break;case 1:ot=Ft(je,-1);break;case 2:ot=Ft(je,0);break;case 3:ot=Ft(je,1)+6;break;case 4:ot=Ft(je,Xe.ATHcurve);break;default:ot=Ft(je,0);break}return ot}}ee.exports=we},9833:(ee,te,b)=>{var re=b(935),ne=re.System,ie=re.VbrMode;re.Float,re.ShortBlock;var se=re.Util,fe=re.Arrays;re.new_array_n,re.new_byte,re.new_double;var ce=re.new_float;re.new_float_n,re.new_int,re.new_int_n;var de=re.assert,ye=b(7095),ge=b(2711),_e=b(3449),Ee=b(687),Ae=b(9438),we=b(354);function Me(){var ke;this.rv=null;var Re;this.qupvt=null;var ze,Je=new ye,et;this.setModules=function(Le,Be,Ce,Ze){ke=Le,Re=Be,this.rv=Be,ze=Ce,this.qupvt=Ce,et=Ze,Je.setModules(ze,et)},this.ms_convert=function(Le,Be){for(var Ce=0;Ce<576;++Ce){var Ze=Le.tt[Be][0].xr[Ce],it=Le.tt[Be][1].xr[Ce];Le.tt[Be][0].xr[Ce]=(Ze+it)*(se.SQRT2*.5),Le.tt[Be][1].xr[Ce]=(Ze-it)*(se.SQRT2*.5)}};function Pe(Le,Be,Ce,Ze){Ze=0;for(var it=0;it<=Ce;++it){var rt=Math.abs(Le.xr[it]);Ze+=rt,Be[it]=Math.sqrt(rt*Math.sqrt(rt)),Be[it]>Le.xrpow_max&&(Le.xrpow_max=Be[it])}return Ze}this.init_xrpow=function(Le,Be,Ce){var Ze=0,it=0|Be.max_nonzero_coeff;if(de(Ce!=null),Be.xrpow_max=0,de(0<=it&&it<=575),fe.fill(Ce,it,576,0),Ze=Pe(Be,Ce,it,Ze),Ze>1e-20){var rt=0;(Le.substep_shaping&2)!=0&&(rt=1);for(var Oe=0;Oe<Be.psymax;Oe++)Le.pseudohalf[Oe]=rt;return!0}return fe.fill(Be.l3_enc,0,576,0),!1};function ve(Le,Be){var Ce=Le.ATH,Ze=Be.xr;if(Be.block_type!=Ee.SHORT_TYPE)for(var it=!1,rt=Ee.PSFB21-1;rt>=0&&!it;rt--){var Oe=Le.scalefac_band.psfb21[rt],Ve=Le.scalefac_band.psfb21[rt+1],We=ze.athAdjust(Ce.adjust,Ce.psfb21[rt],Ce.floor);Le.nsPsy.longfact[21]>1e-12&&(We*=Le.nsPsy.longfact[21]);for(var qe=Ve-1;qe>=Oe;qe--)if(Math.abs(Ze[qe])<We)Ze[qe]=0;else{it=!0;break}}else for(var Ge=0;Ge<3;Ge++)for(var it=!1,rt=Ee.PSFB12-1;rt>=0&&!it;rt--){var Oe=Le.scalefac_band.s[12]*3+(Le.scalefac_band.s[13]-Le.scalefac_band.s[12])*Ge+(Le.scalefac_band.psfb12[rt]-Le.scalefac_band.psfb12[0]),Ve=Oe+(Le.scalefac_band.psfb12[rt+1]-Le.scalefac_band.psfb12[rt]),Qe=ze.athAdjust(Ce.adjust,Ce.psfb12[rt],Ce.floor);Le.nsPsy.shortfact[12]>1e-12&&(Qe*=Le.nsPsy.shortfact[12]);for(var qe=Ve-1;qe>=Oe;qe--)if(Math.abs(Ze[qe])<Qe)Ze[qe]=0;else{it=!0;break}}}this.init_outer_loop=function(Le,Be){Be.part2_3_length=0,Be.big_values=0,Be.count1=0,Be.global_gain=210,Be.scalefac_compress=0,Be.table_select[0]=0,Be.table_select[1]=0,Be.table_select[2]=0,Be.subblock_gain[0]=0,Be.subblock_gain[1]=0,Be.subblock_gain[2]=0,Be.subblock_gain[3]=0,Be.region0_count=0,Be.region1_count=0,Be.preflag=0,Be.scalefac_scale=0,Be.count1table_select=0,Be.part2_length=0,Be.sfb_lmax=Ee.SBPSY_l,Be.sfb_smin=Ee.SBPSY_s,Be.psy_lmax=Le.sfb21_extra?Ee.SBMAX_l:Ee.SBPSY_l,Be.psymax=Be.psy_lmax,Be.sfbmax=Be.sfb_lmax,Be.sfbdivide=11;for(var Ce=0;Ce<Ee.SBMAX_l;Ce++)Be.width[Ce]=Le.scalefac_band.l[Ce+1]-Le.scalefac_band.l[Ce],Be.window[Ce]=3;if(Be.block_type==Ee.SHORT_TYPE){var Ze=ce(576);Be.sfb_smin=0,Be.sfb_lmax=0,Be.mixed_block_flag!=0&&(Be.sfb_smin=3,Be.sfb_lmax=Le.mode_gr*2+4),Be.psymax=Be.sfb_lmax+3*((Le.sfb21_extra?Ee.SBMAX_s:Ee.SBPSY_s)-Be.sfb_smin),Be.sfbmax=Be.sfb_lmax+3*(Ee.SBPSY_s-Be.sfb_smin),Be.sfbdivide=Be.sfbmax-18,Be.psy_lmax=Be.sfb_lmax;var it=Le.scalefac_band.l[Be.sfb_lmax];ne.arraycopy(Be.xr,0,Ze,0,576);for(var Ce=Be.sfb_smin;Ce<Ee.SBMAX_s;Ce++)for(var rt=Le.scalefac_band.s[Ce],Oe=Le.scalefac_band.s[Ce+1],Ve=0;Ve<3;Ve++)for(var We=rt;We<Oe;We++)Be.xr[it++]=Ze[3*We+Ve];for(var qe=Be.sfb_lmax,Ce=Be.sfb_smin;Ce<Ee.SBMAX_s;Ce++)Be.width[qe]=Be.width[qe+1]=Be.width[qe+2]=Le.scalefac_band.s[Ce+1]-Le.scalefac_band.s[Ce],Be.window[qe]=0,Be.window[qe+1]=1,Be.window[qe+2]=2,qe+=3}Be.count1bits=0,Be.sfb_partition_table=ze.nr_of_sfb_block[0][0],Be.slen[0]=0,Be.slen[1]=0,Be.slen[2]=0,Be.slen[3]=0,Be.max_nonzero_coeff=575,fe.fill(Be.scalefac,0),ve(Le,Be)};function le(Le){this.ordinal=Le}le.BINSEARCH_NONE=new le(0),le.BINSEARCH_UP=new le(1),le.BINSEARCH_DOWN=new le(2);function ae(Le,Be,Ce,Ze,it){var rt,Oe=Le.CurrentStep[Ze],Ve=!1,We=Le.OldValue[Ze],qe=le.BINSEARCH_NONE;for(Be.global_gain=We,Ce-=Be.part2_length,de(Oe!=0);;){var Ge;if(rt=et.count_bits(Le,it,Be,null),Oe==1||rt==Ce)break;rt>Ce?(qe==le.BINSEARCH_DOWN&&(Ve=!0),Ve&&(Oe/=2),qe=le.BINSEARCH_UP,Ge=Oe):(qe==le.BINSEARCH_UP&&(Ve=!0),Ve&&(Oe/=2),qe=le.BINSEARCH_DOWN,Ge=-Oe),Be.global_gain+=Ge,Be.global_gain<0&&(Be.global_gain=0,Ve=!0),Be.global_gain>255&&(Be.global_gain=255,Ve=!0)}for(de(Be.global_gain>=0),de(Be.global_gain<256);rt>Ce&&Be.global_gain<255;)Be.global_gain++,rt=et.count_bits(Le,it,Be,null);return Le.CurrentStep[Ze]=We-Be.global_gain>=4?4:2,Le.OldValue[Ze]=Be.global_gain,Be.part2_3_length=rt,rt}this.trancate_smallspectrums=function(Le,Be,Ce,Ze){var it=ce(we.SFBMAX);if(!((Le.substep_shaping&4)==0&&Be.block_type==Ee.SHORT_TYPE||(Le.substep_shaping&128)!=0)){ze.calc_noise(Be,Ce,it,new ge,null);for(var Oe=0;Oe<576;Oe++){var rt=0;Be.l3_enc[Oe]!=0&&(rt=Math.abs(Be.xr[Oe])),Ze[Oe]=rt}var Oe=0,Ve=8;Be.block_type==Ee.SHORT_TYPE&&(Ve=6);do{var We,qe,Ge,Qe,ct=Be.width[Ve];if(Oe+=ct,!(it[Ve]>=1)&&(fe.sort(Ze,Oe-ct,ct),!BitStream.EQ(Ze[Oe-1],0))){We=(1-it[Ve])*Ce[Ve],qe=0,Qe=0;do{var ft;for(Ge=1;Qe+Ge<ct&&!BitStream.NEQ(Ze[Qe+Oe-ct],Ze[Qe+Oe+Ge-ct]);Ge++);if(ft=Ze[Qe+Oe-ct]*Ze[Qe+Oe-ct]*Ge,We<ft){Qe!=0&&(qe=Ze[Qe+Oe-ct-1]);break}We-=ft,Qe+=Ge}while(Qe<ct);if(!BitStream.EQ(qe,0))do Math.abs(Be.xr[Oe-ct])<=qe&&(Be.l3_enc[Oe-ct]=0);while(--ct>0)}}while(++Ve<Be.psymax);Be.part2_3_length=et.noquant_count_bits(Le,Be,null)}};function he(Le){for(var Be=0;Be<Le.sfbmax;Be++)if(Le.scalefac[Be]+Le.subblock_gain[Le.window[Be]]==0)return!1;return!0}function xe(Le){return se.FAST_LOG10(.368+.632*Le*Le*Le)}function $e(Le,Be){for(var Ce=1e-37,Ze=0;Ze<Be.psymax;Ze++)Ce+=xe(Le[Ze]);return Math.max(1e-20,Ce)}function He(Le,Be,Ce,Ze,it){var rt;switch(Le){default:case 9:{Be.over_count>0?(rt=Ce.over_SSD<=Be.over_SSD,Ce.over_SSD==Be.over_SSD&&(rt=Ce.bits<Be.bits)):rt=Ce.max_noise<0&&Ce.max_noise*10+Ce.bits<=Be.max_noise*10+Be.bits;break}case 0:rt=Ce.over_count<Be.over_count||Ce.over_count==Be.over_count&&Ce.over_noise<Be.over_noise||Ce.over_count==Be.over_count&&BitStream.EQ(Ce.over_noise,Be.over_noise)&&Ce.tot_noise<Be.tot_noise;break;case 8:Ce.max_noise=$e(it,Ze);case 1:rt=Ce.max_noise<Be.max_noise;break;case 2:rt=Ce.tot_noise<Be.tot_noise;break;case 3:rt=Ce.tot_noise<Be.tot_noise&&Ce.max_noise<Be.max_noise;break;case 4:rt=Ce.max_noise<=0&&Be.max_noise>.2||Ce.max_noise<=0&&Be.max_noise<0&&Be.max_noise>Ce.max_noise-.2&&Ce.tot_noise<Be.tot_noise||Ce.max_noise<=0&&Be.max_noise>0&&Be.max_noise>Ce.max_noise-.2&&Ce.tot_noise<Be.tot_noise+Be.over_noise||Ce.max_noise>0&&Be.max_noise>-.05&&Be.max_noise>Ce.max_noise-.1&&Ce.tot_noise+Ce.over_noise<Be.tot_noise+Be.over_noise||Ce.max_noise>0&&Be.max_noise>-.1&&Be.max_noise>Ce.max_noise-.15&&Ce.tot_noise+Ce.over_noise+Ce.over_noise<Be.tot_noise+Be.over_noise+Be.over_noise;break;case 5:rt=Ce.over_noise<Be.over_noise||BitStream.EQ(Ce.over_noise,Be.over_noise)&&Ce.tot_noise<Be.tot_noise;break;case 6:rt=Ce.over_noise<Be.over_noise||BitStream.EQ(Ce.over_noise,Be.over_noise)&&(Ce.max_noise<Be.max_noise||BitStream.EQ(Ce.max_noise,Be.max_noise)&&Ce.tot_noise<=Be.tot_noise);break;case 7:rt=Ce.over_count<Be.over_count||Ce.over_noise<Be.over_noise;break}return Be.over_count==0&&(rt=rt&&Ce.bits<Be.bits),rt}function Fe(Le,Be,Ce,Ze,it){var rt=Le.internal_flags,Oe;Be.scalefac_scale==0?Oe=1.2968395546510096:Oe=1.6817928305074292;for(var Ve=0,We=0;We<Be.sfbmax;We++)Ve<Ce[We]&&(Ve=Ce[We]);var qe=rt.noise_shaping_amp;switch(qe==3&&(it?qe=2:qe=1),qe){case 2:break;case 1:Ve>1?Ve=Math.pow(Ve,.5):Ve*=.95;break;case 0:default:Ve>1?Ve=1:Ve*=.95;break}for(var Ge=0,We=0;We<Be.sfbmax;We++){var Qe=Be.width[We],ct;if(Ge+=Qe,!(Ce[We]<Ve)){if((rt.substep_shaping&2)!=0&&(rt.pseudohalf[We]=rt.pseudohalf[We]==0?1:0,rt.pseudohalf[We]==0&&rt.noise_shaping_amp==2))return;for(Be.scalefac[We]++,ct=-Qe;ct<0;ct++)Ze[Ge+ct]*=Oe,Ze[Ge+ct]>Be.xrpow_max&&(Be.xrpow_max=Ze[Ge+ct]);if(rt.noise_shaping_amp==2)return}}}function Ne(Le,Be){for(var Ce=1.2968395546510096,Ze=0,it=0;it<Le.sfbmax;it++){var rt=Le.width[it],Oe=Le.scalefac[it];if(Le.preflag!=0&&(Oe+=ze.pretab[it]),Ze+=rt,(Oe&1)!=0){Oe++;for(var Ve=-rt;Ve<0;Ve++)Be[Ze+Ve]*=Ce,Be[Ze+Ve]>Le.xrpow_max&&(Le.xrpow_max=Be[Ze+Ve])}Le.scalefac[it]=Oe>>1}Le.preflag=0,Le.scalefac_scale=1}function De(Le,Be,Ce){var Ze,it=Be.scalefac;for(Ze=0;Ze<Be.sfb_lmax;Ze++)if(it[Ze]>=16)return!0;for(var rt=0;rt<3;rt++){var Oe=0,Ve=0;for(Ze=Be.sfb_lmax+rt;Ze<Be.sfbdivide;Ze+=3)Oe<it[Ze]&&(Oe=it[Ze]);for(;Ze<Be.sfbmax;Ze+=3)Ve<it[Ze]&&(Ve=it[Ze]);if(!(Oe<16&&Ve<8)){if(Be.subblock_gain[rt]>=7)return!0;Be.subblock_gain[rt]++;var We=Le.scalefac_band.l[Be.sfb_lmax];for(Ze=Be.sfb_lmax+rt;Ze<Be.sfbmax;Ze+=3){var qe,Ge=Be.width[Ze],Qe=it[Ze];if(de(Qe>=0),Qe=Qe-(4>>Be.scalefac_scale),Qe>=0){it[Ze]=Qe,We+=Ge*3;continue}it[Ze]=0;{var ct=210+(Qe<<Be.scalefac_scale+1);qe=ze.IPOW20(ct)}We+=Ge*(rt+1);for(var ft=-Ge;ft<0;ft++)Ce[We+ft]*=qe,Ce[We+ft]>Be.xrpow_max&&(Be.xrpow_max=Ce[We+ft]);We+=Ge*(3-rt-1)}{var qe=ze.IPOW20(202);We+=Be.width[Ze]*(rt+1);for(var ft=-Be.width[Ze];ft<0;ft++)Ce[We+ft]*=qe,Ce[We+ft]>Be.xrpow_max&&(Be.xrpow_max=Ce[We+ft])}}}return!1}function pe(Le,Be,Ce,Ze,it){var rt=Le.internal_flags;Fe(Le,Be,Ce,Ze,it);var Oe=he(Be);return Oe?!1:(rt.mode_gr==2?Oe=et.scale_bitcount(Be):Oe=et.scale_bitcount_lsf(rt,Be),Oe?(rt.noise_shaping>1&&(fe.fill(rt.pseudohalf,0),Be.scalefac_scale==0?(Ne(Be,Ze),Oe=!1):Be.block_type==Ee.SHORT_TYPE&&rt.subblock_gain>0&&(Oe=De(rt,Be,Ze)||he(Be))),Oe||(rt.mode_gr==2?Oe=et.scale_bitcount(Be):Oe=et.scale_bitcount_lsf(rt,Be)),!Oe):!0)}this.outer_loop=function(Le,Be,Ce,Ze,it,rt){var Oe=Le.internal_flags,Ve=new Ae,We=ce(576),qe=ce(we.SFBMAX),Ge=new ge,Qe,ct=new _e,ft=9999999,bt=!1,St=!1,xt=0;if(ae(Oe,Be,rt,it,Ze),Oe.noise_shaping==0)return 100;ze.calc_noise(Be,Ce,qe,Ge,ct),Ge.bits=Be.part2_3_length,Ve.assign(Be);var $t=0;for(ne.arraycopy(Ze,0,We,0,576);!bt;){do{var It=new ge,Et,At=255;if((Oe.substep_shaping&2)!=0?Et=20:Et=3,Oe.sfb21_extra&&(qe[Ve.sfbmax]>1||Ve.block_type==Ee.SHORT_TYPE&&(qe[Ve.sfbmax+1]>1||qe[Ve.sfbmax+2]>1))||!pe(Le,Ve,qe,Ze,St))break;Ve.scalefac_scale!=0&&(At=254);var kt=rt-Ve.part2_length;if(kt<=0)break;for(;(Ve.part2_3_length=et.count_bits(Oe,Ze,Ve,ct))>kt&&Ve.global_gain<=At;)Ve.global_gain++;if(Ve.global_gain>At)break;if(Ge.over_count==0){for(;(Ve.part2_3_length=et.count_bits(Oe,Ze,Ve,ct))>ft&&Ve.global_gain<=At;)Ve.global_gain++;if(Ve.global_gain>At)break}if(ze.calc_noise(Ve,Ce,qe,It,ct),It.bits=Ve.part2_3_length,Be.block_type!=Ee.SHORT_TYPE?Qe=Le.quant_comp:Qe=Le.quant_comp_short,Qe=He(Qe,Ge,It,Ve,qe)?1:0,Qe!=0)ft=Be.part2_3_length,Ge=It,Be.assign(Ve),$t=0,ne.arraycopy(Ze,0,We,0,576);else if(Oe.full_outer_loop==0&&(++$t>Et&&Ge.over_count==0||Oe.noise_shaping_amp==3&&St&&$t>30||Oe.noise_shaping_amp==3&&St&&Ve.global_gain-xt>15))break}while(Ve.global_gain+Ve.scalefac_scale<255);Oe.noise_shaping_amp==3?St?bt=!0:(Ve.assign(Be),ne.arraycopy(We,0,Ze,0,576),$t=0,xt=Ve.global_gain,St=!0):bt=!0}return de(Be.global_gain+Be.scalefac_scale<=255),Le.VBR==ie.vbr_rh||Le.VBR==ie.vbr_mtrh?ne.arraycopy(We,0,Ze,0,576):(Oe.substep_shaping&1)!=0&&trancate_smallspectrums(Oe,Be,Ce,Ze),Ge.over_count},this.iteration_finish_one=function(Le,Be,Ce){var Ze=Le.l3_side,it=Ze.tt[Be][Ce];et.best_scalefac_store(Le,Be,Ce,Ze),Le.use_best_huffman==1&&et.best_huffman_divide(Le,it),Re.ResvAdjust(Le,it)},this.VBR_encode_granule=function(Le,Be,Ce,Ze,it,rt,Oe){var Ve=Le.internal_flags,We=new Ae,qe=ce(576),Ge=Oe,Qe=Oe+1,ct=(Oe+rt)/2,ft,bt,St=0,xt=Ve.sfb21_extra;de(Ge<=LameInternalFlags.MAX_BITS_PER_CHANNEL),fe.fill(We.l3_enc,0);do de(ct>=rt),de(ct<=Oe),de(rt<=Oe),ct>Ge-42?Ve.sfb21_extra=!1:Ve.sfb21_extra=xt,bt=outer_loop(Le,Be,Ce,Ze,it,ct),bt<=0?(St=1,Qe=Be.part2_3_length,We.assign(Be),ne.arraycopy(Ze,0,qe,0,576),Oe=Qe-32,ft=Oe-rt,ct=(Oe+rt)/2):(rt=ct+32,ft=Oe-rt,ct=(Oe+rt)/2,St!=0&&(St=2,Be.assign(We),ne.arraycopy(qe,0,Ze,0,576)));while(ft>12);Ve.sfb21_extra=xt,St==2&&ne.arraycopy(We.l3_enc,0,Be.l3_enc,0,576),de(Be.part2_3_length<=Ge)},this.get_framebits=function(Le,Be){var Ce=Le.internal_flags;Ce.bitrate_index=Ce.VBR_min_bitrate;var Ze=ke.getframebits(Le);Ce.bitrate_index=1,Ze=ke.getframebits(Le);for(var it=1;it<=Ce.VBR_max_bitrate;it++){Ce.bitrate_index=it;var rt=new MeanBits(Ze);Be[it]=Re.ResvFrameBegin(Le,rt),Ze=rt.bits}},this.VBR_old_prepare=function(Le,Be,Ce,Ze,it,rt,Oe,Ve,We){var qe=Le.internal_flags,Ge,Qe=0,ct=1,ft=0;qe.bitrate_index=qe.VBR_max_bitrate;var bt=Re.ResvFrameBegin(Le,new MeanBits(0))/qe.mode_gr;get_framebits(Le,rt);for(var St=0;St<qe.mode_gr;St++){var xt=ze.on_pe(Le,Be,Ve[St],bt,St,0);qe.mode_ext==Ee.MPG_MD_MS_LR&&(ms_convert(qe.l3_side,St),ze.reduce_side(Ve[St],Ce[St],bt,xt));for(var $t=0;$t<qe.channels_out;++$t){var It=qe.l3_side.tt[St][$t];It.block_type!=Ee.SHORT_TYPE?(Qe=1.28/(1+Math.exp(3.5-Be[St][$t]/300))-.05,Ge=qe.PSY.mask_adjust-Qe):(Qe=2.56/(1+Math.exp(3.5-Be[St][$t]/300))-.14,Ge=qe.PSY.mask_adjust_short-Qe),qe.masking_lower=Math.pow(10,Ge*.1),init_outer_loop(qe,It),We[St][$t]=ze.calc_xmin(Le,Ze[St][$t],It,it[St][$t]),We[St][$t]!=0&&(ct=0),Oe[St][$t]=126,ft+=Ve[St][$t]}}for(var St=0;St<qe.mode_gr;St++)for(var $t=0;$t<qe.channels_out;$t++)ft>rt[qe.VBR_max_bitrate]&&(Ve[St][$t]*=rt[qe.VBR_max_bitrate],Ve[St][$t]/=ft),Oe[St][$t]>Ve[St][$t]&&(Oe[St][$t]=Ve[St][$t]);return ct},this.bitpressure_strategy=function(Le,Be,Ce,Ze){for(var it=0;it<Le.mode_gr;it++)for(var rt=0;rt<Le.channels_out;rt++){for(var Oe=Le.l3_side.tt[it][rt],Ve=Be[it][rt],We=0,qe=0;qe<Oe.psy_lmax;qe++)Ve[We++]*=1+.029*qe*qe/Ee.SBMAX_l/Ee.SBMAX_l;if(Oe.block_type==Ee.SHORT_TYPE)for(var qe=Oe.sfb_smin;qe<Ee.SBMAX_s;qe++)Ve[We++]*=1+.029*qe*qe/Ee.SBMAX_s/Ee.SBMAX_s,Ve[We++]*=1+.029*qe*qe/Ee.SBMAX_s/Ee.SBMAX_s,Ve[We++]*=1+.029*qe*qe/Ee.SBMAX_s/Ee.SBMAX_s;Ze[it][rt]=0|Math.max(Ce[it][rt],.9*Ze[it][rt])}},this.VBR_new_prepare=function(Le,Be,Ce,Ze,it,rt){var Oe=Le.internal_flags,Ve=1,We=0,qe=0,Ge;if(Le.free_format){Oe.bitrate_index=0;var Qe=new MeanBits(We);Ge=Re.ResvFrameBegin(Le,Qe),We=Qe.bits,it[0]=Ge}else{Oe.bitrate_index=Oe.VBR_max_bitrate;var Qe=new MeanBits(We);Re.ResvFrameBegin(Le,Qe),We=Qe.bits,get_framebits(Le,it),Ge=it[Oe.VBR_max_bitrate]}for(var ct=0;ct<Oe.mode_gr;ct++){ze.on_pe(Le,Be,rt[ct],We,ct,0),Oe.mode_ext==Ee.MPG_MD_MS_LR&&ms_convert(Oe.l3_side,ct);for(var ft=0;ft<Oe.channels_out;++ft){var bt=Oe.l3_side.tt[ct][ft];Oe.masking_lower=Math.pow(10,Oe.PSY.mask_adjust*.1),init_outer_loop(Oe,bt),ze.calc_xmin(Le,Ce[ct][ft],bt,Ze[ct][ft])!=0&&(Ve=0),qe+=rt[ct][ft]}}for(var ct=0;ct<Oe.mode_gr;ct++)for(var ft=0;ft<Oe.channels_out;ft++)qe>Ge&&(rt[ct][ft]*=Ge,rt[ct][ft]/=qe);return Ve},this.calc_target_bits=function(Le,Be,Ce,Ze,it,rt){var Oe=Le.internal_flags,Ve=Oe.l3_side,We,qe,Ge,Qe,ct=0;Oe.bitrate_index=Oe.VBR_max_bitrate;var ft=new MeanBits(ct);for(rt[0]=Re.ResvFrameBegin(Le,ft),ct=ft.bits,Oe.bitrate_index=1,ct=ke.getframebits(Le)-Oe.sideinfo_len*8,it[0]=ct/(Oe.mode_gr*Oe.channels_out),ct=Le.VBR_mean_bitrate_kbps*Le.framesize*1e3,(Oe.substep_shaping&1)!=0&&(ct*=1.09),ct/=Le.out_samplerate,ct-=Oe.sideinfo_len*8,ct/=Oe.mode_gr*Oe.channels_out,We=.93+.07*(11-Le.compression_ratio)/5.5,We<.9&&(We=.9),We>1&&(We=1),qe=0;qe<Oe.mode_gr;qe++){var bt=0;for(Ge=0;Ge<Oe.channels_out;Ge++){if(Ze[qe][Ge]=int(We*ct),Be[qe][Ge]>700){var St=int((Be[qe][Ge]-700)/1.4),xt=Ve.tt[qe][Ge];Ze[qe][Ge]=int(We*ct),xt.block_type==Ee.SHORT_TYPE&&St<ct/2&&(St=ct/2),St>ct*3/2?St=ct*3/2:St<0&&(St=0),Ze[qe][Ge]+=St}Ze[qe][Ge]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(Ze[qe][Ge]=LameInternalFlags.MAX_BITS_PER_CHANNEL),bt+=Ze[qe][Ge]}if(bt>LameInternalFlags.MAX_BITS_PER_GRANULE)for(Ge=0;Ge<Oe.channels_out;++Ge)Ze[qe][Ge]*=LameInternalFlags.MAX_BITS_PER_GRANULE,Ze[qe][Ge]/=bt}if(Oe.mode_ext==Ee.MPG_MD_MS_LR)for(qe=0;qe<Oe.mode_gr;qe++)ze.reduce_side(Ze[qe],Ce[qe],ct*Oe.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(Qe=0,qe=0;qe<Oe.mode_gr;qe++)for(Ge=0;Ge<Oe.channels_out;Ge++)Ze[qe][Ge]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(Ze[qe][Ge]=LameInternalFlags.MAX_BITS_PER_CHANNEL),Qe+=Ze[qe][Ge];if(Qe>rt[0])for(qe=0;qe<Oe.mode_gr;qe++)for(Ge=0;Ge<Oe.channels_out;Ge++)Ze[qe][Ge]*=rt[0],Ze[qe][Ge]/=Qe}}ee.exports=Me},429:(ee,te,b)=>{var re=b(302),ne=b(935);ne.System;var ie=ne.VbrMode,se=ne.Float;ne.ShortBlock;var fe=ne.Util;ne.Arrays,ne.new_array_n,ne.new_byte,ne.new_double;var ce=ne.new_float;ne.new_float_n;var de=ne.new_int;ne.new_int_n;var ye=ne.assert,ge=b(687),_e=b(3134),Ee=b(1998);Ae.Q_MAX=257,Ae.Q_MAX2=116,Ae.LARGE_BITS=1e5,Ae.IXMAX_VAL=8206;function Ae(){var we=null,Me=null,ke=null;this.setModules=function(pe,Le,Be){we=pe,Me=Le,ke=Be};function Re(pe){return ye(0<=pe+Ae.Q_MAX2&&pe<Ae.Q_MAX),he[pe+Ae.Q_MAX2]}this.IPOW20=function(pe){return ye(0<=pe&&pe<Ae.Q_MAX),xe[pe]};var ze=2220446049250313e-31,Je=Ae.IXMAX_VAL,et=Je+2,Pe=Ae.Q_MAX,ve=Ae.Q_MAX2;Ae.LARGE_BITS;var le=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var ae=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=ae,this.sfBandIndex=[new re([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var he=ce(Pe+ve+1),xe=ce(Pe),$e=ce(et),He=ce(et);this.adj43=He;function Fe(pe,Le){var Be=ke.ATHformula(Le,pe);return Be-=le,Be=Math.pow(10,Be/10+pe.ATHlower),Be}function Ne(pe){for(var Le=pe.internal_flags.ATH.l,Be=pe.internal_flags.ATH.psfb21,Ce=pe.internal_flags.ATH.s,Ze=pe.internal_flags.ATH.psfb12,it=pe.internal_flags,rt=pe.out_samplerate,Oe=0;Oe<ge.SBMAX_l;Oe++){var Ve=it.scalefac_band.l[Oe],We=it.scalefac_band.l[Oe+1];Le[Oe]=se.MAX_VALUE;for(var qe=Ve;qe<We;qe++){var Ge=qe*rt/1152,Qe=Fe(pe,Ge);Le[Oe]=Math.min(Le[Oe],Qe)}}for(var Oe=0;Oe<ge.PSFB21;Oe++){var Ve=it.scalefac_band.psfb21[Oe],We=it.scalefac_band.psfb21[Oe+1];Be[Oe]=se.MAX_VALUE;for(var qe=Ve;qe<We;qe++){var Ge=qe*rt/1152,Qe=Fe(pe,Ge);Be[Oe]=Math.min(Be[Oe],Qe)}}for(var Oe=0;Oe<ge.SBMAX_s;Oe++){var Ve=it.scalefac_band.s[Oe],We=it.scalefac_band.s[Oe+1];Ce[Oe]=se.MAX_VALUE;for(var qe=Ve;qe<We;qe++){var Ge=qe*rt/384,Qe=Fe(pe,Ge);Ce[Oe]=Math.min(Ce[Oe],Qe)}Ce[Oe]*=it.scalefac_band.s[Oe+1]-it.scalefac_band.s[Oe]}for(var Oe=0;Oe<ge.PSFB12;Oe++){var Ve=it.scalefac_band.psfb12[Oe],We=it.scalefac_band.psfb12[Oe+1];Ze[Oe]=se.MAX_VALUE;for(var qe=Ve;qe<We;qe++){var Ge=qe*rt/384,Qe=Fe(pe,Ge);Ze[Oe]=Math.min(Ze[Oe],Qe)}Ze[Oe]*=it.scalefac_band.s[13]-it.scalefac_band.s[12]}if(pe.noATH){for(var Oe=0;Oe<ge.SBMAX_l;Oe++)Le[Oe]=1e-20;for(var Oe=0;Oe<ge.PSFB21;Oe++)Be[Oe]=1e-20;for(var Oe=0;Oe<ge.SBMAX_s;Oe++)Ce[Oe]=1e-20;for(var Oe=0;Oe<ge.PSFB12;Oe++)Ze[Oe]=1e-20}it.ATH.floor=10*Math.log10(Fe(pe,-1))}this.iteration_init=function(pe){var Le=pe.internal_flags,Be=Le.l3_side,Ce;if(Le.iteration_init_init==0){for(Le.iteration_init_init=1,Be.main_data_begin=0,Ne(pe),$e[0]=0,Ce=1;Ce<et;Ce++)$e[Ce]=Math.pow(Ce,1.3333333333333333);for(Ce=0;Ce<et-1;Ce++)He[Ce]=Ce+1-Math.pow(.5*($e[Ce]+$e[Ce+1]),.75);for(He[Ce]=.5,Ce=0;Ce<Pe;Ce++)xe[Ce]=Math.pow(2,(Ce-210)*-.1875);for(Ce=0;Ce<=Pe+ve;Ce++)he[Ce]=Math.pow(2,(Ce-210-ve)*.25);we.huffman_init(Le);{var Ze,it,rt,Oe;for(Ce=pe.exp_nspsytune>>2&63,Ce>=32&&(Ce-=64),Ze=Math.pow(10,Ce/4/10),Ce=pe.exp_nspsytune>>8&63,Ce>=32&&(Ce-=64),it=Math.pow(10,Ce/4/10),Ce=pe.exp_nspsytune>>14&63,Ce>=32&&(Ce-=64),rt=Math.pow(10,Ce/4/10),Ce=pe.exp_nspsytune>>20&63,Ce>=32&&(Ce-=64),Oe=rt*Math.pow(10,Ce/4/10),Ce=0;Ce<ge.SBMAX_l;Ce++){var Ve;Ce<=6?Ve=Ze:Ce<=13?Ve=it:Ce<=20?Ve=rt:Ve=Oe,Le.nsPsy.longfact[Ce]=Ve}for(Ce=0;Ce<ge.SBMAX_s;Ce++){var Ve;Ce<=5?Ve=Ze:Ce<=10?Ve=it:Ce<=11?Ve=rt:Ve=Oe,Le.nsPsy.shortfact[Ce]=Ve}}}},this.on_pe=function(pe,Le,Be,Ce,Ze,it){var rt=pe.internal_flags,Oe=0,Ve,We=de(2),qe,Ge=new _e(Oe),Qe=Me.ResvMaxBits(pe,Ce,Ge,it);Oe=Ge.bits;var ct=Oe+Qe;for(ct>Ee.MAX_BITS_PER_GRANULE&&(ct=Ee.MAX_BITS_PER_GRANULE),Ve=0,qe=0;qe<rt.channels_out;++qe)Be[qe]=Math.min(Ee.MAX_BITS_PER_CHANNEL,Oe/rt.channels_out),We[qe]=0|Be[qe]*Le[Ze][qe]/700-Be[qe],We[qe]>Ce*3/4&&(We[qe]=Ce*3/4),We[qe]<0&&(We[qe]=0),We[qe]+Be[qe]>Ee.MAX_BITS_PER_CHANNEL&&(We[qe]=Math.max(0,Ee.MAX_BITS_PER_CHANNEL-Be[qe])),Ve+=We[qe];if(Ve>Qe)for(qe=0;qe<rt.channels_out;++qe)We[qe]=Qe*We[qe]/Ve;for(qe=0;qe<rt.channels_out;++qe)Be[qe]+=We[qe],Qe-=We[qe];for(Ve=0,qe=0;qe<rt.channels_out;++qe)Ve+=Be[qe];if(Ve>Ee.MAX_BITS_PER_GRANULE){var ft=0;for(qe=0;qe<rt.channels_out;++qe)Be[qe]*=Ee.MAX_BITS_PER_GRANULE,Be[qe]/=Ve,ft+=Be[qe];ye(ft<=Ee.MAX_BITS_PER_GRANULE)}return ct},this.reduce_side=function(pe,Le,Be,Ce){ye(Ce<=Ee.MAX_BITS_PER_GRANULE),ye(pe[0]+pe[1]<=Ee.MAX_BITS_PER_GRANULE);var Ze=.33*(.5-Le)/.5;Ze<0&&(Ze=0),Ze>.5&&(Ze=.5);var it=0|Ze*.5*(pe[0]+pe[1]);it>Ee.MAX_BITS_PER_CHANNEL-pe[0]&&(it=Ee.MAX_BITS_PER_CHANNEL-pe[0]),it<0&&(it=0),pe[1]>=125&&(pe[1]-it>125?(pe[0]<Be&&(pe[0]+=it),pe[1]-=it):(pe[0]+=pe[1]-125,pe[1]=125)),it=pe[0]+pe[1],it>Ce&&(pe[0]=Ce*pe[0]/it,pe[1]=Ce*pe[1]/it),ye(pe[0]<=Ee.MAX_BITS_PER_CHANNEL),ye(pe[1]<=Ee.MAX_BITS_PER_CHANNEL),ye(pe[0]+pe[1]<=Ee.MAX_BITS_PER_GRANULE)},this.athAdjust=function(pe,Le,Be){var Ce=90.30873362,Ze=94.82444863,it=fe.FAST_LOG10_X(Le,10),rt=pe*pe,Oe=0;return it-=Be,rt>1e-20&&(Oe=1+fe.FAST_LOG10_X(rt,10/Ce)),Oe<0&&(Oe=0),it*=Oe,it+=Be+Ce-Ze,Math.pow(10,.1*it)},this.calc_xmin=function(pe,Le,Be,Ce){var Ze=0,it=pe.internal_flags,rt,Oe=0,Ve=0,We=it.ATH,qe=Be.xr,Ge=pe.VBR==ie.vbr_mtrh?1:0,Qe=it.masking_lower;for((pe.VBR==ie.vbr_mtrh||pe.VBR==ie.vbr_mt)&&(Qe=1),rt=0;rt<Be.psy_lmax;rt++){var ct,ft,bt,St,xt,$t;pe.VBR==ie.vbr_rh||pe.VBR==ie.vbr_mtrh?ft=athAdjust(We.adjust,We.l[rt],We.floor):ft=We.adjust*We.l[rt],xt=Be.width[rt],bt=ft/xt,St=ze,$t=xt>>1,ct=0;do{var It,Et;It=qe[Oe]*qe[Oe],ct+=It,St+=It<bt?It:bt,Oe++,Et=qe[Oe]*qe[Oe],ct+=Et,St+=Et<bt?Et:bt,Oe++}while(--$t>0);if(ct>ft&&Ve++,rt==ge.SBPSY_l){var At=ft*it.nsPsy.longfact[rt];St<At&&(St=At)}if(Ge!=0&&(ft=St),!pe.ATHonly){var kt=Le.en.l[rt];if(kt>0){var At;At=ct*Le.thm.l[rt]*Qe/kt,Ge!=0&&(At*=it.nsPsy.longfact[rt]),ft<At&&(ft=At)}}Ge!=0?Ce[Ze++]=ft:Ce[Ze++]=ft*it.nsPsy.longfact[rt]}var Kt=575;if(Be.block_type!=ge.SHORT_TYPE)for(var lt=576;lt--!=0&&BitStream.EQ(qe[lt],0);)Kt=lt;Be.max_nonzero_coeff=Kt;for(var Se=Be.sfb_smin;rt<Be.psymax;Se++,rt+=3){var xt,me,be;for(pe.VBR==ie.vbr_rh||pe.VBR==ie.vbr_mtrh?be=athAdjust(We.adjust,We.s[Se],We.floor):be=We.adjust*We.s[Se],xt=Be.width[rt],me=0;me<3;me++){var ct=0,ft,bt,St,$t=xt>>1;bt=be/xt,St=ze;do{var It,Et;It=qe[Oe]*qe[Oe],ct+=It,St+=It<bt?It:bt,Oe++,Et=qe[Oe]*qe[Oe],ct+=Et,St+=Et<bt?Et:bt,Oe++}while(--$t>0);if(ct>be&&Ve++,Se==ge.SBPSY_s){var At=be*it.nsPsy.shortfact[Se];St<At&&(St=At)}if(Ge!=0?ft=St:ft=be,!pe.ATHonly&&!pe.ATHshort){var kt=Le.en.s[Se][me];if(kt>0){var At;At=ct*Le.thm.s[Se][me]*Qe/kt,Ge!=0&&(At*=it.nsPsy.shortfact[Se]),ft<At&&(ft=At)}}Ge!=0?Ce[Ze++]=ft:Ce[Ze++]=ft*it.nsPsy.shortfact[Se]}pe.useTemporal&&(Ce[Ze-3]>Ce[Ze-3+1]&&(Ce[Ze-3+1]+=(Ce[Ze-3]-Ce[Ze-3+1])*it.decay),Ce[Ze-3+1]>Ce[Ze-3+2]&&(Ce[Ze-3+2]+=(Ce[Ze-3+1]-Ce[Ze-3+2])*it.decay))}return Ve};function De(pe){this.s=pe}this.calc_noise_core=function(pe,Le,Be,Ce){var Ze=0,it=Le.s,rt=pe.l3_enc;if(it>pe.count1)for(;Be--!=0;){var Oe;Oe=pe.xr[it],it++,Ze+=Oe*Oe,Oe=pe.xr[it],it++,Ze+=Oe*Oe}else if(it>pe.big_values){var Ve=ce(2);for(Ve[0]=0,Ve[1]=Ce;Be--!=0;){var Oe;Oe=Math.abs(pe.xr[it])-Ve[rt[it]],it++,Ze+=Oe*Oe,Oe=Math.abs(pe.xr[it])-Ve[rt[it]],it++,Ze+=Oe*Oe}}else for(;Be--!=0;){var Oe;Oe=Math.abs(pe.xr[it])-$e[rt[it]]*Ce,it++,Ze+=Oe*Oe,Oe=Math.abs(pe.xr[it])-$e[rt[it]]*Ce,it++,Ze+=Oe*Oe}return Le.s=it,Ze},this.calc_noise=function(pe,Le,Be,Ce,Ze){var it=0,rt=0,Oe,Ve,We=0,qe=0,Ge=0,Qe=-20,ct=0,ft=pe.scalefac,bt=0;for(Ce.over_SSD=0,Oe=0;Oe<pe.psymax;Oe++){var St=pe.global_gain-(ft[bt++]+(pe.preflag!=0?ae[Oe]:0)<<pe.scalefac_scale+1)-pe.subblock_gain[pe.window[Oe]]*8,xt=0;if(Ze!=null&&Ze.step[Oe]==St)xt=Ze.noise[Oe],ct+=pe.width[Oe],Be[it++]=xt/Le[rt++],xt=Ze.noise_log[Oe];else{var $t=Re(St);if(Ve=pe.width[Oe]>>1,ct+pe.width[Oe]>pe.max_nonzero_coeff){var It;It=pe.max_nonzero_coeff-ct+1,It>0?Ve=It>>1:Ve=0}var Et=new De(ct);xt=this.calc_noise_core(pe,Et,Ve,$t),ct=Et.s,Ze!=null&&(Ze.step[Oe]=St,Ze.noise[Oe]=xt),xt=Be[it++]=xt/Le[rt++],xt=fe.FAST_LOG10(Math.max(xt,1e-20)),Ze!=null&&(Ze.noise_log[Oe]=xt)}if(Ze!=null&&(Ze.global_gain=pe.global_gain),Ge+=xt,xt>0){var At;At=Math.max(0|xt*10+.5,1),Ce.over_SSD+=At*At,We++,qe+=xt}Qe=Math.max(Qe,xt)}return Ce.over_count=We,Ce.tot_noise=Ge,Ce.over_noise=qe,Ce.max_noise=Qe,We},this.set_pinfo=function(pe,Le,Be,Ce,Ze){var it=pe.internal_flags,rt,Oe,Ve,We,qe,Ge=Le.scalefac_scale==0?.5:1,Qe=Le.scalefac,ct=ce(L3Side.SFBMAX),ft=ce(L3Side.SFBMAX),bt=new CalcNoiseResult;calc_xmin(pe,Be,Le,ct),calc_noise(Le,ct,ft,bt,null);var St=0;for(Oe=Le.sfb_lmax,Le.block_type!=ge.SHORT_TYPE&&Le.mixed_block_flag==0&&(Oe=22),rt=0;rt<Oe;rt++){var xt=it.scalefac_band.l[rt],$t=it.scalefac_band.l[rt+1],It=$t-xt;for(We=0;St<$t;St++)We+=Le.xr[St]*Le.xr[St];We/=It,qe=1e15,it.pinfo.en[Ce][Ze][rt]=qe*We,it.pinfo.xfsf[Ce][Ze][rt]=qe*ct[rt]*ft[rt]/It,Be.en.l[rt]>0&&!pe.ATHonly?We=We/Be.en.l[rt]:We=0,it.pinfo.thr[Ce][Ze][rt]=qe*Math.max(We*Be.thm.l[rt],it.ATH.l[rt]),it.pinfo.LAMEsfb[Ce][Ze][rt]=0,Le.preflag!=0&&rt>=11&&(it.pinfo.LAMEsfb[Ce][Ze][rt]=-Ge*ae[rt]),rt<ge.SBPSY_l&&(ye(Qe[rt]>=0),it.pinfo.LAMEsfb[Ce][Ze][rt]-=Ge*Qe[rt])}if(Le.block_type==ge.SHORT_TYPE)for(Oe=rt,rt=Le.sfb_smin;rt<ge.SBMAX_s;rt++)for(var xt=it.scalefac_band.s[rt],$t=it.scalefac_band.s[rt+1],It=$t-xt,Et=0;Et<3;Et++){for(We=0,Ve=xt;Ve<$t;Ve++)We+=Le.xr[St]*Le.xr[St],St++;We=Math.max(We/It,1e-20),qe=1e15,it.pinfo.en_s[Ce][Ze][3*rt+Et]=qe*We,it.pinfo.xfsf_s[Ce][Ze][3*rt+Et]=qe*ct[Oe]*ft[Oe]/It,Be.en.s[rt][Et]>0?We=We/Be.en.s[rt][Et]:We=0,(pe.ATHonly||pe.ATHshort)&&(We=0),it.pinfo.thr_s[Ce][Ze][3*rt+Et]=qe*Math.max(We*Be.thm.s[rt][Et],it.ATH.s[rt]),it.pinfo.LAMEsfb_s[Ce][Ze][3*rt+Et]=-2*Le.subblock_gain[Et],rt<ge.SBPSY_s&&(it.pinfo.LAMEsfb_s[Ce][Ze][3*rt+Et]-=Ge*Qe[Oe]),Oe++}it.pinfo.LAMEqss[Ce][Ze]=Le.global_gain,it.pinfo.LAMEmainbits[Ce][Ze]=Le.part2_3_length+Le.part2_length,it.pinfo.LAMEsfbits[Ce][Ze]=Le.part2_length,it.pinfo.over[Ce][Ze]=bt.over_count,it.pinfo.max_noise[Ce][Ze]=bt.max_noise*10,it.pinfo.over_noise[Ce][Ze]=bt.over_noise*10,it.pinfo.tot_noise[Ce][Ze]=bt.tot_noise*10,it.pinfo.over_SSD[Ce][Ze]=bt.over_SSD}}ee.exports=Ae},1062:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double;var ne=re.new_float;re.new_float_n;var ie=re.new_int;re.new_int_n,re.assert;var se=b(1287);function fe(){this.linprebuf=ne(se.MAX_ORDER*2),this.linpre=0,this.lstepbuf=ne(se.MAX_SAMPLES_PER_WINDOW+se.MAX_ORDER),this.lstep=0,this.loutbuf=ne(se.MAX_SAMPLES_PER_WINDOW+se.MAX_ORDER),this.lout=0,this.rinprebuf=ne(se.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=ne(se.MAX_SAMPLES_PER_WINDOW+se.MAX_ORDER),this.rstep=0,this.routbuf=ne(se.MAX_SAMPLES_PER_WINDOW+se.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=ie(0|se.STEPS_per_dB*se.MAX_dB),this.B=ie(0|se.STEPS_per_dB*se.MAX_dB)}ee.exports=fe},3060:(ee,te,b)=>{var re=b(935),ne=re.assert;function ie(){var se;this.setModules=function(fe){se=fe},this.ResvFrameBegin=function(fe,ce){var de=fe.internal_flags,ye,ge=de.l3_side,_e=se.getframebits(fe);ce.bits=(_e-de.sideinfo_len*8)/de.mode_gr;var Ee=8*256*de.mode_gr-8;fe.brate>320?ye=8*int(fe.brate*1e3/(fe.out_samplerate/1152)/8+.5):(ye=11520,fe.strict_ISO&&(ye=8*int(32e4/(fe.out_samplerate/1152)/8+.5))),de.ResvMax=ye-_e,de.ResvMax>Ee&&(de.ResvMax=Ee),(de.ResvMax<0||fe.disable_reservoir)&&(de.ResvMax=0);var Ae=ce.bits*de.mode_gr+Math.min(de.ResvSize,de.ResvMax);return Ae>ye&&(Ae=ye),ne(de.ResvMax%8==0),ne(de.ResvMax>=0),ge.resvDrain_pre=0,de.pinfo!=null&&(de.pinfo.mean_bits=ce.bits/2,de.pinfo.resvsize=de.ResvSize),Ae},this.ResvMaxBits=function(fe,ce,de,ye){var ge=fe.internal_flags,_e,Ee=ge.ResvSize,Ae=ge.ResvMax;ye!=0&&(Ee+=ce),(ge.substep_shaping&1)!=0&&(Ae*=.9),de.bits=ce,Ee*10>Ae*9?(_e=Ee-Ae*9/10,de.bits+=_e,ge.substep_shaping|=128):(_e=0,ge.substep_shaping&=127,!fe.disable_reservoir&&(ge.substep_shaping&1)==0&&(de.bits-=.1*ce));var we=Ee<ge.ResvMax*6/10?Ee:ge.ResvMax*6/10;return we-=_e,we<0&&(we=0),we},this.ResvAdjust=function(fe,ce){fe.ResvSize-=ce.part2_3_length+ce.part2_length},this.ResvFrameEnd=function(fe,ce){var de,ye=fe.l3_side;fe.ResvSize+=ce*fe.mode_gr;var ge=0;ye.resvDrain_post=0,ye.resvDrain_pre=0,(de=fe.ResvSize%8)!=0&&(ge+=de),de=fe.ResvSize-ge-fe.ResvMax,de>0&&(ne(de%8==0),ne(de>=0),ge+=de);{var _e=Math.min(ye.main_data_begin*8,ge)/8;ye.resvDrain_pre+=8*_e,ge-=8*_e,fe.ResvSize-=8*_e,ye.main_data_begin-=_e}ye.resvDrain_post+=ge,fe.ResvSize-=ge}}ee.exports=ie},302:(ee,te,b)=>{var re=b(935),ne=re.System;re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n,re.new_byte,re.new_double,re.new_float,re.new_float_n;var ie=re.new_int;re.new_int_n,re.assert;var se=b(687);function fe(ce,de,ye,ge){this.l=ie(1+se.SBMAX_l),this.s=ie(1+se.SBMAX_s),this.psfb21=ie(1+se.PSFB21),this.psfb12=ie(1+se.PSFB12);var _e=this.l,Ee=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],ne.arraycopy(this.arrL,0,_e,0,Math.min(this.arrL.length,this.l.length)),ne.arraycopy(this.arrS,0,Ee,0,Math.min(this.arrS.length,this.s.length)),ne.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),ne.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}ee.exports=fe},7721:ee=>{function te(re,ne,ie,se){this.xlen=re,this.linmax=ne,this.table=ie,this.hlen=se}var b={};b.t1HB=[1,1,1,0],b.t2HB=[1,2,1,3,1,1,3,2,0],b.t3HB=[3,2,1,1,1,1,3,2,0],b.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],b.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],b.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],b.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],b.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],b.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],b.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],b.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],b.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],b.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],b.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],b.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],b.t32HB=[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],b.t33HB=[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],b.t1l=[1,4,3,5],b.t2l=[1,4,7,4,5,7,6,7,8],b.t3l=[2,3,7,4,4,7,6,7,8],b.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],b.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],b.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],b.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],b.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],b.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],b.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],b.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],b.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],b.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],b.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],b.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],b.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],b.t32l=[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],b.t33l=[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8],b.ht=[new te(0,0,null,null),new te(2,0,b.t1HB,b.t1l),new te(3,0,b.t2HB,b.t2l),new te(3,0,b.t3HB,b.t3l),new te(0,0,null,null),new te(4,0,b.t5HB,b.t5l),new te(4,0,b.t6HB,b.t6l),new te(6,0,b.t7HB,b.t7l),new te(6,0,b.t8HB,b.t8l),new te(6,0,b.t9HB,b.t9l),new te(8,0,b.t10HB,b.t10l),new te(8,0,b.t11HB,b.t11l),new te(8,0,b.t12HB,b.t12l),new te(16,0,b.t13HB,b.t13l),new te(0,0,null,b.t16_5l),new te(16,0,b.t15HB,b.t15l),new te(1,1,b.t16HB,b.t16l),new te(2,3,b.t16HB,b.t16l),new te(3,7,b.t16HB,b.t16l),new te(4,15,b.t16HB,b.t16l),new te(6,63,b.t16HB,b.t16l),new te(8,255,b.t16HB,b.t16l),new te(10,1023,b.t16HB,b.t16l),new te(13,8191,b.t16HB,b.t16l),new te(4,15,b.t24HB,b.t24l),new te(5,31,b.t24HB,b.t24l),new te(6,63,b.t24HB,b.t24l),new te(7,127,b.t24HB,b.t24l),new te(8,255,b.t24HB,b.t24l),new te(9,511,b.t24HB,b.t24l),new te(11,2047,b.t24HB,b.t24l),new te(13,8191,b.t24HB,b.t24l),new te(0,0,b.t32HB,b.t32l),new te(0,0,b.t33HB,b.t33l)],b.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],b.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],b.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],b.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],b.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],b.scfsi_band=[0,6,11,16,21],ee.exports=b},5638:(ee,te,b)=>{var re=b(935),ne=re.System;re.VbrMode,re.Float,re.ShortBlock,re.Util;var ie=re.Arrays;re.new_array_n,re.new_byte,re.new_double,re.new_float,re.new_float_n;var se=re.new_int;re.new_int_n;var fe=re.assert,ce=b(687),de=b(7721),ye=b(9438),ge=b(429);function _e(){var Ee=null;this.qupvt=null,this.setModules=function(rt){this.qupvt=rt,Ee=rt};function Ae(rt){this.bits=0|rt}var we=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function Me(rt,Oe,Ve,We,qe,Ge){var Qe=.5946/Oe;for(fe(rt>0),rt=rt>>1;rt--!=0;)qe[Ge++]=Qe>Ve[We++]?0:1,qe[Ge++]=Qe>Ve[We++]?0:1}function ke(rt,Oe,Ve,We,qe,Ge){fe(rt>0),rt=rt>>1;var Qe=rt%2;for(rt=rt>>1;rt--!=0;){var ct,ft,bt,St,xt,$t,It,Et;ct=Ve[We++]*Oe,ft=Ve[We++]*Oe,xt=0|ct,bt=Ve[We++]*Oe,$t=0|ft,St=Ve[We++]*Oe,It=0|bt,ct+=Ee.adj43[xt],Et=0|St,ft+=Ee.adj43[$t],qe[Ge++]=0|ct,bt+=Ee.adj43[It],qe[Ge++]=0|ft,St+=Ee.adj43[Et],qe[Ge++]=0|bt,qe[Ge++]=0|St}if(Qe!=0){var ct,ft,xt,$t;ct=Ve[We++]*Oe,ft=Ve[We++]*Oe,xt=0|ct,$t=0|ft,ct+=Ee.adj43[xt],ft+=Ee.adj43[$t],qe[Ge++]=0|ct,qe[Ge++]=0|ft}}function Re(rt,Oe,Ve,We,qe){var Ge,Qe,ct=0,ft,bt=0,St=0,xt=0,$t=Oe,It=0,Et=$t,At=0,kt=rt,Kt=0;for(ft=qe!=null&&We.global_gain==qe.global_gain,We.block_type==ce.SHORT_TYPE?Qe=38:Qe=21,Ge=0;Ge<=Qe;Ge++){var lt=-1;if((ft||We.block_type==ce.NORM_TYPE)&&(lt=We.global_gain-(We.scalefac[Ge]+(We.preflag!=0?Ee.pretab[Ge]:0)<<We.scalefac_scale+1)-We.subblock_gain[We.window[Ge]]*8),fe(We.width[Ge]>=0),ft&&qe.step[Ge]==lt)bt!=0&&(ke(bt,Ve,kt,Kt,Et,At),bt=0),St!=0&&(Me(St,Ve,kt,Kt,Et,At),St=0);else{var Se=We.width[Ge];if(ct+We.width[Ge]>We.max_nonzero_coeff){var me;me=We.max_nonzero_coeff-ct+1,ie.fill(Oe,We.max_nonzero_coeff,576,0),Se=me,Se<0&&(Se=0),Ge=Qe+1}if(bt==0&&St==0&&(Et=$t,At=It,kt=rt,Kt=xt),qe!=null&&qe.sfb_count1>0&&Ge>=qe.sfb_count1&&qe.step[Ge]>0&&lt>=qe.step[Ge]?(bt!=0&&(ke(bt,Ve,kt,Kt,Et,At),bt=0,Et=$t,At=It,kt=rt,Kt=xt),St+=Se):(St!=0&&(Me(St,Ve,kt,Kt,Et,At),St=0,Et=$t,At=It,kt=rt,Kt=xt),bt+=Se),Se<=0){St!=0&&(Me(St,Ve,kt,Kt,Et,At),St=0),bt!=0&&(ke(bt,Ve,kt,Kt,Et,At),bt=0);break}}Ge<=Qe&&(It+=We.width[Ge],xt+=We.width[Ge],ct+=We.width[Ge])}bt!=0&&(ke(bt,Ve,kt,Kt,Et,At),bt=0),St!=0&&(Me(St,Ve,kt,Kt,Et,At),St=0)}function ze(rt,Oe,Ve){var We=0,qe=0;do{var Ge=rt[Oe++],Qe=rt[Oe++];We<Ge&&(We=Ge),qe<Qe&&(qe=Qe)}while(Oe<Ve);return We<qe&&(We=qe),We}function Je(rt,Oe,Ve,We,qe,Ge){var Qe=de.ht[We].xlen*65536+de.ht[qe].xlen,ct=0,ft;do{var bt=rt[Oe++],St=rt[Oe++];bt!=0&&(bt>14&&(bt=15,ct+=Qe),bt*=16),St!=0&&(St>14&&(St=15,ct+=Qe),bt+=St),ct+=de.largetbl[bt]}while(Oe<Ve);return ft=ct&65535,ct>>=16,ct>ft&&(ct=ft,We=qe),Ge.bits+=ct,We}function et(rt,Oe,Ve,We){var qe=0,Ge=de.ht[1].hlen;do{var Qe=rt[Oe+0]*2+rt[Oe+1];Oe+=2,qe+=Ge[Qe]}while(Oe<Ve);return We.bits+=qe,1}function Pe(rt,Oe,Ve,We,qe){var Ge=0,Qe,ct=de.ht[We].xlen,ft;We==2?ft=de.table23:ft=de.table56;do{var bt=rt[Oe+0]*ct+rt[Oe+1];Oe+=2,Ge+=ft[bt]}while(Oe<Ve);return Qe=Ge&65535,Ge>>=16,Ge>Qe&&(Ge=Qe,We++),qe.bits+=Ge,We}function ve(rt,Oe,Ve,We,qe){var Ge=0,Qe=0,ct=0,ft=de.ht[We].xlen,bt=de.ht[We].hlen,St=de.ht[We+1].hlen,xt=de.ht[We+2].hlen;do{var $t=rt[Oe+0]*ft+rt[Oe+1];Oe+=2,Ge+=bt[$t],Qe+=St[$t],ct+=xt[$t]}while(Oe<Ve);var It=We;return Ge>Qe&&(Ge=Qe,It++),Ge>ct&&(Ge=ct,It=We+2),qe.bits+=Ge,It}var le=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function ae(rt,Oe,Ve,We){var qe=ze(rt,Oe,Ve);switch(qe){case 0:return qe;case 1:return et(rt,Oe,Ve,We);case 2:case 3:return Pe(rt,Oe,Ve,le[qe-1],We);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return ve(rt,Oe,Ve,le[qe-1],We);default:if(qe>ge.IXMAX_VAL)return We.bits=ge.LARGE_BITS,-1;qe-=15;var Ge;for(Ge=24;Ge<32&&!(de.ht[Ge].linmax>=qe);Ge++);var Qe;for(Qe=Ge-8;Qe<24&&!(de.ht[Qe].linmax>=qe);Qe++);return Je(rt,Oe,Ve,Qe,Ge,We)}}this.noquant_count_bits=function(rt,Oe,Ve){var We=Oe.l3_enc,qe=Math.min(576,Oe.max_nonzero_coeff+2>>1<<1);for(Ve!=null&&(Ve.sfb_count1=0);qe>1&&(We[qe-1]|We[qe-2])==0;qe-=2);Oe.count1=qe;for(var Ge=0,Qe=0;qe>3;qe-=4){var ct;if(((We[qe-1]|We[qe-2]|We[qe-3]|We[qe-4])&2147483647)>1)break;ct=((We[qe-4]*2+We[qe-3])*2+We[qe-2])*2+We[qe-1],Ge+=de.t32l[ct],Qe+=de.t33l[ct]}var ft=Ge;if(Oe.count1table_select=0,Ge>Qe&&(ft=Qe,Oe.count1table_select=1),Oe.count1bits=ft,Oe.big_values=qe,qe==0)return ft;if(Oe.block_type==ce.SHORT_TYPE)Ge=3*rt.scalefac_band.s[3],Ge>Oe.big_values&&(Ge=Oe.big_values),Qe=Oe.big_values;else if(Oe.block_type==ce.NORM_TYPE){if(fe(qe<=576),Ge=Oe.region0_count=rt.bv_scf[qe-2],Qe=Oe.region1_count=rt.bv_scf[qe-1],fe(Ge+Qe+2<ce.SBPSY_l),Qe=rt.scalefac_band.l[Ge+Qe+2],Ge=rt.scalefac_band.l[Ge+1],Qe<qe){var bt=new Ae(ft);Oe.table_select[2]=ae(We,Qe,qe,bt),ft=bt.bits}}else Oe.region0_count=7,Oe.region1_count=ce.SBMAX_l-1-7-1,Ge=rt.scalefac_band.l[8],Qe=qe,Ge>Qe&&(Ge=Qe);if(Ge=Math.min(Ge,qe),Qe=Math.min(Qe,qe),fe(Ge>=0),fe(Qe>=0),0<Ge){var bt=new Ae(ft);Oe.table_select[0]=ae(We,0,Ge,bt),ft=bt.bits}if(Ge<Qe){var bt=new Ae(ft);Oe.table_select[1]=ae(We,Ge,Qe,bt),ft=bt.bits}if(rt.use_best_huffman==2&&(Oe.part2_3_length=ft,best_huffman_divide(rt,Oe),ft=Oe.part2_3_length),Ve!=null&&Oe.block_type==ce.NORM_TYPE){for(var St=0;rt.scalefac_band.l[St]<Oe.big_values;)St++;Ve.sfb_count1=St}return ft},this.count_bits=function(rt,Oe,Ve,We){var qe=Ve.l3_enc,Ge=ge.IXMAX_VAL/Ee.IPOW20(Ve.global_gain);if(Ve.xrpow_max>Ge)return ge.LARGE_BITS;if(Re(Oe,qe,Ee.IPOW20(Ve.global_gain),Ve,We),(rt.substep_shaping&2)!=0)for(var Qe=0,ct=Ve.global_gain+Ve.scalefac_scale,ft=.634521682242439/Ee.IPOW20(ct),bt=0;bt<Ve.sfbmax;bt++){var St=Ve.width[bt];if(fe(St>=0),rt.pseudohalf[bt]==0)Qe+=St;else{var xt;for(xt=Qe,Qe+=St;xt<Qe;++xt)qe[xt]=Oe[xt]>=ft?qe[xt]:0}}return this.noquant_count_bits(rt,Ve,We)};function he(rt,Oe,Ve,We,qe,Ge,Qe){for(var ct=Oe.big_values,ft=0;ft<=22;ft++)We[ft]=ge.LARGE_BITS;for(var ft=0;ft<16;ft++){var bt=rt.scalefac_band.l[ft+1];if(bt>=ct)break;var St=0,xt=new Ae(St),$t=ae(Ve,0,bt,xt);St=xt.bits;for(var It=0;It<8;It++){var Et=rt.scalefac_band.l[ft+It+2];if(Et>=ct)break;var At=St;xt=new Ae(At);var kt=ae(Ve,bt,Et,xt);At=xt.bits,We[ft+It]>At&&(We[ft+It]=At,qe[ft+It]=ft,Ge[ft+It]=$t,Qe[ft+It]=kt)}}}function xe(rt,Oe,Ve,We,qe,Ge,Qe,ct){for(var ft=Oe.big_values,bt=2;bt<ce.SBMAX_l+1;bt++){var St=rt.scalefac_band.l[bt];if(St>=ft)break;var xt=qe[bt-2]+Oe.count1bits;if(Ve.part2_3_length<=xt)break;var $t=new Ae(xt),It=ae(We,St,ft,$t);xt=$t.bits,!(Ve.part2_3_length<=xt)&&(Ve.assign(Oe),Ve.part2_3_length=xt,Ve.region0_count=Ge[bt-2],Ve.region1_count=bt-2-Ge[bt-2],Ve.table_select[0]=Qe[bt-2],Ve.table_select[1]=ct[bt-2],Ve.table_select[2]=It)}}this.best_huffman_divide=function(rt,Oe){var Ve=new ye,We=Oe.l3_enc,qe=se(7+15+1),Ge=se(7+15+1),Qe=se(7+15+1),ct=se(7+15+1);if(!(Oe.block_type==ce.SHORT_TYPE&&rt.mode_gr==1)){Ve.assign(Oe),Oe.block_type==ce.NORM_TYPE&&(he(rt,Oe,We,qe,Ge,Qe,ct),xe(rt,Ve,Oe,We,qe,Ge,Qe,ct));var ft=Ve.big_values;if(!(ft==0||(We[ft-2]|We[ft-1])>1)&&(ft=Oe.count1+2,!(ft>576))){Ve.assign(Oe),Ve.count1=ft;var bt=0,St=0;for(fe(ft<=576);ft>Ve.big_values;ft-=4){var xt=((We[ft-4]*2+We[ft-3])*2+We[ft-2])*2+We[ft-1];bt+=de.t32l[xt],St+=de.t33l[xt]}if(Ve.big_values=ft,Ve.count1table_select=0,bt>St&&(bt=St,Ve.count1table_select=1),Ve.count1bits=bt,Ve.block_type==ce.NORM_TYPE)xe(rt,Ve,Oe,We,qe,Ge,Qe,ct);else{if(Ve.part2_3_length=bt,bt=rt.scalefac_band.l[8],bt>ft&&(bt=ft),bt>0){var $t=new Ae(Ve.part2_3_length);Ve.table_select[0]=ae(We,0,bt,$t),Ve.part2_3_length=$t.bits}if(ft>bt){var $t=new Ae(Ve.part2_3_length);Ve.table_select[1]=ae(We,bt,ft,$t),Ve.part2_3_length=$t.bits}Oe.part2_3_length>Ve.part2_3_length&&Oe.assign(Ve)}}}};var $e=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],He=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],Fe=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],Ne=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];_e.slen1_tab=Fe,_e.slen2_tab=Ne;function De(rt,Oe){for(var Ve,We=Oe.tt[1][rt],qe=Oe.tt[0][rt],Ge=0;Ge<de.scfsi_band.length-1;Ge++){for(Ve=de.scfsi_band[Ge];Ve<de.scfsi_band[Ge+1]&&!(qe.scalefac[Ve]!=We.scalefac[Ve]&&We.scalefac[Ve]>=0);Ve++);if(Ve==de.scfsi_band[Ge+1]){for(Ve=de.scfsi_band[Ge];Ve<de.scfsi_band[Ge+1];Ve++)We.scalefac[Ve]=-1;Oe.scfsi[rt][Ge]=1}}var Qe=0,ct=0;for(Ve=0;Ve<11;Ve++)We.scalefac[Ve]!=-1&&(ct++,Qe<We.scalefac[Ve]&&(Qe=We.scalefac[Ve]));for(var ft=0,bt=0;Ve<ce.SBPSY_l;Ve++)We.scalefac[Ve]!=-1&&(bt++,ft<We.scalefac[Ve]&&(ft=We.scalefac[Ve]));for(var Ge=0;Ge<16;Ge++)if(Qe<$e[Ge]&&ft<He[Ge]){var St=Fe[Ge]*ct+Ne[Ge]*bt;We.part2_length>St&&(We.part2_length=St,We.scalefac_compress=Ge)}}this.best_scalefac_store=function(rt,Oe,Ve,We){var qe=We.tt[Oe][Ve],Ge,Qe,ct,ft,bt=0;for(ct=0,Ge=0;Ge<qe.sfbmax;Ge++){var St=qe.width[Ge];for(fe(St>=0),ct+=St,ft=-St;ft<0&&qe.l3_enc[ft+ct]==0;ft++);ft==0&&(qe.scalefac[Ge]=bt=-2)}if(qe.scalefac_scale==0&&qe.preflag==0){var xt=0;for(Ge=0;Ge<qe.sfbmax;Ge++)qe.scalefac[Ge]>0&&(xt|=qe.scalefac[Ge]);if((xt&1)==0&&xt!=0){for(Ge=0;Ge<qe.sfbmax;Ge++)qe.scalefac[Ge]>0&&(qe.scalefac[Ge]>>=1);qe.scalefac_scale=bt=1}}if(qe.preflag==0&&qe.block_type!=ce.SHORT_TYPE&&rt.mode_gr==2){for(Ge=11;Ge<ce.SBPSY_l&&!(qe.scalefac[Ge]<Ee.pretab[Ge]&&qe.scalefac[Ge]!=-2);Ge++);if(Ge==ce.SBPSY_l){for(Ge=11;Ge<ce.SBPSY_l;Ge++)qe.scalefac[Ge]>0&&(qe.scalefac[Ge]-=Ee.pretab[Ge]);qe.preflag=bt=1}}for(Qe=0;Qe<4;Qe++)We.scfsi[Ve][Qe]=0;for(rt.mode_gr==2&&Oe==1&&We.tt[0][Ve].block_type!=ce.SHORT_TYPE&&We.tt[1][Ve].block_type!=ce.SHORT_TYPE&&(De(Ve,We),bt=0),Ge=0;Ge<qe.sfbmax;Ge++)qe.scalefac[Ge]==-2&&(qe.scalefac[Ge]=0);bt!=0&&(rt.mode_gr==2?this.scale_bitcount(qe):this.scale_bitcount_lsf(rt,qe))};function pe(rt,Oe){for(var Ve=0;Ve<Oe;++Ve)if(rt[Ve]<0)return!1;return!0}var Le=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],Be=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],Ce=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(rt){var Oe,Ve,We=0,qe=0,Ge,Qe=rt.scalefac;if(fe(pe(Qe,rt.sfbmax)),rt.block_type==ce.SHORT_TYPE)Ge=Le,rt.mixed_block_flag!=0&&(Ge=Be);else if(Ge=Ce,rt.preflag==0){for(Ve=11;Ve<ce.SBPSY_l&&!(Qe[Ve]<Ee.pretab[Ve]);Ve++);if(Ve==ce.SBPSY_l)for(rt.preflag=1,Ve=11;Ve<ce.SBPSY_l;Ve++)Qe[Ve]-=Ee.pretab[Ve]}for(Ve=0;Ve<rt.sfbdivide;Ve++)We<Qe[Ve]&&(We=Qe[Ve]);for(;Ve<rt.sfbmax;Ve++)qe<Qe[Ve]&&(qe=Qe[Ve]);for(rt.part2_length=ge.LARGE_BITS,Oe=0;Oe<16;Oe++)We<$e[Oe]&&qe<He[Oe]&&rt.part2_length>Ge[Oe]&&(rt.part2_length=Ge[Oe],rt.scalefac_compress=Oe);return rt.part2_length==ge.LARGE_BITS};var Ze=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(rt,Oe){var Ve,We,qe,Ge,Qe,ct,ft,bt,St=se(4),xt=Oe.scalefac;for(Oe.preflag!=0?Ve=2:Ve=0,ft=0;ft<4;ft++)St[ft]=0;if(Oe.block_type==ce.SHORT_TYPE){We=1;var $t=Ee.nr_of_sfb_block[Ve][We];for(bt=0,qe=0;qe<4;qe++)for(Ge=$t[qe]/3,ft=0;ft<Ge;ft++,bt++)for(Qe=0;Qe<3;Qe++)xt[bt*3+Qe]>St[qe]&&(St[qe]=xt[bt*3+Qe])}else{We=0;var $t=Ee.nr_of_sfb_block[Ve][We];for(bt=0,qe=0;qe<4;qe++)for(Ge=$t[qe],ft=0;ft<Ge;ft++,bt++)xt[bt]>St[qe]&&(St[qe]=xt[bt])}for(ct=!1,qe=0;qe<4;qe++)St[qe]>Ze[Ve][qe]&&(ct=!0);if(!ct){var It,Et,At,kt;for(Oe.sfb_partition_table=Ee.nr_of_sfb_block[Ve][We],qe=0;qe<4;qe++)Oe.slen[qe]=it[St[qe]];switch(It=Oe.slen[0],Et=Oe.slen[1],At=Oe.slen[2],kt=Oe.slen[3],Ve){case 0:Oe.scalefac_compress=(It*5+Et<<4)+(At<<2)+kt;break;case 1:Oe.scalefac_compress=400+(It*5+Et<<2)+At;break;case 2:Oe.scalefac_compress=500+It*3+Et;break;default:ne.err.printf(`intensity stereo not implemented yet
`);break}}if(!ct)for(fe(Oe.sfb_partition_table!=null),Oe.part2_length=0,qe=0;qe<4;qe++)Oe.part2_length+=Oe.slen[qe]*Oe.sfb_partition_table[qe];return ct};var it=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(rt){for(var Oe=2;Oe<=576;Oe+=2){for(var Ve=0,We;rt.scalefac_band.l[++Ve]<Oe;);for(We=we[Ve][0];rt.scalefac_band.l[We+1]>Oe;)We--;for(We<0&&(We=we[Ve][0]),rt.bv_scf[Oe-2]=We,We=we[Ve][1];rt.scalefac_band.l[We+rt.bv_scf[Oe-2]+2]>Oe;)We--;We<0&&(We=we[Ve][1]),rt.bv_scf[Oe-1]=We}}}ee.exports=_e},7095:ee=>{function te(){this.setModules=function(b,re){}}ee.exports=te},3362:ee=>{function te(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}ee.exports=te},3398:(ee,te,b)=>{var re=b(935),ne=re.System,ie=re.VbrMode;re.Float;var se=re.ShortBlock;re.Util;var fe=re.Arrays;re.new_array_n;var ce=re.new_byte;re.new_double,re.new_float,re.new_float_n,re.new_int,re.new_int_n;var de=re.assert;ye.NUMTOCENTRIES=100,ye.MAXFRAMESIZE=2880;function ye(){var ge,_e,Ee;this.setModules=function(Oe,Ve,We){ge=Oe,_e=Ve,Ee=We};var Ae=1,we=2,Me=4,ke=8,Re=ye.NUMTOCENTRIES,ze=ye.MAXFRAMESIZE,Je=Re+4+4+4+4+4,et=Je+9+1+1+8+1+1+3+1+1+2+4+2+2,Pe=128,ve=64,le=32,ae=null,he="Xing",xe="Info",$e=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function He(Oe,Ve){if(Oe.nVbrNumFrames++,Oe.sum+=Ve,Oe.seen++,!(Oe.seen<Oe.want)&&(Oe.pos<Oe.size&&(Oe.bag[Oe.pos]=Oe.sum,Oe.pos++,Oe.seen=0),Oe.pos==Oe.size)){for(var We=1;We<Oe.size;We+=2)Oe.bag[We/2]=Oe.bag[We];Oe.want*=2,Oe.pos/=2}}function Fe(Oe,Ve){if(!(Oe.pos<=0))for(var We=1;We<Re;++We){var qe=We/Re,Ge,Qe,ct=0|Math.floor(qe*Oe.pos);ct>Oe.pos-1&&(ct=Oe.pos-1),Ge=Oe.bag[ct],Qe=Oe.sum;var ft=0|256*Ge/Qe;ft>255&&(ft=255),Ve[We]=255&ft}}this.addVbrFrame=function(Oe){var Ve=Oe.internal_flags,We=Tables.bitrate_table[Oe.version][Ve.bitrate_index];de(Ve.VBR_seek_table.bag!=null),He(Ve.VBR_seek_table,We)};function Ne(Oe,Ve){var We=Oe[Ve+0]&255;return We<<=8,We|=Oe[Ve+1]&255,We<<=8,We|=Oe[Ve+2]&255,We<<=8,We|=Oe[Ve+3]&255,We}function De(Oe,Ve,We){Oe[Ve+0]=255&(We>>24&255),Oe[Ve+1]=255&(We>>16&255),Oe[Ve+2]=255&(We>>8&255),Oe[Ve+3]=255&(We&255)}function pe(Oe,Ve,We){Oe[Ve+0]=255&(We>>8&255),Oe[Ve+1]=255&(We&255)}function Le(Oe,Ve){return new String(Oe,Ve,he.length(),ae).equals(he)||new String(Oe,Ve,xe.length(),ae).equals(xe)}function Be(Oe,Ve,We){return 255&(Oe<<Ve|We&~(-1<<Ve))}function Ce(Oe,Ve){var We=Oe.internal_flags;Ve[0]=Be(Ve[0],8,255),Ve[1]=Be(Ve[1],3,7),Ve[1]=Be(Ve[1],1,Oe.out_samplerate<16e3?0:1),Ve[1]=Be(Ve[1],1,Oe.version),Ve[1]=Be(Ve[1],2,1),Ve[1]=Be(Ve[1],1,Oe.error_protection?0:1),Ve[2]=Be(Ve[2],4,We.bitrate_index),Ve[2]=Be(Ve[2],2,We.samplerate_index),Ve[2]=Be(Ve[2],1,0),Ve[2]=Be(Ve[2],1,Oe.extension),Ve[3]=Be(Ve[3],2,Oe.mode.ordinal()),Ve[3]=Be(Ve[3],2,We.mode_ext),Ve[3]=Be(Ve[3],1,Oe.copyright),Ve[3]=Be(Ve[3],1,Oe.original),Ve[3]=Be(Ve[3],2,Oe.emphasis),Ve[0]=255;var qe=255&(Ve[1]&241),Ge;Oe.version==1?Ge=Pe:Oe.out_samplerate<16e3?Ge=le:Ge=ve,Oe.VBR==ie.vbr_off&&(Ge=Oe.brate);var Qe;Oe.free_format?Qe=0:Qe=255&16*ge.BitrateIndex(Ge,Oe.version,Oe.out_samplerate),Oe.version==1?(Ve[1]=255&(qe|10),qe=255&(Ve[2]&13),Ve[2]=255&(Qe|qe)):(Ve[1]=255&(qe|2),qe=255&(Ve[2]&13),Ve[2]=255&(Qe|qe))}this.getVbrTag=function(Oe){var Ve=new VBRTagData,We=0;Ve.flags=0;var qe=Oe[We+1]>>3&1,Ge=Oe[We+2]>>2&3,Qe=Oe[We+3]>>6&3,ct=Oe[We+2]>>4&15;if(ct=Tables.bitrate_table[qe][ct],Oe[We+1]>>4==14?Ve.samprate=Tables.samplerate_table[2][Ge]:Ve.samprate=Tables.samplerate_table[qe][Ge],qe!=0?Qe!=3?We+=36:We+=21:Qe!=3?We+=21:We+=13,!Le(Oe,We))return null;We+=4,Ve.hId=qe;var ft=Ve.flags=Ne(Oe,We);if(We+=4,(ft&Ae)!=0&&(Ve.frames=Ne(Oe,We),We+=4),(ft&we)!=0&&(Ve.bytes=Ne(Oe,We),We+=4),(ft&Me)!=0){if(Ve.toc!=null)for(var bt=0;bt<Re;bt++)Ve.toc[bt]=Oe[We+bt];We+=Re}Ve.vbrScale=-1,(ft&ke)!=0&&(Ve.vbrScale=Ne(Oe,We),We+=4),Ve.headersize=(qe+1)*72e3*ct/Ve.samprate,We+=21;var St=Oe[We+0]<<4;St+=Oe[We+1]>>4;var xt=(Oe[We+1]&15)<<8;return xt+=Oe[We+2]&255,(St<0||St>3e3)&&(St=-1),(xt<0||xt>3e3)&&(xt=-1),Ve.encDelay=St,Ve.encPadding=xt,Ve},this.InitVbrTag=function(Oe){var Ve=Oe.internal_flags,We;Oe.version==1?We=Pe:Oe.out_samplerate<16e3?We=le:We=ve,Oe.VBR==ie.vbr_off&&(We=Oe.brate);var qe=(Oe.version+1)*72e3*We/Oe.out_samplerate,Ge=Ve.sideinfo_len+et;if(Ve.VBR_seek_table.TotalFrameSize=qe,qe<Ge||qe>ze){Oe.bWriteVbrTag=!1;return}Ve.VBR_seek_table.nVbrNumFrames=0,Ve.VBR_seek_table.nBytesWritten=0,Ve.VBR_seek_table.sum=0,Ve.VBR_seek_table.seen=0,Ve.VBR_seek_table.want=1,Ve.VBR_seek_table.pos=0,Ve.VBR_seek_table.bag==null&&(Ve.VBR_seek_table.bag=new int[400],Ve.VBR_seek_table.size=400);var Qe=ce(ze);Ce(Oe,Qe);for(var ct=Ve.VBR_seek_table.TotalFrameSize,ft=0;ft<ct;++ft)_e.add_dummy_byte(Oe,Qe[ft]&255,1)};function Ze(Oe,Ve){var We=Ve^Oe;return Ve=Ve>>8^$e[We&255],Ve}this.updateMusicCRC=function(Oe,Ve,We,qe){for(var Ge=0;Ge<qe;++Ge)Oe[0]=Ze(Ve[We+Ge],Oe[0])};function it(Oe,Ve,We,qe,Ge){var Qe=Oe.internal_flags,ct=0,ft=Oe.encoder_delay,bt=Oe.encoder_padding,St=100-10*Oe.VBR_q-Oe.quality,xt=Ee.getLameVeryShortVersion(),$t,It=0,Et,At=[1,5,3,2,4,0,3],kt=0|(Oe.lowpassfreq/100+.5>255?255:Oe.lowpassfreq/100+.5),Kt=0,lt=0,Se=0,me=Oe.internal_flags.noise_shaping,be=0,Ye=0,ut=0,yt=0,wt=0,Ut=(Oe.exp_nspsytune&1)!=0,Xt=(Oe.exp_nspsytune&2)!=0,Ct=!1,Ht=!1,Yt=Oe.internal_flags.nogap_total,ar=Oe.internal_flags.nogap_current,tr=Oe.ATHtype,vr=0,ur;switch(Oe.VBR){case vbr_abr:ur=Oe.VBR_mean_bitrate_kbps;break;case vbr_off:ur=Oe.brate;break;default:ur=Oe.VBR_min_bitrate_kbps}switch(Oe.VBR.ordinal()<At.length?$t=At[Oe.VBR.ordinal()]:$t=0,Et=16*It+$t,Qe.findReplayGain&&(Qe.RadioGain>510&&(Qe.RadioGain=510),Qe.RadioGain<-510&&(Qe.RadioGain=-510),lt=8192,lt|=3072,Qe.RadioGain>=0?lt|=Qe.RadioGain:(lt|=512,lt|=-Qe.RadioGain)),Qe.findPeakSample&&(Kt=Math.abs(0|Qe.PeakSample/32767*Math.pow(2,23)+.5)),Yt!=-1&&(ar>0&&(Ht=!0),ar<Yt-1&&(Ct=!0)),vr=tr+((Ut?1:0)<<4)+((Xt?1:0)<<5)+((Ct?1:0)<<6)+((Ht?1:0)<<7),St<0&&(St=0),Oe.mode){case MONO:be=0;break;case STEREO:be=1;break;case DUAL_CHANNEL:be=2;break;case JOINT_STEREO:Oe.force_ms?be=4:be=3;break;case NOT_SET:default:be=7;break}Oe.in_samplerate<=32e3?ut=0:Oe.in_samplerate==48e3?ut=2:Oe.in_samplerate>48e3?ut=3:ut=1,(Oe.short_blocks==se.short_block_forced||Oe.short_blocks==se.short_block_dispensed||Oe.lowpassfreq==-1&&Oe.highpassfreq==-1||Oe.scale_left<Oe.scale_right||Oe.scale_left>Oe.scale_right||Oe.disable_reservoir&&Oe.brate<320||Oe.noATH||Oe.ATHonly||tr==0||Oe.in_samplerate<=32e3)&&(Ye=1),yt=me+(be<<2)+(Ye<<5)+(ut<<6),wt=Qe.nMusicCRC,De(We,qe+ct,St),ct+=4;for(var Sr=0;Sr<9;Sr++)We[qe+ct+Sr]=255&xt.charAt(Sr);ct+=9,We[qe+ct]=255&Et,ct++,We[qe+ct]=255&kt,ct++,De(We,qe+ct,Kt),ct+=4,pe(We,qe+ct,lt),ct+=2,pe(We,qe+ct,Se),ct+=2,We[qe+ct]=255&vr,ct++,ur>=255?We[qe+ct]=255:We[qe+ct]=255&ur,ct++,We[qe+ct]=255&ft>>4,We[qe+ct+1]=255&(ft<<4)+(bt>>8),We[qe+ct+2]=255&bt,ct+=3,We[qe+ct]=255&yt,ct++,We[qe+ct++]=0,pe(We,qe+ct,Oe.preset),ct+=2,De(We,qe+ct,Ve),ct+=4,pe(We,qe+ct,wt),ct+=2;for(var Ar=0;Ar<ct;Ar++)Ge=Ze(We[qe+Ar],Ge);return pe(We,qe+ct,Ge),ct+=2,ct}function rt(Oe){Oe.seek(0);var Ve=ce(10);Oe.readFully(Ve);var We;return new String(Ve,"ISO-8859-1").startsWith("ID3")?We=0:We=((Ve[6]&127)<<21|(Ve[7]&127)<<14|(Ve[8]&127)<<7|Ve[9]&127)+Ve.length,We}this.getLameTagFrame=function(Oe,Ve){var We=Oe.internal_flags;if(!Oe.bWriteVbrTag||We.Class_ID!=Lame.LAME_ID||We.VBR_seek_table.pos<=0)return 0;if(Ve.length<We.VBR_seek_table.TotalFrameSize)return We.VBR_seek_table.TotalFrameSize;fe.fill(Ve,0,We.VBR_seek_table.TotalFrameSize,0),Ce(Oe,Ve);var qe=ce(Re);if(Oe.free_format)for(var Ge=1;Ge<Re;++Ge)qe[Ge]=255&255*Ge/100;else Fe(We.VBR_seek_table,qe);var Qe=We.sideinfo_len;Oe.error_protection&&(Qe-=2),Oe.VBR==ie.vbr_off?(Ve[Qe++]=255&xe.charAt(0),Ve[Qe++]=255&xe.charAt(1),Ve[Qe++]=255&xe.charAt(2),Ve[Qe++]=255&xe.charAt(3)):(Ve[Qe++]=255&he.charAt(0),Ve[Qe++]=255&he.charAt(1),Ve[Qe++]=255&he.charAt(2),Ve[Qe++]=255&he.charAt(3)),De(Ve,Qe,Ae+we+Me+ke),Qe+=4,De(Ve,Qe,We.VBR_seek_table.nVbrNumFrames),Qe+=4;var ct=We.VBR_seek_table.nBytesWritten+We.VBR_seek_table.TotalFrameSize;De(Ve,Qe,0|ct),Qe+=4,ne.arraycopy(qe,0,Ve,Qe,qe.length),Qe+=qe.length,Oe.error_protection&&_e.CRC_writeheader(We,Ve);for(var ft=0,Ge=0;Ge<Qe;Ge++)ft=Ze(Ve[Ge],ft);return Qe+=it(Oe,ct,Ve,Qe,ft),We.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(Oe,Ve){var We=Oe.internal_flags;if(We.VBR_seek_table.pos<=0||(Ve.seek(Ve.length()),Ve.length()==0))return-1;var qe=rt(Ve);Ve.seek(qe);var Ge=ce(ze),Qe=getLameTagFrame(Oe,Ge);return Qe>Ge.length?-1:(Qe<1||Ve.write(Ge,0,Qe),0)}}ee.exports=ye},2367:ee=>{function te(){var b="http://www.mp3dev.org/",re=3,ne=98,ie=4,se=0,fe=93;this.getLameVersion=function(){return re+"."+ne+"."+ie},this.getLameShortVersion=function(){return re+"."+ne+"."+ie},this.getLameVeryShortVersion=function(){return"LAME"+re+"."+ne+"r"},this.getPsyVersion=function(){return se+"."+fe},this.getLameUrl=function(){return b},this.getLameOsBitness=function(){return"32bits"}}ee.exports=te},935:ee=>{function te(ke){return new Int8Array(ke)}function b(ke){return new Int16Array(ke)}function re(ke){return new Int32Array(ke)}function ne(ke){return new Float32Array(ke)}function ie(ke){return new Float64Array(ke)}function se(ke){if(ke.length==1)return ne(ke[0]);var Re=ke[0];ke=ke.slice(1);for(var ze=[],Je=0;Je<Re;Je++)ze.push(se(ke));return ze}function fe(ke){if(ke.length==1)return re(ke[0]);var Re=ke[0];ke=ke.slice(1);for(var ze=[],Je=0;Je<Re;Je++)ze.push(fe(ke));return ze}function ce(ke){if(ke.length==1)return b(ke[0]);var Re=ke[0];ke=ke.slice(1);for(var ze=[],Je=0;Je<Re;Je++)ze.push(ce(ke));return ze}function de(ke){if(ke.length==1)return new Array(ke[0]);var Re=ke[0];ke=ke.slice(1);for(var ze=[],Je=0;Je<Re;Je++)ze.push(de(ke));return ze}var ye={};ye.fill=function(ke,Re,ze,Je){if(arguments.length==2)for(var et=0;et<ke.length;et++)ke[et]=arguments[1];else for(var et=Re;et<ze;et++)ke[et]=Je};var ge={};ge.arraycopy=function(ke,Re,ze,Je,et){for(var Pe=Re+et;Re<Pe;)ze[Je++]=ke[Re++]};var _e={};_e.SQRT2=1.4142135623730951,_e.FAST_LOG10=function(ke){return Math.log10(ke)},_e.FAST_LOG10_X=function(ke,Re){return Math.log10(ke)*Re};function Ee(ke){this.ordinal=ke}Ee.short_block_allowed=new Ee(0),Ee.short_block_coupled=new Ee(1),Ee.short_block_dispensed=new Ee(2),Ee.short_block_forced=new Ee(3);var Ae={};Ae.MAX_VALUE=34028235e31;function we(ke){this.ordinal=ke}we.vbr_off=new we(0),we.vbr_mt=new we(1),we.vbr_rh=new we(2),we.vbr_abr=new we(3),we.vbr_mtrh=new we(4),we.vbr_default=we.vbr_mtrh;var Me=function(ke){};ee.exports={System:ge,VbrMode:we,Float:Ae,ShortBlock:Ee,Util:_e,Arrays:ye,new_array_n:de,new_byte:te,new_double:ie,new_float:ne,new_float_n:se,new_int:re,new_int_n:fe,new_short:b,new_short_n:ce,assert:Me}},5644:(ee,te,b)=>{var re=b(935);re.System,re.VbrMode,re.Float,re.ShortBlock,re.Util,re.Arrays,re.new_array_n;var ne=re.new_byte;re.new_double,re.new_float,re.new_float_n,re.new_int,re.new_int_n;var ie=re.assert;Lame=b(4566),Presets=b(9457),GainAnalysis=b(1287),QuantizePVT=b(429),Quantize=b(9833),Takehiro=b(5638),Reservoir=b(3060),MPEGMode=b(8231),BitStream=b(3724),b(687);var se=b(2367),fe=b(3398);function ce(){this.setModules=function(we,Me){}}function de(){this.setModules=function(we,Me,ke){}}function ye(){}function ge(){this.setModules=function(we,Me){}}function _e(we,Me,ke){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),we=1,Me=44100,ke=128);var Re=new Lame,ze=new ce,Je=new GainAnalysis,et=new BitStream,Pe=new Presets,ve=new QuantizePVT,le=new Quantize,ae=new fe,he=new se,xe=new ge,$e=new Reservoir,He=new Takehiro,Fe=new de,Ne=new ye;Re.setModules(Je,et,Pe,ve,le,ae,he,xe,Ne),et.setModules(Je,Ne,he,ae),xe.setModules(et,he),Pe.setModules(Re),le.setModules(et,$e,ve,He),ve.setModules(He,$e,Re.enc.psy),$e.setModules(et),He.setModules(ve),ae.setModules(Re,et,he),ze.setModules(Fe,Ne),Fe.setModules(he,xe,Pe);var De=Re.lame_init();De.num_channels=we,De.in_samplerate=Me,De.brate=ke,De.mode=MPEGMode.STEREO,De.quality=3,De.bWriteVbrTag=!1,De.disable_reservoir=!0,De.write_id3tag_automatic=!1;var pe=Re.lame_init_params(De);ie(pe==0);var Le=1152,Be=0|1.25*Le+7200,Ce=ne(Be);this.encodeBuffer=function(Ze,it){we==1&&(it=Ze),ie(Ze.length==it.length),Ze.length>Le&&(Le=Ze.length,Be=0|1.25*Le+7200,Ce=ne(Be));var rt=Re.lame_encode_buffer(De,Ze,it,Ze.length,Ce,0,Be);return new Int8Array(Ce.subarray(0,rt))},this.flush=function(){var Ze=Re.lame_encode_flush(De,Ce,0,Be);return new Int8Array(Ce.subarray(0,Ze))}}function Ee(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function Ae(we){return we.charCodeAt(0)<<24|we.charCodeAt(1)<<16|we.charCodeAt(2)<<8|we.charCodeAt(3)}Ee.RIFF=Ae("RIFF"),Ee.WAVE=Ae("WAVE"),Ee.fmt_=Ae("fmt "),Ee.data=Ae("data"),Ee.readHeader=function(we){var Me=new Ee,ke=we.getUint32(0,!1);if(Ee.RIFF==ke&&(we.getUint32(4,!0),Ee.WAVE==we.getUint32(8,!1)&&Ee.fmt_==we.getUint32(12,!1))){var Re=we.getUint32(16,!0),ze=16+4;switch(Re){case 16:case 18:Me.channels=we.getUint16(ze+2,!0),Me.sampleRate=we.getUint32(ze+4,!0);break;default:throw"extended fmt chunk not implemented"}ze+=Re;for(var Je=Ee.data,et=0;Je!=ke&&(ke=we.getUint32(ze,!1),et=we.getUint32(ze+4,!0),Je!=ke);)ze+=et+8;return Me.dataLen=et,Me.dataOffset=ze+8,Me}},ee.exports.Mp3Encoder=_e,ee.exports.WavHeader=Ee},5235:(ee,te,b)=>{ee.exports=b(8425)},8425:(ee,te,b)=>{te.__esModule=!0,te.tokenize=te.test=te.scanner=te.parser=te.options=te.inherits=te.find=void 0;var re=b(2227),ne=b(7951),ie=ye(ne),se=b(6417),fe=ye(se),ce=b(5788),de=ye(ce);function ye(Ae){if(Ae&&Ae.__esModule)return Ae;var we={};if(Ae!=null)for(var Me in Ae)Object.prototype.hasOwnProperty.call(Ae,Me)&&(we[Me]=Ae[Me]);return we.default=Ae,we}Array.isArray||(Array.isArray=function(Ae){return Object.prototype.toString.call(Ae)==="[object Array]"});var ge=function(we){return de.run(fe.run(we))},_e=function(we){for(var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ke=ge(we),Re=[],ze=0;ze<ke.length;ze++){var Je=ke[ze];Je.isLink&&(!Me||Je.type===Me)&&Re.push(Je.toObject())}return Re},Ee=function(we){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,ke=ge(we);return ke.length===1&&ke[0].isLink&&(!Me||ke[0].type===Me)};te.find=_e,te.inherits=re.inherits,te.options=ie,te.parser=de,te.scanner=fe,te.test=Ee,te.tokenize=ge},5788:(ee,te,b)=>{te.__esModule=!0,te.start=te.run=te.TOKENS=te.State=void 0;var re=b(5439),ne=b(3370),ie=fe(ne),se=b(3333);function fe(bt){if(bt&&bt.__esModule)return bt;var St={};if(bt!=null)for(var xt in bt)Object.prototype.hasOwnProperty.call(bt,xt)&&(St[xt]=bt[xt]);return St.default=bt,St}var ce=function(St){return new re.TokenState(St)},de=ce(),ye=ce(),ge=ce(),_e=ce(),Ee=ce(),Ae=ce(),we=ce(),Me=ce(ne.URL),ke=ce(),Re=ce(ne.URL),ze=ce(ne.URL),Je=ce(),et=ce(),Pe=ce(),ve=ce(),le=ce(),ae=ce(ne.URL),he=ce(ne.URL),xe=ce(ne.URL),$e=ce(ne.URL),He=ce(),Fe=ce(),Ne=ce(),De=ce(),pe=ce(),Le=ce(),Be=ce(ne.EMAIL),Ce=ce(),Ze=ce(ne.EMAIL),it=ce(ne.MAILTOEMAIL),rt=ce(),Oe=ce(),Ve=ce(),We=ce(),qe=ce(ne.NL);de.on(se.NL,qe).on(se.PROTOCOL,ye).on(se.MAILTO,ge).on(se.SLASH,_e),ye.on(se.SLASH,_e),_e.on(se.SLASH,Ee),de.on(se.TLD,Ae).on(se.DOMAIN,Ae).on(se.LOCALHOST,Me).on(se.NUM,Ae),Ee.on(se.TLD,ze).on(se.DOMAIN,ze).on(se.NUM,ze).on(se.LOCALHOST,ze),Ae.on(se.DOT,we),pe.on(se.DOT,Le),we.on(se.TLD,Me).on(se.DOMAIN,Ae).on(se.NUM,Ae).on(se.LOCALHOST,Ae),Le.on(se.TLD,Be).on(se.DOMAIN,pe).on(se.NUM,pe).on(se.LOCALHOST,pe),Me.on(se.DOT,we),Be.on(se.DOT,Le),Me.on(se.COLON,ke).on(se.SLASH,ze),ke.on(se.NUM,Re),Re.on(se.SLASH,ze),Be.on(se.COLON,Ce),Ce.on(se.NUM,Ze);var Ge=[se.DOMAIN,se.AT,se.LOCALHOST,se.NUM,se.PLUS,se.POUND,se.PROTOCOL,se.SLASH,se.TLD,se.UNDERSCORE,se.SYM,se.AMPERSAND],Qe=[se.COLON,se.DOT,se.QUERY,se.PUNCTUATION,se.CLOSEBRACE,se.CLOSEBRACKET,se.CLOSEANGLEBRACKET,se.CLOSEPAREN,se.OPENBRACE,se.OPENBRACKET,se.OPENANGLEBRACKET,se.OPENPAREN];ze.on(se.OPENBRACE,et).on(se.OPENBRACKET,Pe).on(se.OPENANGLEBRACKET,ve).on(se.OPENPAREN,le),Je.on(se.OPENBRACE,et).on(se.OPENBRACKET,Pe).on(se.OPENANGLEBRACKET,ve).on(se.OPENPAREN,le),et.on(se.CLOSEBRACE,ze),Pe.on(se.CLOSEBRACKET,ze),ve.on(se.CLOSEANGLEBRACKET,ze),le.on(se.CLOSEPAREN,ze),ae.on(se.CLOSEBRACE,ze),he.on(se.CLOSEBRACKET,ze),xe.on(se.CLOSEANGLEBRACKET,ze),$e.on(se.CLOSEPAREN,ze),He.on(se.CLOSEBRACE,ze),Fe.on(se.CLOSEBRACKET,ze),Ne.on(se.CLOSEANGLEBRACKET,ze),De.on(se.CLOSEPAREN,ze),et.on(Ge,ae),Pe.on(Ge,he),ve.on(Ge,xe),le.on(Ge,$e),et.on(Qe,He),Pe.on(Qe,Fe),ve.on(Qe,Ne),le.on(Qe,De),ae.on(Ge,ae),he.on(Ge,he),xe.on(Ge,xe),$e.on(Ge,$e),ae.on(Qe,ae),he.on(Qe,he),xe.on(Qe,xe),$e.on(Qe,$e),He.on(Ge,ae),Fe.on(Ge,he),Ne.on(Ge,xe),De.on(Ge,$e),He.on(Qe,He),Fe.on(Qe,Fe),Ne.on(Qe,Ne),De.on(Qe,De),ze.on(Ge,ze),Je.on(Ge,ze),ze.on(Qe,Je),Je.on(Qe,Je),ge.on(se.TLD,it).on(se.DOMAIN,it).on(se.NUM,it).on(se.LOCALHOST,it),it.on(Ge,it).on(Qe,rt),rt.on(Ge,it).on(Qe,rt);var ct=[se.DOMAIN,se.NUM,se.PLUS,se.POUND,se.QUERY,se.UNDERSCORE,se.SYM,se.AMPERSAND,se.TLD];Ae.on(ct,Oe).on(se.AT,Ve),Me.on(ct,Oe).on(se.AT,Ve),we.on(ct,Oe),Oe.on(ct,Oe).on(se.AT,Ve).on(se.DOT,We),We.on(ct,Oe),Ve.on(se.TLD,pe).on(se.DOMAIN,pe).on(se.LOCALHOST,Be);var ft=function(St){for(var xt=St.length,$t=0,It=[],Et=[];$t<xt;){for(var At=de,kt=null,Kt=null,lt=0,Se=null,me=-1;$t<xt&&!(kt=At.next(St[$t]));)Et.push(St[$t++]);for(;$t<xt&&(Kt=kt||At.next(St[$t]));)kt=null,At=Kt,At.accepts()?(me=0,Se=At):me>=0&&me++,$t++,lt++;if(me<0)for(var be=$t-lt;be<$t;be++)Et.push(St[be]);else{Et.length>0&&(It.push(new ne.TEXT(Et)),Et=[]),$t-=me,lt-=me;var Ye=Se.emit();It.push(new Ye(St.slice($t-lt,$t)))}}return Et.length>0&&It.push(new ne.TEXT(Et)),It};te.State=re.TokenState,te.TOKENS=ie,te.run=ft,te.start=de},6417:(ee,te,b)=>{te.__esModule=!0,te.start=te.run=te.TOKENS=te.State=void 0;var re=b(5439),ne=b(3333),ie=se(ne);function se(Be){if(Be&&Be.__esModule)return Be;var Ce={};if(Be!=null)for(var Ze in Be)Object.prototype.hasOwnProperty.call(Be,Ze)&&(Ce[Ze]=Be[Ze]);return Ce.default=Be,Ce}var fe="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),ce="0123456789".split(""),de="0123456789abcdefghijklmnopqrstuvwxyz".split(""),ye=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],ge=[],_e=function(Ce){return new re.CharacterState(Ce)},Ee=_e(),Ae=_e(ne.NUM),we=_e(ne.DOMAIN),Me=_e(),ke=_e(ne.WS);Ee.on("@",_e(ne.AT)).on(".",_e(ne.DOT)).on("+",_e(ne.PLUS)).on("#",_e(ne.POUND)).on("?",_e(ne.QUERY)).on("/",_e(ne.SLASH)).on("_",_e(ne.UNDERSCORE)).on(":",_e(ne.COLON)).on("{",_e(ne.OPENBRACE)).on("[",_e(ne.OPENBRACKET)).on("<",_e(ne.OPENANGLEBRACKET)).on("(",_e(ne.OPENPAREN)).on("}",_e(ne.CLOSEBRACE)).on("]",_e(ne.CLOSEBRACKET)).on(">",_e(ne.CLOSEANGLEBRACKET)).on(")",_e(ne.CLOSEPAREN)).on("&",_e(ne.AMPERSAND)).on([",",";","!",'"',"'"],_e(ne.PUNCTUATION)),Ee.on(`
`,_e(ne.NL)).on(ye,ke),ke.on(ye,ke);for(var Re=0;Re<fe.length;Re++){var ze=(0,re.stateify)(fe[Re],Ee,ne.TLD,ne.DOMAIN);ge.push.apply(ge,ze)}var Je=(0,re.stateify)("file",Ee,ne.DOMAIN,ne.DOMAIN),et=(0,re.stateify)("ftp",Ee,ne.DOMAIN,ne.DOMAIN),Pe=(0,re.stateify)("http",Ee,ne.DOMAIN,ne.DOMAIN),ve=(0,re.stateify)("mailto",Ee,ne.DOMAIN,ne.DOMAIN);ge.push.apply(ge,Je),ge.push.apply(ge,et),ge.push.apply(ge,Pe),ge.push.apply(ge,ve);var le=Je.pop(),ae=et.pop(),he=Pe.pop(),xe=ve.pop(),$e=_e(ne.DOMAIN),He=_e(ne.PROTOCOL),Fe=_e(ne.MAILTO);ae.on("s",$e).on(":",He),he.on("s",$e).on(":",He),ge.push($e),le.on(":",He),$e.on(":",He),xe.on(":",Fe);var Ne=(0,re.stateify)("localhost",Ee,ne.LOCALHOST,ne.DOMAIN);ge.push.apply(ge,Ne),Ee.on(ce,Ae),Ae.on("-",Me).on(ce,Ae).on(de,we),we.on("-",Me).on(de,we);for(var De=0;De<ge.length;De++)ge[De].on("-",Me).on(de,we);Me.on("-",Me).on(ce,we).on(de,we),Ee.defaultTransition=_e(ne.SYM);var pe=function(Ce){for(var Ze=Ce.replace(/[A-Z]/g,function(ft){return ft.toLowerCase()}),it=Ce.length,rt=[],Oe=0;Oe<it;){for(var Ve=Ee,We=null,qe=0,Ge=null,Qe=-1;Oe<it&&(We=Ve.next(Ze[Oe]));)Ve=We,Ve.accepts()?(Qe=0,Ge=Ve):Qe>=0&&Qe++,qe++,Oe++;if(!(Qe<0)){Oe-=Qe,qe-=Qe;var ct=Ge.emit();rt.push(new ct(Ce.substr(Oe-qe,qe)))}}return rt},Le=Ee;te.State=re.CharacterState,te.TOKENS=ie,te.run=pe,te.start=Le},5439:(ee,te,b)=>{te.__esModule=!0,te.stateify=te.TokenState=te.CharacterState=void 0;var re=b(2227);function ne(){return function(de){this.j=[],this.T=de||null}}var ie=ne();ie.prototype={defaultTransition:!1,on:function(ye,ge){if(ye instanceof Array){for(var _e=0;_e<ye.length;_e++)this.j.push([ye[_e],ge]);return this}return this.j.push([ye,ge]),this},next:function(ye){for(var ge=0;ge<this.j.length;ge++){var _e=this.j[ge],Ee=_e[0],Ae=_e[1];if(this.test(ye,Ee))return Ae}return this.defaultTransition},accepts:function(){return!!this.T},test:function(ye,ge){return ye===ge},emit:function(){return this.T}};var se=(0,re.inherits)(ie,ne(),{test:function(ye,ge){return ye===ge||ge instanceof RegExp&&ge.test(ye)}}),fe=(0,re.inherits)(ie,ne(),{jump:function(ye){var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_e=this.next(new ye(""));return _e===this.defaultTransition?(_e=new this.constructor(ge),this.on(ye,_e)):ge&&(_e.T=ge),_e},test:function(ye,ge){return ye instanceof ge}});function ce(de,ye,ge,_e){for(var Ee=0,Ae=de.length,we=ye,Me=[],ke=void 0;Ee<Ae&&(ke=we.next(de[Ee]));)we=ke,Ee++;if(Ee>=Ae)return[];for(;Ee<Ae-1;)ke=new se(_e),Me.push(ke),we.on(de[Ee],ke),we=ke,Ee++;return ke=new se(ge),Me.push(ke),we.on(de[Ae-1],ke),Me}te.CharacterState=se,te.TokenState=fe,te.stateify=ce},9770:(ee,te)=>{te.__esModule=!0;function b(){return function(re){re&&(this.v=re)}}te.createTokenClass=b},3370:(ee,te,b)=>{te.__esModule=!0,te.URL=te.TEXT=te.NL=te.EMAIL=te.MAILTOEMAIL=te.Base=void 0;var re=b(9770),ne=b(2227),ie=b(3333);function se(Ee){return Ee instanceof ie.DOMAIN||Ee instanceof ie.TLD}var fe=(0,re.createTokenClass)();fe.prototype={type:"token",isLink:!1,toString:function(){for(var Ae=[],we=0;we<this.v.length;we++)Ae.push(this.v[we].toString());return Ae.join("")},toHref:function(){return this.toString()},toObject:function(){var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(Ae)}}};var ce=(0,ne.inherits)(fe,(0,re.createTokenClass)(),{type:"email",isLink:!0}),de=(0,ne.inherits)(fe,(0,re.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),ye=(0,ne.inherits)(fe,(0,re.createTokenClass)(),{type:"text"}),ge=(0,ne.inherits)(fe,(0,re.createTokenClass)(),{type:"nl"}),_e=(0,ne.inherits)(fe,(0,re.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var Ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",we=!1,Me=!1,ke=this.v,Re=[],ze=0;ke[ze]instanceof ie.PROTOCOL;)we=!0,Re.push(ke[ze].toString().toLowerCase()),ze++;for(;ke[ze]instanceof ie.SLASH;)Me=!0,Re.push(ke[ze].toString()),ze++;for(;se(ke[ze]);)Re.push(ke[ze].toString().toLowerCase()),ze++;for(;ze<ke.length;ze++)Re.push(ke[ze].toString());return Re=Re.join(""),we||Me||(Re=Ae+"://"+Re),Re},hasProtocol:function(){return this.v[0]instanceof ie.PROTOCOL}});te.Base=fe,te.MAILTOEMAIL=ce,te.EMAIL=de,te.NL=ge,te.TEXT=ye,te.URL=_e},3333:(ee,te,b)=>{te.__esModule=!0,te.AMPERSAND=te.CLOSEPAREN=te.CLOSEANGLEBRACKET=te.CLOSEBRACKET=te.CLOSEBRACE=te.OPENPAREN=te.OPENANGLEBRACKET=te.OPENBRACKET=te.OPENBRACE=te.WS=te.TLD=te.SYM=te.UNDERSCORE=te.SLASH=te.MAILTO=te.PROTOCOL=te.QUERY=te.POUND=te.PLUS=te.NUM=te.NL=te.LOCALHOST=te.PUNCTUATION=te.DOT=te.COLON=te.AT=te.DOMAIN=te.Base=void 0;var re=b(9770),ne=b(2227),ie=(0,re.createTokenClass)();ie.prototype={toString:function(){return this.v+""}};function se(Le){var Be=Le?{v:Le}:{};return(0,ne.inherits)(ie,(0,re.createTokenClass)(),Be)}var fe=se(),ce=se("@"),de=se(":"),ye=se("."),ge=se(),_e=se(),Ee=se(`
`),Ae=se(),we=se("+"),Me=se("#"),ke=se(),Re=se("mailto:"),ze=se("?"),Je=se("/"),et=se("_"),Pe=se(),ve=se(),le=se(),ae=se("{"),he=se("["),xe=se("<"),$e=se("("),He=se("}"),Fe=se("]"),Ne=se(">"),De=se(")"),pe=se("&");te.Base=ie,te.DOMAIN=fe,te.AT=ce,te.COLON=de,te.DOT=ye,te.PUNCTUATION=ge,te.LOCALHOST=_e,te.NL=Ee,te.NUM=Ae,te.PLUS=we,te.POUND=Me,te.QUERY=ze,te.PROTOCOL=ke,te.MAILTO=Re,te.SLASH=Je,te.UNDERSCORE=et,te.SYM=Pe,te.TLD=ve,te.WS=le,te.OPENBRACE=ae,te.OPENBRACKET=he,te.OPENANGLEBRACKET=xe,te.OPENPAREN=$e,te.CLOSEBRACE=He,te.CLOSEBRACKET=Fe,te.CLOSEANGLEBRACKET=Ne,te.CLOSEPAREN=De,te.AMPERSAND=pe},2227:(ee,te)=>{te.__esModule=!0,te.inherits=b;function b(re,ne){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},se=Object.create(re.prototype);for(var fe in ie)se[fe]=ie[fe];return se.constructor=ne,ne.prototype=se,ne}},7951:(ee,te)=>{te.__esModule=!0;var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},re={defaultProtocol:"http",events:null,format:se,formatHref:se,nl2br:!1,tagName:"a",target:fe,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};te.defaults=re,te.Options=ne,te.contains=ie;function ne(ce){ce=ce||{},this.defaultProtocol=ce.hasOwnProperty("defaultProtocol")?ce.defaultProtocol:re.defaultProtocol,this.events=ce.hasOwnProperty("events")?ce.events:re.events,this.format=ce.hasOwnProperty("format")?ce.format:re.format,this.formatHref=ce.hasOwnProperty("formatHref")?ce.formatHref:re.formatHref,this.nl2br=ce.hasOwnProperty("nl2br")?ce.nl2br:re.nl2br,this.tagName=ce.hasOwnProperty("tagName")?ce.tagName:re.tagName,this.target=ce.hasOwnProperty("target")?ce.target:re.target,this.validate=ce.hasOwnProperty("validate")?ce.validate:re.validate,this.ignoreTags=[],this.attributes=ce.attributes||ce.linkAttributes||re.attributes,this.className=ce.hasOwnProperty("className")?ce.className:ce.linkClass||re.className;for(var de=ce.hasOwnProperty("ignoreTags")?ce.ignoreTags:re.ignoreTags,ye=0;ye<de.length;ye++)this.ignoreTags.push(de[ye].toUpperCase())}ne.prototype={resolve:function(de){var ye=de.toHref(this.defaultProtocol);return{formatted:this.get("format",de.toString(),de),formattedHref:this.get("formatHref",ye,de),tagName:this.get("tagName",ye,de),className:this.get("className",ye,de),target:this.get("target",ye,de),events:this.getObject("events",ye,de),attributes:this.getObject("attributes",ye,de)}},check:function(de){return this.get("validate",de.toString(),de)},get:function(de,ye,ge){var _e=void 0,Ee=this[de];if(!Ee)return Ee;switch(typeof Ee>"u"?"undefined":b(Ee)){case"function":return Ee(ye,ge.type);case"object":return _e=Ee.hasOwnProperty(ge.type)?Ee[ge.type]:re[de],typeof _e=="function"?_e(ye,ge.type):_e}return Ee},getObject:function(de,ye,ge){var _e=this[de];return typeof _e=="function"?_e(ye,ge.type):_e}};function ie(ce,de){for(var ye=0;ye<ce.length;ye++)if(ce[ye]===de)return!0;return!1}function se(ce){return ce}function fe(ce,de){return de==="url"?"_blank":null}},9085:(ee,te,b)=>{b.d(te,{Go:()=>ie,jn:()=>ne,v5:()=>re});var re=["png","jpg","jpeg","webp","svg","gif"],ne=["mp4","video/ogg","webm","quicktime"],ie=["mp3","audio/ogg","wav","mpeg"]},9706:(ee,te,b)=>{b.r(te),b.d(te,{messagesValidation:()=>se,partcipantsValidation:()=>ie,roomsValidation:()=>ne});var re=b(3336);b(6541),b(1539),b(9753),b(9826),b(1703),b(6647);function ne(ce){var de=[{key:"roomId",type:["string","number"]},{key:"roomName",type:["string"]},{key:"users",type:["array"]}],ye=function(_e,Ee){return Ee.every(function(Ae){var we=!1;return(Ae.type[0]==="array"&&Array.isArray(_e[Ae.key])||Ae.type.find(function(Me){return Me===(0,re.Z)(_e[Ae.key])}))&&(we=!0),we&&fe(_e,Ae.key)})};if(!ye(ce,de))throw new Error("Rooms object is not valid! Must contain roomId[String, Number], roomName[String] and users[Array]")}function ie(ce){var de=[{key:"_id",type:["string","number"]},{key:"username",type:["string"]}],ye=function(_e,Ee){return Ee.every(function(Ae){var we=Ae.type.find(function(Me){return Me===(0,re.Z)(_e[Ae.key])});return we&&fe(_e,Ae.key)})};if(!ye(ce,de))throw new Error("Participants object is not valid! Must contain _id[String, Number] and username[String]")}function se(ce){var de=[{key:"_id",type:["string","number"]},{key:"content",type:["string","number"]},{key:"senderId",type:["string","number"]}],ye=function(_e,Ee){return Ee.every(function(Ae){var we=Ae.type.find(function(Me){return Me===(0,re.Z)(_e[Ae.key])});return we&&fe(_e,Ae.key)})};if(!ye(ce,de))throw new Error("Messages object is not valid! Must contain _id[String, Number], content[String, Number] and senderId[String, Number]")}function fe(ce,de){return Object.prototype.hasOwnProperty.call(ce,de)&&ce[de]!==null&&ce[de]!==void 0}},8438:(ee,te,b)=>{b.r(te),b.d(te,{isAudioFile:()=>ce,isImageFile:()=>ie,isImageVideoFile:()=>fe,isVideoFile:()=>se}),b(5212),b(1539),b(6699),b(2023);var re=b(9085);function ne(de,ye){if(!(!ye||!ye.type))return de.some(function(ge){return ye.type.toLowerCase().includes(ge)})}function ie(de){return ne(re.v5,de)}function se(de){return ne(re.jn,de)}function fe(de){return ne(re.v5,de)||ne(re.jn,de)}function ce(de){return ne(re.Go,de)}},8772:(ee,te,b)=>{b.r(te),b.d(te,{detectMobile:()=>re}),b(3650),b(4916),b(7601),b(1703),b(6647);function re(){var ie=ne(),se=ie.substr(0,4);return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ie)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw(n|u)|c55\/|capi|ccwa|cdm|cell|chtm|cldc|cmd|co(mp|nd)|craw|da(it|ll|ng)|dbte|dcs|devi|dica|dmob|do(c|p)o|ds(12|d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(|_)|g1 u|g560|gene|gf5|gmo|go(\.w|od)|gr(ad|un)|haie|hcit|hd(m|p|t)|hei|hi(pt|ta)|hp( i|ip)|hsc|ht(c(| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i(20|go|ma)|i230|iac( ||\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|[a-w])|libw|lynx|m1w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|mcr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|([1-8]|c))|phil|pire|pl(ay|uc)|pn2|po(ck|rt|se)|prox|psio|ptg|qaa|qc(07|12|21|32|60|[2-7]|i)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h|oo|p)|sdk\/|se(c(|0|1)|47|mc|nd|ri)|sgh|shar|sie(|m)|sk0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h|v|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl|tdg|tel(i|m)|tim|tmo|to(pl|sh)|ts(70|m|m3|m5)|tx9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas|your|zeto|zte/i.test(se)}function ne(){var ie=navigator.userAgent||navigator.vendor||window.opera||null;if(!ie)throw new Error("Failed to look for user agent information.");return ie}},3336:(ee,te,b)=>{b.d(te,{Z:()=>re}),b(2526),b(1817),b(1539),b(2165),b(6992),b(8783),b(3948);function re(ne){return re=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},re(ne)}}},d={};function m(ee){var te=d[ee];if(te!==void 0)return te.exports;var b=d[ee]={exports:{}};return a[ee](b,b.exports,m),b.exports}m.n=ee=>{var te=ee&&ee.__esModule?()=>ee.default:()=>ee;return m.d(te,{a:te}),te},m.d=(ee,te)=>{for(var b in te)m.o(te,b)&&!m.o(ee,b)&&Object.defineProperty(ee,b,{enumerable:!0,get:te[b]})},m.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),m.o=(ee,te)=>Object.prototype.hasOwnProperty.call(ee,te),m.r=ee=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ee,"__esModule",{value:!0})},m.p="";var $={};(()=>{if(m.r($),m.d($,{default:()=>Rh}),typeof window<"u"){var ee=window.document.currentScript,te=ee&&ee.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);te&&(m.p=te[1])}m(9070);const b=require$$0;var re={class:"vac-chat-container"};function ne(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("rooms-list"),qt=(0,b.resolveComponent)("room"),cr=(0,b.resolveComponent)("media-preview");return(0,b.openBlock)(),(0,b.createElementBlock)("div",{class:"vac-card-window",style:(0,b.normalizeStyle)([{height:Ie.height},vt.cssVars])},[(0,b.createElementVNode)("div",re,[Ie.singleRoom?(0,b.createCommentVNode)("",!0):((0,b.openBlock)(),(0,b.createBlock)(Vt,{key:0,"current-user-id":Ie.currentUserId,rooms:vt.orderedRooms,"loading-rooms":Ie.loadingRooms,"rooms-loaded":Ie.roomsLoaded,room:_t.room,"room-actions":Ie.roomActions,"text-messages":vt.t,"show-search":Ie.showSearch,"show-add-room":Ie.showAddRoom,"show-rooms-list":_t.showRoomsList,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,"is-mobile":_t.isMobile,"scroll-distance":Ie.scrollDistance,onFetchRoom:vt.fetchRoom,onFetchMoreRooms:vt.fetchMoreRooms,onLoadingMoreRooms:Te[0]||(Te[0]=function(Wt){return _t.loadingMoreRooms=Wt}),onAddRoom:vt.addRoom,onRoomActionHandler:vt.roomActionHandler},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["current-user-id","rooms","loading-rooms","rooms-loaded","room","room-actions","text-messages","show-search","show-add-room","show-rooms-list","text-formatting","link-options","is-mobile","scroll-distance","onFetchRoom","onFetchMoreRooms","onAddRoom","onRoomActionHandler"])),(0,b.createVNode)(qt,{"current-user-id":Ie.currentUserId,rooms:Ie.rooms,"room-id":_t.room.roomId||"","load-first-room":Ie.loadFirstRoom,messages:Ie.messages,"room-message":Ie.roomMessage,"messages-loaded":Ie.messagesLoaded,"menu-actions":Ie.menuActions,"message-actions":Ie.messageActions,"message-selection-actions":Ie.messageSelectionActions,"auto-scroll":Ie.autoScroll,"show-send-icon":Ie.showSendIcon,"show-files":Ie.showFiles,"show-audio":Ie.showAudio,"audio-bit-rate":Ie.audioBitRate,"audio-sample-rate":Ie.audioSampleRate,"show-emojis":Ie.showEmojis,"show-reaction-emojis":Ie.showReactionEmojis,"show-new-messages-divider":Ie.showNewMessagesDivider,"show-footer":Ie.showFooter,"text-messages":vt.t,"single-room":Ie.singleRoom,"show-rooms-list":_t.showRoomsList,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,"is-mobile":_t.isMobile,"loading-rooms":Ie.loadingRooms,"room-info-enabled":Ie.roomInfoEnabled,"textarea-action-enabled":Ie.textareaActionEnabled,"textarea-auto-focus":Ie.textareaAutoFocus,"user-tags-enabled":Ie.userTagsEnabled,"emojis-suggestion-enabled":Ie.emojisSuggestionEnabled,"scroll-distance":Ie.scrollDistance,"accepted-files":Ie.acceptedFiles,"templates-text":Ie.templatesText,"username-options":Ie.usernameOptions,onToggleRoomsList:vt.toggleRoomsList,onRoomInfo:vt.roomInfo,onFetchMessages:vt.fetchMessages,onSendMessage:vt.sendMessage,onEditMessage:vt.editMessage,onDeleteMessage:vt.deleteMessage,onOpenFile:vt.openFile,onOpenUserTag:vt.openUserTag,onOpenFailedMessage:vt.openFailedMessage,onMenuActionHandler:vt.menuActionHandler,onMessageActionHandler:vt.messageActionHandler,onMessageSelectionActionHandler:vt.messageSelectionActionHandler,onSendMessageReaction:vt.sendMessageReaction,onTypingMessage:vt.typingMessage,onTextareaActionHandler:vt.textareaActionHandler},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["current-user-id","rooms","room-id","load-first-room","messages","room-message","messages-loaded","menu-actions","message-actions","message-selection-actions","auto-scroll","show-send-icon","show-files","show-audio","audio-bit-rate","audio-sample-rate","show-emojis","show-reaction-emojis","show-new-messages-divider","show-footer","text-messages","single-room","show-rooms-list","text-formatting","link-options","is-mobile","loading-rooms","room-info-enabled","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","scroll-distance","accepted-files","templates-text","username-options","onToggleRoomsList","onRoomInfo","onFetchMessages","onSendMessage","onEditMessage","onDeleteMessage","onOpenFile","onOpenUserTag","onOpenFailedMessage","onMenuActionHandler","onMessageActionHandler","onMessageSelectionActionHandler","onSendMessageReaction","onTypingMessage","onTextareaActionHandler"])]),(0,b.createVNode)(b.Transition,{name:"vac-fade-preview",appear:""},{default:(0,b.withCtx)(function(){return[_t.showMediaPreview?((0,b.openBlock)(),(0,b.createBlock)(cr,{key:0,file:_t.previewFile,onCloseMediaPreview:Te[1]||(Te[1]=function(Wt){return _t.showMediaPreview=!1})},null,8,["file"])):(0,b.createCommentVNode)("",!0)]}),_:1})],4)}m(7941),m(2526),m(7327),m(1539),m(5003),m(9554),m(4747),m(9337),m(3321);function ie(Ue,Te,Ie){return Te in Ue?Object.defineProperty(Ue,Te,{value:Ie,enumerable:!0,configurable:!0,writable:!0}):Ue[Te]=Ie,Ue}function se(Ue,Te){var Ie=Object.keys(Ue);if(Object.getOwnPropertySymbols){var mt=Object.getOwnPropertySymbols(Ue);Te&&(mt=mt.filter(function(_t){return Object.getOwnPropertyDescriptor(Ue,_t).enumerable})),Ie.push.apply(Ie,mt)}return Ie}function fe(Ue){for(var Te=1;Te<arguments.length;Te++){var Ie=arguments[Te]!=null?arguments[Te]:{};Te%2?se(Object(Ie),!0).forEach(function(mt){ie(Ue,mt,Ie[mt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(Ie)):se(Object(Ie)).forEach(function(mt){Object.defineProperty(Ue,mt,Object.getOwnPropertyDescriptor(Ie,mt))})}return Ue}m(9653),m(1249),m(2707),m(7042),m(9826),m(9720);var ce={key:0,class:"vac-rooms-empty"},de={key:1,id:"rooms-list",class:"vac-room-list"},ye=["id","onClick"],ge={key:0,id:"infinite-loader-rooms"};function _e(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("rooms-search"),qt=(0,b.resolveComponent)("loader"),cr=(0,b.resolveComponent)("room-content");return(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("div",{class:(0,b.normalizeClass)(["vac-rooms-container",{"vac-rooms-container-full":Ie.isMobile,"vac-app-border-r":!Ie.isMobile}])},[(0,b.renderSlot)(Ue.$slots,"rooms-header"),(0,b.renderSlot)(Ue.$slots,"rooms-list-search",{},function(){return[(0,b.createVNode)(Vt,{rooms:Ie.rooms,"loading-rooms":Ie.loadingRooms,"text-messages":Ie.textMessages,"show-search":Ie.showSearch,"show-add-room":Ie.showAddRoom,onSearchRoom:vt.searchRoom,onAddRoom:Te[0]||(Te[0]=function(Wt){return Ue.$emit("add-room")})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["rooms","loading-rooms","text-messages","show-search","show-add-room","onSearchRoom"])]}),(0,b.createVNode)(qt,{show:Ie.loadingRooms},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["show"]),!Ie.loadingRooms&&!Ie.rooms.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",ce,[(0,b.renderSlot)(Ue.$slots,"rooms-empty",{},function(){return[(0,b.createTextVNode)((0,b.toDisplayString)(Ie.textMessages.ROOMS_EMPTY),1)]})])):(0,b.createCommentVNode)("",!0),Ie.loadingRooms?(0,b.createCommentVNode)("",!0):((0,b.openBlock)(),(0,b.createElementBlock)("div",de,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(_t.filteredRooms,function(Wt){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{id:Wt.roomId,key:Wt.roomId,class:(0,b.normalizeClass)(["vac-room-item",{"vac-room-selected":_t.selectedRoomId===Wt.roomId}]),onClick:function(hr){return vt.openRoom(Wt)}},[(0,b.createVNode)(cr,{"current-user-id":Ie.currentUserId,room:Wt,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,"text-messages":Ie.textMessages,"room-actions":Ie.roomActions,onRoomActionHandler:Te[1]||(Te[1]=function(fr){return Ue.$emit("room-action-handler",fr)})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(fr,hr){return{name:hr,fn:(0,b.withCtx)(function(xr){return[(0,b.renderSlot)(Ue.$slots,hr,(0,b.normalizeProps)((0,b.guardReactiveProps)(xr)))]})}})]),1032,["current-user-id","room","text-formatting","link-options","text-messages","room-actions"])],10,ye)}),128)),(0,b.createVNode)(b.Transition,{name:"vac-fade-message"},{default:(0,b.withCtx)(function(){return[Ie.rooms.length&&!Ie.loadingRooms?((0,b.openBlock)(),(0,b.createElementBlock)("div",ge,[(0,b.createVNode)(qt,{show:_t.showLoader,infinite:!0},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["show"])])):(0,b.createCommentVNode)("",!0)]}),_:3})]))],2)),[[b.vShow,Ie.showRoomsList]])}m(2564);var Ee=(0,b.createElementVNode)("div",{id:"vac-circle"},null,-1);function Ae(Ue,Te,Ie,mt,_t,vt){return(0,b.openBlock)(),(0,b.createBlock)(b.Transition,{name:"vac-fade-spinner",appear:""},{default:(0,b.withCtx)(function(){return[Ie.show?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:(0,b.normalizeClass)(["vac-loader-wrapper",{"vac-container-center":!Ie.infinite,"vac-container-top":Ie.infinite}])},[(0,b.renderSlot)(Ue.$slots,"spinner-icon",(0,b.normalizeProps)((0,b.guardReactiveProps)({show:Ie.show,infinite:Ie.infinite})),function(){return[Ee]})],2)):(0,b.createCommentVNode)("",!0)]}),_:3})}const we={name:"AppLoader",props:{show:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1}}};var Me=m(8118);const Re=(0,Me.Z)(we,[["render",Ae]]);var ze={key:0,class:"vac-icon-search"},Je=["placeholder"];function et(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("svg-icon");return(0,b.openBlock)(),(0,b.createElementBlock)("div",{class:(0,b.normalizeClass)({"vac-box-search":vt.showSearchBar,"vac-box-empty":!vt.showSearchBar})},[Ie.showSearch?((0,b.openBlock)(),(0,b.createElementBlock)(b.Fragment,{key:0},[!Ie.loadingRooms&&Ie.rooms.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",ze,[(0,b.renderSlot)(Ue.$slots,"search-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"search"})]})])):(0,b.createCommentVNode)("",!0),!Ie.loadingRooms&&Ie.rooms.length?((0,b.openBlock)(),(0,b.createElementBlock)("input",{key:1,type:"search",placeholder:Ie.textMessages.SEARCH,autocomplete:"off",class:"vac-input",onInput:Te[0]||(Te[0]=function(qt){return Ue.$emit("search-room",qt)})},null,40,Je)):(0,b.createCommentVNode)("",!0)],64)):(0,b.createCommentVNode)("",!0),Ie.showAddRoom?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:1,class:"vac-svg-button vac-add-icon",onClick:Te[1]||(Te[1]=function(qt){return Ue.$emit("add-room")})},[(0,b.renderSlot)(Ue.$slots,"add-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"add"})]})])):(0,b.createCommentVNode)("",!0)],2)}m(2222),m(8309);var Pe=["viewBox"],ve=["id","d"],le=["id","d"];function ae(Ue,Te,Ie,mt,_t,vt){return(0,b.openBlock)(),(0,b.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",width:"24",height:"24",viewBox:"0 0 ".concat(vt.size," ").concat(vt.size)},[(0,b.createElementVNode)("path",{id:vt.svgId,d:_t.svgItem[Ie.name].path},null,8,ve),_t.svgItem[Ie.name].path2?((0,b.openBlock)(),(0,b.createElementBlock)("path",{key:0,id:vt.svgId,d:_t.svgItem[Ie.name].path2},null,8,le)):(0,b.createCommentVNode)("",!0)],8,Pe)}const he={name:"SvgIcon",props:{name:{type:String,default:null},param:{type:String,default:null}},data:function(){return{svgItem:{search:{path:"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z"},add:{path:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"},toggle:{path:"M5,13L9,17L7.6,18.42L1.18,12L7.6,5.58L9,7L5,11H21V13H5M21,6V8H11V6H21M21,16V18H11V16H21Z"},menu:{path:"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z"},close:{path:"M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z"},file:{path:"M14,17H7V15H14M17,13H7V11H17M17,9H7V7H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z"},paperclip:{path:"M16.5,6V17.5A4,4 0 0,1 12.5,21.5A4,4 0 0,1 8.5,17.5V5A2.5,2.5 0 0,1 11,2.5A2.5,2.5 0 0,1 13.5,5V15.5A1,1 0 0,1 12.5,16.5A1,1 0 0,1 11.5,15.5V6H10V15.5A2.5,2.5 0 0,0 12.5,18A2.5,2.5 0 0,0 15,15.5V5A4,4 0 0,0 11,1A4,4 0 0,0 7,5V17.5A5.5,5.5 0 0,0 12.5,23A5.5,5.5 0 0,0 18,17.5V6H16.5Z"},"close-outline":{path:"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"},send:{path:"M2,21L23,12L2,3V10L17,12L2,14V21Z"},emoji:{path:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"},document:{path:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"},pencil:{path:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"},checkmark:{path:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"},"double-checkmark":{path:"M18 7l-1.41-1.41-6.34 6.34 1.41 1.41L18 7zm4.24-1.41L11.66 16.17 7.48 12l-1.41 1.41L11.66 19l12-12-1.42-1.41zM.41 13.41L6 19l1.41-1.41L1.83 12 .41 13.41z"},eye:{path:"M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"},dropdown:{path:"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"},deleted:{path:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z"},microphone:{size:"large",path:"M432.8,216.4v39.2c0,45.2-15.3,84.3-45.2,118.4c-29.8,33.2-67.3,52.8-111.6,57.9v40.9h78.4c5.1,0,10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6c0,5.1-1.7,10.2-6,13.6c-4.3,4.3-8.5,6-13.6,6H157.6c-5.1,0-10.2-1.7-13.6-6c-4.3-4.3-6-8.5-6-13.6c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6H236v-40.9c-44.3-5.1-81.8-23.9-111.6-57.9s-45.2-73.3-45.2-118.4v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6s10.2,1.7,13.6,6c4.3,4.3,6,8.5,6,13.6v39.2c0,37.5,13.6,70.7,40,97.1s59.6,40,97.1,40s70.7-13.6,97.1-40c26.4-26.4,40-59.6,40-97.1v-39.2c0-5.1,1.7-10.2,6-13.6c4.3-4.3,8.5-6,13.6-6c5.1,0,10.2,1.7,13.6,6C430.2,206.2,432.8,211.3,432.8,216.4z M353.5,98v157.6c0,27.3-9.4,50.3-29,69c-19.6,19.6-42.6,29-69,29s-50.3-9.4-69-29c-19.6-19.6-29-42.6-29-69V98c0-27.3,9.4-50.3,29-69c19.6-19.6,42.6-29,69-29s50.3,9.4,69,29C344.2,47.7,353.5,71.6,353.5,98z"},"audio-play":{size:"medium",path:"M43.331,21.237L7.233,0.397c-0.917-0.529-2.044-0.529-2.96,0c-0.916,0.528-1.48,1.505-1.48,2.563v41.684   c0,1.058,0.564,2.035,1.48,2.563c0.458,0.268,0.969,0.397,1.48,0.397c0.511,0,1.022-0.133,1.48-0.397l36.098-20.84   c0.918-0.529,1.479-1.506,1.479-2.564S44.247,21.767,43.331,21.237z"},"audio-pause":{size:"medium",path:"M17.991,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C4.729,2.969,7.698,0,11.36,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z",path2:"M42.877,40.976c0,3.662-2.969,6.631-6.631,6.631l0,0c-3.662,0-6.631-2.969-6.631-6.631V6.631C29.616,2.969,32.585,0,36.246,0l0,0c3.662,0,6.631,2.969,6.631,6.631V40.976z"}}}},computed:{svgId:function(){var Te=this.param?"-"+this.param:"";return"vac-icon-".concat(this.name).concat(Te)},size:function(){var Te=this.svgItem[this.name];return Te.size==="large"?512:Te.size==="medium"?48:24}}},$e=(0,Me.Z)(he,[["render",ae]]),He={name:"RoomsSearch",components:{SvgIcon:$e},props:{textMessages:{type:Object,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0}},emits:["search-room","add-room"],computed:{showSearchBar:function(){return this.showSearch||this.showAddRoom}}},Ne=(0,Me.Z)(He,[["render",et]]);var De={class:"vac-room-container"},pe={class:"vac-name-container vac-text-ellipsis"},Le={class:"vac-title-container"},Be={class:"vac-room-name vac-text-ellipsis"},Ce={key:1,class:"vac-text-date"},Ze={key:0},it={key:1,class:"vac-text-ellipsis"},rt={key:3,class:"vac-text-ellipsis"},Oe={class:"vac-room-options-container"},Ve={key:0,class:"vac-badge-counter vac-room-badge"},We={key:0,class:"vac-menu-options"},qe={class:"vac-menu-list"},Ge=["onClick"];function Qe(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("svg-icon"),qt=(0,b.resolveComponent)("format-message"),cr=(0,b.resolveDirective)("click-outside");return(0,b.openBlock)(),(0,b.createElementBlock)("div",De,[(0,b.renderSlot)(Ue.$slots,"room-list-item",(0,b.normalizeProps)((0,b.guardReactiveProps)({room:Ie.room})),function(){return[(0,b.renderSlot)(Ue.$slots,"room-list-avatar",(0,b.normalizeProps)((0,b.guardReactiveProps)({room:Ie.room})),function(){return[Ie.room.avatar?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-avatar",style:(0,b.normalizeStyle)({"background-image":"url('".concat(Ie.room.avatar,"')")})},null,4)):(0,b.createCommentVNode)("",!0)]}),(0,b.createElementVNode)("div",pe,[(0,b.createElementVNode)("div",Le,[vt.userStatus?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:(0,b.normalizeClass)(["vac-state-circle",{"vac-state-online":vt.userStatus==="online"}])},null,2)):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("div",Be,(0,b.toDisplayString)(Ie.room.roomName),1),Ie.room.lastMessage?((0,b.openBlock)(),(0,b.createElementBlock)("div",Ce,(0,b.toDisplayString)(Ie.room.lastMessage.timestamp),1)):(0,b.createCommentVNode)("",!0)]),(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-text-last",{"vac-message-new":Ie.room.lastMessage&&Ie.room.lastMessage.new&&!vt.typingUsers}])},[vt.isMessageCheckmarkVisible?((0,b.openBlock)(),(0,b.createElementBlock)("span",Ze,[(0,b.renderSlot)(Ue.$slots,"checkmark-icon",(0,b.normalizeProps)((0,b.guardReactiveProps)({message:Ie.room.lastMessage})),function(){return[(0,b.createVNode)(Vt,{name:Ie.room.lastMessage.distributed?"double-checkmark":"checkmark",param:Ie.room.lastMessage.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])]})])):(0,b.createCommentVNode)("",!0),Ie.room.lastMessage&&!Ie.room.lastMessage.deleted&&vt.isAudio?((0,b.openBlock)(),(0,b.createElementBlock)("div",it,[(0,b.renderSlot)(Ue.$slots,"microphone-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"microphone",class:"vac-icon-microphone"})]}),(0,b.createTextVNode)(" "+(0,b.toDisplayString)(vt.formattedDuration),1)])):Ie.room.lastMessage?((0,b.openBlock)(),(0,b.createBlock)(qt,{key:2,content:vt.getLastMessage,deleted:!!Ie.room.lastMessage.deleted&&!vt.typingUsers,users:Ie.room.users,linkify:!1,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,"single-line":!0},{"deleted-icon":(0,b.withCtx)(function(Wt){return[(0,b.renderSlot)(Ue.$slots,"deleted-icon",(0,b.normalizeProps)((0,b.guardReactiveProps)(Wt)))]}),_:3},8,["content","deleted","users","text-formatting","link-options"])):(0,b.createCommentVNode)("",!0),!Ie.room.lastMessage&&vt.typingUsers?((0,b.openBlock)(),(0,b.createElementBlock)("div",rt,(0,b.toDisplayString)(vt.typingUsers),1)):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("div",Oe,[Ie.room.unreadCount?((0,b.openBlock)(),(0,b.createElementBlock)("div",Ve,(0,b.toDisplayString)(Ie.room.unreadCount),1)):(0,b.createCommentVNode)("",!0),(0,b.renderSlot)(Ue.$slots,"room-list-options",(0,b.normalizeProps)((0,b.guardReactiveProps)({room:Ie.room})),function(){return[Ie.roomActions.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-svg-button vac-list-room-options",onClick:Te[0]||(Te[0]=(0,b.withModifiers)(function(Wt){return _t.roomMenuOpened=Ie.room.roomId},["stop"]))},[(0,b.renderSlot)(Ue.$slots,"room-list-options-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"dropdown",param:"room"})]})])):(0,b.createCommentVNode)("",!0),Ie.roomActions.length?((0,b.openBlock)(),(0,b.createBlock)(b.Transition,{key:1,name:"vac-slide-left"},{default:(0,b.withCtx)(function(){return[_t.roomMenuOpened===Ie.room.roomId?(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("div",We,[(0,b.createElementVNode)("div",qe,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.roomActions,function(Wt){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:Wt.name},[(0,b.createElementVNode)("div",{class:"vac-menu-item",onClick:(0,b.withModifiers)(function(fr){return vt.roomActionHandler(Wt)},["stop"])},(0,b.toDisplayString)(Wt.title),9,Ge)])}),128))])])),[[cr,vt.closeRoomMenu]]):(0,b.createCommentVNode)("",!0)]}),_:1})):(0,b.createCommentVNode)("",!0)]})])],2)])]})])}m(915),m(8734),m(7397);var ct={class:"vac-image-link-container"},ft={class:"vac-image-link-message"},bt=["innerHTML"],St=["innerHTML"];function xt(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("svg-icon");return(0,b.openBlock)(),(0,b.createElementBlock)("div",{class:(0,b.normalizeClass)(["vac-format-message-wrapper",{"vac-text-ellipsis":Ie.singleLine}])},[Ie.textFormatting.disabled?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:1,innerHTML:vt.formattedContent},null,8,St)):((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:(0,b.normalizeClass)({"vac-text-ellipsis":Ie.singleLine})},[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(vt.linkifiedMessage,function(qt,cr){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:cr,class:"vac-format-container"},[((0,b.openBlock)(),(0,b.createBlock)((0,b.resolveDynamicComponent)(qt.url?"a":"span"),{class:(0,b.normalizeClass)({"vac-text-ellipsis":Ie.singleLine,"vac-text-bold":qt.bold,"vac-text-italic":Ie.deleted||qt.italic,"vac-text-strike":qt.strike,"vac-text-underline":qt.underline,"vac-text-inline-code":!Ie.singleLine&&qt.inline,"vac-text-multiline-code":!Ie.singleLine&&qt.multiline,"vac-text-tag":!Ie.singleLine&&!Ie.reply&&qt.tag}),href:qt.href,target:qt.href?Ie.linkOptions.target:null,rel:qt.href?Ie.linkOptions.rel:null,onClick:function(fr){return vt.openTag(qt)}},{default:(0,b.withCtx)(function(){return[(0,b.renderSlot)(Ue.$slots,"deleted-icon",(0,b.normalizeProps)((0,b.guardReactiveProps)({deleted:Ie.deleted})),function(){return[Ie.deleted?((0,b.openBlock)(),(0,b.createBlock)(Vt,{key:0,name:"deleted",class:"vac-icon-deleted"})):(0,b.createCommentVNode)("",!0)]}),qt.url&&qt.image?((0,b.openBlock)(),(0,b.createElementBlock)(b.Fragment,{key:0},[(0,b.createElementVNode)("div",ct,[(0,b.createElementVNode)("div",{class:"vac-image-link",style:(0,b.normalizeStyle)({"background-image":"url('".concat(qt.value,"')"),height:qt.height})},null,4)]),(0,b.createElementVNode)("div",ft,[(0,b.createElementVNode)("span",null,(0,b.toDisplayString)(qt.value),1)])],64)):((0,b.openBlock)(),(0,b.createElementBlock)("span",{key:1,innerHTML:qt.value},null,8,bt))]}),_:2},1032,["class","href","target","rel","onClick"]))])}),128))],2))],2)}m(9753);function $t(Ue,Te){(Te==null||Te>Ue.length)&&(Te=Ue.length);for(var Ie=0,mt=new Array(Te);Ie<Te;Ie++)mt[Ie]=Ue[Ie];return mt}function It(Ue){if(Array.isArray(Ue))return $t(Ue)}m(1817),m(2165),m(6992),m(8783),m(3948),m(1038);function Et(Ue){if(typeof Symbol<"u"&&Ue[Symbol.iterator]!=null||Ue["@@iterator"]!=null)return Array.from(Ue)}m(4916),m(7601);function At(Ue,Te){if(!!Ue){if(typeof Ue=="string")return $t(Ue,Te);var Ie=Object.prototype.toString.call(Ue).slice(8,-1);if(Ie==="Object"&&Ue.constructor&&(Ie=Ue.constructor.name),Ie==="Map"||Ie==="Set")return Array.from(Ue);if(Ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ie))return $t(Ue,Te)}}m(1703),m(6647);function kt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(Ue){return It(Ue)||Et(Ue)||At(Ue)||kt()}m(2772),m(4986),m(5212),m(6699),m(2023),m(6373),m(4603),m(8450),m(8386),m(9714),m(5306),m(8757),m(3650),m(4723),m(189);var lt=m(5235);const Se=function(Ue,Te,Ie){var mt,_t={bold:Ie.bold,italic:Ie.italic,strike:Ie.strike,underline:Ie.underline,multilineCode:Ie.multilineCode,inlineCode:Ie.inlineCode},vt=(mt={},ie(mt,_t.bold,{end:"\\"+_t.bold,allowed_chars:".",type:"bold"}),ie(mt,_t.italic,{end:_t.italic,allowed_chars:".",type:"italic"}),ie(mt,_t.strike,{end:_t.strike,allowed_chars:".",type:"strike"}),ie(mt,_t.underline,{end:_t.underline,allowed_chars:".",type:"underline"}),ie(mt,_t.multilineCode,{end:_t.multilineCode,allowed_chars:`(.|
)`,type:"multiline-code"}),ie(mt,_t.inlineCode,{end:_t.inlineCode,allowed_chars:".",type:"inline-code"}),ie(mt,"<usertag>",{allowed_chars:".",end:"</usertag>",type:"tag"}),mt),Vt=me(Ue,vt),qt=be(Vt,vt),cr=[].concat.apply([],qt);return Te&&wt(cr),cr};function me(Ue,Te){var Ie=[],mt=-1,_t=null,vt=lt.find(Ue),Vt=!1;if(vt.length>0&&(mt=Ue.indexOf(vt[0].value),Vt=!0),Object.keys(Te).forEach(function(Fr){var jr=Ue.indexOf(Fr);jr>=0&&(mt<0||jr<mt)&&(mt=jr,_t=Fr,Vt=!1)}),Vt&&_t!==-1){var qt=Ue.substr(0,mt),cr=Ue.substr(mt,vt[0].value.length),Wt=Ue.substr(mt+vt[0].value.length);return Ie.push(qt),Ie.push(cr),Ie=Ie.concat(me(Wt,Te)),Ie}if(_t){var fr=Ue.substr(0,mt),hr=_t,xr=Ue.substr(mt+hr.length);if(Ue.replace(/\s/g,"").length===hr.length*2)return[Ue];var br=xr.match(new RegExp("^("+(Te[hr].allowed_chars||".")+"*"+(Te[hr].end?"?":"")+")"+(Te[hr].end?"("+Te[hr].end+")":""),"m"));if(!br||!br[1])fr=fr+hr,Ie.push(fr);else{fr&&Ie.push(fr);var Nr={start:hr,content:me(br[1],Te),end:br[2],type:Te[hr].type};Ie.push(Nr),xr=xr.substr(br[0].length)}return Ie=Ie.concat(me(xr,Te)),Ie}else return Ue?[Ue]:[]}function be(Ue,Te){var Ie=[];return Ue.forEach(function(mt){typeof mt=="string"?Ie.push({types:[],value:mt}):Te[mt.start]&&Ie.push(Ye(mt))}),Ie}function Ye(Ue){var Te=[];return ut(Ue,Te,[]),Te}function ut(Ue,Te,Ie){Ue.content.forEach(function(mt){typeof mt=="string"?Te.push({types:yt(Ie.concat([Ue.type])),value:mt}):ut(mt,Te,yt([mt.type].concat([Ue.type]).concat(Ie)))})}function yt(Ue){return Kt(new Set(Ue))}function wt(Ue){var Te=[];return Ue.forEach(function(Ie){var mt=lt.find(Ie.value);if(mt.length){var _t=Ie.value.replace(mt[0].value,"");Te.push({types:Ie.types,value:_t}),Ie.types=["url"].concat(Ie.types),Ie.href=mt[0].href,Ie.value=mt[0].value}Te.push(Ie)}),Te}var Ut=m(9085);const Xt={name:"FormatMessage",components:{SvgIcon:$e},props:{content:{type:[String,Number],required:!0},deleted:{type:Boolean,default:!1},users:{type:Array,default:function(){return[]}},linkify:{type:Boolean,default:!0},singleLine:{type:Boolean,default:!1},reply:{type:Boolean,default:!1},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["open-user-tag"],computed:{linkifiedMessage:function(){var Te=this,Ie=Se(this.formatTags(this.content),this.linkify&&!this.linkOptions.disabled,this.textFormatting);return Ie.forEach(function(mt){mt.url=Te.checkType(mt,"url"),mt.bold=Te.checkType(mt,"bold"),mt.italic=Te.checkType(mt,"italic"),mt.strike=Te.checkType(mt,"strike"),mt.underline=Te.checkType(mt,"underline"),mt.inline=Te.checkType(mt,"inline-code"),mt.multiline=Te.checkType(mt,"multiline-code"),mt.tag=Te.checkType(mt,"tag"),mt.image=Te.checkImageType(mt),mt.value=Te.replaceEmojiByElement(mt.value)}),Ie},formattedContent:function(){return this.formatTags(this.content)}},methods:{checkType:function(Te,Ie){return Te.types.indexOf(Ie)!==-1},checkImageType:function(Te){var Ie=Te.value.lastIndexOf("."),mt=Te.value.lastIndexOf("/");mt>Ie&&(Ie=-1);var _t=Te.value.substring(Ie+1,Te.value.length),vt=Ie>0&&Ut.v5.some(function(Vt){return _t.toLowerCase().includes(Vt)});return vt&&this.setImageSize(Te),vt},setImageSize:function(Te){var Ie=new Image;Ie.src=Te.value,Ie.addEventListener("load",mt);function mt(_t){var vt=_t.path[0].width/150;Te.height=Math.round(_t.path[0].height/vt)+"px",Ie.removeEventListener("load",mt)}},formatTags:function(Te){var Ie=this,mt="<usertag>",_t="</usertag>",vt=Kt(Te.matchAll(new RegExp(mt,"gi"))).map(function(qt){return qt.index}),Vt=Te;return vt.forEach(function(qt){var cr=Vt.substring(qt+mt.length,Vt.indexOf(_t,qt)),Wt=Ie.users.find(function(fr){return fr._id===cr});Te=Te.replaceAll(cr,"@".concat(Wt?.username||"unknown"))}),Te},openTag:function(Te){if(!this.singleLine&&this.checkType(Te,"tag")){var Ie=this.users.find(function(mt){return Te.value.indexOf(mt.username)!==-1});this.$emit("open-user-tag",Ie)}},replaceEmojiByElement:function(Te){var Ie;if(this.singleLine)Ie=16;else{var mt=this.containsOnlyEmojis();Ie=mt?28:20}return Te.replaceAll(/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFF]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])/g,function(_t){return'<span style="font-size: '.concat(Ie,'px">').concat(_t,"</span>")})},containsOnlyEmojis:function(){var Te=this.content.replace(new RegExp("[\0-\u1EEFf]","g"),""),Ie=this.content.replace(new RegExp(`[
\rs]+|( )+`,"g"),"");return Te.length===Ie.length}}},Ht=(0,Me.Z)(Xt,[["render",xt]]);var Yt=m(3336);m(8862);var ar="__v-click-outside",tr=typeof window<"u",vr=typeof navigator<"u",ur=tr&&("ontouchstart"in window||vr&&navigator.msMaxTouchPoints>0),Sr=ur?["touchstart"]:["click"],Ar=function(Te){var Ie=typeof Te=="function";if(!Ie&&(0,Yt.Z)(Te)!=="object")throw new Error("v-click-outside: Binding value must be a function or an object");return{handler:Ie?Te:Te.handler,middleware:Te.middleware||function(mt){return mt},events:Te.events||Sr,isActive:Te.isActive!==!1,detectIframe:Te.detectIframe!==!1,capture:Boolean(Te.capture)}},$r=function(Te){var Ie=Te.event,mt=Te.handler,_t=Te.middleware;_t(Ie)&&mt(Ie)},kr=function(Te){var Ie=Te.el,mt=Te.event,_t=Te.handler,vt=Te.middleware;setTimeout(function(){var Vt=document,qt=Vt.activeElement;qt&&qt.tagName==="IFRAME"&&!Ie.contains(qt)&&$r({event:mt,handler:_t,middleware:vt})},0)},ir=function(Te){var Ie=Te.el,mt=Te.event,_t=Te.handler,vt=Te.middleware,Vt=mt.path||mt.composedPath&&mt.composedPath(),qt=Vt?Vt.indexOf(Ie)<0:!Ie.contains(mt.target);!qt||$r({event:mt,handler:_t,middleware:vt})},pr=function(Te,Ie){var mt=Ie.value,_t=Ar(mt),vt=_t.events,Vt=_t.handler,qt=_t.middleware,cr=_t.isActive,Wt=_t.detectIframe,fr=_t.capture;if(!!cr){if(Te[ar]=vt.map(function(xr){return{event:xr,srcTarget:document.documentElement,handler:function(Nr){return ir({el:Te,event:Nr,handler:Vt,middleware:qt})},capture:fr}}),Wt){var hr={event:"blur",srcTarget:window,handler:function(br){return kr({el:Te,event:br,handler:Vt,middleware:qt})},capture:fr};Te[ar]=[].concat(Kt(Te[ar]),[hr])}Te[ar].forEach(function(xr){var br=xr.event,Nr=xr.srcTarget,Fr=xr.handler;return setTimeout(function(){!Te[ar]||Nr.addEventListener(br,Fr,fr)},0)})}},Ir=function(Te){var Ie=Te[ar]||[];Ie.forEach(function(mt){var _t=mt.event,vt=mt.srcTarget,Vt=mt.handler,qt=mt.capture;return vt.removeEventListener(_t,Vt,qt)}),delete Te[ar]},Pr=function(Te,Ie){var mt=Ie.value,_t=Ie.oldValue;JSON.stringify(mt)!==JSON.stringify(_t)&&(Ir(Te),pr(Te,{value:mt}))},Rr={beforeMount:pr,updated:Pr,unmounted:Ir};const Ft=tr?Rr:{};m(9600);const je=function(Ue,Te,Ie){if(Ue.typingUsers&&Ue.typingUsers.length){var mt=Ue.users.filter(function(_t){if(_t._id!==Te&&Ue.typingUsers.indexOf(_t._id)!==-1&&!(_t.status&&_t.status.state==="offline"))return!0});return mt.length?Ue.users.length===2?Ie.IS_TYPING:mt.map(function(_t){return _t.username}).join(", ")+" "+Ie.IS_TYPING:void 0}};var Xe=m(8438),ot=Xe.isAudioFile;const Ke={name:"RoomsContent",components:{SvgIcon:$e,FormatMessage:Ht},directives:{clickOutside:Ft},props:{currentUserId:{type:[String,Number],required:!0},room:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},roomActions:{type:Array,required:!0}},emits:["room-action-handler"],data:function(){return{roomMenuOpened:null}},computed:{getLastMessage:function(){var Te=this,Ie=this.typingUsers;if(Ie)return Ie;var mt=this.room.lastMessage.deleted?this.textMessages.MESSAGE_DELETED:this.room.lastMessage.content;if(this.room.users.length<=2)return mt;var _t=this.room.users.find(function(vt){return vt._id===Te.room.lastMessage.senderId});return this.room.lastMessage.username?"".concat(this.room.lastMessage.username," - ").concat(mt):!_t||_t._id===this.currentUserId?mt:"".concat(_t.username," - ").concat(mt)},userStatus:function(){var Te=this;if(!(!this.room.users||this.room.users.length!==2)){var Ie=this.room.users.find(function(mt){return mt._id!==Te.currentUserId});return Ie&&Ie.status?Ie.status.state:null}},typingUsers:function(){return je(this.room,this.currentUserId,this.textMessages)},isMessageCheckmarkVisible:function(){return!this.typingUsers&&this.room.lastMessage&&!this.room.lastMessage.deleted&&this.room.lastMessage.senderId===this.currentUserId&&(this.room.lastMessage.saved||this.room.lastMessage.distributed||this.room.lastMessage.seen)},formattedDuration:function(){var Te,Ie,mt=(Te=this.room.lastMessage)===null||Te===void 0||(Ie=Te.files)===null||Ie===void 0?void 0:Ie[0];if(mt){if(!mt.duration)return"".concat(mt.name,".").concat(mt.extension);var _t=Math.floor(mt.duration);return(_t-(_t%=60))/60+(_t>9?":":":0")+_t}return""},isAudio:function(){return this.room.lastMessage.files?ot(this.room.lastMessage.files[0]):!1}},methods:{roomActionHandler:function(Te){this.closeRoomMenu(),this.$emit("room-action-handler",{action:Te,roomId:this.room.roomId})},closeRoomMenu:function(){this.roomMenuOpened=null}}},gt=(0,Me.Z)(Ke,[["render",Qe]]);m(6755);const Tt=function(Ue,Te,Ie){var mt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return!Ie||Ie===""?Ue:Ue.filter(function(_t){return mt?Rt(_t[Te]).startsWith(Rt(Ie)):Rt(_t[Te]).includes(Rt(Ie))})};function Rt(Ue){return Ue.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Mt={name:"RoomsList",components:{Loader:Re,RoomsSearch:Ne,RoomContent:gt},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},showRoomsList:{type:Boolean,required:!0},showSearch:{type:Boolean,required:!0},showAddRoom:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},loadingRooms:{type:Boolean,required:!0},roomsLoaded:{type:Boolean,required:!0},room:{type:Object,required:!0},roomActions:{type:Array,required:!0},scrollDistance:{type:Number,required:!0}},emits:["add-room","room-action-handler","loading-more-rooms","fetch-room","fetch-more-rooms"],data:function(){return{filteredRooms:this.rooms||[],observer:null,showLoader:!0,loadingMoreRooms:!1,selectedRoomId:""}},watch:{rooms:{deep:!0,handler:function(Te,Ie){this.filteredRooms=Te,(Te.length!==Ie.length||this.roomsLoaded)&&(this.loadingMoreRooms=!1)}},loadingRooms:function(Te){var Ie=this;Te||setTimeout(function(){return Ie.initIntersectionObserver()})},loadingMoreRooms:function(Te){this.$emit("loading-more-rooms",Te)},roomsLoaded:{immediate:!0,handler:function(Te){Te&&(this.loadingMoreRooms=!1,this.loadingRooms||(this.showLoader=!1))}},room:{immediate:!0,handler:function(Te){Te&&!this.isMobile&&(this.selectedRoomId=Te.roomId)}}},methods:{initIntersectionObserver:function(){var Te=this;this.observer&&(this.showLoader=!0,this.observer.disconnect());var Ie=document.getElementById("infinite-loader-rooms");if(Ie){var mt={root:document.getElementById("rooms-list"),rootMargin:"".concat(this.scrollDistance,"px"),threshold:0};this.observer=new IntersectionObserver(function(_t){_t[0].isIntersecting&&Te.loadMoreRooms()},mt),this.observer.observe(Ie)}},searchRoom:function(Te){this.filteredRooms=Tt(this.rooms,"roomName",Te.target.value)},openRoom:function(Te){Te.roomId===this.room.roomId&&!this.isMobile||(this.isMobile||(this.selectedRoomId=Te.roomId),this.$emit("fetch-room",{room:Te}))},loadMoreRooms:function(){if(!this.loadingMoreRooms){if(this.roomsLoaded){this.loadingMoreRooms=!1,this.showLoader=!1;return}this.$emit("fetch-more-rooms"),this.loadingMoreRooms=!0}}}},Lt=(0,Me.Z)(Mt,[["render",_e]]);var er={class:"vac-container-center vac-room-empty"},lr={class:"vac-messages-container"},Er={key:0,class:"vac-text-started"},or={key:1,class:"vac-text-started"},Tr={key:0,id:"infinite-loader-messages"},Jt={key:2},Dt={key:0,class:"vac-badge-counter vac-messages-count"};function Qt(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("room-header"),qt=(0,b.resolveComponent)("loader"),cr=(0,b.resolveComponent)("room-message"),Wt=(0,b.resolveComponent)("svg-icon"),fr=(0,b.resolveComponent)("room-footer");return(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("div",{class:"vac-col-messages",onTouchstart:Te[12]||(Te[12]=function(){return vt.touchStart&&vt.touchStart.apply(vt,arguments)})},[vt.showNoRoom?(0,b.renderSlot)(Ue.$slots,"no-room-selected",{key:0},function(){return[(0,b.createElementVNode)("div",er,[(0,b.createElementVNode)("div",null,(0,b.toDisplayString)(Ie.textMessages.ROOM_EMPTY),1)])]}):((0,b.openBlock)(),(0,b.createBlock)(Vt,{key:1,"current-user-id":Ie.currentUserId,"text-messages":Ie.textMessages,"single-room":Ie.singleRoom,"show-rooms-list":Ie.showRoomsList,"is-mobile":Ie.isMobile,"room-info-enabled":Ie.roomInfoEnabled,"menu-actions":Ie.menuActions,room:vt.room,"message-selection-enabled":_t.messageSelectionEnabled,"message-selection-actions":Ie.messageSelectionActions,"selected-messages-total":_t.selectedMessages.length,onToggleRoomsList:Te[0]||(Te[0]=function(hr){return Ue.$emit("toggle-rooms-list")}),onRoomInfo:Te[1]||(Te[1]=function(hr){return Ue.$emit("room-info")}),onMenuActionHandler:Te[2]||(Te[2]=function(hr){return Ue.$emit("menu-action-handler",hr)}),onMessageSelectionActionHandler:vt.messageSelectionActionHandler,onCancelMessageSelection:Te[3]||(Te[3]=function(hr){return _t.messageSelectionEnabled=!1})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(hr,xr){return{name:xr,fn:(0,b.withCtx)(function(br){return[(0,b.renderSlot)(Ue.$slots,xr,(0,b.normalizeProps)((0,b.guardReactiveProps)(br)))]})}})]),1032,["current-user-id","text-messages","single-room","show-rooms-list","is-mobile","room-info-enabled","menu-actions","room","message-selection-enabled","message-selection-actions","selected-messages-total","onMessageSelectionActionHandler"])),(0,b.createElementVNode)("div",{id:"messages-list",ref:"scrollContainer",class:"vac-container-scroll",onScroll:Te[5]||(Te[5]=function(){return vt.onContainerScroll&&vt.onContainerScroll.apply(vt,arguments)})},[(0,b.createVNode)(qt,{show:_t.loadingMessages},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(hr,xr){return{name:xr,fn:(0,b.withCtx)(function(br){return[(0,b.renderSlot)(Ue.$slots,xr,(0,b.normalizeProps)((0,b.guardReactiveProps)(br)))]})}})]),1032,["show"]),(0,b.createElementVNode)("div",lr,[(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)({"vac-messages-hidden":_t.loadingMessages})},[(0,b.createVNode)(b.Transition,{name:"vac-fade-message"},{default:(0,b.withCtx)(function(){return[(0,b.createElementVNode)("div",null,[vt.showNoMessages?((0,b.openBlock)(),(0,b.createElementBlock)("div",Er,[(0,b.renderSlot)(Ue.$slots,"messages-empty",{},function(){return[(0,b.createTextVNode)((0,b.toDisplayString)(Ie.textMessages.MESSAGES_EMPTY),1)]})])):(0,b.createCommentVNode)("",!0),vt.showMessagesStarted?((0,b.openBlock)(),(0,b.createElementBlock)("div",or,(0,b.toDisplayString)(Ie.textMessages.CONVERSATION_STARTED)+" "+(0,b.toDisplayString)(Ie.messages[0].date),1)):(0,b.createCommentVNode)("",!0)])]}),_:3}),Ie.messages.length&&!Ie.messagesLoaded?((0,b.openBlock)(),(0,b.createElementBlock)("div",Tr,[(0,b.createVNode)(qt,{show:!0,infinite:!0},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(hr,xr){return{name:xr,fn:(0,b.withCtx)(function(br){return[(0,b.renderSlot)(Ue.$slots,xr,(0,b.normalizeProps)((0,b.guardReactiveProps)(br)))]})}})]),1024)])):(0,b.createCommentVNode)("",!0),((0,b.openBlock)(),(0,b.createBlock)(b.TransitionGroup,{key:Ie.roomId,name:"vac-fade-message",tag:"span"},{default:(0,b.withCtx)(function(){return[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.messages,function(hr,xr){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:hr.indexId||hr._id},[(0,b.createVNode)(cr,{"current-user-id":Ie.currentUserId,message:hr,index:xr,messages:Ie.messages,"edited-message-id":_t.editedMessageId,"message-actions":Ie.messageActions,"room-users":vt.room.users,"text-messages":Ie.textMessages,"new-messages":_t.newMessages,"show-reaction-emojis":Ie.showReactionEmojis,"show-new-messages-divider":Ie.showNewMessagesDivider,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,"username-options":Ie.usernameOptions,"message-selection-enabled":_t.messageSelectionEnabled,"selected-messages":_t.selectedMessages,onMessageAdded:vt.onMessageAdded,onMessageActionHandler:vt.messageActionHandler,onOpenFile:vt.openFile,onOpenUserTag:vt.openUserTag,onOpenFailedMessage:Te[4]||(Te[4]=function(br){return Ue.$emit("open-failed-message",br)}),onSendMessageReaction:vt.sendMessageReaction,onSelectMessage:vt.selectMessage,onUnselectMessage:vt.unselectMessage},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(br,Nr){return{name:Nr,fn:(0,b.withCtx)(function(Fr){return[(0,b.renderSlot)(Ue.$slots,Nr,(0,b.normalizeProps)((0,b.guardReactiveProps)(Fr)))]})}})]),1032,["current-user-id","message","index","messages","edited-message-id","message-actions","room-users","text-messages","new-messages","show-reaction-emojis","show-new-messages-divider","text-formatting","link-options","username-options","message-selection-enabled","selected-messages","onMessageAdded","onMessageActionHandler","onOpenFile","onOpenUserTag","onSendMessageReaction","onSelectMessage","onUnselectMessage"])])}),128))]}),_:3}))],2)])],544),_t.loadingMessages?(0,b.createCommentVNode)("",!0):((0,b.openBlock)(),(0,b.createElementBlock)("div",Jt,[(0,b.createVNode)(b.Transition,{name:"vac-bounce"},{default:(0,b.withCtx)(function(){return[_t.scrollIcon?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-icon-scroll",onClick:Te[6]||(Te[6]=function(){return vt.scrollToBottom&&vt.scrollToBottom.apply(vt,arguments)})},[(0,b.createVNode)(b.Transition,{name:"vac-bounce"},{default:(0,b.withCtx)(function(){return[_t.scrollMessagesCount?((0,b.openBlock)(),(0,b.createElementBlock)("div",Dt,(0,b.toDisplayString)(_t.scrollMessagesCount),1)):(0,b.createCommentVNode)("",!0)]}),_:1}),(0,b.renderSlot)(Ue.$slots,"scroll-icon",{},function(){return[(0,b.createVNode)(Wt,{name:"dropdown",param:"scroll"})]})])):(0,b.createCommentVNode)("",!0)]}),_:3})])),(0,b.createVNode)(fr,{room:vt.room,"room-id":Ie.roomId,"room-message":Ie.roomMessage,"text-messages":Ie.textMessages,"show-send-icon":Ie.showSendIcon,"show-files":Ie.showFiles,"show-audio":Ie.showAudio,"show-emojis":Ie.showEmojis,"show-footer":Ie.showFooter,"accepted-files":Ie.acceptedFiles,"textarea-action-enabled":Ie.textareaActionEnabled,"textarea-auto-focus":Ie.textareaAutoFocus,"user-tags-enabled":Ie.userTagsEnabled,"emojis-suggestion-enabled":Ie.emojisSuggestionEnabled,"templates-text":Ie.templatesText,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,"audio-bit-rate":Ie.audioBitRate,"audio-sample-rate":Ie.audioSampleRate,"init-reply-message":_t.initReplyMessage,"init-edit-message":_t.initEditMessage,onUpdateEditedMessageId:Te[7]||(Te[7]=function(hr){return _t.editedMessageId=hr}),onEditMessage:Te[8]||(Te[8]=function(hr){return Ue.$emit("edit-message",hr)}),onSendMessage:Te[9]||(Te[9]=function(hr){return Ue.$emit("send-message",hr)}),onTypingMessage:Te[10]||(Te[10]=function(hr){return Ue.$emit("typing-message",hr)}),onTextareaActionHandler:Te[11]||(Te[11]=function(hr){return Ue.$emit("textarea-action-handler",hr)})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(hr,xr){return{name:xr,fn:(0,b.withCtx)(function(br){return[(0,b.renderSlot)(Ue.$slots,xr,(0,b.normalizeProps)((0,b.guardReactiveProps)(br)))]})}})]),1032,["room","room-id","room-message","text-messages","show-send-icon","show-files","show-audio","show-emojis","show-footer","accepted-files","textarea-action-enabled","textarea-auto-focus","user-tags-enabled","emojis-suggestion-enabled","templates-text","text-formatting","link-options","audio-bit-rate","audio-sample-rate","init-reply-message","init-edit-message"])],544)),[[b.vShow,Ie.isMobile&&!Ie.showRoomsList||!Ie.isMobile||Ie.singleRoom]])}var Pt={class:"vac-room-header vac-app-border-b"},Ot={class:"vac-room-wrapper"},Bt={key:0,class:"vac-room-selection"},nr=["id"],dr=["onClick"],sr={class:"vac-selection-button-count"},gr={class:"vac-text-ellipsis"},Zt={class:"vac-room-name vac-text-ellipsis"},rr={key:0,class:"vac-room-info vac-text-ellipsis"},Gt={key:1,class:"vac-room-info vac-text-ellipsis"},mr={key:0,class:"vac-menu-options"},yr={class:"vac-menu-list"},Cr=["onClick"];function Br(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("svg-icon"),qt=(0,b.resolveDirective)("click-outside");return(0,b.openBlock)(),(0,b.createElementBlock)("div",Pt,[(0,b.renderSlot)(Ue.$slots,"room-header",(0,b.normalizeProps)((0,b.guardReactiveProps)({room:Ie.room,typingUsers:vt.typingUsers,userStatus:vt.userStatus})),function(){return[(0,b.createElementVNode)("div",Ot,[(0,b.createVNode)(b.Transition,{name:"vac-slide-up"},{default:(0,b.withCtx)(function(){return[Ie.messageSelectionEnabled?((0,b.openBlock)(),(0,b.createElementBlock)("div",Bt,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.messageSelectionActions,function(cr){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{id:cr.name,key:cr.name},[(0,b.createElementVNode)("div",{class:"vac-selection-button",onClick:function(fr){return vt.messageSelectionActionHandler(cr)}},[(0,b.createTextVNode)((0,b.toDisplayString)(cr.title)+" ",1),(0,b.createElementVNode)("span",sr,(0,b.toDisplayString)(Ie.selectedMessagesTotal),1)],8,dr)],8,nr)}),128)),(0,b.createElementVNode)("div",{class:"vac-selection-cancel vac-item-clickable",onClick:Te[0]||(Te[0]=function(cr){return Ue.$emit("cancel-message-selection")})},(0,b.toDisplayString)(Ie.textMessages.CANCEL_SELECT_MESSAGE),1)])):(0,b.createCommentVNode)("",!0)]}),_:1}),!Ie.messageSelectionEnabled&&_t.messageSelectionAnimationEnded?((0,b.openBlock)(),(0,b.createElementBlock)(b.Fragment,{key:0},[Ie.singleRoom?(0,b.createCommentVNode)("",!0):((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:(0,b.normalizeClass)(["vac-svg-button vac-toggle-button",{"vac-rotate-icon-init":!Ie.isMobile,"vac-rotate-icon":!Ie.showRoomsList&&!Ie.isMobile}]),onClick:Te[1]||(Te[1]=function(cr){return Ue.$emit("toggle-rooms-list")})},[(0,b.renderSlot)(Ue.$slots,"toggle-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"toggle"})]})],2)),(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-info-wrapper",{"vac-item-clickable":Ie.roomInfoEnabled}]),onClick:Te[2]||(Te[2]=function(cr){return Ue.$emit("room-info")})},[(0,b.renderSlot)(Ue.$slots,"room-header-avatar",(0,b.normalizeProps)((0,b.guardReactiveProps)({room:Ie.room})),function(){return[Ie.room.avatar?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-avatar",style:(0,b.normalizeStyle)({"background-image":"url('".concat(Ie.room.avatar,"')")})},null,4)):(0,b.createCommentVNode)("",!0)]}),(0,b.renderSlot)(Ue.$slots,"room-header-info",(0,b.normalizeProps)((0,b.guardReactiveProps)({room:Ie.room,typingUsers:vt.typingUsers,userStatus:vt.userStatus})),function(){return[(0,b.createElementVNode)("div",gr,[(0,b.createElementVNode)("div",Zt,(0,b.toDisplayString)(Ie.room.roomName),1),vt.typingUsers?((0,b.openBlock)(),(0,b.createElementBlock)("div",rr,(0,b.toDisplayString)(vt.typingUsers),1)):((0,b.openBlock)(),(0,b.createElementBlock)("div",Gt,(0,b.toDisplayString)(vt.userStatus),1))])]})],2),Ie.room.roomId?(0,b.renderSlot)(Ue.$slots,"room-options",{key:1},function(){return[Ie.menuActions.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-svg-button vac-room-options",onClick:Te[3]||(Te[3]=function(cr){return _t.menuOpened=!_t.menuOpened})},[(0,b.renderSlot)(Ue.$slots,"menu-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"menu"})]})])):(0,b.createCommentVNode)("",!0),Ie.menuActions.length?((0,b.openBlock)(),(0,b.createBlock)(b.Transition,{key:1,name:"vac-slide-left"},{default:(0,b.withCtx)(function(){return[_t.menuOpened?(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("div",mr,[(0,b.createElementVNode)("div",yr,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.menuActions,function(cr){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:cr.name},[(0,b.createElementVNode)("div",{class:"vac-menu-item",onClick:function(fr){return vt.menuActionHandler(cr)}},(0,b.toDisplayString)(cr.title),9,Cr)])}),128))])])),[[qt,vt.closeMenu]]):(0,b.createCommentVNode)("",!0)]}),_:1})):(0,b.createCommentVNode)("",!0)]}):(0,b.createCommentVNode)("",!0)],64)):(0,b.createCommentVNode)("",!0)])]})])}const Hr={name:"RoomHeader",components:{SvgIcon:$e},directives:{clickOutside:Ft},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},room:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},messageSelectionActions:{type:Array,required:!0},selectedMessagesTotal:{type:Number,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","cancel-message-selection","message-selection-action-handler"],data:function(){return{menuOpened:!1,messageSelectionAnimationEnded:!0}},computed:{typingUsers:function(){return je(this.room,this.currentUserId,this.textMessages)},userStatus:function(){var Te=this;if(!(!this.room.users||this.room.users.length!==2)){var Ie=this.room.users.find(function(_t){return _t._id!==Te.currentUserId});if(!!Ie.status){var mt="";return Ie.status.state==="online"?mt=this.textMessages.IS_ONLINE:Ie.status.lastChanged&&(mt=this.textMessages.LAST_SEEN+Ie.status.lastChanged),mt}}}},watch:{messageSelectionEnabled:function(Te){var Ie=this;Te?this.messageSelectionAnimationEnded=!1:setTimeout(function(){Ie.messageSelectionAnimationEnded=!0},300)}},methods:{menuActionHandler:function(Te){this.closeMenu(),this.$emit("menu-action-handler",Te)},closeMenu:function(){this.menuOpened=!1},messageSelectionActionHandler:function(Te){this.$emit("message-selection-action-handler",Te)}}},Wr=(0,Me.Z)(Hr,[["render",Br]]);var jt={key:0,class:"vac-icon-textarea-left"},Yr=(0,b.createElementVNode)("div",{class:"vac-dot-audio-record"},null,-1),Jr={class:"vac-dot-audio-record-time"},nn=["placeholder"],qr={class:"vac-icon-textarea"},sn={key:1},an=["accept"];function Xr(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("room-emojis"),qt=(0,b.resolveComponent)("room-users-tag"),cr=(0,b.resolveComponent)("room-templates-text"),Wt=(0,b.resolveComponent)("room-message-reply"),fr=(0,b.resolveComponent)("room-files"),hr=(0,b.resolveComponent)("svg-icon"),xr=(0,b.resolveComponent)("emoji-picker-container"),br=(0,b.resolveDirective)("click-outside");return(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("div",{id:"room-footer",class:(0,b.normalizeClass)(["vac-room-footer",{"vac-app-box-shadow":vt.shadowFooter}])},[(0,b.createVNode)(Vt,{"filtered-emojis":_t.filteredEmojis,"select-item":_t.selectEmojiItem,"active-up-or-down":_t.activeUpOrDownEmojis,onSelectEmoji:Te[0]||(Te[0]=function(Nr){return vt.selectEmoji(Nr)}),onActivateItem:Te[1]||(Te[1]=function(Nr){return _t.activeUpOrDownEmojis=0})},null,8,["filtered-emojis","select-item","active-up-or-down"]),(0,b.createVNode)(qt,{"filtered-users-tag":_t.filteredUsersTag,"select-item":_t.selectUsersTagItem,"active-up-or-down":_t.activeUpOrDownUsersTag,onSelectUserTag:Te[2]||(Te[2]=function(Nr){return vt.selectUserTag(Nr)}),onActivateItem:Te[3]||(Te[3]=function(Nr){return _t.activeUpOrDownUsersTag=0})},null,8,["filtered-users-tag","select-item","active-up-or-down"]),(0,b.createVNode)(cr,{"filtered-templates-text":_t.filteredTemplatesText,"select-item":_t.selectTemplatesTextItem,"active-up-or-down":_t.activeUpOrDownTemplatesText,onSelectTemplateText:Te[4]||(Te[4]=function(Nr){return vt.selectTemplateText(Nr)}),onActivateItem:Te[5]||(Te[5]=function(Nr){return _t.activeUpOrDownTemplatesText=0})},null,8,["filtered-templates-text","select-item","active-up-or-down"]),(0,b.createVNode)(Wt,{room:Ie.room,"message-reply":_t.messageReply,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,onResetMessage:vt.resetMessage},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Nr,Fr){return{name:Fr,fn:(0,b.withCtx)(function(jr){return[(0,b.renderSlot)(Ue.$slots,Fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(jr)))]})}})]),1032,["room","message-reply","text-formatting","link-options","onResetMessage"]),(0,b.createVNode)(fr,{files:_t.files,onRemoveFile:vt.removeFile,onResetMessage:vt.resetMessage},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Nr,Fr){return{name:Fr,fn:(0,b.withCtx)(function(jr){return[(0,b.renderSlot)(Ue.$slots,Fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(jr)))]})}})]),1032,["files","onRemoveFile","onResetMessage"]),(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-box-footer",{"vac-box-footer-border":!_t.files.length}])},[Ie.showAudio&&!_t.files.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",jt,[_t.isRecording?((0,b.openBlock)(),(0,b.createElementBlock)(b.Fragment,{key:0},[(0,b.createElementVNode)("div",{class:"vac-svg-button vac-icon-audio-stop",onClick:Te[6]||(Te[6]=function(){return vt.stopRecorder&&vt.stopRecorder.apply(vt,arguments)})},[(0,b.renderSlot)(Ue.$slots,"audio-stop-icon",{},function(){return[(0,b.createVNode)(hr,{name:"close-outline"})]})]),Yr,(0,b.createElementVNode)("div",Jr,(0,b.toDisplayString)(vt.recordedTime),1),(0,b.createElementVNode)("div",{class:"vac-svg-button vac-icon-audio-confirm",onClick:Te[7]||(Te[7]=function(Nr){return vt.toggleRecorder(!1)})},[(0,b.renderSlot)(Ue.$slots,"audio-stop-icon",{},function(){return[(0,b.createVNode)(hr,{name:"checkmark"})]})])],64)):((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:1,class:"vac-svg-button",onClick:Te[8]||(Te[8]=function(Nr){return vt.toggleRecorder(!0)})},[(0,b.renderSlot)(Ue.$slots,"microphone-icon",{},function(){return[(0,b.createVNode)(hr,{name:"microphone",class:"vac-icon-microphone"})]})]))])):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("textarea",{id:"roomTextarea",ref:"roomTextarea",placeholder:Ie.textMessages.TYPE_MESSAGE,class:(0,b.normalizeClass)(["vac-textarea",{"vac-textarea-outline":_t.editedMessage._id}]),style:{"min-height":"20px","padding-left":"12px"},onInput:Te[9]||(Te[9]=function(){return vt.onChangeInput&&vt.onChangeInput.apply(vt,arguments)}),onKeydown:[Te[10]||(Te[10]=(0,b.withKeys)(function(){return vt.escapeTextarea&&vt.escapeTextarea.apply(vt,arguments)},["esc"])),Te[11]||(Te[11]=(0,b.withKeys)((0,b.withModifiers)(function(){return vt.selectItem&&vt.selectItem.apply(vt,arguments)},["exact","prevent"]),["enter"])),Te[13]||(Te[13]=(0,b.withKeys)((0,b.withModifiers)(function(){},["exact","prevent"]),["tab"])),Te[14]||(Te[14]=(0,b.withKeys)(function(){return vt.selectItem&&vt.selectItem.apply(vt,arguments)},["tab"])),Te[15]||(Te[15]=(0,b.withKeys)((0,b.withModifiers)(function(){},["exact","prevent"]),["up"])),Te[16]||(Te[16]=(0,b.withKeys)(function(Nr){return vt.updateActiveUpOrDown(-1)},["up"])),Te[17]||(Te[17]=(0,b.withKeys)((0,b.withModifiers)(function(){},["exact","prevent"]),["down"])),Te[18]||(Te[18]=(0,b.withKeys)(function(Nr){return vt.updateActiveUpOrDown(1)},["down"]))],onPaste:Te[12]||(Te[12]=function(){return vt.onPasteImage&&vt.onPasteImage.apply(vt,arguments)})},null,42,nn),(0,b.createElementVNode)("div",qr,[_t.editedMessage._id?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-svg-button",onClick:Te[19]||(Te[19]=function(){return vt.resetMessage&&vt.resetMessage.apply(vt,arguments)})},[(0,b.renderSlot)(Ue.$slots,"edit-close-icon",{},function(){return[(0,b.createVNode)(hr,{name:"close-outline"})]})])):(0,b.createCommentVNode)("",!0),Ie.showEmojis?(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("div",sn,[(0,b.renderSlot)(Ue.$slots,"emoji-picker",(0,b.mergeProps)({emojiOpened:_t.emojiOpened},{addEmoji:vt.addEmoji}),function(){return[(0,b.createVNode)(xr,{"emoji-opened":_t.emojiOpened,"position-top":!0,onAddEmoji:vt.addEmoji,onOpenEmoji:Te[20]||(Te[20]=function(Nr){return _t.emojiOpened=Nr})},{"emoji-picker-icon":(0,b.withCtx)(function(){return[(0,b.renderSlot)(Ue.$slots,"emoji-picker-icon")]}),_:3},8,["emoji-opened","onAddEmoji"])]})])),[[br,function(){return _t.emojiOpened=!1}]]):(0,b.createCommentVNode)("",!0),Ie.showFiles?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:2,class:"vac-svg-button",onClick:Te[21]||(Te[21]=function(){return vt.launchFilePicker&&vt.launchFilePicker.apply(vt,arguments)})},[(0,b.renderSlot)(Ue.$slots,"paperclip-icon",{},function(){return[(0,b.createVNode)(hr,{name:"paperclip"})]})])):(0,b.createCommentVNode)("",!0),Ie.textareaActionEnabled?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:3,class:"vac-svg-button",onClick:Te[22]||(Te[22]=function(){return vt.textareaActionHandler&&vt.textareaActionHandler.apply(vt,arguments)})},[(0,b.renderSlot)(Ue.$slots,"custom-action-icon",{},function(){return[(0,b.createVNode)(hr,{name:"deleted"})]})])):(0,b.createCommentVNode)("",!0),Ie.showFiles?((0,b.openBlock)(),(0,b.createElementBlock)("input",{key:4,ref:"file",type:"file",multiple:"",accept:Ie.acceptedFiles,style:{display:"none"},onChange:Te[23]||(Te[23]=function(Nr){return vt.onFileChange(Nr.target.files)})},null,40,an)):(0,b.createCommentVNode)("",!0),Ie.showSendIcon?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:5,class:(0,b.normalizeClass)(["vac-svg-button",{"vac-send-disabled":vt.isMessageEmpty}]),onClick:Te[24]||(Te[24]=function(){return vt.sendMessage&&vt.sendMessage.apply(vt,arguments)})},[(0,b.renderSlot)(Ue.$slots,"send-icon",{},function(){return[(0,b.createVNode)(hr,{name:"send",param:vt.isMessageEmpty||vt.isFileLoading?"disabled":""},null,8,["param"])]})],2)):(0,b.createCommentVNode)("",!0)])],2)],2)),[[b.vShow,Object.keys(Ie.room).length&&Ie.showFooter]])}m(2443),m(3680),m(3706),m(2703),m(8011),m(489),m(8304),m(8674),m(5069);function tn(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */tn=function(){return Ue};var Ue={},Te=Object.prototype,Ie=Te.hasOwnProperty,mt=typeof Symbol=="function"?Symbol:{},_t=mt.iterator||"@@iterator",vt=mt.asyncIterator||"@@asyncIterator",Vt=mt.toStringTag||"@@toStringTag";function qt(Lr,Mr,Vr){return Object.defineProperty(Lr,Mr,{value:Vr,enumerable:!0,configurable:!0,writable:!0}),Lr[Mr]}try{qt({},"")}catch{qt=function(Vr,Kr,Gr){return Vr[Kr]=Gr}}function cr(Lr,Mr,Vr,Kr){var Gr=Mr&&Mr.prototype instanceof hr?Mr:hr,Zr=Object.create(Gr.prototype),Sn=new en(Kr||[]);return Zr._invoke=function(Tn,An,ln){var mn="suspendedStart";return function(On,Fn){if(mn==="executing")throw new Error("Generator is already running");if(mn==="completed"){if(On==="throw")throw Fn;return Bn()}for(ln.method=On,ln.arg=Fn;;){var In=ln.delegate;if(In){var Dn=kn(In,ln);if(Dn){if(Dn===fr)continue;return Dn}}if(ln.method==="next")ln.sent=ln._sent=ln.arg;else if(ln.method==="throw"){if(mn==="suspendedStart")throw mn="completed",ln.arg;ln.dispatchException(ln.arg)}else ln.method==="return"&&ln.abrupt("return",ln.arg);mn="executing";var Nn=Wt(Tn,An,ln);if(Nn.type==="normal"){if(mn=ln.done?"completed":"suspendedYield",Nn.arg===fr)continue;return{value:Nn.arg,done:ln.done}}Nn.type==="throw"&&(mn="completed",ln.method="throw",ln.arg=Nn.arg)}}}(Lr,Vr,Sn),Zr}function Wt(Lr,Mr,Vr){try{return{type:"normal",arg:Lr.call(Mr,Vr)}}catch(Kr){return{type:"throw",arg:Kr}}}Ue.wrap=cr;var fr={};function hr(){}function xr(){}function br(){}var Nr={};qt(Nr,_t,function(){return this});var Fr=Object.getPrototypeOf,jr=Fr&&Fr(Fr(_n([])));jr&&jr!==Te&&Ie.call(jr,_t)&&(Nr=jr);var pn=br.prototype=hr.prototype=Object.create(Nr);function Mn(Lr){["next","throw","return"].forEach(function(Mr){qt(Lr,Mr,function(Vr){return this._invoke(Mr,Vr)})})}function xn(Lr,Mr){function Vr(Gr,Zr,Sn,Tn){var An=Wt(Lr[Gr],Lr,Zr);if(An.type!=="throw"){var ln=An.arg,mn=ln.value;return mn&&(0,Yt.Z)(mn)=="object"&&Ie.call(mn,"__await")?Mr.resolve(mn.__await).then(function(On){Vr("next",On,Sn,Tn)},function(On){Vr("throw",On,Sn,Tn)}):Mr.resolve(mn).then(function(On){ln.value=On,Sn(ln)},function(On){return Vr("throw",On,Sn,Tn)})}Tn(An.arg)}var Kr;this._invoke=function(Gr,Zr){function Sn(){return new Mr(function(Tn,An){Vr(Gr,Zr,Tn,An)})}return Kr=Kr?Kr.then(Sn,Sn):Sn()}}function kn(Lr,Mr){var Vr=Lr.iterator[Mr.method];if(Vr===void 0){if(Mr.delegate=null,Mr.method==="throw"){if(Lr.iterator.return&&(Mr.method="return",Mr.arg=void 0,kn(Lr,Mr),Mr.method==="throw"))return fr;Mr.method="throw",Mr.arg=new TypeError("The iterator does not provide a 'throw' method")}return fr}var Kr=Wt(Vr,Lr.iterator,Mr.arg);if(Kr.type==="throw")return Mr.method="throw",Mr.arg=Kr.arg,Mr.delegate=null,fr;var Gr=Kr.arg;return Gr?Gr.done?(Mr[Lr.resultName]=Gr.value,Mr.next=Lr.nextLoc,Mr.method!=="return"&&(Mr.method="next",Mr.arg=void 0),Mr.delegate=null,fr):Gr:(Mr.method="throw",Mr.arg=new TypeError("iterator result is not an object"),Mr.delegate=null,fr)}function Ln(Lr){var Mr={tryLoc:Lr[0]};1 in Lr&&(Mr.catchLoc=Lr[1]),2 in Lr&&(Mr.finallyLoc=Lr[2],Mr.afterLoc=Lr[3]),this.tryEntries.push(Mr)}function fn(Lr){var Mr=Lr.completion||{};Mr.type="normal",delete Mr.arg,Lr.completion=Mr}function en(Lr){this.tryEntries=[{tryLoc:"root"}],Lr.forEach(Ln,this),this.reset(!0)}function _n(Lr){if(Lr){var Mr=Lr[_t];if(Mr)return Mr.call(Lr);if(typeof Lr.next=="function")return Lr;if(!isNaN(Lr.length)){var Vr=-1,Kr=function Gr(){for(;++Vr<Lr.length;)if(Ie.call(Lr,Vr))return Gr.value=Lr[Vr],Gr.done=!1,Gr;return Gr.value=void 0,Gr.done=!0,Gr};return Kr.next=Kr}}return{next:Bn}}function Bn(){return{value:void 0,done:!0}}return xr.prototype=br,qt(pn,"constructor",br),qt(br,"constructor",xr),xr.displayName=qt(br,Vt,"GeneratorFunction"),Ue.isGeneratorFunction=function(Lr){var Mr=typeof Lr=="function"&&Lr.constructor;return!!Mr&&(Mr===xr||(Mr.displayName||Mr.name)==="GeneratorFunction")},Ue.mark=function(Lr){return Object.setPrototypeOf?Object.setPrototypeOf(Lr,br):(Lr.__proto__=br,qt(Lr,Vt,"GeneratorFunction")),Lr.prototype=Object.create(pn),Lr},Ue.awrap=function(Lr){return{__await:Lr}},Mn(xn.prototype),qt(xn.prototype,vt,function(){return this}),Ue.AsyncIterator=xn,Ue.async=function(Lr,Mr,Vr,Kr,Gr){Gr===void 0&&(Gr=Promise);var Zr=new xn(cr(Lr,Mr,Vr,Kr),Gr);return Ue.isGeneratorFunction(Mr)?Zr:Zr.next().then(function(Sn){return Sn.done?Sn.value:Zr.next()})},Mn(pn),qt(pn,Vt,"Generator"),qt(pn,_t,function(){return this}),qt(pn,"toString",function(){return"[object Generator]"}),Ue.keys=function(Lr){var Mr=[];for(var Vr in Lr)Mr.push(Vr);return Mr.reverse(),function Kr(){for(;Mr.length;){var Gr=Mr.pop();if(Gr in Lr)return Kr.value=Gr,Kr.done=!1,Kr}return Kr.done=!0,Kr}},Ue.values=_n,en.prototype={constructor:en,reset:function(Mr){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(fn),!Mr)for(var Vr in this)Vr.charAt(0)==="t"&&Ie.call(this,Vr)&&!isNaN(+Vr.slice(1))&&(this[Vr]=void 0)},stop:function(){this.done=!0;var Mr=this.tryEntries[0].completion;if(Mr.type==="throw")throw Mr.arg;return this.rval},dispatchException:function(Mr){if(this.done)throw Mr;var Vr=this;function Kr(ln,mn){return Sn.type="throw",Sn.arg=Mr,Vr.next=ln,mn&&(Vr.method="next",Vr.arg=void 0),!!mn}for(var Gr=this.tryEntries.length-1;Gr>=0;--Gr){var Zr=this.tryEntries[Gr],Sn=Zr.completion;if(Zr.tryLoc==="root")return Kr("end");if(Zr.tryLoc<=this.prev){var Tn=Ie.call(Zr,"catchLoc"),An=Ie.call(Zr,"finallyLoc");if(Tn&&An){if(this.prev<Zr.catchLoc)return Kr(Zr.catchLoc,!0);if(this.prev<Zr.finallyLoc)return Kr(Zr.finallyLoc)}else if(Tn){if(this.prev<Zr.catchLoc)return Kr(Zr.catchLoc,!0)}else{if(!An)throw new Error("try statement without catch or finally");if(this.prev<Zr.finallyLoc)return Kr(Zr.finallyLoc)}}}},abrupt:function(Mr,Vr){for(var Kr=this.tryEntries.length-1;Kr>=0;--Kr){var Gr=this.tryEntries[Kr];if(Gr.tryLoc<=this.prev&&Ie.call(Gr,"finallyLoc")&&this.prev<Gr.finallyLoc){var Zr=Gr;break}}Zr&&(Mr==="break"||Mr==="continue")&&Zr.tryLoc<=Vr&&Vr<=Zr.finallyLoc&&(Zr=null);var Sn=Zr?Zr.completion:{};return Sn.type=Mr,Sn.arg=Vr,Zr?(this.method="next",this.next=Zr.finallyLoc,fr):this.complete(Sn)},complete:function(Mr,Vr){if(Mr.type==="throw")throw Mr.arg;return Mr.type==="break"||Mr.type==="continue"?this.next=Mr.arg:Mr.type==="return"?(this.rval=this.arg=Mr.arg,this.method="return",this.next="end"):Mr.type==="normal"&&Vr&&(this.next=Vr),fr},finish:function(Mr){for(var Vr=this.tryEntries.length-1;Vr>=0;--Vr){var Kr=this.tryEntries[Vr];if(Kr.finallyLoc===Mr)return this.complete(Kr.completion,Kr.afterLoc),fn(Kr),fr}},catch:function(Mr){for(var Vr=this.tryEntries.length-1;Vr>=0;--Vr){var Kr=this.tryEntries[Vr];if(Kr.tryLoc===Mr){var Gr=Kr.completion;if(Gr.type==="throw"){var Zr=Gr.arg;fn(Kr)}return Zr}}throw new Error("illegal catch attempt")},delegateYield:function(Mr,Vr,Kr){return this.delegate={iterator:_n(Mr),resultName:Vr,nextLoc:Kr},this.method==="next"&&(this.arg=void 0),fr}},Ue}function vn(Ue,Te,Ie,mt,_t,vt,Vt){try{var qt=Ue[vt](Vt),cr=qt.value}catch(Wt){Ie(Wt);return}qt.done?Te(cr):Promise.resolve(cr).then(mt,_t)}function hn(Ue){return function(){var Te=this,Ie=arguments;return new Promise(function(mt,_t){var vt=Ue.apply(Te,Ie);function Vt(cr){vn(vt,mt,_t,Vt,qt,"next",cr)}function qt(cr){vn(vt,mt,_t,Vt,qt,"throw",cr)}Vt(void 0)})}}m(3210),m(8733),m(3710),m(285),m(1637),m(561);function dn(Ue){if(typeof Ue!="string"||!Ue)throw new Error("expected a non-empty string, got: "+Ue)}function En(Ue){if(typeof Ue!="number")throw new Error("expected a number, got: "+Ue)}const wn=1,Rn=1,Qr="emoji",Kn="keyvalue",no="favorites",wo="tokens",$n="tokens",oo="unicode",Gn="count",xo="group",qn="order",uo="group-order",Jn="eTag",Yn="url",io="skinTone",Un="readonly",Zo="readwrite",pi="skinUnicodes",ys="skinUnicodes",bs="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",_s="en";function Es(Ue,Te){const Ie=new Set,mt=[];for(const _t of Ue){const vt=Te(_t);Ie.has(vt)||(Ie.add(vt),mt.push(_t))}return mt}function mi(Ue){return Es(Ue,Te=>Te.unicode)}function Ss(Ue){function Te(Ie,mt,_t){const vt=mt?Ue.createObjectStore(Ie,{keyPath:mt}):Ue.createObjectStore(Ie);if(_t)for(const[Vt,[qt,cr]]of Object.entries(_t))vt.createIndex(Vt,qt,{multiEntry:cr});return vt}Te(Kn),Te(Qr,oo,{[$n]:[wo,!0],[uo]:[[xo,qn]],[pi]:[ys,!0]}),Te(no,void 0,{[Gn]:[""]})}const qo={},ko={},Lo={};function vi(Ue,Te,Ie){Ie.onerror=()=>Te(Ie.error),Ie.onblocked=()=>Te(new Error("IDB blocked")),Ie.onsuccess=()=>Ue(Ie.result)}async function ws(Ue){const Te=await new Promise((Ie,mt)=>{const _t=indexedDB.open(Ue,wn);qo[Ue]=_t,_t.onupgradeneeded=vt=>{vt.oldVersion<Rn&&Ss(_t.result)},vi(Ie,mt,_t)});return Te.onclose=()=>Jo(Ue),Te}function xs(Ue){return ko[Ue]||(ko[Ue]=ws(Ue)),ko[Ue]}function Qn(Ue,Te,Ie,mt){return new Promise((_t,vt)=>{const Vt=Ue.transaction(Te,Ie,{durability:"relaxed"}),qt=typeof Te=="string"?Vt.objectStore(Te):Te.map(Wt=>Vt.objectStore(Wt));let cr;mt(qt,Vt,Wt=>{cr=Wt}),Vt.oncomplete=()=>_t(cr),Vt.onerror=()=>vt(Vt.error)})}function Jo(Ue){const Te=qo[Ue],Ie=Te&&Te.result;if(Ie){Ie.close();const mt=Lo[Ue];if(mt)for(const _t of mt)_t()}delete qo[Ue],delete ko[Ue],delete Lo[Ue]}function Ts(Ue){return new Promise((Te,Ie)=>{Jo(Ue);const mt=indexedDB.deleteDatabase(Ue);vi(Te,Ie,mt)})}function As(Ue,Te){let Ie=Lo[Ue];Ie||(Ie=Lo[Ue]=[]),Ie.push(Te)}const Cs=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function fo(Ue){return Ue.split(/[\s_]+/).map(Te=>!Te.match(/\w/)||Cs.has(Te)?Te.toLowerCase():Te.replace(/[)(:,]/g,"").replace(/’/g,"'").toLowerCase()).filter(Boolean)}const Rs=2;function gi(Ue){return Ue.filter(Boolean).map(Te=>Te.toLowerCase()).filter(Te=>Te.length>=Rs)}function Is(Ue){return Ue.map(({annotation:Ie,emoticon:mt,group:_t,order:vt,shortcodes:Vt,skins:qt,tags:cr,emoji:Wt,version:fr})=>{const hr=[...new Set(gi([...(Vt||[]).map(fo).flat(),...cr.map(fo).flat(),...fo(Ie),mt]))].sort(),xr={annotation:Ie,group:_t,order:vt,tags:cr,tokens:hr,unicode:Wt,version:fr};if(mt&&(xr.emoticon=mt),Vt&&(xr.shortcodes=Vt),qt){xr.skinTones=[],xr.skinUnicodes=[],xr.skinVersions=[];for(const{tone:br,emoji:Nr,version:Fr}of qt)xr.skinTones.push(br),xr.skinUnicodes.push(Nr),xr.skinVersions.push(Fr)}return xr})}function yi(Ue,Te,Ie,mt){Ue[Te](Ie).onsuccess=_t=>mt&&mt(_t.target.result)}function so(Ue,Te,Ie){yi(Ue,"get",Te,Ie)}function bi(Ue,Te,Ie){yi(Ue,"getAll",Te,Ie)}function Qo(Ue){Ue.commit&&Ue.commit()}function $s(Ue,Te){let Ie=Ue[0];for(let mt=1;mt<Ue.length;mt++){const _t=Ue[mt];Te(Ie)>Te(_t)&&(Ie=_t)}return Ie}function _i(Ue,Te){const Ie=$s(Ue,_t=>_t.length),mt=[];for(const _t of Ie)Ue.some(vt=>vt.findIndex(Vt=>Te(Vt)===Te(_t))===-1)||mt.push(_t);return mt}async function Ms(Ue){return!await ei(Ue,Kn,Yn)}async function Os(Ue,Te,Ie){const[mt,_t]=await Promise.all([Jn,Yn].map(vt=>ei(Ue,Kn,vt)));return mt===Ie&&_t===Te}async function Ns(Ue,Te){return Qn(Ue,Qr,Un,(mt,_t,vt)=>{let Vt;const qt=()=>{mt.getAll(Vt&&IDBKeyRange.lowerBound(Vt,!0),50).onsuccess=cr=>{const Wt=cr.target.result;for(const fr of Wt)if(Vt=fr.unicode,Te(fr))return vt(fr);if(Wt.length<50)return vt();qt()}};qt()})}async function Ei(Ue,Te,Ie,mt){try{const _t=Is(Te);await Qn(Ue,[Qr,Kn],Zo,([vt,Vt],qt)=>{let cr,Wt,fr=0;function hr(){++fr===2&&xr()}function xr(){if(!(cr===mt&&Wt===Ie)){vt.clear();for(const br of _t)vt.put(br);Vt.put(mt,Jn),Vt.put(Ie,Yn),Qo(qt)}}so(Vt,Jn,br=>{cr=br,hr()}),so(Vt,Yn,br=>{Wt=br,hr()})})}finally{}}async function Ps(Ue,Te){return Qn(Ue,Qr,Un,(Ie,mt,_t)=>{const vt=IDBKeyRange.bound([Te,0],[Te+1,0],!1,!0);bi(Ie.index(uo),vt,_t)})}async function Si(Ue,Te){const Ie=gi(fo(Te));return Ie.length?Qn(Ue,Qr,Un,(mt,_t,vt)=>{const Vt=[],qt=()=>{Vt.length===Ie.length&&cr()},cr=()=>{const Wt=_i(Vt,fr=>fr.unicode);vt(Wt.sort((fr,hr)=>fr.order<hr.order?-1:1))};for(let Wt=0;Wt<Ie.length;Wt++){const fr=Ie[Wt],hr=Wt===Ie.length-1?IDBKeyRange.bound(fr,fr+"\uFFFF",!1,!0):IDBKeyRange.only(fr);bi(mt.index($n),hr,xr=>{Vt.push(xr),qt()})}}):[]}async function ks(Ue,Te){const Ie=await Si(Ue,Te);return Ie.length?Ie.filter(mt=>(mt.shortcodes||[]).map(vt=>vt.toLowerCase()).includes(Te.toLowerCase()))[0]||null:await Ns(Ue,_t=>(_t.shortcodes||[]).includes(Te.toLowerCase()))||null}async function Ls(Ue,Te){return Qn(Ue,Qr,Un,(Ie,mt,_t)=>so(Ie,Te,vt=>{if(vt)return _t(vt);so(Ie.index(pi),Te,Vt=>_t(Vt||null))}))}function ei(Ue,Te,Ie){return Qn(Ue,Te,Un,(mt,_t,vt)=>so(mt,Ie,vt))}function Bs(Ue,Te,Ie,mt){return Qn(Ue,Te,Zo,(_t,vt)=>{_t.put(mt,Ie),Qo(vt)})}function Ds(Ue,Te){return Qn(Ue,no,Zo,(Ie,mt)=>so(Ie,Te,_t=>{Ie.put((_t||0)+1,Te),Qo(mt)}))}function Fs(Ue,Te,Ie){return Ie===0?[]:Qn(Ue,[no,Qr],Un,([mt,_t],vt,Vt)=>{const qt=[];mt.index(Gn).openCursor(void 0,"prev").onsuccess=cr=>{const Wt=cr.target.result;if(!Wt)return Vt(qt);function fr(br){if(qt.push(br),qt.length===Ie)return Vt(qt);Wt.continue()}const hr=Wt.primaryKey,xr=Te.byName(hr);if(xr)return fr(xr);so(_t,hr,br=>{if(br)return fr(br);Wt.continue()})}})}const Bo="";function Us(Ue,Te){const Ie=new Map;for(const _t of Ue){const vt=Te(_t);for(const Vt of vt){let qt=Ie;for(let Wt=0;Wt<Vt.length;Wt++){const fr=Vt.charAt(Wt);let hr=qt.get(fr);hr||(hr=new Map,qt.set(fr,hr)),qt=hr}let cr=qt.get(Bo);cr||(cr=[],qt.set(Bo,cr)),cr.push(_t)}}return(_t,vt)=>{let Vt=Ie;for(let Wt=0;Wt<_t.length;Wt++){const fr=_t.charAt(Wt),hr=Vt.get(fr);if(hr)Vt=hr;else return[]}if(vt)return Vt.get(Bo)||[];const qt=[],cr=[Vt];for(;cr.length;){const fr=[...cr.shift().entries()].sort((hr,xr)=>hr[0]<xr[0]?-1:1);for(const[hr,xr]of fr)hr===Bo?qt.push(...xr):cr.push(xr)}return qt}}const Hs=["name","url"];function js(Ue){const Te=Ue&&Array.isArray(Ue),Ie=Te&&Ue.length&&(!Ue[0]||Hs.some(mt=>!(mt in Ue[0])));if(!Te||Ie)throw new Error("Custom emojis are in the wrong format")}function wi(Ue){js(Ue);const Te=(xr,br)=>xr.name.toLowerCase()<br.name.toLowerCase()?-1:1,Ie=Ue.sort(Te),_t=Us(Ue,xr=>[...new Set((xr.shortcodes||[]).map(br=>fo(br)).flat())]),vt=xr=>_t(xr,!0),Vt=xr=>_t(xr,!1),qt=xr=>{const br=fo(xr),Nr=br.map((Fr,jr)=>(jr<br.length-1?vt:Vt)(Fr));return _i(Nr,Fr=>Fr.name).sort(Te)},cr=new Map,Wt=new Map;for(const xr of Ue){Wt.set(xr.name.toLowerCase(),xr);for(const br of xr.shortcodes||[])cr.set(br.toLowerCase(),xr)}return{all:Ie,search:qt,byShortcode:xr=>cr.get(xr.toLowerCase()),byName:xr=>Wt.get(xr.toLowerCase())}}function To(Ue){if(!Ue)return Ue;if(delete Ue.tokens,Ue.skinTones){const Te=Ue.skinTones.length;Ue.skins=Array(Te);for(let Ie=0;Ie<Te;Ie++)Ue.skins[Ie]={tone:Ue.skinTones[Ie],unicode:Ue.skinUnicodes[Ie],version:Ue.skinVersions[Ie]};delete Ue.skinTones,delete Ue.skinUnicodes,delete Ue.skinVersions}return Ue}function xi(Ue){Ue||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const zs=["annotation","emoji","group","order","tags","version"];function Vs(Ue){if(!Ue||!Array.isArray(Ue)||!Ue[0]||typeof Ue[0]!="object"||zs.some(Te=>!(Te in Ue[0])))throw new Error("Emoji data is in the wrong format")}function Ti(Ue,Te){if(Math.floor(Ue.status/100)!==2)throw new Error("Failed to fetch: "+Te+":  "+Ue.status)}async function Ws(Ue){const Te=await fetch(Ue,{method:"HEAD"});Ti(Te,Ue);const Ie=Te.headers.get("etag");return xi(Ie),Ie}async function ti(Ue){const Te=await fetch(Ue);Ti(Te,Ue);const Ie=Te.headers.get("etag");xi(Ie);const mt=await Te.json();return Vs(mt),[Ie,mt]}function Ks(Ue){for(var Te="",Ie=new Uint8Array(Ue),mt=Ie.byteLength,_t=-1;++_t<mt;)Te+=String.fromCharCode(Ie[_t]);return Te}function Gs(Ue){for(var Te=Ue.length,Ie=new ArrayBuffer(Te),mt=new Uint8Array(Ie),_t=-1;++_t<Te;)mt[_t]=Ue.charCodeAt(_t);return Ie}async function Ai(Ue){const Te=JSON.stringify(Ue),Ie=Gs(Te),mt=await crypto.subtle.digest("SHA-1",Ie),_t=Ks(mt);return btoa(_t)}async function Ys(Ue,Te){let Ie,mt=await Ws(Te);if(!mt){const _t=await ti(Te);mt=_t[0],Ie=_t[1],mt||(mt=await Ai(Ie))}await Os(Ue,Te,mt)||(Ie||(Ie=(await ti(Te))[1]),await Ei(Ue,Ie,Te,mt))}async function Xs(Ue,Te){let[Ie,mt]=await ti(Te);Ie||(Ie=await Ai(mt)),await Ei(Ue,mt,Te,Ie)}class Ci{constructor({dataSource:Te=bs,locale:Ie=_s,customEmoji:mt=[]}={}){this.dataSource=Te,this.locale=Ie,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=wi(mt),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const Te=this._db=await xs(this._dbName);As(this._dbName,this._clear);const Ie=this.dataSource;await Ms(Te)?await Xs(Te,Ie):this._lazyUpdate=Ys(Te,Ie)}async ready(){const Te=async()=>(this._ready||(this._ready=this._init()),this._ready);await Te(),this._db||await Te()}async getEmojiByGroup(Te){return En(Te),await this.ready(),mi(await Ps(this._db,Te)).map(To)}async getEmojiBySearchQuery(Te){dn(Te),await this.ready();const Ie=this._custom.search(Te),mt=mi(await Si(this._db,Te)).map(To);return[...Ie,...mt]}async getEmojiByShortcode(Te){dn(Te),await this.ready();const Ie=this._custom.byShortcode(Te);return Ie||To(await ks(this._db,Te))}async getEmojiByUnicodeOrName(Te){dn(Te),await this.ready();const Ie=this._custom.byName(Te);return Ie||To(await Ls(this._db,Te))}async getPreferredSkinTone(){return await this.ready(),await ei(this._db,Kn,io)||0}async setPreferredSkinTone(Te){return En(Te),await this.ready(),Bs(this._db,Kn,io,Te)}async incrementFavoriteEmojiCount(Te){return dn(Te),await this.ready(),Ds(this._db,Te)}async getTopFavoriteEmoji(Te){return En(Te),await this.ready(),(await Fs(this._db,this._custom,Te)).map(To)}set customEmoji(Te){this._custom=wi(Te)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch{}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await Jo(this._dbName)}async delete(){await this._shutdown(),await Ts(this._dbName)}}function Ao(){}function Ri(Ue){return Ue()}function Ii(){return Object.create(null)}function Co(Ue){Ue.forEach(Ri)}function $i(Ue){return typeof Ue=="function"}function Zs(Ue,Te){return Ue!=Ue?Te==Te:Ue!==Te||Ue&&typeof Ue=="object"||typeof Ue=="function"}let Do;function Fo(Ue,Te){return Do||(Do=document.createElement("a")),Do.href=Te,Ue===Do.href}function qs(Ue){return Object.keys(Ue).length===0}function Js(Ue){return Ue&&$i(Ue.destroy)?Ue.destroy:Ao}function yn(Ue,Te){Ue.appendChild(Te)}function Hn(Ue,Te,Ie){Ue.insertBefore(Te,Ie||null)}function jn(Ue){Ue.parentNode.removeChild(Ue)}function gn(Ue){return document.createElement(Ue)}function Xn(Ue){return document.createTextNode(Ue)}function zn(Ue,Te,Ie,mt){return Ue.addEventListener(Te,Ie,mt),()=>Ue.removeEventListener(Te,Ie,mt)}function _r(Ue,Te,Ie){Ie==null?Ue.removeAttribute(Te):Ue.getAttribute(Te)!==Ie&&Ue.setAttribute(Te,Ie)}function Zn(Ue,Te){Te=""+Te,Ue.wholeText!==Te&&(Ue.data=Te)}function Mi(Ue,Te){Ue.value=Te??""}function to(Ue,Te,Ie,mt){Ie===null?Ue.style.removeProperty(Te):Ue.style.setProperty(Te,Ie,mt?"important":"")}let ri;function Ro(Ue){ri=Ue}const Io=[],ho=[],Uo=[],Oi=[],Ni=Promise.resolve();let ni=!1;function Pi(){ni||(ni=!0,Ni.then(ki))}function Qs(){return Pi(),Ni}function oi(Ue){Uo.push(Ue)}const ii=new Set;let Ho=0;function ki(){const Ue=ri;do{for(;Ho<Io.length;){const Te=Io[Ho];Ho++,Ro(Te),la(Te.$$)}for(Ro(null),Io.length=0,Ho=0;ho.length;)ho.pop()();for(let Te=0;Te<Uo.length;Te+=1){const Ie=Uo[Te];ii.has(Ie)||(ii.add(Ie),Ie())}Uo.length=0}while(Io.length);for(;Oi.length;)Oi.pop()();ni=!1,ii.clear(),Ro(Ue)}function la(Ue){if(Ue.fragment!==null){Ue.update(),Co(Ue.before_update);const Te=Ue.dirty;Ue.dirty=[-1],Ue.fragment&&Ue.fragment.p(Ue.ctx,Te),Ue.after_update.forEach(oi)}}const ca=new Set;function Ea(Ue,Te){Ue&&Ue.i&&(ca.delete(Ue),Ue.i(Te))}const Ta=typeof window<"u"?window:typeof globalThis<"u"?globalThis:commonjsGlobal$1;function $o(Ue,Te){Ue.d(1),Te.delete(Ue.key)}function Mo(Ue,Te,Ie,mt,_t,vt,Vt,qt,cr,Wt,fr,hr){let xr=Ue.length,br=vt.length,Nr=xr;const Fr={};for(;Nr--;)Fr[Ue[Nr].key]=Nr;const jr=[],pn=new Map,Mn=new Map;for(Nr=br;Nr--;){const fn=hr(_t,vt,Nr),en=Ie(fn);let _n=Vt.get(en);_n?mt&&_n.p(fn,Te):(_n=Wt(en,fn),_n.c()),pn.set(en,jr[Nr]=_n),en in Fr&&Mn.set(en,Math.abs(Nr-Fr[en]))}const xn=new Set,kn=new Set;function Ln(fn){Ea(fn,1),fn.m(qt,fr),Vt.set(fn.key,fn),fr=fn.first,br--}for(;xr&&br;){const fn=jr[br-1],en=Ue[xr-1],_n=fn.key,Bn=en.key;fn===en?(fr=fn.first,xr--,br--):pn.has(Bn)?!Vt.has(_n)||xn.has(_n)?Ln(fn):kn.has(Bn)?xr--:Mn.get(_n)>Mn.get(Bn)?(kn.add(_n),Ln(fn)):(xn.add(Bn),xr--):(cr(en,Vt),xr--)}for(;xr--;){const fn=Ue[xr];pn.has(fn.key)||cr(fn,Vt)}for(;br;)Ln(jr[br-1]);return jr}function el(Ue,Te,Ie,mt){const{fragment:_t,on_mount:vt,on_destroy:Vt,after_update:qt}=Ue.$$;_t&&_t.m(Te,Ie),mt||oi(()=>{const cr=vt.map(Ri).filter($i);Vt?Vt.push(...cr):Co(cr),Ue.$$.on_mount=[]}),qt.forEach(oi)}function tl(Ue,Te){const Ie=Ue.$$;Ie.fragment!==null&&(Co(Ie.on_destroy),Ie.fragment&&Ie.fragment.d(Te),Ie.on_destroy=Ie.fragment=null,Ie.ctx=[])}function rl(Ue,Te){Ue.$$.dirty[0]===-1&&(Io.push(Ue),Pi(),Ue.$$.dirty.fill(0)),Ue.$$.dirty[Te/31|0]|=1<<Te%31}function nl(Ue,Te,Ie,mt,_t,vt,Vt,qt=[-1]){const cr=ri;Ro(Ue);const Wt=Ue.$$={fragment:null,ctx:null,props:vt,update:Ao,not_equal:_t,bound:Ii(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(cr?cr.$$.context:[]),callbacks:Ii(),dirty:qt,skip_bound:!1,root:Te.target||cr.$$.root};Vt&&Vt(Wt.root);let fr=!1;Wt.ctx=Ie?Ie(Ue,Te.props||{},(hr,xr,...br)=>{const Nr=br.length?br[0]:xr;return Wt.ctx&&_t(Wt.ctx[hr],Wt.ctx[hr]=Nr)&&(!Wt.skip_bound&&Wt.bound[hr]&&Wt.bound[hr](Nr),fr&&rl(Ue,hr)),xr}):[],Wt.update(),fr=!0,Co(Wt.before_update),Wt.fragment=mt?mt(Wt.ctx):!1,Te.target&&(Wt.fragment&&Wt.fragment.c(),el(Ue,Te.target,void 0,void 0),ki()),Ro(cr)}class ol{$destroy(){tl(this,1),this.$destroy=Ao}$on(Te,Ie){const mt=this.$$.callbacks[Te]||(this.$$.callbacks[Te]=[]);return mt.push(Ie),()=>{const _t=mt.indexOf(Ie);_t!==-1&&mt.splice(_t,1)}}$set(Te){this.$$set&&!qs(Te)&&(this.$$.skip_bound=!0,this.$$set(Te),this.$$.skip_bound=!1)}}const Li=[[-1,"\u2728","custom"],[0,"\u{1F600}","smileys-emotion"],[1,"\u{1F44B}","people-body"],[3,"\u{1F431}","animals-nature"],[4,"\u{1F34E}","food-drink"],[5,"\u{1F3E0}\uFE0F","travel-places"],[6,"\u26BD","activities"],[7,"\u{1F4DD}","objects"],[8,"\u26D4\uFE0F","symbols"],[9,"\u{1F3C1}","flags"]].map(([Ue,Te,Ie])=>({id:Ue,emoji:Te,name:Ie})),jo=Li.slice(1),il=Li[0],sl=2,Bi=6,Di=typeof requestIdleCallback=="function"?requestIdleCallback:setTimeout;function Fi(Ue){return Ue.unicode.includes("\u200D")}const al={"\u{1FAE0}":14,"\u{1F972}":13.1,"\u{1F97B}":12.1,"\u{1F970}":11,"\u{1F929}":5,"\u{1F471}\u200D\u2640\uFE0F":4,"\u{1F923}":3,"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F":2,"\u{1F600}":1,"\u{1F610}\uFE0F":.7,"\u{1F603}":.6},ll=1e3,cl="\u{1F590}\uFE0F",ul=8,fl=["\u{1F60A}","\u{1F612}","\u2665\uFE0F","\u{1F44D}\uFE0F","\u{1F60D}","\u{1F602}","\u{1F62D}","\u263A\uFE0F","\u{1F614}","\u{1F629}","\u{1F60F}","\u{1F495}","\u{1F64C}","\u{1F618}"],Ui='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',dl=(Ue,Te)=>Ue<Te?-1:Ue>Te?1:0,Hi=(Ue,Te)=>{const Ie=document.createElement("canvas");Ie.width=Ie.height=1;const mt=Ie.getContext("2d");return mt.textBaseline="top",mt.font=`100px ${Ui}`,mt.fillStyle=Te,mt.scale(.01,.01),mt.fillText(Ue,0,0),mt.getImageData(0,0,1,1).data},hl=(Ue,Te)=>{const Ie=[...Ue].join(","),mt=[...Te].join(",");return Ie===mt&&!Ie.startsWith("0,0,0,")};function pl(Ue){const Te=Hi(Ue,"#000"),Ie=Hi(Ue,"#fff");return Te&&Ie&&hl(Te,Ie)}function ml(){const Ue=Object.entries(al);try{for(const[Te,Ie]of Ue)if(pl(Te))return Ie}catch{}finally{}return Ue[0][1]}const si=new Promise(Ue=>Di(()=>Ue(ml()))),ai=new Map,vl="\uFE0F",gl="\uD83C",yl="\u200D",bl=127995,_l=57339;function El(Ue,Te){if(Te===0)return Ue;const Ie=Ue.indexOf(yl);return Ie!==-1?Ue.substring(0,Ie)+String.fromCodePoint(bl+Te-1)+Ue.substring(Ie):(Ue.endsWith(vl)&&(Ue=Ue.substring(0,Ue.length-1)),Ue+gl+String.fromCodePoint(_l+Te-1))}function ro(Ue){Ue.preventDefault(),Ue.stopPropagation()}function li(Ue,Te,Ie){return Te+=Ue?-1:1,Te<0?Te=Ie.length-1:Te>=Ie.length&&(Te=0),Te}function ji(Ue,Te){const Ie=new Set,mt=[];for(const _t of Ue){const vt=Te(_t);Ie.has(vt)||(Ie.add(vt),mt.push(_t))}return mt}function Sl(Ue,Te){const Ie=mt=>{const _t={};for(const vt of mt)typeof vt.tone=="number"&&vt.version<=Te&&(_t[vt.tone]=vt.unicode);return _t};return Ue.map(({unicode:mt,skins:_t,shortcodes:vt,url:Vt,name:qt,category:cr})=>({unicode:mt,name:qt,shortcodes:vt,url:Vt,category:cr,id:mt||qt,skins:_t&&Ie(_t),title:(vt||[]).join(", ")}))}const zo=requestAnimationFrame;let wl=typeof ResizeObserver=="function";function xl(Ue,Te){let Ie;return wl?(Ie=new ResizeObserver(mt=>Te(mt[0].contentRect.width)),Ie.observe(Ue)):zo(()=>Te(Ue.getBoundingClientRect().width)),{destroy(){Ie&&Ie.disconnect()}}}function zi(Ue){{const Te=document.createRange();return Te.selectNode(Ue.firstChild),Te.getBoundingClientRect().width}}let ci;function Tl(Ue,Te,Ie){for(const mt of Ue){const _t=Ie(mt),vt=zi(_t);typeof ci>"u"&&(ci=zi(Te));const Vt=vt/1.8<ci;ai.set(mt.unicode,Vt)}}function Al(Ue){return ji(Ue,Te=>Te)}const{Map:Oo}=Ta;function Vi(Ue,Te,Ie){const mt=Ue.slice();return mt[63]=Te[Ie],mt[65]=Ie,mt}function Wi(Ue,Te,Ie){const mt=Ue.slice();return mt[66]=Te[Ie],mt[65]=Ie,mt}function Ki(Ue,Te,Ie){const mt=Ue.slice();return mt[63]=Te[Ie],mt[65]=Ie,mt}function Gi(Ue,Te,Ie){const mt=Ue.slice();return mt[69]=Te[Ie],mt}function Yi(Ue,Te,Ie){const mt=Ue.slice();return mt[72]=Te[Ie],mt[65]=Ie,mt}function Xi(Ue,Te){let Ie,mt=Te[72]+"",_t,vt,Vt,qt,cr,Wt;return{key:Ue,first:null,c(){Ie=gn("div"),_t=Xn(mt),_r(Ie,"id",vt="skintone-"+Te[65]),_r(Ie,"class",Vt="emoji hide-focus "+(Te[65]===Te[20]?"active":"")),_r(Ie,"aria-selected",qt=Te[65]===Te[20]),_r(Ie,"role","option"),_r(Ie,"title",cr=Te[0].skinTones[Te[65]]),_r(Ie,"tabindex","-1"),_r(Ie,"aria-label",Wt=Te[0].skinTones[Te[65]]),this.first=Ie},m(fr,hr){Hn(fr,Ie,hr),yn(Ie,_t)},p(fr,hr){Te=fr,hr[0]&512&&mt!==(mt=Te[72]+"")&&Zn(_t,mt),hr[0]&512&&vt!==(vt="skintone-"+Te[65])&&_r(Ie,"id",vt),hr[0]&1049088&&Vt!==(Vt="emoji hide-focus "+(Te[65]===Te[20]?"active":""))&&_r(Ie,"class",Vt),hr[0]&1049088&&qt!==(qt=Te[65]===Te[20])&&_r(Ie,"aria-selected",qt),hr[0]&513&&cr!==(cr=Te[0].skinTones[Te[65]])&&_r(Ie,"title",cr),hr[0]&513&&Wt!==(Wt=Te[0].skinTones[Te[65]])&&_r(Ie,"aria-label",Wt)},d(fr){fr&&jn(Ie)}}}function Zi(Ue,Te){let Ie,mt,_t=Te[69].emoji+"",vt,Vt,qt,cr,Wt,fr,hr;function xr(){return Te[49](Te[69])}return{key:Ue,first:null,c(){Ie=gn("button"),mt=gn("div"),vt=Xn(_t),_r(mt,"class","nav-emoji emoji"),_r(Ie,"role","tab"),_r(Ie,"class","nav-button"),_r(Ie,"aria-controls",Vt="tab-"+Te[69].id),_r(Ie,"aria-label",qt=Te[0].categories[Te[69].name]),_r(Ie,"aria-selected",cr=!Te[4]&&Te[13].id===Te[69].id),_r(Ie,"title",Wt=Te[0].categories[Te[69].name]),this.first=Ie},m(br,Nr){Hn(br,Ie,Nr),yn(Ie,mt),yn(mt,vt),fr||(hr=zn(Ie,"click",xr),fr=!0)},p(br,Nr){Te=br,Nr[0]&4096&&_t!==(_t=Te[69].emoji+"")&&Zn(vt,_t),Nr[0]&4096&&Vt!==(Vt="tab-"+Te[69].id)&&_r(Ie,"aria-controls",Vt),Nr[0]&4097&&qt!==(qt=Te[0].categories[Te[69].name])&&_r(Ie,"aria-label",qt),Nr[0]&12304&&cr!==(cr=!Te[4]&&Te[13].id===Te[69].id)&&_r(Ie,"aria-selected",cr),Nr[0]&4097&&Wt!==(Wt=Te[0].categories[Te[69].name])&&_r(Ie,"title",Wt)},d(br){br&&jn(Ie),fr=!1,hr()}}}function Cl(Ue){let Te,Ie;return{c(){Te=gn("img"),_r(Te,"class","custom-emoji"),Fo(Te.src,Ie=Ue[63].url)||_r(Te,"src",Ie),_r(Te,"alt",""),_r(Te,"loading","lazy")},m(mt,_t){Hn(mt,Te,_t)},p(mt,_t){_t[0]&32768&&!Fo(Te.src,Ie=mt[63].url)&&_r(Te,"src",Ie)},d(mt){mt&&jn(Te)}}}function Rl(Ue){let Te=Ue[27](Ue[63],Ue[8])+"",Ie;return{c(){Ie=Xn(Te)},m(mt,_t){Hn(mt,Ie,_t)},p(mt,_t){_t[0]&33024&&Te!==(Te=mt[27](mt[63],mt[8])+"")&&Zn(Ie,Te)},d(mt){mt&&jn(Ie)}}}function qi(Ue,Te){let Ie,mt,_t,vt,Vt,qt,cr;function Wt(xr,br){return xr[63].unicode?Rl:Cl}let fr=Wt(Te),hr=fr(Te);return{key:Ue,first:null,c(){Ie=gn("button"),hr.c(),_r(Ie,"role",mt=Te[4]?"option":"menuitem"),_r(Ie,"aria-selected",_t=Te[4]?Te[65]==Te[5]:""),_r(Ie,"aria-label",vt=Te[28](Te[63],Te[8])),_r(Ie,"title",Vt=Te[63].title),_r(Ie,"class",qt="emoji "+(Te[4]&&Te[65]===Te[5]?"active":"")),_r(Ie,"id",cr="emo-"+Te[63].id),this.first=Ie},m(xr,br){Hn(xr,Ie,br),hr.m(Ie,null)},p(xr,br){Te=xr,fr===(fr=Wt(Te))&&hr?hr.p(Te,br):(hr.d(1),hr=fr(Te),hr&&(hr.c(),hr.m(Ie,null))),br[0]&16&&mt!==(mt=Te[4]?"option":"menuitem")&&_r(Ie,"role",mt),br[0]&32816&&_t!==(_t=Te[4]?Te[65]==Te[5]:"")&&_r(Ie,"aria-selected",_t),br[0]&33024&&vt!==(vt=Te[28](Te[63],Te[8]))&&_r(Ie,"aria-label",vt),br[0]&32768&&Vt!==(Vt=Te[63].title)&&_r(Ie,"title",Vt),br[0]&32816&&qt!==(qt="emoji "+(Te[4]&&Te[65]===Te[5]?"active":""))&&_r(Ie,"class",qt),br[0]&32768&&cr!==(cr="emo-"+Te[63].id)&&_r(Ie,"id",cr)},d(xr){xr&&jn(Ie),hr.d()}}}function Ji(Ue,Te){let Ie,mt=(Te[4]?Te[0].searchResultsLabel:Te[66].category?Te[66].category:Te[15].length>1?Te[0].categories.custom:Te[0].categories[Te[13].name])+"",_t,vt,Vt,qt,cr=[],Wt=new Oo,fr,hr,xr,br=Te[66].emojis;const Nr=Fr=>Fr[63].id;for(let Fr=0;Fr<br.length;Fr+=1){let jr=Ki(Te,br,Fr),pn=Nr(jr);Wt.set(pn,cr[Fr]=qi(pn,jr))}return{key:Ue,first:null,c(){Ie=gn("div"),_t=Xn(mt),qt=gn("div");for(let Fr=0;Fr<cr.length;Fr+=1)cr[Fr].c();_r(Ie,"id",vt="menu-label-"+Te[65]),_r(Ie,"class",Vt="category "+(Te[15].length===1&&Te[15][0].category===""?"gone":"")),_r(Ie,"aria-hidden","true"),_r(qt,"class","emoji-menu"),_r(qt,"role",fr=Te[4]?"listbox":"menu"),_r(qt,"aria-labelledby",hr="menu-label-"+Te[65]),_r(qt,"id",xr=Te[4]?"search-results":""),this.first=Ie},m(Fr,jr){Hn(Fr,Ie,jr),yn(Ie,_t),Hn(Fr,qt,jr);for(let pn=0;pn<cr.length;pn+=1)cr[pn].m(qt,null)},p(Fr,jr){Te=Fr,jr[0]&40977&&mt!==(mt=(Te[4]?Te[0].searchResultsLabel:Te[66].category?Te[66].category:Te[15].length>1?Te[0].categories.custom:Te[0].categories[Te[13].name])+"")&&Zn(_t,mt),jr[0]&32768&&vt!==(vt="menu-label-"+Te[65])&&_r(Ie,"id",vt),jr[0]&32768&&Vt!==(Vt="category "+(Te[15].length===1&&Te[15][0].category===""?"gone":""))&&_r(Ie,"class",Vt),jr[0]&402686256&&(br=Te[66].emojis,cr=Mo(cr,jr,Nr,1,Te,br,Wt,qt,$o,qi,null,Ki)),jr[0]&16&&fr!==(fr=Te[4]?"listbox":"menu")&&_r(qt,"role",fr),jr[0]&32768&&hr!==(hr="menu-label-"+Te[65])&&_r(qt,"aria-labelledby",hr),jr[0]&16&&xr!==(xr=Te[4]?"search-results":"")&&_r(qt,"id",xr)},d(Fr){Fr&&jn(Ie),Fr&&jn(qt);for(let jr=0;jr<cr.length;jr+=1)cr[jr].d()}}}function Il(Ue){let Te,Ie;return{c(){Te=gn("img"),_r(Te,"class","custom-emoji"),Fo(Te.src,Ie=Ue[63].url)||_r(Te,"src",Ie),_r(Te,"alt",""),_r(Te,"loading","lazy")},m(mt,_t){Hn(mt,Te,_t)},p(mt,_t){_t[0]&1024&&!Fo(Te.src,Ie=mt[63].url)&&_r(Te,"src",Ie)},d(mt){mt&&jn(Te)}}}function $l(Ue){let Te=Ue[27](Ue[63],Ue[8])+"",Ie;return{c(){Ie=Xn(Te)},m(mt,_t){Hn(mt,Ie,_t)},p(mt,_t){_t[0]&1280&&Te!==(Te=mt[27](mt[63],mt[8])+"")&&Zn(Ie,Te)},d(mt){mt&&jn(Ie)}}}function Qi(Ue,Te){let Ie,mt,_t,vt;function Vt(Wt,fr){return Wt[63].unicode?$l:Il}let qt=Vt(Te),cr=qt(Te);return{key:Ue,first:null,c(){Ie=gn("button"),cr.c(),_r(Ie,"role","menuitem"),_r(Ie,"aria-label",mt=Te[28](Te[63],Te[8])),_r(Ie,"title",_t=Te[63].title),_r(Ie,"class","emoji"),_r(Ie,"id",vt="fav-"+Te[63].id),this.first=Ie},m(Wt,fr){Hn(Wt,Ie,fr),cr.m(Ie,null)},p(Wt,fr){Te=Wt,qt===(qt=Vt(Te))&&cr?cr.p(Te,fr):(cr.d(1),cr=qt(Te),cr&&(cr.c(),cr.m(Ie,null))),fr[0]&1280&&mt!==(mt=Te[28](Te[63],Te[8]))&&_r(Ie,"aria-label",mt),fr[0]&1024&&_t!==(_t=Te[63].title)&&_r(Ie,"title",_t),fr[0]&1024&&vt!==(vt="fav-"+Te[63].id)&&_r(Ie,"id",vt)},d(Wt){Wt&&jn(Ie),cr.d()}}}function Ml(Ue){let Te,Ie,mt,_t,vt,Vt,qt,cr,Wt,fr=Ue[0].searchLabel+"",hr,xr,br=Ue[0].searchDescription+"",Nr,Fr,jr,pn,Mn,xn,kn,Ln=Ue[0].skinToneDescription+"",fn,en,_n=[],Bn=new Oo,Lr,Mr,Vr,Kr,Gr,Zr=[],Sn=new Oo,Tn,An,ln,mn,On,Fn,In,Dn,Nn=[],No=new Oo,po,mo,vo,ao,Pn,Vn=[],Wo=new Oo,go,lo,eo,co,Po,yo,bo=Ue[9];const Ko=Or=>Or[72];for(let Or=0;Or<bo.length;Or+=1){let Dr=Yi(Ue,bo,Or),wr=Ko(Dr);Bn.set(wr,_n[Or]=Xi(wr,Dr))}let _o=Ue[12];const Go=Or=>Or[69].id;for(let Or=0;Or<_o.length;Or+=1){let Dr=Gi(Ue,_o,Or),wr=Go(Dr);Sn.set(wr,Zr[Or]=Zi(wr,Dr))}let Eo=Ue[15];const Yo=Or=>Or[66].category;for(let Or=0;Or<Eo.length;Or+=1){let Dr=Wi(Ue,Eo,Or),wr=Yo(Dr);No.set(wr,Nn[Or]=Ji(wr,Dr))}let So=Ue[10];const Xo=Or=>Or[63].id;for(let Or=0;Or<So.length;Or+=1){let Dr=Vi(Ue,So,Or),wr=Xo(Dr);Wo.set(wr,Vn[Or]=Qi(wr,Dr))}return{c(){Te=gn("section"),Ie=gn("div"),mt=gn("div"),_t=gn("div"),vt=gn("input"),Wt=gn("label"),hr=Xn(fr),xr=gn("span"),Nr=Xn(br),Fr=gn("div"),jr=gn("button"),pn=Xn(Ue[21]),kn=gn("span"),fn=Xn(Ln),en=gn("div");for(let Or=0;Or<_n.length;Or+=1)_n[Or].c();Gr=gn("div");for(let Or=0;Or<Zr.length;Or+=1)Zr[Or].c();An=gn("div"),ln=gn("div"),mn=gn("div"),On=Xn(Ue[18]),In=gn("div"),Dn=gn("div");for(let Or=0;Or<Nn.length;Or+=1)Nn[Or].c();Pn=gn("div");for(let Or=0;Or<Vn.length;Or+=1)Vn[Or].c();eo=gn("button"),eo.textContent="\u{1F600}",_r(Ie,"class","pad-top"),_r(vt,"id","search"),_r(vt,"class","search"),_r(vt,"type","search"),_r(vt,"role","combobox"),_r(vt,"enterkeyhint","search"),_r(vt,"placeholder",Vt=Ue[0].searchLabel),_r(vt,"autocapitalize","none"),_r(vt,"autocomplete","off"),_r(vt,"spellcheck","true"),_r(vt,"aria-expanded",qt=!!(Ue[4]&&Ue[1].length)),_r(vt,"aria-controls","search-results"),_r(vt,"aria-describedby","search-description"),_r(vt,"aria-autocomplete","list"),_r(vt,"aria-activedescendant",cr=Ue[26]?`emo-${Ue[26]}`:""),_r(Wt,"class","sr-only"),_r(Wt,"for","search"),_r(xr,"id","search-description"),_r(xr,"class","sr-only"),_r(_t,"class","search-wrapper"),_r(jr,"id","skintone-button"),_r(jr,"class",Mn="emoji "+(Ue[6]?"hide-focus":"")),_r(jr,"aria-label",Ue[23]),_r(jr,"title",Ue[23]),_r(jr,"aria-describedby","skintone-description"),_r(jr,"aria-haspopup","listbox"),_r(jr,"aria-expanded",Ue[6]),_r(jr,"aria-controls","skintone-list"),_r(Fr,"class",xn="skintone-button-wrapper "+(Ue[19]?"expanded":"")),_r(kn,"id","skintone-description"),_r(kn,"class","sr-only"),_r(en,"id","skintone-list"),_r(en,"class",Lr="skintone-list "+(Ue[6]?"":"hidden no-animate")),to(en,"transform","translateY("+(Ue[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),_r(en,"role","listbox"),_r(en,"aria-label",Mr=Ue[0].skinTonesLabel),_r(en,"aria-activedescendant",Vr="skintone-"+Ue[20]),_r(en,"aria-hidden",Kr=!Ue[6]),_r(mt,"class","search-row"),_r(Gr,"class","nav"),_r(Gr,"role","tablist"),to(Gr,"grid-template-columns","repeat("+Ue[12].length+", 1fr)"),_r(Gr,"aria-label",Tn=Ue[0].categoriesLabel),_r(ln,"class","indicator"),to(ln,"transform","translateX("+(Ue[24]?-1:1)*Ue[11]*100+"%)"),_r(An,"class","indicator-wrapper"),_r(mn,"class",Fn="message "+(Ue[18]?"":"gone")),_r(mn,"role","alert"),_r(mn,"aria-live","polite"),_r(In,"class",po="tabpanel "+(!Ue[14]||Ue[18]?"gone":"")),_r(In,"role",mo=Ue[4]?"region":"tabpanel"),_r(In,"aria-label",vo=Ue[4]?Ue[0].searchResultsLabel:Ue[0].categories[Ue[13].name]),_r(In,"id",ao=Ue[4]?"":`tab-${Ue[13].id}`),_r(In,"tabindex","0"),_r(Pn,"class",go="favorites emoji-menu "+(Ue[18]?"gone":"")),_r(Pn,"role","menu"),_r(Pn,"aria-label",lo=Ue[0].favoritesLabel),to(Pn,"padding-inline-end",Ue[25]+"px"),_r(eo,"aria-hidden","true"),_r(eo,"tabindex","-1"),_r(eo,"class","abs-pos hidden emoji"),_r(Te,"class","picker"),_r(Te,"aria-label",co=Ue[0].regionLabel),_r(Te,"style",Ue[22])},m(Or,Dr){Hn(Or,Te,Dr),yn(Te,Ie),yn(Te,mt),yn(mt,_t),yn(_t,vt),Mi(vt,Ue[2]),yn(_t,Wt),yn(Wt,hr),yn(_t,xr),yn(xr,Nr),yn(mt,Fr),yn(Fr,jr),yn(jr,pn),yn(mt,kn),yn(kn,fn),yn(mt,en);for(let wr=0;wr<_n.length;wr+=1)_n[wr].m(en,null);Ue[48](en),yn(Te,Gr);for(let wr=0;wr<Zr.length;wr+=1)Zr[wr].m(Gr,null);yn(Te,An),yn(An,ln),yn(Te,mn),yn(mn,On),yn(Te,In),yn(In,Dn);for(let wr=0;wr<Nn.length;wr+=1)Nn[wr].m(Dn,null);Ue[50](In),yn(Te,Pn);for(let wr=0;wr<Vn.length;wr+=1)Vn[wr].m(Pn,null);yn(Te,eo),Ue[51](eo),Ue[52](Te),Po||(yo=[zn(vt,"input",Ue[47]),zn(vt,"keydown",Ue[30]),zn(jr,"click",Ue[35]),zn(en,"focusout",Ue[38]),zn(en,"click",Ue[34]),zn(en,"keydown",Ue[36]),zn(en,"keyup",Ue[37]),zn(Gr,"keydown",Ue[32]),Js(Ue[29].call(null,Dn)),zn(In,"click",Ue[33]),zn(Pn,"click",Ue[33])],Po=!0)},p(Or,Dr){Dr[0]&1&&Vt!==(Vt=Or[0].searchLabel)&&_r(vt,"placeholder",Vt),Dr[0]&18&&qt!==(qt=!!(Or[4]&&Or[1].length))&&_r(vt,"aria-expanded",qt),Dr[0]&67108864&&cr!==(cr=Or[26]?`emo-${Or[26]}`:"")&&_r(vt,"aria-activedescendant",cr),Dr[0]&4&&Mi(vt,Or[2]),Dr[0]&1&&fr!==(fr=Or[0].searchLabel+"")&&Zn(hr,fr),Dr[0]&1&&br!==(br=Or[0].searchDescription+"")&&Zn(Nr,br),Dr[0]&2097152&&Zn(pn,Or[21]),Dr[0]&64&&Mn!==(Mn="emoji "+(Or[6]?"hide-focus":""))&&_r(jr,"class",Mn),Dr[0]&8388608&&_r(jr,"aria-label",Or[23]),Dr[0]&8388608&&_r(jr,"title",Or[23]),Dr[0]&64&&_r(jr,"aria-expanded",Or[6]),Dr[0]&524288&&xn!==(xn="skintone-button-wrapper "+(Or[19]?"expanded":""))&&_r(Fr,"class",xn),Dr[0]&1&&Ln!==(Ln=Or[0].skinToneDescription+"")&&Zn(fn,Ln),Dr[0]&1049089&&(bo=Or[9],_n=Mo(_n,Dr,Ko,1,Or,bo,Bn,en,$o,Xi,null,Yi)),Dr[0]&64&&Lr!==(Lr="skintone-list "+(Or[6]?"":"hidden no-animate"))&&_r(en,"class",Lr),Dr[0]&64&&to(en,"transform","translateY("+(Or[6]?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))")+")"),Dr[0]&1&&Mr!==(Mr=Or[0].skinTonesLabel)&&_r(en,"aria-label",Mr),Dr[0]&1048576&&Vr!==(Vr="skintone-"+Or[20])&&_r(en,"aria-activedescendant",Vr),Dr[0]&64&&Kr!==(Kr=!Or[6])&&_r(en,"aria-hidden",Kr),Dr[0]&12305|Dr[1]&1&&(_o=Or[12],Zr=Mo(Zr,Dr,Go,1,Or,_o,Sn,Gr,$o,Zi,null,Gi)),Dr[0]&4096&&to(Gr,"grid-template-columns","repeat("+Or[12].length+", 1fr)"),Dr[0]&1&&Tn!==(Tn=Or[0].categoriesLabel)&&_r(Gr,"aria-label",Tn),Dr[0]&16779264&&to(ln,"transform","translateX("+(Or[24]?-1:1)*Or[11]*100+"%)"),Dr[0]&262144&&Zn(On,Or[18]),Dr[0]&262144&&Fn!==(Fn="message "+(Or[18]?"":"gone"))&&_r(mn,"class",Fn),Dr[0]&402694449&&(Eo=Or[15],Nn=Mo(Nn,Dr,Yo,1,Or,Eo,No,Dn,$o,Ji,null,Wi)),Dr[0]&278528&&po!==(po="tabpanel "+(!Or[14]||Or[18]?"gone":""))&&_r(In,"class",po),Dr[0]&16&&mo!==(mo=Or[4]?"region":"tabpanel")&&_r(In,"role",mo),Dr[0]&8209&&vo!==(vo=Or[4]?Or[0].searchResultsLabel:Or[0].categories[Or[13].name])&&_r(In,"aria-label",vo),Dr[0]&8208&&ao!==(ao=Or[4]?"":`tab-${Or[13].id}`)&&_r(In,"id",ao),Dr[0]&402654464&&(So=Or[10],Vn=Mo(Vn,Dr,Xo,1,Or,So,Wo,Pn,$o,Qi,null,Vi)),Dr[0]&262144&&go!==(go="favorites emoji-menu "+(Or[18]?"gone":""))&&_r(Pn,"class",go),Dr[0]&1&&lo!==(lo=Or[0].favoritesLabel)&&_r(Pn,"aria-label",lo),Dr[0]&33554432&&to(Pn,"padding-inline-end",Or[25]+"px"),Dr[0]&1&&co!==(co=Or[0].regionLabel)&&_r(Te,"aria-label",co),Dr[0]&4194304&&_r(Te,"style",Or[22])},i:Ao,o:Ao,d(Or){Or&&jn(Te);for(let Dr=0;Dr<_n.length;Dr+=1)_n[Dr].d();Ue[48](null);for(let Dr=0;Dr<Zr.length;Dr+=1)Zr[Dr].d();for(let Dr=0;Dr<Nn.length;Dr+=1)Nn[Dr].d();Ue[50](null);for(let Dr=0;Dr<Vn.length;Dr+=1)Vn[Dr].d();Ue[51](null),Ue[52](null),Po=!1,Co(yo)}}}function Ol(Ue,Te,Ie){let{skinToneEmoji:mt}=Te,{i18n:_t}=Te,{database:vt}=Te,{customEmoji:Vt}=Te,{customCategorySorting:qt}=Te,cr=!0,Wt=[],fr=[],hr="",xr="",br,Nr,Fr,jr=!1,pn=-1,Mn,xn=!1,kn=!1,Ln,fn=0,en=0,_n,Bn,Lr="",Mr=[],Vr=[],Kr,Gr=ul,Zr=!1,Sn=0,Tn=0,An=jo,ln,mn=!1,On;const Fn=wr=>{br.getRootNode().getElementById(wr).focus()},In=(wr,Ur)=>{br.dispatchEvent(new CustomEvent(wr,{detail:Ur,bubbles:!0,composed:!0}))},Dn=(wr,Ur)=>Ur&&wr.skins&&wr.skins[Ur]||wr.unicode,Nn=(wr,Ur)=>Al([wr.name||Dn(wr,Ur),...wr.shortcodes||[]]).join(", "),No=wr=>/^skintone-/.test(wr.id);si.then(wr=>{wr||Ie(18,Mn=_t.emojiUnsupportedMessage)});function po(wr){return xl(wr,Ur=>{{const cn=getComputedStyle(br),Cn=parseInt(cn.getPropertyValue("--num-columns"),10),Wn=cn.getPropertyValue("direction")==="rtl",Ih=wr.parentElement.getBoundingClientRect().width-Ur;Ie(46,Gr=Cn),Ie(25,Sn=Ih),Ie(24,Zr=Wn)}})}function mo(wr){const Ur=br.getRootNode();Tl(wr,Nr,Cn=>Ur.getElementById(`emo-${Cn.id}`)),Ie(1,Wt=Wt)}function vo(wr){return!wr.unicode||!Fi(wr)||ai.get(wr.unicode)}async function ao(wr){const Ur=await si;return wr.filter(({version:cn})=>!cn||cn<=Ur)}async function Pn(wr){return Sl(wr,await si)}async function Vn(wr){if(typeof wr>"u")return[];const Ur=wr===-1?Vt:await vt.getEmojiByGroup(wr);return Pn(await ao(Ur))}async function Wo(wr){return Pn(await ao(await vt.getEmojiBySearchQuery(wr)))}function go(wr){if(!jr||!Wt.length)return;const Ur=cn=>{ro(wr),Ie(5,pn=li(cn,pn,Wt))};switch(wr.key){case"ArrowDown":return Ur(!1);case"ArrowUp":return Ur(!0);case"Enter":if(pn!==-1)return ro(wr),co(Wt[pn].id);Wt.length&&Ie(5,pn=0)}}function lo(wr){Ie(2,hr=""),Ie(44,xr=""),Ie(5,pn=-1),Ie(11,Tn=An.findIndex(Ur=>Ur.id===wr.id))}function eo(wr){const{target:Ur,key:cn}=wr,Cn=Wn=>{Wn&&(ro(wr),Wn.focus())};switch(cn){case"ArrowLeft":return Cn(Ur.previousSibling);case"ArrowRight":return Cn(Ur.nextSibling);case"Home":return Cn(Ur.parentElement.firstChild);case"End":return Cn(Ur.parentElement.lastChild)}}async function co(wr){const Ur=await vt.getEmojiByUnicodeOrName(wr),cn=[...Wt,...Vr].find(Wn=>Wn.id===wr),Cn=cn.unicode&&Dn(cn,fn);await vt.incrementFavoriteEmojiCount(wr),In("emoji-click",{emoji:Ur,skinTone:fn,...Cn&&{unicode:Cn},...cn.name&&{name:cn.name}})}async function Po(wr){const{target:Ur}=wr;if(!Ur.classList.contains("emoji"))return;ro(wr);const cn=Ur.id.substring(4);co(cn)}async function yo(wr){const{target:Ur}=wr;if(!No(Ur))return;ro(wr);const cn=parseInt(Ur.id.slice(9),10);Ie(8,fn=cn),Ie(6,xn=!1),Fn("skintone-button"),In("skin-tone-change",{skinTone:cn}),vt.setPreferredSkinTone(cn)}async function bo(wr){Ie(6,xn=!xn),Ie(20,en=fn),xn&&(ro(wr),zo(()=>Fn(`skintone-${en}`)))}function Ko(wr){if(!xn)return;const Ur=async cn=>{ro(wr),Ie(20,en=cn),await Qs(),Fn(`skintone-${en}`)};switch(wr.key){case"ArrowUp":return Ur(li(!0,en,Mr));case"ArrowDown":return Ur(li(!1,en,Mr));case"Home":return Ur(0);case"End":return Ur(Mr.length-1);case"Enter":return yo(wr);case"Escape":return ro(wr),Ie(6,xn=!1),Fn("skintone-button")}}function _o(wr){if(!!xn)switch(wr.key){case" ":return yo(wr)}}async function Go(wr){const{relatedTarget:Ur}=wr;(!Ur||!No(Ur))&&Ie(6,xn=!1)}function Eo(){hr=this.value,Ie(2,hr)}function Yo(wr){ho[wr?"unshift":"push"](()=>{Ln=wr,Ie(7,Ln)})}const So=wr=>lo(wr);function Xo(wr){ho[wr?"unshift":"push"](()=>{Fr=wr,Ie(3,Fr)})}function Or(wr){ho[wr?"unshift":"push"](()=>{Nr=wr,Ie(17,Nr)})}function Dr(wr){ho[wr?"unshift":"push"](()=>{br=wr,Ie(16,br)})}return Ue.$$set=wr=>{"skinToneEmoji"in wr&&Ie(40,mt=wr.skinToneEmoji),"i18n"in wr&&Ie(0,_t=wr.i18n),"database"in wr&&Ie(39,vt=wr.database),"customEmoji"in wr&&Ie(41,Vt=wr.customEmoji),"customCategorySorting"in wr&&Ie(42,qt=wr.customCategorySorting)},Ue.$$.update=()=>{if(Ue.$$.dirty[1]&1280&&Vt&&vt&&Ie(39,vt.customEmoji=Vt,vt),Ue.$$.dirty[0]&1|Ue.$$.dirty[1]&256){async function wr(){let Ur=!1;const cn=setTimeout(()=>{Ur=!0,Ie(18,Mn=_t.loadingMessage)},ll);try{await vt.ready(),Ie(14,mn=!0)}catch(Cn){console.error(Cn),Ie(18,Mn=_t.networkErrorMessage)}finally{clearTimeout(cn),Ur&&(Ur=!1,Ie(18,Mn=""))}}vt&&wr()}if(Ue.$$.dirty[0]&6144|Ue.$$.dirty[1]&1024&&(Vt&&Vt.length?Ie(12,An=[il,...jo]):An!==jo&&(Tn&&Ie(11,Tn--,Tn),Ie(12,An=jo))),Ue.$$.dirty[0]&4&&Di(()=>{Ie(44,xr=(hr||"").trim()),Ie(5,pn=-1)}),Ue.$$.dirty[0]&6144&&Ie(13,ln=An[Tn]),Ue.$$.dirty[0]&24576|Ue.$$.dirty[1]&8192){async function wr(){if(!mn)Ie(1,Wt=[]),Ie(4,jr=!1);else if(xr.length>=sl){const Ur=xr,cn=await Wo(Ur);Ur===xr&&(Ie(1,Wt=cn),Ie(4,jr=!0))}else if(ln){const Ur=ln.id,cn=await Vn(Ur);Ur===ln.id&&(Ie(1,Wt=cn),Ie(4,jr=!1))}}wr()}if(Ue.$$.dirty[0]&4112&&Ie(22,Bn=`
	  --font-family: ${Ui};
	  --num-groups: ${An.length}; 
	  --indicator-opacity: ${jr?0:1}; 
	  --num-skintones: ${Bi};`),Ue.$$.dirty[0]&16384|Ue.$$.dirty[1]&256){async function wr(){mn&&Ie(8,fn=await vt.getPreferredSkinTone())}wr()}if(Ue.$$.dirty[1]&512&&Ie(9,Mr=Array(Bi).fill().map((wr,Ur)=>El(mt,Ur))),Ue.$$.dirty[0]&768&&Ie(21,_n=Mr[fn]),Ue.$$.dirty[0]&257&&Ie(23,Lr=_t.skinToneLabel.replace("{skinTone}",_t.skinTones[fn])),Ue.$$.dirty[0]&16384|Ue.$$.dirty[1]&256){async function wr(){Ie(45,Kr=(await Promise.all(fl.map(Ur=>vt.getEmojiByUnicodeOrName(Ur)))).filter(Boolean))}mn&&wr()}if(Ue.$$.dirty[0]&16384|Ue.$$.dirty[1]&49408){async function wr(){const Ur=await vt.getTopFavoriteEmoji(Gr),cn=await Pn(ji([...Ur,...Kr],Cn=>Cn.unicode||Cn.name).slice(0,Gr));Ie(10,Vr=cn)}mn&&Kr&&wr()}if(Ue.$$.dirty[0]&10){const wr=Wt.filter(Ur=>Ur.unicode).filter(Ur=>Fi(Ur)&&!ai.has(Ur.unicode));wr.length?zo(()=>mo(wr)):(Ie(1,Wt=Wt.filter(vo)),zo(()=>{(Fr||{}).scrollTop=0}))}Ue.$$.dirty[0]&1026|Ue.$$.dirty[1]&4096,Ue.$$.dirty[0]&18|Ue.$$.dirty[1]&2048&&Ie(15,fr=function(){if(jr)return[{category:"",emojis:Wt}];const Ur=new Map;for(const cn of Wt){const Cn=cn.category||"";let Wn=Ur.get(Cn);Wn||(Wn=[],Ur.set(Cn,Wn)),Wn.push(cn)}return[...Ur.entries()].map(([cn,Cn])=>({category:cn,emojis:Cn})).sort((cn,Cn)=>qt(cn.category,Cn.category))}()),Ue.$$.dirty[0]&34&&Ie(26,On=pn!==-1&&Wt[pn].id),Ue.$$.dirty[0]&192&&(xn?Ln.addEventListener("transitionend",()=>{Ie(19,kn=!0)},{once:!0}):Ie(19,kn=!1))},[_t,Wt,hr,Fr,jr,pn,xn,Ln,fn,Mr,Vr,Tn,An,ln,mn,fr,br,Nr,Mn,kn,en,_n,Bn,Lr,Zr,Sn,On,Dn,Nn,po,go,lo,eo,Po,yo,bo,Ko,_o,Go,vt,mt,Vt,qt,cr,xr,Kr,Gr,Eo,Yo,So,Xo,Or,Dr]}class Nl extends ol{constructor(Te){super(),nl(this,Te,Ol,Ml,Zs,{skinToneEmoji:40,i18n:0,database:39,customEmoji:41,customCategorySorting:42},null,[-1,-1,-1])}}const Pl="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",kl="en";var Ll={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const es=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji"];class ts extends HTMLElement{constructor(Te){super(),this.attachShadow({mode:"open"});const Ie=document.createElement("style");Ie.textContent=":host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.custom-emoji,.emoji,button.emoji{height:var(--total-emoji-size);width:var(--total-emoji-size)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;line-height:1;overflow:hidden;font-family:var(--font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.custom-emoji{padding:var(--emoji-padding);object-fit:contain;pointer-events:none;background-repeat:no-repeat;background-position:center center;background-size:var(--emoji-size) var(--emoji-size)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}",this.shadowRoot.appendChild(Ie),this._ctx={locale:kl,dataSource:Pl,skinToneEmoji:cl,customCategorySorting:dl,customEmoji:null,i18n:Ll,...Te};for(const mt of es)mt!=="database"&&Object.prototype.hasOwnProperty.call(this,mt)&&(this._ctx[mt]=this[mt],delete this[mt]);this._dbFlush()}connectedCallback(){this._cmp=new Nl({target:this.shadowRoot,props:this._ctx})}disconnectedCallback(){this._cmp.$destroy(),this._cmp=void 0;const{database:Te}=this._ctx;Te&&Te.close().catch(Ie=>console.error(Ie))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji"]}attributeChangedCallback(Te,Ie,mt){this._set(Te.replace(/-([a-z])/g,(_t,vt)=>vt.toUpperCase()),mt)}_set(Te,Ie){this._ctx[Te]=Ie,this._cmp&&this._cmp.$set({[Te]:Ie}),["locale","dataSource"].includes(Te)&&this._dbFlush()}_dbCreate(){const{locale:Te,dataSource:Ie,database:mt}=this._ctx;(!mt||mt.locale!==Te||mt.dataSource!==Ie)&&this._set("database",new Ci({locale:Te,dataSource:Ie}))}_dbFlush(){Promise.resolve().then(()=>this._dbCreate())}}const rs={};for(const Ue of es)rs[Ue]={get(){return Ue==="database"&&this._dbCreate(),this._ctx[Ue]},set(Te){if(Ue==="database")throw new Error("database is read-only");this._set(Ue,Te)}};Object.defineProperties(ts.prototype,rs),customElements.get("emoji-picker")||customElements.define("emoji-picker",ts);var Bl={class:"vac-emoji-wrapper"},Dl={ref:"emojiPicker","v-if":"emojiOpened"};function Fl(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("svg-icon");return(0,b.openBlock)(),(0,b.createElementBlock)("div",Bl,[(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-svg-button",{"vac-emoji-reaction":Ie.emojiReaction}]),onClick:Te[0]||(Te[0]=function(){return vt.openEmoji&&vt.openEmoji.apply(vt,arguments)})},[(0,b.renderSlot)(Ue.$slots,"emoji-picker-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"emoji",param:Ie.emojiReaction?"reaction":""},null,8,["param"])]})],2),Ie.emojiOpened?((0,b.openBlock)(),(0,b.createBlock)(b.Transition,{key:0,name:"vac-slide-up",appear:""},{default:(0,b.withCtx)(function(){return[(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-emoji-picker",{"vac-picker-reaction":Ie.emojiReaction}]),style:(0,b.normalizeStyle)({height:"".concat(_t.emojiPickerHeight,"px"),top:Ie.positionTop?_t.emojiPickerHeight:"".concat(_t.emojiPickerTop,"px"),right:_t.emojiPickerRight,display:_t.emojiPickerTop||!Ie.emojiReaction?"initial":"none"})},[(0,b.createElementVNode)("emoji-picker",Dl,null,512)],6)]}),_:1})):(0,b.createCommentVNode)("",!0)])}const Ul={name:"EmojiPickerContainer",components:{SvgIcon:$e},props:{emojiOpened:{type:Boolean,default:!1},emojiReaction:{type:Boolean,default:!1},positionTop:{type:Boolean,default:!1},positionRight:{type:Boolean,default:!1}},emits:["add-emoji","open-emoji"],data:function(){return{emojiPickerHeight:320,emojiPickerTop:0,emojiPickerRight:""}},watch:{emojiOpened:function(Te){var Ie=this;Te&&setTimeout(function(){Ie.addCustomStyling(),Ie.$refs.emojiPicker.shadowRoot.addEventListener("emoji-click",function(mt){var _t=mt.detail;Ie.$emit("add-emoji",{unicode:_t.unicode})})},0)}},methods:{addCustomStyling:function(){var Te=`.picker {
				border: none;
			}`,Ie=`.nav {
				overflow-x: auto;
			}`,mt=`.search-wrapper {
				padding-right: 2px;
				padding-left: 2px;
			}`,_t=`input.search {
				height: 32px;
				font-size: 14px;
				border-radius: 10rem;
				border: var(--chat-border-style);
				padding: 5px 10px;
				outline: none;
				background: var(--chat-bg-color-input);
				color: var(--chat-color);
			}`,vt=document.createElement("style");vt.textContent=Te+Ie+mt+_t,this.$refs.emojiPicker.shadowRoot.appendChild(vt)},openEmoji:function(Te){this.$emit("open-emoji",!this.emojiOpened),this.setEmojiPickerPosition(Te.clientY,Te.view.innerWidth,Te.view.innerHeight)},setEmojiPickerPosition:function(Te,Ie,mt){var _t=Ie<500||mt<700,vt=document.getElementById("room-footer");if(!vt){_t&&(this.emojiPickerRight="-50px");return}if(_t)this.emojiPickerRight=Ie/2-(this.positionTop?200:150)+"px",this.emojiPickerTop=100,this.emojiPickerHeight=mt-200;else{var Vt=vt.getBoundingClientRect().top,qt=Vt-Te>this.emojiPickerHeight-50;qt?this.emojiPickerTop=Te+10:this.emojiPickerTop=Te-this.emojiPickerHeight-10,this.emojiPickerRight=this.positionTop?"0px":this.positionRight?"60px":""}}}},os=(0,Me.Z)(Ul,[["render",Fl]]);var Hl={class:"vac-files-box"},jl={class:"vac-icon-close"};function zl(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("room-file"),qt=(0,b.resolveComponent)("svg-icon");return(0,b.openBlock)(),(0,b.createBlock)(b.Transition,{name:"vac-slide-up"},{default:(0,b.withCtx)(function(){return[Ie.files.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-room-files-container",style:(0,b.normalizeStyle)({bottom:"".concat(vt.footerHeight,"px")})},[(0,b.createElementVNode)("div",Hl,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.files,function(cr,Wt){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:Wt},[(0,b.createVNode)(Vt,{file:cr,index:Wt,onRemoveFile:Te[0]||(Te[0]=function(fr){return Ue.$emit("remove-file",fr)})},null,8,["file","index"])])}),128))]),(0,b.createElementVNode)("div",jl,[(0,b.createElementVNode)("div",{class:"vac-svg-button",onClick:Te[1]||(Te[1]=function(cr){return Ue.$emit("reset-message")})},[(0,b.renderSlot)(Ue.$slots,"reply-close-icon",{},function(){return[(0,b.createVNode)(qt,{name:"close-outline"})]})])])],4)):(0,b.createCommentVNode)("",!0)]}),_:3})}var Vl={class:"vac-room-file-container"},Wl=["src"],Kl={class:"vac-text-ellipsis"},Gl={key:0,class:"vac-text-ellipsis vac-text-extension"};function Yl(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("loader"),qt=(0,b.resolveComponent)("svg-icon");return(0,b.openBlock)(),(0,b.createElementBlock)("div",Vl,[(0,b.createVNode)(Vt,{show:Ie.file.loading},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(cr,Wt){return{name:Wt,fn:(0,b.withCtx)(function(fr){return[(0,b.renderSlot)(Ue.$slots,Wt,(0,b.normalizeProps)((0,b.guardReactiveProps)(fr)))]})}})]),1032,["show"]),(0,b.createElementVNode)("div",{class:"vac-svg-button vac-icon-remove",onClick:Te[0]||(Te[0]=function(cr){return Ue.$emit("remove-file",Ie.index)})},[(0,b.renderSlot)(Ue.$slots,"image-close-icon",{},function(){return[(0,b.createVNode)(qt,{name:"close",param:"image"})]})]),vt.isImage?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:(0,b.normalizeClass)(["vac-message-image",{"vac-blur-loading":Ie.file.loading}]),style:(0,b.normalizeStyle)({"background-image":"url('".concat(Ie.file.localUrl||Ie.file.url,"')")})},null,6)):vt.isVideo?((0,b.openBlock)(),(0,b.createElementBlock)("video",{key:1,controls:"",class:(0,b.normalizeClass)({"vac-blur-loading":Ie.file.loading})},[(0,b.createElementVNode)("source",{src:Ie.file.localUrl||Ie.file.url},null,8,Wl)],2)):((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:2,class:(0,b.normalizeClass)(["vac-file-container",{"vac-blur-loading":Ie.file.loading}])},[(0,b.createElementVNode)("div",null,[(0,b.renderSlot)(Ue.$slots,"file-icon",{},function(){return[(0,b.createVNode)(qt,{name:"file"})]})]),(0,b.createElementVNode)("div",Kl,(0,b.toDisplayString)(Ie.file.name),1),Ie.file.extension?((0,b.openBlock)(),(0,b.createElementBlock)("div",Gl,(0,b.toDisplayString)(Ie.file.extension),1)):(0,b.createCommentVNode)("",!0)],2))])}var as=m(8438),Xl=as.isImageFile,Zl=as.isVideoFile;const ql={name:"RoomFiles",components:{Loader:Re,SvgIcon:$e},props:{file:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["remove-file"],computed:{isImage:function(){return Xl(this.file)},isVideo:function(){return Zl(this.file)}}},Jl={name:"RoomFiles",components:{SvgIcon:$e,RoomFile:(0,Me.Z)(ql,[["render",Yl]])},props:{files:{type:Array,required:!0}},emits:["remove-file","reset-message"],computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}}},Ql=(0,Me.Z)(Jl,[["render",zl]]);var _c={class:"vac-reply-box"},eu={class:"vac-reply-info"},tu={class:"vac-reply-username"},nu={class:"vac-reply-content"},ou=["src"],iu={key:1,controls:"",class:"vac-image-reply"},au=["src"],lu={key:3,class:"vac-image-reply vac-file-container"},cu={class:"vac-text-ellipsis"},uu={key:0,class:"vac-text-ellipsis vac-text-extension"},fu={class:"vac-icon-reply"};function du(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("format-message"),qt=(0,b.resolveComponent)("audio-player"),cr=(0,b.resolveComponent)("svg-icon");return(0,b.openBlock)(),(0,b.createBlock)(b.Transition,{name:"vac-slide-up"},{default:(0,b.withCtx)(function(){return[Ie.messageReply?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-reply-container",style:(0,b.normalizeStyle)({bottom:"".concat(vt.footerHeight,"px")})},[(0,b.createElementVNode)("div",_c,[(0,b.createElementVNode)("div",eu,[(0,b.createElementVNode)("div",tu,(0,b.toDisplayString)(Ie.messageReply.username),1),(0,b.createElementVNode)("div",nu,[(0,b.createVNode)(Vt,{content:Ie.messageReply.content,users:Ie.room.users,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,reply:!0},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["content","users","text-formatting","link-options"])])]),vt.isImage?((0,b.openBlock)(),(0,b.createElementBlock)("img",{key:0,src:vt.firstFile.url,class:"vac-image-reply"},null,8,ou)):vt.isVideo?((0,b.openBlock)(),(0,b.createElementBlock)("video",iu,[(0,b.createElementVNode)("source",{src:vt.firstFile.url},null,8,au)])):vt.isAudio?((0,b.openBlock)(),(0,b.createBlock)(qt,{key:2,src:vt.firstFile.url,class:"vac-audio-reply"},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["src"])):vt.isOtherFile?((0,b.openBlock)(),(0,b.createElementBlock)("div",lu,[(0,b.createElementVNode)("div",null,[(0,b.renderSlot)(Ue.$slots,"file-icon",{},function(){return[(0,b.createVNode)(cr,{name:"file"})]})]),(0,b.createElementVNode)("div",cu,(0,b.toDisplayString)(vt.firstFile.name),1),vt.firstFile.extension?((0,b.openBlock)(),(0,b.createElementBlock)("div",uu,(0,b.toDisplayString)(vt.firstFile.extension),1)):(0,b.createCommentVNode)("",!0)])):(0,b.createCommentVNode)("",!0)]),(0,b.createElementVNode)("div",fu,[(0,b.createElementVNode)("div",{class:"vac-svg-button",onClick:Te[0]||(Te[0]=function(Wt){return Ue.$emit("reset-message")})},[(0,b.renderSlot)(Ue.$slots,"reply-close-icon",{},function(){return[(0,b.createVNode)(cr,{name:"close-outline"})]})])])],4)):(0,b.createCommentVNode)("",!0)]}),_:3})}var hu={class:"vac-audio-player"},pu=["id","src"];function mu(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("svg-icon"),qt=(0,b.resolveComponent)("audio-control");return(0,b.openBlock)(),(0,b.createElementBlock)("div",null,[(0,b.createElementVNode)("div",hu,[(0,b.createElementVNode)("div",{class:"vac-svg-button",onClick:Te[0]||(Te[0]=function(){return vt.playback&&vt.playback.apply(vt,arguments)})},[_t.isPlaying?(0,b.renderSlot)(Ue.$slots,"audio-pause-icon",{key:0},function(){return[(0,b.createVNode)(Vt,{name:"audio-pause"})]}):(0,b.renderSlot)(Ue.$slots,"audio-play-icon",{key:1},function(){return[(0,b.createVNode)(Vt,{name:"audio-play"})]})]),(0,b.createVNode)(qt,{percentage:_t.progress,"message-selection-enabled":Ie.messageSelectionEnabled,onChangeLinehead:vt.onUpdateProgress,onHoverAudioProgress:Te[1]||(Te[1]=function(cr){return Ue.$emit("hover-audio-progress",cr)})},null,8,["percentage","message-selection-enabled","onChangeLinehead"]),(0,b.createElementVNode)("audio",{id:vt.playerUniqId,src:vt.audioSource},null,8,pu)])])}var vu={class:"vac-player-progress"},gu={class:"vac-line-container"};function yu(Ue,Te,Ie,mt,_t,vt){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{ref:"progress",class:"vac-player-bar",onMousedown:Te[0]||(Te[0]=function(){return vt.onMouseDown&&vt.onMouseDown.apply(vt,arguments)}),onMouseover:Te[1]||(Te[1]=function(Vt){return Ue.$emit("hover-audio-progress",!0)}),onMouseout:Te[2]||(Te[2]=function(Vt){return Ue.$emit("hover-audio-progress",!1)})},[(0,b.createElementVNode)("div",vu,[(0,b.createElementVNode)("div",gu,[(0,b.createElementVNode)("div",{class:"vac-line-progress",style:(0,b.normalizeStyle)({width:"".concat(Ie.percentage,"%")})},null,4),(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-line-dot",{"vac-line-dot__active":_t.isMouseDown}]),style:(0,b.normalizeStyle)({left:"".concat(Ie.percentage,"%")})},null,6)])])],544)}const bu={props:{percentage:{type:Number,default:0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","change-linehead"],data:function(){return{isMouseDown:!1}},methods:{onMouseDown:function(Te){if(!this.messageSelectionEnabled){this.isMouseDown=!0;var Ie=this.calculateLineHeadPosition(Te,this.$refs.progress);this.$emit("change-linehead",Ie),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}},onMouseUp:function(Te){if(!this.messageSelectionEnabled){this.isMouseDown=!1,document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove);var Ie=this.calculateLineHeadPosition(Te,this.$refs.progress);this.$emit("change-linehead",Ie)}},onMouseMove:function(Te){if(!this.messageSelectionEnabled){var Ie=this.calculateLineHeadPosition(Te,this.$refs.progress);this.$emit("change-linehead",Ie)}},calculateLineHeadPosition:function(Te,Ie){var mt=Ie.getBoundingClientRect().width,_t=Ie.getBoundingClientRect().left,vt=(Te.clientX-_t)/mt;return vt=vt<0?0:vt,vt=vt>1?1:vt,vt}}},_u={name:"AudioPlayer",components:{SvgIcon:$e,AudioControl:(0,Me.Z)(bu,[["render",yu]])},props:{messageId:{type:[String,Number],default:null},src:{type:String,default:null},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["hover-audio-progress","update-progress-time"],data:function(){return{isPlaying:!1,duration:this.convertTimeMMSS(0),playedTime:this.convertTimeMMSS(0),progress:0}},computed:{playerUniqId:function(){return"audio-player".concat(this.messageId)},audioSource:function(){return this.src?this.src:(this.resetProgress(),null)}},mounted:function(){var Te=this;this.player=document.getElementById(this.playerUniqId),this.player.addEventListener("ended",function(){Te.isPlaying=!1}),this.player.addEventListener("loadeddata",function(){Te.resetProgress(),Te.duration=Te.convertTimeMMSS(Te.player.duration),Te.updateProgressTime()}),this.player.addEventListener("timeupdate",this.onTimeUpdate)},methods:{convertTimeMMSS:function(Te){return new Date(Te*1e3).toISOString().substr(14,5)},playback:function(){var Te=this;this.messageSelectionEnabled||!this.audioSource||(this.isPlaying?this.player.pause():setTimeout(function(){return Te.player.play()}),this.isPlaying=!this.isPlaying)},resetProgress:function(){this.isPlaying&&this.player.pause(),this.duration=this.convertTimeMMSS(0),this.playedTime=this.convertTimeMMSS(0),this.progress=0,this.isPlaying=!1,this.updateProgressTime()},onTimeUpdate:function(){this.playedTime=this.convertTimeMMSS(this.player.currentTime),this.progress=this.player.currentTime/this.player.duration*100,this.updateProgressTime()},onUpdateProgress:function(Te){Te&&(this.player.currentTime=Te*this.player.duration)},updateProgressTime:function(){this.$emit("update-progress-time",this.progress>1?this.playedTime:this.duration)}}},ui=(0,Me.Z)(_u,[["render",mu]]);var fi=m(8438),Eu=fi.isAudioFile,Su=fi.isImageFile,wu=fi.isVideoFile;const xu={name:"RoomMessageReply",components:{SvgIcon:$e,FormatMessage:Ht,AudioPlayer:ui},props:{room:{type:Object,required:!0},messageReply:{type:Object,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0}},emits:["reset-message"],computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight},firstFile:function(){var Te,Ie;return(Te=this.messageReply)!==null&&Te!==void 0&&(Ie=Te.files)!==null&&Ie!==void 0&&Ie.length?this.messageReply.files[0]:{}},isImage:function(){return Su(this.firstFile)},isVideo:function(){return wu(this.firstFile)},isAudio:function(){return Eu(this.firstFile)},isOtherFile:function(){var Te,Ie;return((Te=this.messageReply)===null||Te===void 0||(Ie=Te.files)===null||Ie===void 0?void 0:Ie.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},Tu=(0,Me.Z)(xu,[["render",du]]);var Au=["onMouseover","onClick"],Cu={class:"vac-tags-info"},Ru={class:"vac-tags-username"};function Iu(Ue,Te,Ie,mt,_t,vt){return(0,b.openBlock)(),(0,b.createBlock)(b.Transition,{name:"vac-slide-up"},{default:(0,b.withCtx)(function(){return[Ie.filteredUsersTag.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-tags-container",style:(0,b.normalizeStyle)({bottom:"".concat(vt.footerHeight,"px")})},[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.filteredUsersTag,function(Vt,qt){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:Vt._id,class:(0,b.normalizeClass)(["vac-tags-box",{"vac-tags-box-active":qt===_t.activeItem}]),onMouseover:function(Wt){return _t.activeItem=qt},onClick:function(Wt){return Ue.$emit("select-user-tag",Vt)}},[(0,b.createElementVNode)("div",Cu,[Vt.avatar?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-avatar vac-tags-avatar",style:(0,b.normalizeStyle)({"background-image":"url('".concat(Vt.avatar,"')")})},null,4)):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("div",Ru,(0,b.toDisplayString)(Vt.username),1)])],42,Au)}),128))],4)):(0,b.createCommentVNode)("",!0)]}),_:1})}const $u={name:"RoomUsersTag",props:{filteredUsersTag:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-user-tag","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredUsersTag:function(Te,Ie){(!Ie.length||Te.length!==Ie.length)&&(this.activeItem=0)},selectItem:function(Te){Te&&this.$emit("select-user-tag",this.filteredUsersTag[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredUsersTag.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Mu=(0,Me.Z)($u,[["render",Iu]]);var Ou=["onMouseover","onClick"];function Nu(Ue,Te,Ie,mt,_t,vt){return(0,b.openBlock)(),(0,b.createBlock)(b.Transition,{name:"vac-slide-up"},{default:(0,b.withCtx)(function(){return[Ie.filteredEmojis.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-emojis-container",style:(0,b.normalizeStyle)({bottom:"".concat(vt.footerHeight,"px")})},[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.filteredEmojis,function(Vt,qt){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:Vt,class:(0,b.normalizeClass)(["vac-emoji-element",{"vac-emoji-element-active":qt===_t.activeItem}]),onMouseover:function(Wt){return _t.activeItem=qt},onClick:function(Wt){return Ue.$emit("select-emoji",Vt)}},(0,b.toDisplayString)(Vt),43,Ou)}),128))],4)):(0,b.createCommentVNode)("",!0)]}),_:1})}const Pu={name:"RoomEmojis",props:{filteredEmojis:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-emoji","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredEmojis:function(Te,Ie){(!Ie.length||Te.length!==Ie.length)&&(this.activeItem=0)},selectItem:function(Te){Te&&this.$emit("select-emoji",this.filteredEmojis[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredEmojis.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},ku=(0,Me.Z)(Pu,[["render",Nu]]);var Bu=["onMouseover","onClick"],Du={class:"vac-template-info"},Fu={class:"vac-template-tag"},Hu={class:"vac-template-text"};function ju(Ue,Te,Ie,mt,_t,vt){return(0,b.openBlock)(),(0,b.createBlock)(b.Transition,{name:"vac-slide-up"},{default:(0,b.withCtx)(function(){return[Ie.filteredTemplatesText.length?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-template-container vac-app-box-shadow",style:(0,b.normalizeStyle)({bottom:"".concat(vt.footerHeight,"px")})},[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.filteredTemplatesText,function(Vt,qt){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:qt,class:(0,b.normalizeClass)(["vac-template-box",{"vac-template-active":qt===_t.activeItem}]),onMouseover:function(Wt){return _t.activeItem=qt},onClick:function(Wt){return Ue.$emit("select-template-text",Vt)}},[(0,b.createElementVNode)("div",Du,[(0,b.createElementVNode)("div",Fu," /"+(0,b.toDisplayString)(Vt.tag),1),(0,b.createElementVNode)("div",Hu,(0,b.toDisplayString)(Vt.text),1)])],42,Bu)}),128))],4)):(0,b.createCommentVNode)("",!0)]}),_:1})}const zu={name:"RoomTemplatesText",props:{filteredTemplatesText:{type:Array,required:!0},selectItem:{type:Boolean,default:null},activeUpOrDown:{type:Number,default:null}},emits:["select-template-text","activate-item"],data:function(){return{activeItem:null}},computed:{footerHeight:function(){return document.getElementById("room-footer").clientHeight}},watch:{filteredTemplatesText:function(Te,Ie){(!Ie.length||Te.length!==Ie.length)&&(this.activeItem=0)},selectItem:function(Te){Te&&this.$emit("select-template-text",this.filteredTemplatesText[this.activeItem])},activeUpOrDown:function(){this.activeUpOrDown>0&&this.activeItem<this.filteredTemplatesText.length-1?this.activeItem++:this.activeUpOrDown<0&&this.activeItem>0&&this.activeItem--,this.$emit("activate-item")}}},Vu=(0,Me.Z)(zu,[["render",ju]]);function ls(Ue,Te){if(!(Ue instanceof Te))throw new TypeError("Cannot call a class as a function")}function cs(Ue,Te){for(var Ie=0;Ie<Te.length;Ie++){var mt=Te[Ie];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(Ue,mt.key,mt)}}function us(Ue,Te,Ie){return Te&&cs(Ue.prototype,Te),Ie&&cs(Ue,Ie),Object.defineProperty(Ue,"prototype",{writable:!1}),Ue}m(4812),m(4678),m(6977),m(9575),m(7145),m(8675),m(2990),m(8927),m(3105),m(5035),m(4345),m(7174),m(2846),m(4731),m(7209),m(6319),m(8867),m(7789),m(3739),m(9368),m(4483),m(2056),m(3462),m(678),m(7462),m(3824),m(5021),m(2974),m(5016),m(7380),m(1118),m(3843),m(4197),m(5109);var Vo;try{Vo=m(5644)}catch{Vo={missing:!0}}var Wu=Vo,Ku=Wu.Mp3Encoder,Gu=function(){function Ue(Te){if(ls(this,Ue),Vo.missing)throw new Error('You must add lamejs in your dependencies to use the audio recorder. Please run "npm install lamejs --save"');this.bitRate=Te.bitRate,this.sampleRate=Te.sampleRate,this.dataBuffer=[],this.encoder=new Ku(1,this.sampleRate,this.bitRate)}return us(Ue,[{key:"encode",value:function(Ie){for(var mt=1152,_t=this._convertBuffer(Ie),vt=_t.length,Vt=0;vt>=0;Vt+=mt){var qt=_t.subarray(Vt,Vt+mt),cr=this.encoder.encodeBuffer(qt);this.dataBuffer.push(new Int8Array(cr)),vt-=mt}}},{key:"finish",value:function(){this.dataBuffer.push(this.encoder.flush());var Ie=new Blob(this.dataBuffer,{type:"audio/mp3"});return this.dataBuffer=[],{id:Date.now(),blob:Ie,url:URL.createObjectURL(Ie)}}},{key:"_floatTo16BitPCM",value:function(Ie,mt){for(var _t=0;_t<Ie.length;_t++){var vt=Math.max(-1,Math.min(1,Ie[_t]));mt[_t]=vt<0?vt*32768:vt*32767}}},{key:"_convertBuffer",value:function(Ie){var mt=new Float32Array(Ie),_t=new Int16Array(Ie.length);return this._floatTo16BitPCM(mt,_t),_t}}]),Ue}(),Yu=function(){function Ue(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ls(this,Ue),this.beforeRecording=Te.beforeRecording,this.pauseRecording=Te.pauseRecording,this.afterRecording=Te.afterRecording,this.micFailed=Te.micFailed,this.encoderOptions={bitRate:Te.bitRate,sampleRate:Te.sampleRate},this.bufferSize=4096,this.records=[],this.isPause=!1,this.isRecording=!1,this.duration=0,this.volume=0,this._duration=0}return us(Ue,[{key:"start",value:function(){var Ie={video:!1,audio:{channelCount:1,echoCancellation:!1}};this.beforeRecording&&this.beforeRecording("start recording"),navigator.mediaDevices.getUserMedia(Ie).then(this._micCaptured.bind(this)).catch(this._micError.bind(this)),this.isPause=!1,this.isRecording=!0,this.lameEncoder||(this.lameEncoder=new Gu(this.encoderOptions))}},{key:"stop",value:function(){this.stream.getTracks().forEach(function(mt){return mt.stop()}),this.input.disconnect(),this.processor.disconnect(),this.context.close();var Ie=null;Ie=this.lameEncoder.finish(),Ie.duration=this.duration,this.records.push(Ie),this._duration=0,this.duration=0,this.isPause=!1,this.isRecording=!1,this.afterRecording&&this.afterRecording(Ie)}},{key:"pause",value:function(){this.stream.getTracks().forEach(function(Ie){return Ie.stop()}),this.input.disconnect(),this.processor.disconnect(),this._duration=this.duration,this.isPause=!0,this.pauseRecording&&this.pauseRecording("pause recording")}},{key:"_micCaptured",value:function(Ie){var mt=this;this.context=new(window.AudioContext||window.webkitAudioContext),this.duration=this._duration,this.input=this.context.createMediaStreamSource(Ie),this.processor=this.context.createScriptProcessor(this.bufferSize,1,1),this.stream=Ie,this.processor.onaudioprocess=function(_t){var vt=_t.inputBuffer.getChannelData(0),Vt=0;mt.lameEncoder&&mt.lameEncoder.encode(vt);for(var qt=0;qt<vt.length;++qt)Vt+=vt[qt]*vt[qt];mt.duration=parseFloat(mt._duration)+parseFloat(mt.context.currentTime.toFixed(2)),mt.volume=Math.sqrt(Vt/vt.length).toFixed(2)},this.input.connect(this.processor),this.processor.connect(this.context.destination)}},{key:"_micError",value:function(Ie){this.micFailed&&this.micFailed(Ie)}}]),Ue}(),Xu=m(8772),fs=Xu.detectMobile;const Zu={name:"RoomFooter",components:{SvgIcon:$e,EmojiPickerContainer:os,RoomFiles:Ql,RoomMessageReply:Tu,RoomUsersTag:Mu,RoomEmojis:ku,RoomTemplatesText:Vu},directives:{clickOutside:Ft},props:{room:{type:Object,required:!0},roomId:{type:[String,Number],required:!0},roomMessage:{type:String,default:null},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},textMessages:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},showEmojis:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},templatesText:{type:Array,default:null},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},initReplyMessage:{type:Object,default:null},initEditMessage:{type:Object,default:null}},emits:["edit-message","send-message","update-edited-message-id","textarea-action-handler","typing-message"],data:function(){return{message:"",editedMessage:{},messageReply:null,cursorRangePosition:null,files:[],fileDialog:!1,selectUsersTagItem:null,selectEmojiItem:null,selectTemplatesTextItem:null,format:"mp3",activeUpOrDownEmojis:null,activeUpOrDownUsersTag:null,activeUpOrDownTemplatesText:null,emojisDB:new Ci,emojiOpened:!1,keepKeyboardOpen:!1,filteredEmojis:[],filteredUsersTag:[],selectedUsersTag:[],filteredTemplatesText:[],recorder:this.initRecorder(),isRecording:!1}},computed:{isMessageEmpty:function(){return!this.files.length&&!this.message.trim()},isFileLoading:function(){return this.files.some(function(Te){return Te.loading})},recordedTime:function(){return new Date(this.recorder.duration*1e3).toISOString().substr(14,5)},shadowFooter:function(){return!!this.filteredEmojis.length||!!this.filteredUsersTag.length||!!this.filteredTemplatesText.length||!!this.files.length||!!this.messageReply}},watch:{roomId:function(){var Te=this;this.resetMessage(!0,!0),this.roomMessage&&(this.message=this.roomMessage,setTimeout(function(){return Te.onChangeInput()}))},message:function(Te){this.getTextareaRef().value=Te},roomMessage:{immediate:!0,handler:function(Te){Te&&(this.message=this.roomMessage)}},editedMessage:function(Te){this.$emit("update-edited-message-id",Te._id)},initReplyMessage:function(Te){this.replyMessage(Te)},initEditMessage:function(Te){this.editMessage(Te)}},mounted:function(){var Te=this,Ie=fs(),mt=!0;this.getTextareaRef().addEventListener("keyup",function(_t){_t.key==="Enter"&&!_t.shiftKey&&!Te.fileDialog&&(Ie?(Te.message=Te.message+`
`,setTimeout(function(){return Te.onChangeInput()})):mt&&!Te.filteredEmojis.length&&!Te.filteredUsersTag.length&&!Te.filteredTemplatesText.length&&Te.sendMessage()),mt=!_t.isComposing,setTimeout(function(){Te.updateFooterLists()},60)}),this.getTextareaRef().addEventListener("click",function(){Ie&&(Te.keepKeyboardOpen=!0),Te.updateFooterLists()}),this.getTextareaRef().addEventListener("blur",function(){Te.resetFooterList(),Ie&&setTimeout(function(){return Te.keepKeyboardOpen=!1})})},beforeUnmount:function(){this.stopRecorder()},methods:{getTextareaRef:function(){return this.$refs.roomTextarea},focusTextarea:function(Te){var Ie=this;fs()&&Te||!this.getTextareaRef()||(this.getTextareaRef().focus(),this.cursorRangePosition&&setTimeout(function(){Ie.getTextareaRef().setSelectionRange(Ie.cursorRangePosition,Ie.cursorRangePosition),Ie.cursorRangePosition=null}))},onChangeInput:function(){var Te,Ie;if((Te=this.getTextareaRef())!==null&&Te!==void 0&&Te.value||((Ie=this.getTextareaRef())===null||Ie===void 0?void 0:Ie.value)===""){var mt;this.message=(mt=this.getTextareaRef())===null||mt===void 0?void 0:mt.value}this.keepKeyboardOpen=!0,this.resizeTextarea(),this.$emit("typing-message",this.message)},resizeTextarea:function(){var Te=this.getTextareaRef();if(!!Te){var Ie=window.getComputedStyle(Te,null).getPropertyValue("padding-top").replace("px","");Te.style.height=0,Te.style.height=Te.scrollHeight-Ie*2+"px"}},escapeTextarea:function(){this.filteredEmojis.length?this.filteredEmojis=[]:this.filteredUsersTag.length?this.filteredUsersTag=[]:this.filteredTemplatesText.length?this.filteredTemplatesText=[]:this.resetMessage()},onPasteImage:function(Te){var Ie,mt=this,_t=(Ie=Te.clipboardData)===null||Ie===void 0?void 0:Ie.items;_t&&Array.from(_t).forEach(function(vt){if(vt.type.includes("image")){var Vt=vt.getAsFile();mt.onFileChange([Vt])}})},updateActiveUpOrDown:function(Te){this.filteredEmojis.length?this.activeUpOrDownEmojis=Te:this.filteredUsersTag.length?this.activeUpOrDownUsersTag=Te:this.filteredTemplatesText.length&&(this.activeUpOrDownTemplatesText=Te)},selectItem:function(){this.filteredEmojis.length?this.selectEmojiItem=!0:this.filteredUsersTag.length?this.selectUsersTagItem=!0:this.filteredTemplatesText.length&&(this.selectTemplatesTextItem=!0)},selectEmoji:function(Te){if(this.selectEmojiItem=!1,!!Te){var Ie=this.getCharPosition(":"),mt=Ie.position,_t=Ie.endPosition;this.message=this.message.substr(0,mt-1)+Te+this.message.substr(_t,this.message.length-1),this.cursorRangePosition=mt,this.focusTextarea()}},selectTemplateText:function(Te){if(this.selectTemplatesTextItem=!1,!!Te){var Ie=this.getCharPosition("/"),mt=Ie.position,_t=Ie.endPosition,vt=this.message.substr(_t,_t).length?"":" ";this.message=this.message.substr(0,mt-1)+Te.text+vt+this.message.substr(_t,this.message.length-1),this.cursorRangePosition=mt+Te.text.length+vt.length+1,this.focusTextarea()}},addEmoji:function(Te){this.message+=Te.unicode,this.focusTextarea(!0)},launchFilePicker:function(){this.$refs.file.value="",this.$refs.file.click()},onFileChange:function(Te){var Ie=this;return hn(tn().mark(function mt(){return tn().wrap(function(vt){for(;;)switch(vt.prev=vt.next){case 0:Ie.fileDialog=!0,Ie.focusTextarea(),Array.from(Te).forEach(function(){var Vt=hn(tn().mark(function qt(cr){var Wt,fr,hr,xr;return tn().wrap(function(Nr){for(;;)switch(Nr.prev=Nr.next){case 0:return Wt=URL.createObjectURL(cr),fr=cr.name.lastIndexOf("."),Ie.files.push({loading:!0,name:cr.name.substring(0,fr),size:cr.size,type:cr.type,extension:cr.name.substring(fr+1),localUrl:Wt}),Nr.next=5,fetch(Wt).then(function(Fr){return Fr.blob()});case 5:hr=Nr.sent,xr=Ie.files.find(function(Fr){return Fr.localUrl===Wt}),xr&&(xr.blob=hr,xr.loading=!1,delete xr.loading);case 8:case"end":return Nr.stop()}},qt)}));return function(qt){return Vt.apply(this,arguments)}}()),setTimeout(function(){return Ie.fileDialog=!1},500);case 4:case"end":return vt.stop()}},mt)}))()},removeFile:function(Te){this.files.splice(Te,1),this.focusTextarea()},toggleRecorder:function(Te){var Ie=this;if(this.isRecording=Te,!this.recorder.isRecording)setTimeout(function(){return Ie.recorder.start()},200);else try{this.recorder.stop();var mt=this.recorder.records[0];this.files.push({blob:mt.blob,name:"audio.".concat(this.format),size:mt.blob.size,duration:mt.duration,type:mt.blob.type,audio:!0,localUrl:URL.createObjectURL(mt.blob)}),this.recorder=this.initRecorder(),this.sendMessage()}catch{setTimeout(function(){return Ie.stopRecorder()},100)}},stopRecorder:function(){var Te=this;if(this.recorder.isRecording)try{this.recorder.stop(),this.recorder=this.initRecorder()}catch{setTimeout(function(){return Te.stopRecorder()},100)}},textareaActionHandler:function(){this.$emit("textarea-action-handler",this.message)},sendMessage:function(){var Te=this.message.trim();if(!(!this.files.length&&!Te)&&!this.isFileLoading){this.selectedUsersTag.forEach(function(_t){Te=Te.replace("@".concat(_t.username),"<usertag>".concat(_t._id,"</usertag>"))});var Ie=this.files.length?this.files:null;if(this.editedMessage._id){var mt;(this.editedMessage.content!==Te||(mt=this.editedMessage.files)!==null&&mt!==void 0&&mt.length||this.files.length)&&this.$emit("edit-message",{messageId:this.editedMessage._id,newContent:Te,files:Ie,replyMessage:this.messageReply,usersTag:this.selectedUsersTag})}else this.$emit("send-message",{content:Te,files:Ie,replyMessage:this.messageReply,usersTag:this.selectedUsersTag});this.resetMessage(!0)}},editMessage:function(Te){var Ie=this;this.resetMessage(),this.editedMessage=fe({},Te);var mt=Te.content,_t=mt,vt="<usertag>",Vt="</usertag>",qt=Kt(mt.matchAll(new RegExp(vt,"gi"))).map(function(cr){return cr.index});qt.forEach(function(cr){var Wt=_t.substring(cr+vt.length,_t.indexOf(Vt,cr)),fr=Ie.room.users.find(function(hr){return hr._id===Wt});mt=mt.replace("".concat(vt).concat(Wt).concat(Vt),"@".concat(fr?.username||"unknown")),Ie.selectUserTag(fr,!0)}),this.message=mt,Te.files&&(this.files=Kt(Te.files)),setTimeout(function(){return Ie.resizeTextarea()})},replyMessage:function(Te){this.editedMessage={},this.messageReply=Te,this.focusTextarea()},updateFooterLists:function(){this.updateFooterList("@"),this.updateFooterList(":"),this.updateFooterList("/")},updateFooterList:function(Te){if(!!this.getTextareaRef()&&!(Te===":"&&!this.emojisSuggestionEnabled)&&!(Te==="@"&&(!this.userTagsEnabled||!this.room.users))&&!(Te==="/"&&!this.templatesText)){for(var Ie=this.getTextareaRef().selectionStart,mt=Ie;mt>0&&this.message.charAt(mt-1)!==Te&&(this.message.charAt(mt-1)!==" "||Te!==":");)mt--;var _t=this.message.charAt(mt-2),vt=!_t.match(/^[0-9a-zA-Z]+$/);if(this.message.charAt(mt-1)===Te&&(!_t||_t===" "||vt)){var Vt=this.message.substring(mt,Ie);Te===":"?this.updateEmojis(Vt):Te==="@"?this.updateShowUsersTag(Vt):Te==="/"&&this.updateShowTemplatesText(Vt)}else this.resetFooterList(Te)}},updateShowUsersTag:function(Te){var Ie=this;this.filteredUsersTag=Tt(this.room.users,"username",Te,!0).filter(function(mt){return mt._id!==Ie.currentUserId})},selectUserTag:function(Te){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.selectUsersTagItem=!1,!!Te){var mt=this.getCharPosition("@"),_t=mt.position,vt=mt.endPosition,Vt=this.message.substr(vt,vt).length?"":" ";this.message=this.message.substr(0,_t)+Te.username+Vt+this.message.substr(vt,this.message.length-1),this.selectedUsersTag=[].concat(Kt(this.selectedUsersTag),[fe({},Te)]),Ie||(this.cursorRangePosition=_t+Te.username.length+Vt.length+1),this.focusTextarea()}},updateShowTemplatesText:function(Te){this.filteredTemplatesText=Tt(this.templatesText,"tag",Te,!0)},getCharPosition:function(Te){for(var Ie=this.getTextareaRef().selectionStart,mt=Ie;mt>0&&this.message.charAt(mt-1)!==Te;)mt--;var _t=this.getTextareaRef().selectionEnd;return{position:mt,endPosition:_t}},updateEmojis:function(Te){var Ie=this;return hn(tn().mark(function mt(){var _t;return tn().wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(Te){Vt.next=2;break}return Vt.abrupt("return");case 2:return Vt.next=4,Ie.emojisDB.getEmojiBySearchQuery(Te);case 4:_t=Vt.sent,Ie.filteredEmojis=_t.map(function(qt){return qt.unicode});case 6:case"end":return Vt.stop()}},mt)}))()},resetFooterList:function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;Te===":"?this.filteredEmojis=[]:Te==="@"?this.filteredUsersTag=[]:Te==="/"?this.filteredTemplatesText=[]:(this.filteredEmojis=[],this.filteredUsersTag=[],this.filteredTemplatesText=[])},resetMessage:function(){var Te=this,Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;mt||this.$emit("typing-message",null),this.selectedUsersTag=[],this.resetFooterList(),this.resetTextareaSize(),this.message="",this.editedMessage={},this.messageReply=null,this.files=[],this.emojiOpened=!1,this.preventKeyboardFromClosing(),(this.textareaAutoFocus||!mt)&&setTimeout(function(){return Te.focusTextarea(Ie)})},resetTextareaSize:function(){this.getTextareaRef()&&(this.getTextareaRef().style.height="20px")},preventKeyboardFromClosing:function(){this.keepKeyboardOpen&&this.getTextareaRef().focus()},initRecorder:function(){return this.isRecording=!1,new Yu({bitRate:this.audioBitRate,sampleRate:this.audioSampleRate,beforeRecording:null,afterRecording:null,pauseRecording:null,micFailed:this.micFailed})},micFailed:function(){this.isRecording=!1,this.recorder=this.initRecorder()}}},qu=(0,Me.Z)(Zu,[["render",Xr]]);var Ju=["id"],Qu={key:0,class:"vac-card-info vac-card-date"},ef={key:1,class:"vac-line-new"},tf={key:2,class:"vac-card-info vac-card-system"},rf={key:1,class:"vac-avatar-offset"},nf={key:2},of={key:0,class:"vac-progress-time"},sf={class:"vac-text-timestamp"},af={key:0,class:"vac-icon-edited"},lf={key:1},cf=(0,b.createElementVNode)("div",{class:"vac-failure-text"}," ! ",-1),uf=[cf],ff={key:3,class:"vac-avatar-current-offset"};function df(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("format-message"),qt=(0,b.resolveComponent)("message-reply"),cr=(0,b.resolveComponent)("svg-icon"),Wt=(0,b.resolveComponent)("message-files"),fr=(0,b.resolveComponent)("audio-player"),hr=(0,b.resolveComponent)("message-actions"),xr=(0,b.resolveComponent)("message-reactions");return(0,b.openBlock)(),(0,b.createElementBlock)("div",{id:Ie.message._id,ref:"message",class:"vac-message-wrapper"},[vt.showDate?((0,b.openBlock)(),(0,b.createElementBlock)("div",Qu,(0,b.toDisplayString)(Ie.message.date),1)):(0,b.createCommentVNode)("",!0),_t.newMessage._id===Ie.message._id?((0,b.openBlock)(),(0,b.createElementBlock)("div",ef,(0,b.toDisplayString)(Ie.textMessages.NEW_MESSAGES),1)):(0,b.createCommentVNode)("",!0),Ie.message.system?((0,b.openBlock)(),(0,b.createElementBlock)("div",tf,[(0,b.renderSlot)(Ue.$slots,"system-message",(0,b.normalizeProps)((0,b.guardReactiveProps)({message:Ie.message})),function(){return[(0,b.createVNode)(Vt,{content:Ie.message.content,users:Ie.roomUsers,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,onOpenUserTag:vt.openUserTag},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(br,Nr){return{name:Nr,fn:(0,b.withCtx)(function(Fr){return[(0,b.renderSlot)(Ue.$slots,Nr,(0,b.normalizeProps)((0,b.guardReactiveProps)(Fr)))]})}})]),1032,["content","users","text-formatting","link-options","onOpenUserTag"])]})])):((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:3,class:(0,b.normalizeClass)(["vac-message-box",{"vac-offset-current":Ie.message.senderId===Ie.currentUserId}]),onClick:Te[8]||(Te[8]=function(){return vt.selectMessage&&vt.selectMessage.apply(vt,arguments)})},[(0,b.renderSlot)(Ue.$slots,"message",(0,b.normalizeProps)((0,b.guardReactiveProps)({message:Ie.message})),function(){return[Ie.message.avatar&&Ie.message.senderId!==Ie.currentUserId?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:"vac-avatar",style:(0,b.normalizeStyle)({"background-image":"url('".concat(Ie.message.avatar,"')")})},null,4)):(0,b.createCommentVNode)("",!0),vt.hasSenderUserAvatar&&!Ie.message.avatar?((0,b.openBlock)(),(0,b.createElementBlock)("div",rf)):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-message-container",{"vac-message-container-offset":vt.messageOffset}])},[(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-message-card",{"vac-message-highlight":vt.isMessageHover,"vac-message-current":Ie.message.senderId===Ie.currentUserId,"vac-message-deleted":Ie.message.deleted,"vac-item-clickable":Ie.messageSelectionEnabled,"vac-message-selected":vt.isMessageSelected}]),onMouseover:Te[5]||(Te[5]=function(){return vt.onHoverMessage&&vt.onHoverMessage.apply(vt,arguments)}),onMouseleave:Te[6]||(Te[6]=function(){return vt.onLeaveMessage&&vt.onLeaveMessage.apply(vt,arguments)})},[vt.showUsername?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:(0,b.normalizeClass)(["vac-text-username",{"vac-username-reply":!Ie.message.deleted&&Ie.message.replyMessage}])},[(0,b.createElementVNode)("span",null,(0,b.toDisplayString)(Ie.message.username),1)],2)):(0,b.createCommentVNode)("",!0),!Ie.message.deleted&&Ie.message.replyMessage?((0,b.openBlock)(),(0,b.createBlock)(qt,{key:1,message:Ie.message,"room-users":Ie.roomUsers,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(br,Nr){return{name:Nr,fn:(0,b.withCtx)(function(Fr){return[(0,b.renderSlot)(Ue.$slots,Nr,(0,b.normalizeProps)((0,b.guardReactiveProps)(Fr)))]})}})]),1032,["message","room-users","text-formatting","link-options"])):(0,b.createCommentVNode)("",!0),Ie.message.deleted?((0,b.openBlock)(),(0,b.createElementBlock)("div",nf,[(0,b.renderSlot)(Ue.$slots,"deleted-icon",{},function(){return[(0,b.createVNode)(cr,{name:"deleted",class:"vac-icon-deleted"})]}),(0,b.createElementVNode)("span",null,(0,b.toDisplayString)(Ie.textMessages.MESSAGE_DELETED),1)])):!Ie.message.files||!Ie.message.files.length?((0,b.openBlock)(),(0,b.createBlock)(Vt,{key:3,content:Ie.message.content,users:Ie.roomUsers,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,onOpenUserTag:vt.openUserTag},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(br,Nr){return{name:Nr,fn:(0,b.withCtx)(function(Fr){return[(0,b.renderSlot)(Ue.$slots,Nr,(0,b.normalizeProps)((0,b.guardReactiveProps)(Fr)))]})}})]),1032,["content","users","text-formatting","link-options","onOpenUserTag"])):!vt.isAudio||Ie.message.files.length>1?((0,b.openBlock)(),(0,b.createBlock)(Wt,{key:4,"current-user-id":Ie.currentUserId,message:Ie.message,"room-users":Ie.roomUsers,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,"message-selection-enabled":Ie.messageSelectionEnabled,onOpenFile:vt.openFile,onOpenUserTag:vt.openUserTag},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(br,Nr){return{name:Nr,fn:(0,b.withCtx)(function(Fr){return[(0,b.renderSlot)(Ue.$slots,Nr,(0,b.normalizeProps)((0,b.guardReactiveProps)(Fr)))]})}})]),1032,["current-user-id","message","room-users","text-formatting","link-options","message-selection-enabled","onOpenFile","onOpenUserTag"])):((0,b.openBlock)(),(0,b.createElementBlock)(b.Fragment,{key:5},[(0,b.createVNode)(fr,{"message-id":Ie.message._id,src:Ie.message.files[0].url,"message-selection-enabled":Ie.messageSelectionEnabled,onUpdateProgressTime:Te[0]||(Te[0]=function(br){return _t.progressTime=br}),onHoverAudioProgress:Te[1]||(Te[1]=function(br){return _t.hoverAudioProgress=br})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(br,Nr){return{name:Nr,fn:(0,b.withCtx)(function(Fr){return[(0,b.renderSlot)(Ue.$slots,Nr,(0,b.normalizeProps)((0,b.guardReactiveProps)(Fr)))]})}})]),1032,["message-id","src","message-selection-enabled"]),Ie.message.deleted?(0,b.createCommentVNode)("",!0):((0,b.openBlock)(),(0,b.createElementBlock)("div",of,(0,b.toDisplayString)(_t.progressTime),1))],64)),(0,b.createElementVNode)("div",sf,[Ie.message.edited&&!Ie.message.deleted?((0,b.openBlock)(),(0,b.createElementBlock)("div",af,[(0,b.renderSlot)(Ue.$slots,"pencil-icon",{},function(){return[(0,b.createVNode)(cr,{name:"pencil"})]})])):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("span",null,(0,b.toDisplayString)(Ie.message.timestamp),1),vt.isCheckmarkVisible?((0,b.openBlock)(),(0,b.createElementBlock)("span",lf,[(0,b.renderSlot)(Ue.$slots,"checkmark-icon",(0,b.normalizeProps)((0,b.guardReactiveProps)({message:Ie.message})),function(){return[(0,b.createVNode)(cr,{name:Ie.message.distributed?"double-checkmark":"checkmark",param:Ie.message.seen?"seen":"",class:"vac-icon-check"},null,8,["name","param"])]})])):(0,b.createCommentVNode)("",!0)]),(0,b.createVNode)(hr,{"current-user-id":Ie.currentUserId,message:Ie.message,"message-actions":Ie.messageActions,"show-reaction-emojis":Ie.showReactionEmojis,"message-hover":_t.messageHover,"hover-message-id":_t.hoverMessageId,"hover-audio-progress":_t.hoverAudioProgress,onUpdateMessageHover:Te[2]||(Te[2]=function(br){return _t.messageHover=br}),onUpdateOptionsOpened:Te[3]||(Te[3]=function(br){return _t.optionsOpened=br}),onUpdateEmojiOpened:Te[4]||(Te[4]=function(br){return _t.emojiOpened=br}),onMessageActionHandler:vt.messageActionHandler,onSendMessageReaction:vt.sendMessageReaction},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(br,Nr){return{name:Nr,fn:(0,b.withCtx)(function(Fr){return[(0,b.renderSlot)(Ue.$slots,Nr,(0,b.normalizeProps)((0,b.guardReactiveProps)(Fr)))]})}})]),1032,["current-user-id","message","message-actions","show-reaction-emojis","message-hover","hover-message-id","hover-audio-progress","onMessageActionHandler","onSendMessageReaction"])],34),(0,b.createVNode)(xr,{"current-user-id":Ie.currentUserId,message:Ie.message,onSendMessageReaction:vt.sendMessageReaction},null,8,["current-user-id","message","onSendMessageReaction"])],2),(0,b.renderSlot)(Ue.$slots,"message-failure",(0,b.normalizeProps)((0,b.guardReactiveProps)({message:Ie.message})),function(){return[Ie.message.failure&&Ie.message.senderId===Ie.currentUserId?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,class:(0,b.normalizeClass)(["vac-failure-container vac-svg-button",{"vac-failure-container-avatar":Ie.message.avatar&&Ie.message.senderId===Ie.currentUserId}]),onClick:Te[7]||(Te[7]=function(br){return Ue.$emit("open-failed-message",{message:Ie.message})})},uf,2)):(0,b.createCommentVNode)("",!0)]}),Ie.message.avatar&&Ie.message.senderId===Ie.currentUserId?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:2,class:"vac-avatar vac-avatar-current",style:(0,b.normalizeStyle)({"background-image":"url('".concat(Ie.message.avatar,"')")})},null,4)):(0,b.createCommentVNode)("",!0),vt.hasCurrentUserAvatar&&!Ie.message.avatar?((0,b.openBlock)(),(0,b.createElementBlock)("div",ff)):(0,b.createCommentVNode)("",!0)]})],2))],8,Ju)}m(5827);var hf={class:"vac-reply-message"},pf={class:"vac-reply-username"},mf={key:0,class:"vac-image-reply-container"},vf={key:1,class:"vac-video-reply-container"},gf={width:"100%",height:"100%",controls:""},yf=["src"],bf={key:3,class:"vac-file-container"},_f={class:"vac-text-ellipsis"},Ef={key:0,class:"vac-text-ellipsis vac-text-extension"},Sf={class:"vac-reply-content"};function wf(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("audio-player"),qt=(0,b.resolveComponent)("svg-icon"),cr=(0,b.resolveComponent)("format-message");return(0,b.openBlock)(),(0,b.createElementBlock)("div",hf,[(0,b.createElementVNode)("div",pf,(0,b.toDisplayString)(vt.replyUsername),1),vt.isImage?((0,b.openBlock)(),(0,b.createElementBlock)("div",mf,[(0,b.createElementVNode)("div",{class:"vac-message-image vac-message-image-reply",style:(0,b.normalizeStyle)({"background-image":"url('".concat(vt.firstFile.url,"')")})},null,4)])):vt.isVideo?((0,b.openBlock)(),(0,b.createElementBlock)("div",vf,[(0,b.createElementVNode)("video",gf,[(0,b.createElementVNode)("source",{src:vt.firstFile.url},null,8,yf)])])):vt.isAudio?((0,b.openBlock)(),(0,b.createBlock)(Vt,{key:2,src:vt.firstFile.url,onUpdateProgressTime:Te[0]||(Te[0]=function(Wt){return Ue.progressTime=Wt}),onHoverAudioProgress:Te[1]||(Te[1]=function(Wt){return Ue.hoverAudioProgress=Wt})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["src"])):vt.isOtherFile?((0,b.openBlock)(),(0,b.createElementBlock)("div",bf,[(0,b.createElementVNode)("div",null,[(0,b.renderSlot)(Ue.$slots,"file-icon",{},function(){return[(0,b.createVNode)(qt,{name:"file"})]})]),(0,b.createElementVNode)("div",_f,(0,b.toDisplayString)(vt.firstFile.name),1),vt.firstFile.extension?((0,b.openBlock)(),(0,b.createElementBlock)("div",Ef,(0,b.toDisplayString)(vt.firstFile.extension),1)):(0,b.createCommentVNode)("",!0)])):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("div",Sf,[(0,b.createVNode)(cr,{content:Ie.message.replyMessage.content,users:Ie.roomUsers,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,reply:!0},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["content","users","text-formatting","link-options"])])])}var di=m(8438),xf=di.isAudioFile,Tf=di.isImageFile,Af=di.isVideoFile;const Cf={name:"MessageReply",components:{AudioPlayer:ui,SvgIcon:$e,FormatMessage:Ht},props:{message:{type:Object,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},roomUsers:{type:Array,required:!0}},computed:{replyUsername:function(){var Te=this.message.replyMessage.senderId,Ie=this.roomUsers.find(function(mt){return mt._id===Te});return Ie?Ie.username:""},firstFile:function(){var Te,Ie;return(Te=this.message.replyMessage)!==null&&Te!==void 0&&(Ie=Te.files)!==null&&Ie!==void 0&&Ie.length?this.message.replyMessage.files[0]:{}},isAudio:function(){return xf(this.firstFile)},isImage:function(){return Tf(this.firstFile)},isVideo:function(){return Af(this.firstFile)},isOtherFile:function(){var Te;return((Te=this.message.replyMessage.files)===null||Te===void 0?void 0:Te.length)&&!this.isAudio&&!this.isVideo&&!this.isImage}}},Rf=(0,Me.Z)(Cf,[["render",wf]]);var If={class:"vac-message-files-container"},$f=["onClick"],Mf={class:"vac-svg-button"},Of={class:"vac-text-ellipsis"},Nf={key:0,class:"vac-text-ellipsis vac-text-extension"};function Pf(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("message-file"),qt=(0,b.resolveComponent)("progress-bar"),cr=(0,b.resolveComponent)("svg-icon"),Wt=(0,b.resolveComponent)("format-message");return(0,b.openBlock)(),(0,b.createElementBlock)("div",If,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(vt.imageVideoFiles,function(fr,hr){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:hr+"iv"},[(0,b.createVNode)(Vt,{file:fr,"current-user-id":Ie.currentUserId,message:Ie.message,index:hr,"message-selection-enabled":Ie.messageSelectionEnabled,onOpenFile:Te[0]||(Te[0]=function(xr){return Ue.$emit("open-file",xr)})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(xr,br){return{name:br,fn:(0,b.withCtx)(function(Nr){return[(0,b.renderSlot)(Ue.$slots,br,(0,b.normalizeProps)((0,b.guardReactiveProps)(Nr)))]})}})]),1032,["file","current-user-id","message","index","message-selection-enabled"])])}),128)),((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(vt.otherFiles,function(fr,hr){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:hr+"a",class:"vac-file-wrapper"},[fr.progress>=0?((0,b.openBlock)(),(0,b.createBlock)(qt,{key:0,progress:fr.progress,style:{top:"44px"}},null,8,["progress"])):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-file-container",{"vac-file-container-progress":fr.progress>=0}]),onClick:function(br){return vt.openFile(br,fr,"download")}},[(0,b.createElementVNode)("div",Mf,[(0,b.renderSlot)(Ue.$slots,"document-icon",{},function(){return[(0,b.createVNode)(cr,{name:"document"})]})]),(0,b.createElementVNode)("div",Of,(0,b.toDisplayString)(fr.name),1),fr.extension?((0,b.openBlock)(),(0,b.createElementBlock)("div",Nf,(0,b.toDisplayString)(fr.extension),1)):(0,b.createCommentVNode)("",!0)],10,$f)])}),128)),(0,b.createVNode)(Wt,{content:Ie.message.content,users:Ie.roomUsers,"text-formatting":Ie.textFormatting,"link-options":Ie.linkOptions,onOpenUserTag:Te[1]||(Te[1]=function(fr){return Ue.$emit("open-user-tag",fr)})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(fr,hr){return{name:hr,fn:(0,b.withCtx)(function(xr){return[(0,b.renderSlot)(Ue.$slots,hr,(0,b.normalizeProps)((0,b.guardReactiveProps)(xr)))]})}})]),1032,["content","users","text-formatting","link-options"])])}var kf={ref:"progress",class:"vac-progress-wrapper"},Lf=["height","width"],Bf=["stroke-dasharray","stroke-width","r","cx","cy"],Df={class:"vac-progress-text"},Ff=(0,b.createElementVNode)("span",{class:"vac-progress-pourcent"},"%",-1);function Uf(Ue,Te,Ie,mt,_t,vt){return(0,b.openBlock)(),(0,b.createBlock)(b.Transition,{name:"vac-fade-spinner",appear:""},{default:(0,b.withCtx)(function(){return[(0,b.createElementVNode)("div",kf,[((0,b.openBlock)(),(0,b.createElementBlock)("svg",{height:_t.radius*2,width:_t.radius*2},[(0,b.createElementVNode)("circle",{stroke:"rgba(255, 255, 255, 0.7)","stroke-dasharray":_t.circumference+" "+_t.circumference,style:(0,b.normalizeStyle)({strokeDashoffset:vt.strokeDashoffset,strokeLinecap:"round"}),"stroke-width":_t.stroke,fill:"transparent",r:_t.normalizedRadius,cx:_t.radius,cy:_t.radius},null,12,Bf)],8,Lf)),(0,b.createElementVNode)("div",{class:"vac-progress-content",style:(0,b.normalizeStyle)({height:_t.radius*2-19+"px",width:_t.radius*2-19+"px"})},[(0,b.createElementVNode)("div",Df,[(0,b.createTextVNode)((0,b.toDisplayString)(Ie.progress),1),Ff])],4)],512)]}),_:1})}const Hf={name:"ProgressBar",props:{progress:{type:Number,default:0}},data:function(){var Te=35,Ie=4,mt=Te-Ie*2,_t=mt*2*Math.PI;return{radius:Te,stroke:Ie,normalizedRadius:mt,circumference:_t}},computed:{strokeDashoffset:function(){return this.circumference-this.progress/100*this.circumference}}},ds=(0,Me.Z)(Hf,[["render",Uf]]);var jf={class:"vac-message-file-container"},zf={key:0,class:"vac-image-buttons"},Vf={width:"100%",height:"100%",controls:""},Wf=["src"];function Kf(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("progress-bar"),qt=(0,b.resolveComponent)("loader"),cr=(0,b.resolveComponent)("svg-icon");return(0,b.openBlock)(),(0,b.createElementBlock)("div",jf,[vt.isImage?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,ref:"imageRef"+Ie.index,class:"vac-message-image-container",onMouseover:Te[2]||(Te[2]=function(Wt){return _t.imageHover=!0}),onMouseleave:Te[3]||(Te[3]=function(Wt){return _t.imageHover=!1}),onClick:Te[4]||(Te[4]=function(Wt){return vt.openFile(Wt,"preview")})},[Ie.file.progress>=0?((0,b.openBlock)(),(0,b.createBlock)(Vt,{key:0,progress:Ie.file.progress,style:(0,b.normalizeStyle)({top:"".concat(_t.imageResponsive.loaderTop,"px")})},null,8,["progress","style"])):((0,b.openBlock)(),(0,b.createBlock)(qt,{key:1,show:vt.isImageLoading,style:(0,b.normalizeStyle)({top:"".concat(_t.imageResponsive.loaderTop,"px")})},(0,b.createSlots)({_:2},[(0,b.renderList)(Ue.$slots,function(Wt,fr){return{name:fr,fn:(0,b.withCtx)(function(hr){return[(0,b.renderSlot)(Ue.$slots,fr,(0,b.normalizeProps)((0,b.guardReactiveProps)(hr)))]})}})]),1032,["show","style"])),(0,b.createElementVNode)("div",{class:(0,b.normalizeClass)(["vac-message-image",{"vac-blur-loading":vt.isImageLoading&&Ie.message.senderId===Ie.currentUserId}]),style:(0,b.normalizeStyle)({"background-image":"url('".concat(vt.isImageLoading&&Ie.file.preview||Ie.file.url,"')"),"max-height":"".concat(_t.imageResponsive.maxHeight,"px")})},[(0,b.createVNode)(b.Transition,{name:"vac-fade-image"},{default:(0,b.withCtx)(function(){return[!Ie.messageSelectionEnabled&&_t.imageHover&&!vt.isImageLoading?((0,b.openBlock)(),(0,b.createElementBlock)("div",zf,[(0,b.createElementVNode)("div",{class:"vac-svg-button vac-button-view",onClick:Te[0]||(Te[0]=function(Wt){return vt.openFile(Wt,"preview")})},[(0,b.renderSlot)(Ue.$slots,"eye-icon",{},function(){return[(0,b.createVNode)(cr,{name:"eye"})]})]),(0,b.createElementVNode)("div",{class:"vac-svg-button vac-button-download",onClick:Te[1]||(Te[1]=function(Wt){return vt.openFile(Wt,"download")})},[(0,b.renderSlot)(Ue.$slots,"document-icon",{},function(){return[(0,b.createVNode)(cr,{name:"document"})]})])])):(0,b.createCommentVNode)("",!0)]}),_:3})],6)],544)):vt.isVideo?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:1,class:"vac-video-container",onClick:Te[5]||(Te[5]=(0,b.withModifiers)(function(Wt){return vt.openFile("preview")},["prevent"]))},[Ie.file.progress>=0?((0,b.openBlock)(),(0,b.createBlock)(Vt,{key:0,progress:Ie.file.progress},null,8,["progress"])):(0,b.createCommentVNode)("",!0),(0,b.createElementVNode)("video",Vf,[(0,b.createElementVNode)("source",{src:Ie.file.url},null,8,Wf)])])):(0,b.createCommentVNode)("",!0)])}var hs=m(8438),ps=hs.isImageFile,Gf=hs.isVideoFile;const Yf={name:"MessageFile",components:{SvgIcon:$e,Loader:Re,ProgressBar:ds},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},file:{type:Object,required:!0},index:{type:Number,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file"],data:function(){return{imageResponsive:"",imageLoading:!1,imageHover:!1}},computed:{isImageLoading:function(){return this.file.url.indexOf("blob:http")!==-1||this.imageLoading},isImage:function(){return ps(this.file)},isVideo:function(){return Gf(this.file)}},watch:{file:{immediate:!0,handler:function(){this.checkImgLoad()}}},mounted:function(){var Te=this.$refs["imageRef"+this.index];Te&&(this.imageResponsive={maxHeight:Te.clientWidth-18,loaderTop:Te.clientHeight/2-9})},methods:{checkImgLoad:function(){var Te=this;if(!!ps(this.file)){this.imageLoading=!0;var Ie=new Image;Ie.src=this.file.url,Ie.addEventListener("load",function(){return Te.imageLoading=!1})}},openFile:function(Te,Ie){this.messageSelectionEnabled||(Te.stopPropagation(),this.$emit("open-file",{file:this.file,action:Ie}))}}},Xf=(0,Me.Z)(Yf,[["render",Kf]]);var Zf=m(8438),ms=Zf.isImageVideoFile;const qf={name:"MessageFiles",components:{SvgIcon:$e,FormatMessage:Ht,ProgressBar:ds,MessageFile:Xf},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},roomUsers:{type:Array,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0}},emits:["open-file","open-user-tag"],computed:{imageVideoFiles:function(){return this.message.files.filter(function(Te){return ms(Te)})},otherFiles:function(){return this.message.files.filter(function(Te){return!ms(Te)})}},methods:{openFile:function(Te,Ie,mt){this.messageSelectionEnabled||(Te.stopPropagation(),this.$emit("open-file",{file:Ie,action:mt}))}}},Jf=(0,Me.Z)(qf,[["render",Pf]]);var Qf={class:"vac-message-actions-wrapper"},_d={key:"3"},Td={class:"vac-menu-list"},$d=["onClick"];function Wd(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("svg-icon"),qt=(0,b.resolveComponent)("emoji-picker-container"),cr=(0,b.resolveDirective)("click-outside");return(0,b.openBlock)(),(0,b.createElementBlock)("div",Qf,[(0,b.createElementVNode)("div",{class:"vac-options-container",style:(0,b.normalizeStyle)({display:Ie.hoverAudioProgress?"none":"initial",width:vt.filteredMessageActions.length&&Ie.showReactionEmojis?"70px":"45px"})},[(0,b.createVNode)(b.TransitionGroup,{name:"vac-slide-left",tag:"span"},{default:(0,b.withCtx)(function(){return[vt.isMessageActions||vt.isMessageReactions?((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:"1",class:(0,b.normalizeClass)(["vac-blur-container",{"vac-options-me":Ie.message.senderId===Ie.currentUserId}])},null,2)):(0,b.createCommentVNode)("",!0),vt.isMessageActions?((0,b.openBlock)(),(0,b.createElementBlock)("div",{ref:"actionIcon",key:"2",class:"vac-svg-button vac-message-options",onClick:Te[0]||(Te[0]=function(){return vt.openOptions&&vt.openOptions.apply(vt,arguments)})},[(0,b.renderSlot)(Ue.$slots,"dropdown-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"dropdown",param:"message"})]})],512)):(0,b.createCommentVNode)("",!0),vt.isMessageReactions?(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("div",_d,[(0,b.renderSlot)(Ue.$slots,"emoji-picker",(0,b.mergeProps)({emojiOpened:_t.emojiOpened},{addEmoji:vt.sendMessageReaction}),function(){return[(0,b.createVNode)(qt,{class:"vac-message-emojis",style:(0,b.normalizeStyle)({right:vt.isMessageActions?"30px":"5px"}),"emoji-opened":_t.emojiOpened,"emoji-reaction":!0,"position-right":Ie.message.senderId===Ie.currentUserId,onAddEmoji:vt.sendMessageReaction,onOpenEmoji:vt.openEmoji},{"emoji-picker-icon":(0,b.withCtx)(function(){return[(0,b.renderSlot)(Ue.$slots,"emoji-picker-reaction-icon")]}),_:3},8,["style","emoji-opened","position-right","onAddEmoji","onOpenEmoji"])]})])),[[cr,vt.closeEmoji]]):(0,b.createCommentVNode)("",!0)]}),_:3})],4),vt.filteredMessageActions.length?((0,b.openBlock)(),(0,b.createBlock)(b.Transition,{key:0,name:Ie.message.senderId===Ie.currentUserId?"vac-slide-left":"vac-slide-right"},{default:(0,b.withCtx)(function(){return[_t.optionsOpened?(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("div",{key:0,ref:"menuOptions",class:(0,b.normalizeClass)(["vac-menu-options",{"vac-menu-left":Ie.message.senderId!==Ie.currentUserId}]),style:(0,b.normalizeStyle)({top:"".concat(_t.menuOptionsTop,"px")})},[(0,b.createElementVNode)("div",Td,[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(vt.filteredMessageActions,function(Wt){return(0,b.openBlock)(),(0,b.createElementBlock)("div",{key:Wt.name},[(0,b.createElementVNode)("div",{class:"vac-menu-item",onClick:function(hr){return vt.messageActionHandler(Wt)}},(0,b.toDisplayString)(Wt.title),9,$d)])}),128))])],6)),[[cr,vt.closeOptions]]):(0,b.createCommentVNode)("",!0)]}),_:1},8,["name"])):(0,b.createCommentVNode)("",!0)])}const Yd={name:"MessageActions",components:{SvgIcon:$e,EmojiPickerContainer:os},directives:{clickOutside:Ft},props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0},messageActions:{type:Array,required:!0},showReactionEmojis:{type:Boolean,required:!0},messageHover:{type:Boolean,required:!0},hoverMessageId:{type:[String,Number],default:null},hoverAudioProgress:{type:Boolean,required:!0}},emits:["update-emoji-opened","update-options-opened","update-message-hover","message-action-handler","send-message-reaction"],data:function(){return{menuOptionsTop:0,optionsOpened:!1,optionsClosing:!1,emojiOpened:!1}},computed:{isMessageActions:function(){return this.filteredMessageActions.length&&this.messageHover&&!this.message.deleted&&!this.message.disableActions&&!this.hoverAudioProgress},isMessageReactions:function(){return this.showReactionEmojis&&this.messageHover&&!this.message.deleted&&!this.message.disableReactions&&!this.hoverAudioProgress},filteredMessageActions:function(){return this.message.senderId===this.currentUserId?this.messageActions:this.messageActions.filter(function(Te){return!Te.onlyMe})}},watch:{emojiOpened:function(Te){this.$emit("update-emoji-opened",Te),Te&&(this.optionsOpened=!1)},optionsOpened:function(Te){this.$emit("update-options-opened",Te)}},methods:{openOptions:function(){var Te=this;this.optionsClosing||(this.optionsOpened=!this.optionsOpened,this.optionsOpened&&setTimeout(function(){var Ie=document.getElementById("room-footer");if(!(!Ie||!Te.$refs.menuOptions||!Te.$refs.actionIcon)){var mt=Te.$refs.menuOptions.getBoundingClientRect().height,_t=Te.$refs.actionIcon.getBoundingClientRect().top,vt=Ie.getBoundingClientRect().top,Vt=vt-_t>mt+50;Vt?Te.menuOptionsTop=30:Te.menuOptionsTop=-mt}}))},closeOptions:function(){var Te=this;this.optionsOpened=!1,this.optionsClosing=!0,this.updateMessageHover(),setTimeout(function(){return Te.optionsClosing=!1},100)},openEmoji:function(){this.emojiOpened=!this.emojiOpened},closeEmoji:function(){this.emojiOpened=!1,this.updateMessageHover()},updateMessageHover:function(){this.hoverMessageId!==this.message._id&&this.$emit("update-message-hover",!1)},messageActionHandler:function(Te){this.closeOptions(),this.$emit("message-action-handler",Te)},sendMessageReaction:function(Te,Ie){this.$emit("send-message-reaction",{emoji:Te,reaction:Ie}),this.closeEmoji()}}},Xd=(0,Me.Z)(Yd,[["render",Wd]]);var Zd=["onClick"];function eh(Ue,Te,Ie,mt,_t,vt){return Ie.message.deleted?(0,b.createCommentVNode)("",!0):((0,b.openBlock)(),(0,b.createBlock)(b.TransitionGroup,{key:0,name:"vac-slide-left",tag:"span"},{default:(0,b.withCtx)(function(){return[((0,b.openBlock)(!0),(0,b.createElementBlock)(b.Fragment,null,(0,b.renderList)(Ie.message.reactions,function(Vt,qt){return(0,b.withDirectives)(((0,b.openBlock)(),(0,b.createElementBlock)("button",{key:qt+0,class:(0,b.normalizeClass)(["vac-button-reaction",{"vac-reaction-me":Vt.indexOf(Ie.currentUserId)!==-1}]),style:(0,b.normalizeStyle)({float:Ie.message.senderId===Ie.currentUserId?"right":"left"}),onClick:function(Wt){return vt.sendMessageReaction({unicode:qt},Vt)}},[(0,b.createTextVNode)((0,b.toDisplayString)(qt),1),(0,b.createElementVNode)("span",null,(0,b.toDisplayString)(Vt.length),1)],14,Zd)),[[b.vShow,Vt.length]])}),128))]}),_:1}))}const th={name:"MessageReactions",props:{currentUserId:{type:[String,Number],required:!0},message:{type:Object,required:!0}},emits:["send-message-reaction"],methods:{sendMessageReaction:function(Te,Ie){this.$emit("send-message-reaction",{emoji:Te,reaction:Ie})}}},nh=(0,Me.Z)(th,[["render",eh]]);var oh=m(9706),ih=oh.messagesValidation,ah=m(8438),lh=ah.isAudioFile;const ch={name:"RoomMessage",components:{SvgIcon:$e,FormatMessage:Ht,AudioPlayer:ui,MessageReply:Rf,MessageFiles:Jf,MessageActions:Xd,MessageReactions:nh},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},index:{type:Number,required:!0},message:{type:Object,required:!0},messages:{type:Array,required:!0},editedMessageId:{type:[String,Number],default:null},roomUsers:{type:Array,default:function(){return[]}},messageActions:{type:Array,required:!0},newMessages:{type:Array,default:function(){return[]}},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},usernameOptions:{type:Object,required:!0},messageSelectionEnabled:{type:Boolean,required:!0},selectedMessages:{type:Array,default:function(){return[]}}},emits:["message-added","open-file","open-user-tag","open-failed-message","message-action-handler","send-message-reaction","select-message","unselect-message"],data:function(){return{hoverMessageId:null,messageHover:!1,optionsOpened:!1,emojiOpened:!1,newMessage:{},progressTime:"- : -",hoverAudioProgress:!1}},computed:{showUsername:function(){return!this.usernameOptions.currentUser&&this.message.senderId===this.currentUserId?!1:this.roomUsers.length>=this.usernameOptions.minUsers},showDate:function(){return this.index>0&&this.message.date!==this.messages[this.index-1].date},messageOffset:function(){return this.index>0&&this.message.senderId!==this.messages[this.index-1].senderId},isMessageHover:function(){return this.editedMessageId===this.message._id||this.hoverMessageId===this.message._id},isAudio:function(){var Te;return(Te=this.message.files)===null||Te===void 0?void 0:Te.some(function(Ie){return lh(Ie)})},isCheckmarkVisible:function(){return this.message.senderId===this.currentUserId&&!this.message.deleted&&(this.message.saved||this.message.distributed||this.message.seen)},hasCurrentUserAvatar:function(){var Te=this;return this.messages.some(function(Ie){return Ie.senderId===Te.currentUserId&&Ie.avatar})},hasSenderUserAvatar:function(){var Te=this;return this.messages.some(function(Ie){return Ie.senderId!==Te.currentUserId&&Ie.avatar})},isMessageSelected:function(){var Te=this;return this.messageSelectionEnabled&&!!this.selectedMessages.find(function(Ie){return Ie._id===Te.message._id})}},watch:{newMessages:{immediate:!0,deep:!0,handler:function(Te){if(!Te.length||!this.showNewMessagesDivider){this.newMessage={};return}this.newMessage=Te.reduce(function(Ie,mt){return mt.index<Ie.index?mt:Ie})}},messageSelectionEnabled:function(){this.resetMessageHover()}},mounted:function(){ih(this.message),this.$emit("message-added",{message:this.message,index:this.index,ref:this.$refs.message})},methods:{onHoverMessage:function(){this.messageSelectionEnabled||(this.messageHover=!0,this.canEditMessage()&&(this.hoverMessageId=this.message._id))},canEditMessage:function(){return!this.message.deleted},onLeaveMessage:function(){this.messageSelectionEnabled||(!this.optionsOpened&&!this.emojiOpened&&(this.messageHover=!1),this.hoverMessageId=null)},resetMessageHover:function(){this.messageHover=!1,this.hoverMessageId=null},openFile:function(Te){this.$emit("open-file",{message:this.message,file:Te})},openUserTag:function(Te){this.$emit("open-user-tag",{user:Te})},messageActionHandler:function(Te){var Ie=this;this.resetMessageHover(),setTimeout(function(){Ie.$emit("message-action-handler",{action:Te,message:Ie.message})},300)},sendMessageReaction:function(Te){var Ie=Te.emoji,mt=Te.reaction;this.$emit("send-message-reaction",{messageId:this.message._id,reaction:Ie,remove:mt&&mt.indexOf(this.currentUserId)!==-1}),this.messageHover=!1},selectMessage:function(){this.messageSelectionEnabled&&(this.isMessageSelected?this.$emit("unselect-message",this.message._id):this.$emit("select-message",this.message))}}},uh={name:"ChatRoom",components:{Loader:Re,SvgIcon:$e,RoomHeader:Wr,RoomFooter:qu,RoomMessage:(0,Me.Z)(ch,[["render",df]])},props:{currentUserId:{type:[String,Number],required:!0},textMessages:{type:Object,required:!0},singleRoom:{type:Boolean,required:!0},showRoomsList:{type:Boolean,required:!0},isMobile:{type:Boolean,required:!0},rooms:{type:Array,required:!0},roomId:{type:[String,Number],required:!0},loadFirstRoom:{type:Boolean,required:!0},messages:{type:Array,required:!0},roomMessage:{type:String,default:null},messagesLoaded:{type:Boolean,required:!0},menuActions:{type:Array,required:!0},messageActions:{type:Array,required:!0},messageSelectionActions:{type:Array,required:!0},autoScroll:{type:Object,required:!0},showSendIcon:{type:Boolean,required:!0},showFiles:{type:Boolean,required:!0},showAudio:{type:Boolean,required:!0},audioBitRate:{type:Number,required:!0},audioSampleRate:{type:Number,required:!0},showEmojis:{type:Boolean,required:!0},showReactionEmojis:{type:Boolean,required:!0},showNewMessagesDivider:{type:Boolean,required:!0},showFooter:{type:Boolean,required:!0},acceptedFiles:{type:String,required:!0},textFormatting:{type:Object,required:!0},linkOptions:{type:Object,required:!0},loadingRooms:{type:Boolean,required:!0},roomInfoEnabled:{type:Boolean,required:!0},textareaActionEnabled:{type:Boolean,required:!0},textareaAutoFocus:{type:Boolean,required:!0},userTagsEnabled:{type:Boolean,required:!0},emojisSuggestionEnabled:{type:Boolean,required:!0},scrollDistance:{type:Number,required:!0},templatesText:{type:Array,default:null},usernameOptions:{type:Object,required:!0}},emits:["toggle-rooms-list","room-info","menu-action-handler","message-selection-action-handler","edit-message","send-message","delete-message","message-action-handler","fetch-messages","send-message-reaction","typing-message","open-file","open-user-tag","open-failed-message","textarea-action-handler"],data:function(){return{editedMessageId:null,initReplyMessage:null,initEditMessage:null,infiniteState:null,loadingMessages:!1,observer:null,showLoader:!0,loadingMoreMessages:!1,scrollIcon:!1,scrollMessagesCount:0,newMessages:[],messageSelectionEnabled:!1,selectedMessages:[]}},computed:{room:function(){var Te=this;return this.rooms.find(function(Ie){return Ie.roomId===Te.roomId})||{}},showNoMessages:function(){return this.roomId&&!this.messages.length&&!this.loadingMessages&&!this.loadingRooms},showNoRoom:function(){var Te=!this.rooms.length&&!this.loadingRooms||!this.roomId&&!this.loadFirstRoom;return Te&&(this.loadingMessages=!1),Te},showMessagesStarted:function(){return this.messages.length&&this.messagesLoaded}},watch:{loadingMessages:function(Te){var Ie=this;Te?this.infiniteState=null:(this.infiniteState&&this.infiniteState.loaded(),setTimeout(function(){return Ie.initIntersectionObserver()}))},roomId:function(){this.onRoomChanged()},messages:{deep:!0,handler:function(Te,Ie){var mt=this;Te.forEach(function(_t,vt){mt.showNewMessagesDivider&&!_t.seen&&_t.senderId!==mt.currentUserId&&mt.newMessages.push({_id:_t._id,index:vt})}),Ie?.length===Te?.length-1&&(this.newMessages=[]),this.infiniteState&&this.infiniteState.loaded(),setTimeout(function(){return mt.loadingMoreMessages=!1})}},messagesLoaded:function(Te){Te&&(this.loadingMessages=!1),this.infiniteState&&this.infiniteState.complete()}},mounted:function(){this.newMessages=[]},methods:{initIntersectionObserver:function(){var Te=this;this.observer&&(this.showLoader=!0,this.observer.disconnect());var Ie=document.getElementById("infinite-loader-messages");if(Ie){var mt={root:document.getElementById("messages-list"),rootMargin:"".concat(this.scrollDistance,"px"),threshold:0};this.observer=new IntersectionObserver(function(_t){_t[0].isIntersecting&&Te.loadMoreMessages()},mt),this.observer.observe(Ie)}},preventTopScroll:function(){for(var Te=this,Ie=this.$refs.scrollContainer,mt=Ie.scrollHeight,_t=new ResizeObserver(function(Vt){Ie.scrollHeight!==mt&&Te.$refs.scrollContainer&&(Te.$refs.scrollContainer.scrollTo({top:Ie.scrollHeight-mt}),_t.disconnect())}),vt=0;vt<Ie.children.length;vt++)_t.observe(Ie.children[vt])},touchStart:function(Te){var Ie=this;if(!this.singleRoom&&Te.changedTouches.length===1){var mt=Te.changedTouches[0].clientX,_t=Te.changedTouches[0].clientY;addEventListener("touchend",function(vt){return Ie.touchEnd(vt,mt,_t)},{once:!0})}},touchEnd:function(Te,Ie,mt){if(Te.changedTouches.length===1){var _t=Te.changedTouches[0].clientX,vt=Te.changedTouches[0].clientY,Vt=_t-Ie>100,qt=Math.abs(vt-mt)>50;Vt&&!qt&&this.$emit("toggle-rooms-list")}},onRoomChanged:function(){var Te=this;this.loadingMessages=!0,this.scrollIcon=!1,this.scrollMessagesCount=0,this.resetMessageSelection(),!this.messages.length&&this.messagesLoaded&&(this.loadingMessages=!1);var Ie=this.$watch(function(){return Te.messages},function(mt){if(!(!mt||!mt.length)){var _t=Te.$refs.scrollContainer;!_t||(Ie(),setTimeout(function(){_t.scrollTo({top:_t.scrollHeight}),Te.loadingMessages=!1}))}})},resetMessageSelection:function(){this.messageSelectionEnabled=!1,this.selectedMessages=[]},selectMessage:function(Te){this.selectedMessages.push(Te)},unselectMessage:function(Te){this.selectedMessages=this.selectedMessages.filter(function(Ie){return Ie._id!==Te})},onMessageAdded:function(Te){var Ie=this,mt=Te.message,_t=Te.index,vt=Te.ref;if(_t===this.messages.length-1){var Vt=vt.offsetHeight+60;setTimeout(function(){var qt=Ie.getBottomScroll(Ie.$refs.scrollContainer)>Vt;mt.senderId===Ie.currentUserId?qt?Ie.autoScroll.send.newAfterScrollUp&&Ie.scrollToBottom():Ie.autoScroll.send.new&&Ie.scrollToBottom():qt?Ie.autoScroll.receive.newAfterScrollUp?Ie.scrollToBottom():(Ie.scrollIcon=!0,Ie.scrollMessagesCount++):Ie.autoScroll.receive.new?Ie.scrollToBottom():(Ie.scrollIcon=!0,Ie.scrollMessagesCount++)})}},onContainerScroll:function(Te){if(!!Te.target){var Ie=this.getBottomScroll(Te.target);Ie<60&&(this.scrollMessagesCount=0),this.scrollIcon=Ie>500||this.scrollMessagesCount}},loadMoreMessages:function(){var Te=this;this.loadingMessages||setTimeout(function(){if(!Te.loadingMoreMessages){if(Te.messagesLoaded||!Te.roomId){Te.loadingMoreMessages=!1,Te.showLoader=!1;return}Te.preventTopScroll(),Te.$emit("fetch-messages"),Te.loadingMoreMessages=!0}},500)},messageActionHandler:function(Te){var Ie=Te.action,mt=Te.message;switch(Ie.name){case"replyMessage":this.initReplyMessage=mt;return;case"editMessage":this.initEditMessage=mt;return;case"deleteMessage":return this.$emit("delete-message",mt);case"selectMessages":this.selectedMessages=[mt],this.messageSelectionEnabled=!0;return;default:return this.$emit("message-action-handler",{action:Ie,message:mt})}},messageSelectionActionHandler:function(Te){this.$emit("message-selection-action-handler",{action:Te,messages:this.selectedMessages}),this.resetMessageSelection()},sendMessageReaction:function(Te){this.$emit("send-message-reaction",Te)},getBottomScroll:function(Te){var Ie=Te.scrollHeight,mt=Te.clientHeight,_t=Te.scrollTop;return Ie-mt-_t},scrollToBottom:function(){var Te=this;setTimeout(function(){var Ie=Te.$refs.scrollContainer;Ie.classList.add("vac-scroll-smooth"),Ie.scrollTo({top:Ie.scrollHeight,behavior:"smooth"}),setTimeout(function(){return Ie.classList.remove("vac-scroll-smooth")})},50)},openFile:function(Te){var Ie=Te.message,mt=Te.file;this.$emit("open-file",{message:Ie,file:mt})},openUserTag:function(Te){this.$emit("open-user-tag",Te)}}},fh=(0,Me.Z)(uh,[["render",Qt]]);var dh={key:0,class:"vac-media-preview-container"},hh={key:1,class:"vac-media-preview-container"},ph={width:"100%",height:"100%",controls:"",autoplay:""},mh=["src"],vh={class:"vac-svg-button"};function gh(Ue,Te,Ie,mt,_t,vt){var Vt=(0,b.resolveComponent)("svg-icon");return(0,b.openBlock)(),(0,b.createElementBlock)("div",{ref:"modal",tabindex:"0",class:"vac-media-preview",onClick:Te[0]||(Te[0]=(0,b.withModifiers)(function(){return vt.closeModal&&vt.closeModal.apply(vt,arguments)},["stop"])),onKeydown:Te[1]||(Te[1]=(0,b.withKeys)(function(){return vt.closeModal&&vt.closeModal.apply(vt,arguments)},["esc"]))},[(0,b.createVNode)(b.Transition,{name:"vac-bounce-preview",appear:""},{default:(0,b.withCtx)(function(){return[vt.isImage?((0,b.openBlock)(),(0,b.createElementBlock)("div",dh,[(0,b.createElementVNode)("div",{class:"vac-image-preview",style:(0,b.normalizeStyle)({"background-image":"url('".concat(Ie.file.url,"')")})},null,4)])):vt.isVideo?((0,b.openBlock)(),(0,b.createElementBlock)("div",hh,[(0,b.createElementVNode)("video",ph,[(0,b.createElementVNode)("source",{src:Ie.file.url},null,8,mh)])])):(0,b.createCommentVNode)("",!0)]}),_:1}),(0,b.createElementVNode)("div",vh,[(0,b.renderSlot)(Ue.$slots,"preview-close-icon",{},function(){return[(0,b.createVNode)(Vt,{name:"close-outline",param:"preview"})]})])],544)}var vs=m(8438),yh=vs.isImageFile,bh=vs.isVideoFile;const _h={name:"MediaPreview",components:{SvgIcon:$e},props:{file:{type:Object,required:!0}},emits:["close-media-preview"],computed:{isImage:function(){return yh(this.file)},isVideo:function(){return bh(this.file)}},mounted:function(){this.$refs.modal.focus()},methods:{closeModal:function(){this.$emit("close-media-preview")}}},Eh=(0,Me.Z)(_h,[["render",gh]]),Sh={ROOMS_EMPTY:"No rooms",ROOM_EMPTY:"No room selected",NEW_MESSAGES:"New Messages",MESSAGE_DELETED:"This message was deleted",MESSAGES_EMPTY:"No messages",CONVERSATION_STARTED:"Conversation started on:",TYPE_MESSAGE:"Type message",SEARCH:"Search",IS_ONLINE:"is online",LAST_SEEN:"last seen ",IS_TYPING:"is writing...",CANCEL_SELECT_MESSAGE:"Cancel"};m(4765);var wh={light:{general:{color:"#0a0a0a",colorButtonClear:"#1976d2",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#fff",colorPlaceholder:"#9ca6af",colorCaret:"#1976d2",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#fff",colorRoomName:"#0a0a0a",colorRoomInfo:"#9ca6af"},footer:{background:"#f8f9fa",borderStyleInput:"1px solid #e1e4e8",borderInputSelected:"#1976d2",backgroundReply:"#e5e5e6",backgroundTagActive:"#e5e5e6",backgroundTag:"#f8f9fa"},content:{background:"#f8f9fa"},sidemenu:{background:"#fff",backgroundHover:"#f6f6f6",backgroundActive:"#e5effa",colorActive:"#1976d2",borderColorSearch:"#e1e5e8"},dropdown:{background:"#fff",backgroundHover:"#f6f6f6"},message:{background:"#fff",backgroundMe:"#ccf2cf",color:"#0a0a0a",colorStarted:"#9ca6af",backgroundDeleted:"#dadfe2",backgroundSelected:"#c2dcf2",colorDeleted:"#757e85",colorUsername:"#9ca6af",colorTimestamp:"#828c94",backgroundDate:"#e5effa",colorDate:"#505a62",backgroundSystem:"#e5effa",colorSystem:"#505a62",backgroundMedia:"rgba(0, 0, 0, 0.15)",backgroundReply:"rgba(0, 0, 0, 0.08)",colorReplyUsername:"#0a0a0a",colorReply:"#6e6e6e",colorTag:"#0d579c",backgroundImage:"#ddd",colorNewMessages:"#1976d2",backgroundScrollCounter:"#0696c7",colorScrollCounter:"#fff",backgroundReaction:"#eee",borderStyleReaction:"1px solid #eee",backgroundReactionHover:"#fff",borderStyleReactionHover:"1px solid #ddd",colorReactionCounter:"#0a0a0a",backgroundReactionMe:"#cfecf5",borderStyleReactionMe:"1px solid #3b98b8",backgroundReactionHoverMe:"#cfecf5",borderStyleReactionHoverMe:"1px solid #3b98b8",colorReactionCounterMe:"#0b59b3",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(0, 0, 0, 0.15)",backgroundAudioProgress:"#455247",backgroundAudioProgressSelector:"#455247",colorFileExtension:"#757e85"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#0a0a0a",colorMessage:"#67717a",colorTimestamp:"#a2aeb8",colorStateOnline:"#4caf50",colorStateOffline:"#9ca6af",backgroundCounterBadge:"#0696c7",colorCounterBadge:"#fff"},emoji:{background:"#fff"},icons:{search:"#9ca6af",add:"#1976d2",toggle:"#0a0a0a",menu:"#0a0a0a",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#1976d2",closeOutline:"#000",closePreview:"#fff",send:"#1976d2",sendDisabled:"#9ca6af",emoji:"#1976d2",emojiReaction:"rgba(0, 0, 0, 0.3)",document:"#1976d2",pencil:"#9e9e9e",checkmark:"#9e9e9e",checkmarkSeen:"#0696c7",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#9e9e9e",dropdownScroll:"#0a0a0a",microphone:"#1976d2",audioPlay:"#455247",audioPause:"#455247",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}},dark:{general:{color:"#fff",colorButtonClear:"#fff",colorButton:"#fff",backgroundColorButton:"#1976d2",backgroundInput:"#202223",colorPlaceholder:"#596269",colorCaret:"#fff",colorSpinner:"#fff",borderStyle:"none",backgroundScrollIcon:"#fff"},container:{border:"none",borderRadius:"4px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)"},header:{background:"#181a1b",colorRoomName:"#fff",colorRoomInfo:"#9ca6af"},footer:{background:"#131415",borderStyleInput:"none",borderInputSelected:"#1976d2",backgroundReply:"#1b1c1c",backgroundTagActive:"#1b1c1c",backgroundTag:"#131415"},content:{background:"#131415"},sidemenu:{background:"#181a1b",backgroundHover:"#202224",backgroundActive:"#151617",colorActive:"#fff",borderColorSearch:"#181a1b"},dropdown:{background:"#2a2c33",backgroundHover:"#26282e"},message:{background:"#22242a",backgroundMe:"#1f7e80",color:"#fff",colorStarted:"#9ca6af",backgroundDeleted:"#1b1c21",backgroundSelected:"#c2dcf2",colorDeleted:"#a2a5a8",colorUsername:"#b3bac9",colorTimestamp:"#ebedf2",backgroundDate:"rgba(0, 0, 0, 0.3)",colorDate:"#bec5cc",backgroundSystem:"rgba(0, 0, 0, 0.3)",colorSystem:"#bec5cc",backgroundMedia:"rgba(0, 0, 0, 0.18)",backgroundReply:"rgba(0, 0, 0, 0.18)",colorReplyUsername:"#fff",colorReply:"#d6d6d6",colorTag:"#f0c60a",backgroundImage:"#ddd",colorNewMessages:"#fff",backgroundScrollCounter:"#1976d2",colorScrollCounter:"#fff",backgroundReaction:"none",borderStyleReaction:"none",backgroundReactionHover:"#202223",borderStyleReactionHover:"none",colorReactionCounter:"#fff",backgroundReactionMe:"#4e9ad1",borderStyleReactionMe:"none",backgroundReactionHoverMe:"#4e9ad1",borderStyleReactionHoverMe:"none",colorReactionCounterMe:"#fff",backgroundAudioRecord:"#eb4034",backgroundAudioLine:"rgba(255, 255, 255, 0.15)",backgroundAudioProgress:"#b7d4d3",backgroundAudioProgressSelector:"#b7d4d3",colorFileExtension:"#a2a5a8"},markdown:{background:"rgba(239, 239, 239, 0.7)",border:"rgba(212, 212, 212, 0.9)",color:"#e01e5a",colorMulti:"#0a0a0a"},room:{colorUsername:"#fff",colorMessage:"#6c7278",colorTimestamp:"#6c7278",colorStateOnline:"#4caf50",colorStateOffline:"#596269",backgroundCounterBadge:"#1976d2",colorCounterBadge:"#fff"},emoji:{background:"#343740"},icons:{search:"#596269",add:"#fff",toggle:"#fff",menu:"#fff",close:"#9ca6af",closeImage:"#fff",file:"#1976d2",paperclip:"#fff",closeOutline:"#fff",closePreview:"#fff",send:"#fff",sendDisabled:"#646a70",emoji:"#fff",emojiReaction:"#fff",document:"#1976d2",pencil:"#ebedf2",checkmark:"#ebedf2",checkmarkSeen:"#f0d90a",eye:"#fff",dropdownMessage:"#fff",dropdownMessageBackground:"rgba(0, 0, 0, 0.25)",dropdownRoom:"#fff",dropdownScroll:"#0a0a0a",microphone:"#fff",audioPlay:"#b7d4d3",audioPause:"#b7d4d3",audioCancel:"#eb4034",audioConfirm:"#1ba65b"}}},xh=function(Te){var Ie=Te.general,mt=Te.container,_t=Te.header,vt=Te.footer,Vt=Te.sidemenu,qt=Te.content,cr=Te.dropdown,Wt=Te.message,fr=Te.markdown,hr=Te.room,xr=Te.emoji,br=Te.icons;return{"--chat-color":Ie.color,"--chat-color-button-clear":Ie.colorButtonClear,"--chat-color-button":Ie.colorButton,"--chat-bg-color-button":Ie.backgroundColorButton,"--chat-bg-color-input":Ie.backgroundInput,"--chat-color-spinner":Ie.colorSpinner,"--chat-color-placeholder":Ie.colorPlaceholder,"--chat-color-caret":Ie.colorCaret,"--chat-border-style":Ie.borderStyle,"--chat-bg-scroll-icon":Ie.backgroundScrollIcon,"--chat-container-border":mt.border,"--chat-container-border-radius":mt.borderRadius,"--chat-container-box-shadow":mt.boxShadow,"--chat-header-bg-color":_t.background,"--chat-header-color-name":_t.colorRoomName,"--chat-header-color-info":_t.colorRoomInfo,"--chat-footer-bg-color":vt.background,"--chat-border-style-input":vt.borderStyleInput,"--chat-border-color-input-selected":vt.borderInputSelected,"--chat-footer-bg-color-reply":vt.backgroundReply,"--chat-footer-bg-color-tag-active":vt.backgroundTagActive,"--chat-footer-bg-color-tag":vt.backgroundTag,"--chat-content-bg-color":qt.background,"--chat-sidemenu-bg-color":Vt.background,"--chat-sidemenu-bg-color-hover":Vt.backgroundHover,"--chat-sidemenu-bg-color-active":Vt.backgroundActive,"--chat-sidemenu-color-active":Vt.colorActive,"--chat-sidemenu-border-color-search":Vt.borderColorSearch,"--chat-dropdown-bg-color":cr.background,"--chat-dropdown-bg-color-hover":cr.backgroundHover,"--chat-message-bg-color":Wt.background,"--chat-message-bg-color-me":Wt.backgroundMe,"--chat-message-color-started":Wt.colorStarted,"--chat-message-bg-color-deleted":Wt.backgroundDeleted,"--chat-message-bg-color-selected":Wt.backgroundSelected,"--chat-message-color-deleted":Wt.colorDeleted,"--chat-message-color-username":Wt.colorUsername,"--chat-message-color-timestamp":Wt.colorTimestamp,"--chat-message-bg-color-date":Wt.backgroundDate,"--chat-message-color-date":Wt.colorDate,"--chat-message-bg-color-system":Wt.backgroundSystem,"--chat-message-color-system":Wt.colorSystem,"--chat-message-color":Wt.color,"--chat-message-bg-color-media":Wt.backgroundMedia,"--chat-message-bg-color-reply":Wt.backgroundReply,"--chat-message-color-reply-username":Wt.colorReplyUsername,"--chat-message-color-reply-content":Wt.colorReply,"--chat-message-color-tag":Wt.colorTag,"--chat-message-bg-color-image":Wt.backgroundImage,"--chat-message-color-new-messages":Wt.colorNewMessages,"--chat-message-bg-color-scroll-counter":Wt.backgroundScrollCounter,"--chat-message-color-scroll-counter":Wt.colorScrollCounter,"--chat-message-bg-color-reaction":Wt.backgroundReaction,"--chat-message-border-style-reaction":Wt.borderStyleReaction,"--chat-message-bg-color-reaction-hover":Wt.backgroundReactionHover,"--chat-message-border-style-reaction-hover":Wt.borderStyleReactionHover,"--chat-message-color-reaction-counter":Wt.colorReactionCounter,"--chat-message-bg-color-reaction-me":Wt.backgroundReactionMe,"--chat-message-border-style-reaction-me":Wt.borderStyleReactionMe,"--chat-message-bg-color-reaction-hover-me":Wt.backgroundReactionHoverMe,"--chat-message-border-style-reaction-hover-me":Wt.borderStyleReactionHoverMe,"--chat-message-color-reaction-counter-me":Wt.colorReactionCounterMe,"--chat-message-bg-color-audio-record":Wt.backgroundAudioRecord,"--chat-message-bg-color-audio-line":Wt.backgroundAudioLine,"--chat-message-bg-color-audio-progress":Wt.backgroundAudioProgress,"--chat-message-bg-color-audio-progress-selector":Wt.backgroundAudioProgressSelector,"--chat-message-color-file-extension":Wt.colorFileExtension,"--chat-markdown-bg":fr.background,"--chat-markdown-border":fr.border,"--chat-markdown-color":fr.color,"--chat-markdown-color-multi":fr.colorMulti,"--chat-room-color-username":hr.colorUsername,"--chat-room-color-message":hr.colorMessage,"--chat-room-color-timestamp":hr.colorTimestamp,"--chat-room-color-online":hr.colorStateOnline,"--chat-room-color-offline":hr.colorStateOffline,"--chat-room-bg-color-badge":hr.backgroundCounterBadge,"--chat-room-color-badge":hr.colorCounterBadge,"--chat-emoji-bg-color":xr.background,"--chat-icon-color-search":br.search,"--chat-icon-color-add":br.add,"--chat-icon-color-toggle":br.toggle,"--chat-icon-color-menu":br.menu,"--chat-icon-color-close":br.close,"--chat-icon-color-close-image":br.closeImage,"--chat-icon-color-file":br.file,"--chat-icon-color-paperclip":br.paperclip,"--chat-icon-color-close-outline":br.closeOutline,"--chat-icon-color-close-preview":br.closePreview,"--chat-icon-color-send":br.send,"--chat-icon-color-send-disabled":br.sendDisabled,"--chat-icon-color-emoji":br.emoji,"--chat-icon-color-emoji-reaction":br.emojiReaction,"--chat-icon-color-document":br.document,"--chat-icon-color-pencil":br.pencil,"--chat-icon-color-checkmark":br.checkmark,"--chat-icon-color-checkmark-seen":br.checkmarkSeen,"--chat-icon-color-eye":br.eye,"--chat-icon-color-dropdown-message":br.dropdownMessage,"--chat-icon-bg-dropdown-message":br.dropdownMessageBackground,"--chat-icon-color-dropdown-room":br.dropdownRoom,"--chat-icon-color-dropdown-scroll":br.dropdownScroll,"--chat-icon-color-microphone":br.microphone,"--chat-icon-color-audio-play":br.audioPlay,"--chat-icon-color-audio-pause":br.audioPause,"--chat-icon-color-audio-cancel":br.audioCancel,"--chat-icon-color-audio-confirm":br.audioConfirm}},gs=m(9706),Th=gs.roomsValidation,Ah=gs.partcipantsValidation;const Ch={name:"ChatContainer",components:{RoomsList:Lt,Room:fh,MediaPreview:Eh},props:{height:{type:String,default:"600px"},theme:{type:String,default:"light"},styles:{type:Object,default:function(){return{}}},responsiveBreakpoint:{type:Number,default:900},singleRoom:{type:Boolean,default:!1},roomsListOpened:{type:Boolean,default:!0},textMessages:{type:Object,default:null},currentUserId:{type:[String,Number],default:""},rooms:{type:Array,default:function(){return[]}},roomsOrder:{type:String,default:"desc"},loadingRooms:{type:Boolean,default:!1},roomsLoaded:{type:Boolean,default:!1},roomId:{type:[String,Number],default:null},loadFirstRoom:{type:Boolean,default:!0},messages:{type:Array,default:function(){return[]}},messagesLoaded:{type:Boolean,default:!1},roomActions:{type:Array,default:function(){return[]}},menuActions:{type:Array,default:function(){return[]}},messageActions:{type:Array,default:function(){return[{name:"replyMessage",title:"Reply"},{name:"editMessage",title:"Edit Message",onlyMe:!0},{name:"deleteMessage",title:"Delete Message",onlyMe:!0},{name:"selectMessages",title:"Select"}]}},messageSelectionActions:{type:Array,default:function(){return[]}},autoScroll:{type:Object,default:function(){return{send:{new:!0,newAfterScrollUp:!0},receive:{new:!0,newAfterScrollUp:!1}}}},showSearch:{type:Boolean,default:!0},showAddRoom:{type:Boolean,default:!0},showSendIcon:{type:Boolean,default:!0},showFiles:{type:Boolean,default:!0},showAudio:{type:Boolean,default:!0},audioBitRate:{type:Number,default:128},audioSampleRate:{type:Number,default:44100},showEmojis:{type:Boolean,default:!0},showReactionEmojis:{type:Boolean,default:!0},showNewMessagesDivider:{type:Boolean,default:!0},showFooter:{type:Boolean,default:!0},textFormatting:{type:Object,default:function(){return{disabled:!1,italic:"_",bold:"*",strike:"~",underline:"\xB0",multilineCode:"```",inlineCode:"`"}}},linkOptions:{type:Object,default:function(){return{disabled:!1,target:"_blank",rel:null}}},roomInfoEnabled:{type:Boolean,default:!1},textareaActionEnabled:{type:Boolean,default:!1},textareaAutoFocus:{type:Boolean,default:!0},userTagsEnabled:{type:Boolean,default:!0},emojisSuggestionEnabled:{type:Boolean,default:!0},roomMessage:{type:String,default:""},scrollDistance:{type:Number,default:60},acceptedFiles:{type:String,default:"*"},templatesText:{type:Array,default:null},mediaPreviewEnabled:{type:Boolean,default:!0},usernameOptions:{type:Object,default:function(){return{minUsers:3,currentUser:!1}}}},emits:["toggle-rooms-list","room-info","fetch-messages","send-message","edit-message","delete-message","open-file","open-user-tag","open-failed-message","menu-action-handler","message-action-handler","send-message-reaction","typing-message","textarea-action-handler","fetch-more-rooms","add-room","room-action-handler","message-selection-action-handler"],data:function(){return{room:{},loadingMoreRooms:!1,showRoomsList:!0,isMobile:!1,showMediaPreview:!1,previewFile:{}}},computed:{t:function(){return fe(fe({},Sh),this.textMessages)},cssVars:function(){var Te=this,Ie=wh[this.theme],mt={};return Object.keys(Ie).map(function(_t){mt[_t]=fe(fe({},Ie[_t]),Te.styles[_t]||{})}),xh(mt)},orderedRooms:function(){var Te=this;return this.rooms.slice().sort(function(Ie,mt){var _t=Ie.index||0,vt=mt.index||0;return Te.roomsOrder==="asc"?_t<vt?-1:vt<_t?1:0:_t>vt?-1:vt>_t?1:0})}},watch:{rooms:{immediate:!0,deep:!0,handler:function(Te,Ie){var mt=this;if((!Te[0]||!Te.find(function(vt){return vt.roomId===mt.room.roomId}))&&(this.showRoomsList=!0),!this.loadingMoreRooms&&this.loadFirstRoom&&Te[0]&&(!Ie||Te.length!==Ie.length))if(this.roomId){var _t=Te.find(function(vt){return vt.roomId===mt.roomId})||{};this.fetchRoom({room:_t})}else!this.isMobile||this.singleRoom?this.fetchRoom({room:this.orderedRooms[0]}):this.showRoomsList=!0}},loadingRooms:function(Te){Te&&(this.room={})},roomId:{immediate:!0,handler:function(Te,Ie){if(Te&&!this.loadingRooms&&this.rooms.length){var mt=this.rooms.find(function(_t){return _t.roomId===Te});this.fetchRoom({room:mt})}else Ie&&!Te&&(this.room={})}},room:function(Te){!Te||Object.entries(Te).length===0||(Th(Te),Te.users.forEach(function(Ie){Ah(Ie)}))},roomsListOpened:function(Te){this.showRoomsList=Te}},created:function(){var Te=this;this.updateResponsive(),window.addEventListener("resize",function(Ie){Ie.isTrusted&&Te.updateResponsive()})},methods:{updateResponsive:function(){this.isMobile=window.innerWidth<this.responsiveBreakpoint},toggleRoomsList:function(){this.showRoomsList=!this.showRoomsList,this.isMobile&&(this.room={}),this.$emit("toggle-rooms-list",{opened:this.showRoomsList})},fetchRoom:function(Te){var Ie=Te.room;this.room=Ie,this.fetchMessages({reset:!0}),this.isMobile&&(this.showRoomsList=!1)},fetchMoreRooms:function(){this.$emit("fetch-more-rooms")},roomInfo:function(){this.$emit("room-info",this.room)},addRoom:function(){this.$emit("add-room")},fetchMessages:function(Te){this.$emit("fetch-messages",{room:this.room,options:Te})},sendMessage:function(Te){this.$emit("send-message",fe(fe({},Te),{},{roomId:this.room.roomId}))},editMessage:function(Te){this.$emit("edit-message",fe(fe({},Te),{},{roomId:this.room.roomId}))},deleteMessage:function(Te){this.$emit("delete-message",{message:Te,roomId:this.room.roomId})},openFile:function(Te){var Ie=Te.message,mt=Te.file;this.mediaPreviewEnabled&&mt.action==="preview"?(this.previewFile=mt.file,this.showMediaPreview=!0):this.$emit("open-file",{message:Ie,file:mt})},openUserTag:function(Te){var Ie=Te.user;this.$emit("open-user-tag",{user:Ie})},openFailedMessage:function(Te){var Ie=Te.message;this.$emit("open-failed-message",{message:Ie,roomId:this.room.roomId})},menuActionHandler:function(Te){this.$emit("menu-action-handler",{action:Te,roomId:this.room.roomId})},roomActionHandler:function(Te){var Ie=Te.action,mt=Te.roomId;this.$emit("room-action-handler",{action:Ie,roomId:mt})},messageActionHandler:function(Te){this.$emit("message-action-handler",fe(fe({},Te),{},{roomId:this.room.roomId}))},messageSelectionActionHandler:function(Te){this.$emit("message-selection-action-handler",fe(fe({},Te),{},{roomId:this.room.roomId}))},sendMessageReaction:function(Te){this.$emit("send-message-reaction",fe(fe({},Te),{},{roomId:this.room.roomId}))},typingMessage:function(Te){this.$emit("typing-message",{message:Te,roomId:this.room.roomId})},textareaActionHandler:function(Te){this.$emit("textarea-action-handler",{message:Te,roomId:this.room.roomId})}}},hi=(0,Me.Z)(Ch,[["render",ne]]);Object.defineProperty(hi,"install",{configurable:!1,enumerable:!1,value:function(Te){Te.component("ChatWindow",hi)}});const Rh=hi})(),u.exports=$})()})(vueAdvancedChat_common);const ChatWindow=getDefaultExportFromCjs(vueAdvancedChat_common.exports),vueAdvancedChat="";var VERSION$1="1.13.4",root=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto=typeof Symbol<"u"?Symbol.prototype:null,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer=typeof ArrayBuffer<"u",supportsDataView=typeof DataView<"u",nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(u,a){return a=a==null?u.length-1:+a,function(){for(var d=Math.max(arguments.length-a,0),m=Array(d),$=0;$<d;$++)m[$]=arguments[$+a];switch(a){case 0:return u.call(this,m);case 1:return u.call(this,arguments[0],m);case 2:return u.call(this,arguments[0],arguments[1],m)}var ee=Array(a+1);for($=0;$<a;$++)ee[$]=arguments[$];return ee[a]=m,u.apply(this,ee)}}function isObject$1(u){var a=typeof u;return a==="function"||a==="object"&&!!u}function isNull(u){return u===null}function isUndefined(u){return u===void 0}function isBoolean(u){return u===!0||u===!1||toString.call(u)==="[object Boolean]"}function isElement$2(u){return!!(u&&u.nodeType===1)}function tagTester(u){var a="[object "+u+"]";return function(d){return toString.call(d)===a}}const isString=tagTester("String"),isNumber=tagTester("Number"),isDate=tagTester("Date"),isRegExp=tagTester("RegExp"),isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer");var isFunction$1=tagTester("Function"),nodelist=root.document&&root.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof nodelist!="function"&&(isFunction$1=function(u){return typeof u=="function"||!1});const isFunction$2=isFunction$1,hasObjectTag=tagTester("Object");var hasStringTagBug=supportsDataView&&hasObjectTag(new DataView(new ArrayBuffer(8))),isIE11=typeof Map<"u"&&hasObjectTag(new Map),isDataView=tagTester("DataView");function ie10IsDataView(u){return u!=null&&isFunction$2(u.getInt8)&&isArrayBuffer(u.buffer)}const isDataView$1=hasStringTagBug?ie10IsDataView:isDataView,isArray=nativeIsArray||tagTester("Array");function has$1(u,a){return u!=null&&hasOwnProperty.call(u,a)}var isArguments=tagTester("Arguments");(function(){isArguments(arguments)||(isArguments=function(u){return has$1(u,"callee")})})();const isArguments$1=isArguments;function isFinite$1(u){return!isSymbol(u)&&_isFinite(u)&&!isNaN(parseFloat(u))}function isNaN$1(u){return isNumber(u)&&_isNaN(u)}function constant(u){return function(){return u}}function createSizePropertyCheck(u){return function(a){var d=u(a);return typeof d=="number"&&d>=0&&d<=MAX_ARRAY_INDEX}}function shallowProperty(u){return function(a){return a?.[u]}}const getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength);var typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray(u){return nativeIsView?nativeIsView(u)&&!isDataView$1(u):isBufferLike(u)&&typedArrayPattern.test(toString.call(u))}const isTypedArray$1=supportsArrayBuffer?isTypedArray:constant(!1),getLength=shallowProperty("length");function emulatedSet(u){for(var a={},d=u.length,m=0;m<d;++m)a[u[m]]=!0;return{contains:function($){return a[$]===!0},push:function($){return a[$]=!0,u.push($)}}}function collectNonEnumProps(u,a){a=emulatedSet(a);var d=nonEnumerableProps.length,m=u.constructor,$=isFunction$2(m)&&m.prototype||ObjProto,ee="constructor";for(has$1(u,ee)&&!a.contains(ee)&&a.push(ee);d--;)ee=nonEnumerableProps[d],ee in u&&u[ee]!==$[ee]&&!a.contains(ee)&&a.push(ee)}function keys(u){if(!isObject$1(u))return[];if(nativeKeys)return nativeKeys(u);var a=[];for(var d in u)has$1(u,d)&&a.push(d);return hasEnumBug&&collectNonEnumProps(u,a),a}function isEmpty$1(u){if(u==null)return!0;var a=getLength(u);return typeof a=="number"&&(isArray(u)||isString(u)||isArguments$1(u))?a===0:getLength(keys(u))===0}function isMatch(u,a){var d=keys(a),m=d.length;if(u==null)return!m;for(var $=Object(u),ee=0;ee<m;ee++){var te=d[ee];if(a[te]!==$[te]||!(te in $))return!1}return!0}function _$1(u){if(u instanceof _$1)return u;if(!(this instanceof _$1))return new _$1(u);this._wrapped=u}_$1.VERSION=VERSION$1;_$1.prototype.value=function(){return this._wrapped};_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value;_$1.prototype.toString=function(){return String(this._wrapped)};function toBufferView(u){return new Uint8Array(u.buffer||u,u.byteOffset||0,getByteLength(u))}var tagDataView="[object DataView]";function eq(u,a,d,m){if(u===a)return u!==0||1/u===1/a;if(u==null||a==null)return!1;if(u!==u)return a!==a;var $=typeof u;return $!=="function"&&$!=="object"&&typeof a!="object"?!1:deepEq(u,a,d,m)}function deepEq(u,a,d,m){u instanceof _$1&&(u=u._wrapped),a instanceof _$1&&(a=a._wrapped);var $=toString.call(u);if($!==toString.call(a))return!1;if(hasStringTagBug&&$=="[object Object]"&&isDataView$1(u)){if(!isDataView$1(a))return!1;$=tagDataView}switch($){case"[object RegExp]":case"[object String]":return""+u==""+a;case"[object Number]":return+u!=+u?+a!=+a:+u==0?1/+u===1/a:+u==+a;case"[object Date]":case"[object Boolean]":return+u==+a;case"[object Symbol]":return SymbolProto.valueOf.call(u)===SymbolProto.valueOf.call(a);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(u),toBufferView(a),d,m)}var ee=$==="[object Array]";if(!ee&&isTypedArray$1(u)){var te=getByteLength(u);if(te!==getByteLength(a))return!1;if(u.buffer===a.buffer&&u.byteOffset===a.byteOffset)return!0;ee=!0}if(!ee){if(typeof u!="object"||typeof a!="object")return!1;var b=u.constructor,re=a.constructor;if(b!==re&&!(isFunction$2(b)&&b instanceof b&&isFunction$2(re)&&re instanceof re)&&"constructor"in u&&"constructor"in a)return!1}d=d||[],m=m||[];for(var ne=d.length;ne--;)if(d[ne]===u)return m[ne]===a;if(d.push(u),m.push(a),ee){if(ne=u.length,ne!==a.length)return!1;for(;ne--;)if(!eq(u[ne],a[ne],d,m))return!1}else{var ie=keys(u),se;if(ne=ie.length,keys(a).length!==ne)return!1;for(;ne--;)if(se=ie[ne],!(has$1(a,se)&&eq(u[se],a[se],d,m)))return!1}return d.pop(),m.pop(),!0}function isEqual(u,a){return eq(u,a)}function allKeys(u){if(!isObject$1(u))return[];var a=[];for(var d in u)a.push(d);return hasEnumBug&&collectNonEnumProps(u,a),a}function ie11fingerprint(u){var a=getLength(u);return function(d){if(d==null)return!1;var m=allKeys(d);if(getLength(m))return!1;for(var $=0;$<a;$++)if(!isFunction$2(d[u[$]]))return!1;return u!==weakMapMethods||!isFunction$2(d[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"],mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName);const isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map"),isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set"),isWeakSet=tagTester("WeakSet");function values(u){for(var a=keys(u),d=a.length,m=Array(d),$=0;$<d;$++)m[$]=u[a[$]];return m}function pairs(u){for(var a=keys(u),d=a.length,m=Array(d),$=0;$<d;$++)m[$]=[a[$],u[a[$]]];return m}function invert(u){for(var a={},d=keys(u),m=0,$=d.length;m<$;m++)a[u[d[m]]]=d[m];return a}function functions(u){var a=[];for(var d in u)isFunction$2(u[d])&&a.push(d);return a.sort()}function createAssigner(u,a){return function(d){var m=arguments.length;if(a&&(d=Object(d)),m<2||d==null)return d;for(var $=1;$<m;$++)for(var ee=arguments[$],te=u(ee),b=te.length,re=0;re<b;re++){var ne=te[re];(!a||d[ne]===void 0)&&(d[ne]=ee[ne])}return d}}const extend=createAssigner(allKeys),extendOwn=createAssigner(keys),defaults$1=createAssigner(allKeys,!0);function ctor(){return function(){}}function baseCreate(u){if(!isObject$1(u))return{};if(nativeCreate)return nativeCreate(u);var a=ctor();a.prototype=u;var d=new a;return a.prototype=null,d}function create(u,a){var d=baseCreate(u);return a&&extendOwn(d,a),d}function clone(u){return isObject$1(u)?isArray(u)?u.slice():extend({},u):u}function tap(u,a){return a(u),u}function toPath$1(u){return isArray(u)?u:[u]}_$1.toPath=toPath$1;function toPath(u){return _$1.toPath(u)}function deepGet(u,a){for(var d=a.length,m=0;m<d;m++){if(u==null)return;u=u[a[m]]}return d?u:void 0}function get(u,a,d){var m=deepGet(u,toPath(a));return isUndefined(m)?d:m}function has(u,a){a=toPath(a);for(var d=a.length,m=0;m<d;m++){var $=a[m];if(!has$1(u,$))return!1;u=u[$]}return!!d}function identity(u){return u}function matcher(u){return u=extendOwn({},u),function(a){return isMatch(a,u)}}function property(u){return u=toPath(u),function(a){return deepGet(a,u)}}function optimizeCb(u,a,d){if(a===void 0)return u;switch(d??3){case 1:return function(m){return u.call(a,m)};case 3:return function(m,$,ee){return u.call(a,m,$,ee)};case 4:return function(m,$,ee,te){return u.call(a,m,$,ee,te)}}return function(){return u.apply(a,arguments)}}function baseIteratee(u,a,d){return u==null?identity:isFunction$2(u)?optimizeCb(u,a,d):isObject$1(u)&&!isArray(u)?matcher(u):property(u)}function iteratee(u,a){return baseIteratee(u,a,1/0)}_$1.iteratee=iteratee;function cb$1(u,a,d){return _$1.iteratee!==iteratee?_$1.iteratee(u,a):baseIteratee(u,a,d)}function mapObject(u,a,d){a=cb$1(a,d);for(var m=keys(u),$=m.length,ee={},te=0;te<$;te++){var b=m[te];ee[b]=a(u[b],b,u)}return ee}function noop$1(){}function propertyOf(u){return u==null?noop$1:function(a){return get(u,a)}}function times(u,a,d){var m=Array(Math.max(0,u));a=optimizeCb(a,d,1);for(var $=0;$<u;$++)m[$]=a($);return m}function random(u,a){return a==null&&(a=u,u=0),u+Math.floor(Math.random()*(a-u+1))}const now=Date.now||function(){return new Date().getTime()};function createEscaper(u){var a=function(ee){return u[ee]},d="(?:"+keys(u).join("|")+")",m=RegExp(d),$=RegExp(d,"g");return function(ee){return ee=ee==null?"":""+ee,m.test(ee)?ee.replace($,a):ee}}const escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},escape=createEscaper(escapeMap),unescapeMap=invert(escapeMap),unescape$1=createEscaper(unescapeMap),templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(u){return"\\"+escapes[u]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(u,a,d){!a&&d&&(a=d),a=defaults$1({},a,_$1.templateSettings);var m=RegExp([(a.escape||noMatch).source,(a.interpolate||noMatch).source,(a.evaluate||noMatch).source].join("|")+"|$","g"),$=0,ee="__p+='";u.replace(m,function(ne,ie,se,fe,ce){return ee+=u.slice($,ce).replace(escapeRegExp,escapeChar),$=ce+ne.length,ie?ee+=`'+
((__t=(`+ie+`))==null?'':_.escape(__t))+
'`:se?ee+=`'+
((__t=(`+se+`))==null?'':__t)+
'`:fe&&(ee+=`';
`+fe+`
__p+='`),ne}),ee+=`';
`;var te=a.variable;if(te){if(!bareIdentifier.test(te))throw new Error("variable is not a bare identifier: "+te)}else ee=`with(obj||{}){
`+ee+`}
`,te="obj";ee=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+ee+`return __p;
`;var b;try{b=new Function(te,"_",ee)}catch(ne){throw ne.source=ee,ne}var re=function(ne){return b.call(this,ne,_$1)};return re.source="function("+te+`){
`+ee+"}",re}function result(u,a,d){a=toPath(a);var m=a.length;if(!m)return isFunction$2(d)?d.call(u):d;for(var $=0;$<m;$++){var ee=u?.[a[$]];ee===void 0&&(ee=d,$=m),u=isFunction$2(ee)?ee.call(u):ee}return u}var idCounter=0;function uniqueId(u){var a=++idCounter+"";return u?u+a:a}function chain(u){var a=_$1(u);return a._chain=!0,a}function executeBound(u,a,d,m,$){if(!(m instanceof a))return u.apply(d,$);var ee=baseCreate(u.prototype),te=u.apply(ee,$);return isObject$1(te)?te:ee}var partial=restArguments(function(u,a){var d=partial.placeholder,m=function(){for(var $=0,ee=a.length,te=Array(ee),b=0;b<ee;b++)te[b]=a[b]===d?arguments[$++]:a[b];for(;$<arguments.length;)te.push(arguments[$++]);return executeBound(u,m,this,this,te)};return m});partial.placeholder=_$1;const bind=restArguments(function(u,a,d){if(!isFunction$2(u))throw new TypeError("Bind must be called on a function");var m=restArguments(function($){return executeBound(u,m,a,this,d.concat($))});return m}),isArrayLike=createSizePropertyCheck(getLength);function flatten$1(u,a,d,m){if(m=m||[],!a&&a!==0)a=1/0;else if(a<=0)return m.concat(u);for(var $=m.length,ee=0,te=getLength(u);ee<te;ee++){var b=u[ee];if(isArrayLike(b)&&(isArray(b)||isArguments$1(b)))if(a>1)flatten$1(b,a-1,d,m),$=m.length;else for(var re=0,ne=b.length;re<ne;)m[$++]=b[re++];else d||(m[$++]=b)}return m}const bindAll=restArguments(function(u,a){a=flatten$1(a,!1,!1);var d=a.length;if(d<1)throw new Error("bindAll must be passed function names");for(;d--;){var m=a[d];u[m]=bind(u[m],u)}return u});function memoize(u,a){var d=function(m){var $=d.cache,ee=""+(a?a.apply(this,arguments):m);return has$1($,ee)||($[ee]=u.apply(this,arguments)),$[ee]};return d.cache={},d}const delay=restArguments(function(u,a,d){return setTimeout(function(){return u.apply(null,d)},a)}),defer=partial(delay,_$1,1);function throttle(u,a,d){var m,$,ee,te,b=0;d||(d={});var re=function(){b=d.leading===!1?0:now(),m=null,te=u.apply($,ee),m||($=ee=null)},ne=function(){var ie=now();!b&&d.leading===!1&&(b=ie);var se=a-(ie-b);return $=this,ee=arguments,se<=0||se>a?(m&&(clearTimeout(m),m=null),b=ie,te=u.apply($,ee),m||($=ee=null)):!m&&d.trailing!==!1&&(m=setTimeout(re,se)),te};return ne.cancel=function(){clearTimeout(m),b=0,m=$=ee=null},ne}function debounce$1(u,a,d){var m,$,ee,te,b,re=function(){var ie=now()-$;a>ie?m=setTimeout(re,a-ie):(m=null,d||(te=u.apply(b,ee)),m||(ee=b=null))},ne=restArguments(function(ie){return b=this,ee=ie,$=now(),m||(m=setTimeout(re,a),d&&(te=u.apply(b,ee))),te});return ne.cancel=function(){clearTimeout(m),m=ee=b=null},ne}function wrap$1(u,a){return partial(a,u)}function negate(u){return function(){return!u.apply(this,arguments)}}function compose(){var u=arguments,a=u.length-1;return function(){for(var d=a,m=u[a].apply(this,arguments);d--;)m=u[d].call(this,m);return m}}function after(u,a){return function(){if(--u<1)return a.apply(this,arguments)}}function before(u,a){var d;return function(){return--u>0&&(d=a.apply(this,arguments)),u<=1&&(a=null),d}}const once$1=partial(before,2);function findKey(u,a,d){a=cb$1(a,d);for(var m=keys(u),$,ee=0,te=m.length;ee<te;ee++)if($=m[ee],a(u[$],$,u))return $}function createPredicateIndexFinder(u){return function(a,d,m){d=cb$1(d,m);for(var $=getLength(a),ee=u>0?0:$-1;ee>=0&&ee<$;ee+=u)if(d(a[ee],ee,a))return ee;return-1}}const findIndex=createPredicateIndexFinder(1),findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(u,a,d,m){d=cb$1(d,m,1);for(var $=d(a),ee=0,te=getLength(u);ee<te;){var b=Math.floor((ee+te)/2);d(u[b])<$?ee=b+1:te=b}return ee}function createIndexFinder(u,a,d){return function(m,$,ee){var te=0,b=getLength(m);if(typeof ee=="number")u>0?te=ee>=0?ee:Math.max(ee+b,te):b=ee>=0?Math.min(ee+1,b):ee+b+1;else if(d&&ee&&b)return ee=d(m,$),m[ee]===$?ee:-1;if($!==$)return ee=a(slice.call(m,te,b),isNaN$1),ee>=0?ee+te:-1;for(ee=u>0?te:b-1;ee>=0&&ee<b;ee+=u)if(m[ee]===$)return ee;return-1}}const indexOf=createIndexFinder(1,findIndex,sortedIndex),lastIndexOf=createIndexFinder(-1,findLastIndex);function find(u,a,d){var m=isArrayLike(u)?findIndex:findKey,$=m(u,a,d);if($!==void 0&&$!==-1)return u[$]}function findWhere(u,a){return find(u,matcher(a))}function each$1(u,a,d){a=optimizeCb(a,d);var m,$;if(isArrayLike(u))for(m=0,$=u.length;m<$;m++)a(u[m],m,u);else{var ee=keys(u);for(m=0,$=ee.length;m<$;m++)a(u[ee[m]],ee[m],u)}return u}function map$1(u,a,d){a=cb$1(a,d);for(var m=!isArrayLike(u)&&keys(u),$=(m||u).length,ee=Array($),te=0;te<$;te++){var b=m?m[te]:te;ee[te]=a(u[b],b,u)}return ee}function createReduce(u){var a=function(d,m,$,ee){var te=!isArrayLike(d)&&keys(d),b=(te||d).length,re=u>0?0:b-1;for(ee||($=d[te?te[re]:re],re+=u);re>=0&&re<b;re+=u){var ne=te?te[re]:re;$=m($,d[ne],ne,d)}return $};return function(d,m,$,ee){var te=arguments.length>=3;return a(d,optimizeCb(m,ee,4),$,te)}}const reduce=createReduce(1),reduceRight=createReduce(-1);function filter(u,a,d){var m=[];return a=cb$1(a,d),each$1(u,function($,ee,te){a($,ee,te)&&m.push($)}),m}function reject(u,a,d){return filter(u,negate(cb$1(a)),d)}function every(u,a,d){a=cb$1(a,d);for(var m=!isArrayLike(u)&&keys(u),$=(m||u).length,ee=0;ee<$;ee++){var te=m?m[ee]:ee;if(!a(u[te],te,u))return!1}return!0}function some(u,a,d){a=cb$1(a,d);for(var m=!isArrayLike(u)&&keys(u),$=(m||u).length,ee=0;ee<$;ee++){var te=m?m[ee]:ee;if(a(u[te],te,u))return!0}return!1}function contains$2(u,a,d,m){return isArrayLike(u)||(u=values(u)),(typeof d!="number"||m)&&(d=0),indexOf(u,a,d)>=0}const invoke=restArguments(function(u,a,d){var m,$;return isFunction$2(a)?$=a:(a=toPath(a),m=a.slice(0,-1),a=a[a.length-1]),map$1(u,function(ee){var te=$;if(!te){if(m&&m.length&&(ee=deepGet(ee,m)),ee==null)return;te=ee[a]}return te==null?te:te.apply(ee,d)})});function pluck(u,a){return map$1(u,property(a))}function where(u,a){return filter(u,matcher(a))}function max$1(u,a,d){var m=-1/0,$=-1/0,ee,te;if(a==null||typeof a=="number"&&typeof u[0]!="object"&&u!=null){u=isArrayLike(u)?u:values(u);for(var b=0,re=u.length;b<re;b++)ee=u[b],ee!=null&&ee>m&&(m=ee)}else a=cb$1(a,d),each$1(u,function(ne,ie,se){te=a(ne,ie,se),(te>$||te===-1/0&&m===-1/0)&&(m=ne,$=te)});return m}function min$1(u,a,d){var m=1/0,$=1/0,ee,te;if(a==null||typeof a=="number"&&typeof u[0]!="object"&&u!=null){u=isArrayLike(u)?u:values(u);for(var b=0,re=u.length;b<re;b++)ee=u[b],ee!=null&&ee<m&&(m=ee)}else a=cb$1(a,d),each$1(u,function(ne,ie,se){te=a(ne,ie,se),(te<$||te===1/0&&m===1/0)&&(m=ne,$=te)});return m}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(u){return u?isArray(u)?slice.call(u):isString(u)?u.match(reStrSymbol):isArrayLike(u)?map$1(u,identity):values(u):[]}function sample(u,a,d){if(a==null||d)return isArrayLike(u)||(u=values(u)),u[random(u.length-1)];var m=toArray(u),$=getLength(m);a=Math.max(Math.min(a,$),0);for(var ee=$-1,te=0;te<a;te++){var b=random(te,ee),re=m[te];m[te]=m[b],m[b]=re}return m.slice(0,a)}function shuffle(u){return sample(u,1/0)}function sortBy(u,a,d){var m=0;return a=cb$1(a,d),pluck(map$1(u,function($,ee,te){return{value:$,index:m++,criteria:a($,ee,te)}}).sort(function($,ee){var te=$.criteria,b=ee.criteria;if(te!==b){if(te>b||te===void 0)return 1;if(te<b||b===void 0)return-1}return $.index-ee.index}),"value")}function group(u,a){return function(d,m,$){var ee=a?[[],[]]:{};return m=cb$1(m,$),each$1(d,function(te,b){var re=m(te,b,d);u(ee,te,re)}),ee}}const groupBy=group(function(u,a,d){has$1(u,d)?u[d].push(a):u[d]=[a]}),indexBy=group(function(u,a,d){u[d]=a}),countBy=group(function(u,a,d){has$1(u,d)?u[d]++:u[d]=1}),partition=group(function(u,a,d){u[d?0:1].push(a)},!0);function size(u){return u==null?0:isArrayLike(u)?u.length:keys(u).length}function keyInObj(u,a,d){return a in d}const pick=restArguments(function(u,a){var d={},m=a[0];if(u==null)return d;isFunction$2(m)?(a.length>1&&(m=optimizeCb(m,a[1])),a=allKeys(u)):(m=keyInObj,a=flatten$1(a,!1,!1),u=Object(u));for(var $=0,ee=a.length;$<ee;$++){var te=a[$],b=u[te];m(b,te,u)&&(d[te]=b)}return d}),omit=restArguments(function(u,a){var d=a[0],m;return isFunction$2(d)?(d=negate(d),a.length>1&&(m=a[1])):(a=map$1(flatten$1(a,!1,!1),String),d=function($,ee){return!contains$2(a,ee)}),pick(u,d,m)});function initial(u,a,d){return slice.call(u,0,Math.max(0,u.length-(a==null||d?1:a)))}function first(u,a,d){return u==null||u.length<1?a==null||d?void 0:[]:a==null||d?u[0]:initial(u,u.length-a)}function rest(u,a,d){return slice.call(u,a==null||d?1:a)}function last(u,a,d){return u==null||u.length<1?a==null||d?void 0:[]:a==null||d?u[u.length-1]:rest(u,Math.max(0,u.length-a))}function compact(u){return filter(u,Boolean)}function flatten(u,a){return flatten$1(u,a,!1)}const difference=restArguments(function(u,a){return a=flatten$1(a,!0,!0),filter(u,function(d){return!contains$2(a,d)})}),without=restArguments(function(u,a){return difference(u,a)});function uniq(u,a,d,m){isBoolean(a)||(m=d,d=a,a=!1),d!=null&&(d=cb$1(d,m));for(var $=[],ee=[],te=0,b=getLength(u);te<b;te++){var re=u[te],ne=d?d(re,te,u):re;a&&!d?((!te||ee!==ne)&&$.push(re),ee=ne):d?contains$2(ee,ne)||(ee.push(ne),$.push(re)):contains$2($,re)||$.push(re)}return $}const union=restArguments(function(u){return uniq(flatten$1(u,!0,!0))});function intersection(u){for(var a=[],d=arguments.length,m=0,$=getLength(u);m<$;m++){var ee=u[m];if(!contains$2(a,ee)){var te;for(te=1;te<d&&contains$2(arguments[te],ee);te++);te===d&&a.push(ee)}}return a}function unzip(u){for(var a=u&&max$1(u,getLength).length||0,d=Array(a),m=0;m<a;m++)d[m]=pluck(u,m);return d}const zip=restArguments(unzip);function object(u,a){for(var d={},m=0,$=getLength(u);m<$;m++)a?d[u[m]]=a[m]:d[u[m][0]]=u[m][1];return d}function range(u,a,d){a==null&&(a=u||0,u=0),d||(d=a<u?-1:1);for(var m=Math.max(Math.ceil((a-u)/d),0),$=Array(m),ee=0;ee<m;ee++,u+=d)$[ee]=u;return $}function chunk(u,a){if(a==null||a<1)return[];for(var d=[],m=0,$=u.length;m<$;)d.push(slice.call(u,m,m+=a));return d}function chainResult(u,a){return u._chain?_$1(a).chain():a}function mixin(u){return each$1(functions(u),function(a){var d=_$1[a]=u[a];_$1.prototype[a]=function(){var m=[this._wrapped];return push.apply(m,arguments),chainResult(this,d.apply(_$1,m))}}),_$1}each$1(["pop","push","reverse","shift","sort","splice","unshift"],function(u){var a=ArrayProto[u];_$1.prototype[u]=function(){var d=this._wrapped;return d!=null&&(a.apply(d,arguments),(u==="shift"||u==="splice")&&d.length===0&&delete d[0]),chainResult(this,d)}});each$1(["concat","join","slice"],function(u){var a=ArrayProto[u];_$1.prototype[u]=function(){var d=this._wrapped;return d!=null&&(d=a.apply(d,arguments)),chainResult(this,d)}});const allExports=Object.freeze(Object.defineProperty({__proto__:null,VERSION:VERSION$1,restArguments,isObject:isObject$1,isNull,isUndefined,isBoolean,isElement:isElement$2,isString,isNumber,isDate,isRegExp,isError,isSymbol,isArrayBuffer,isDataView:isDataView$1,isArray,isFunction:isFunction$2,isArguments:isArguments$1,isFinite:isFinite$1,isNaN:isNaN$1,isTypedArray:isTypedArray$1,isEmpty:isEmpty$1,isMatch,isEqual,isMap,isWeakMap,isSet,isWeakSet,keys,allKeys,values,pairs,invert,functions,methods:functions,extend,extendOwn,assign:extendOwn,defaults:defaults$1,create,clone,tap,get,has,mapObject,identity,constant,noop:noop$1,toPath:toPath$1,property,propertyOf,matcher,matches:matcher,times,random,now,escape,unescape:unescape$1,templateSettings,template,result,uniqueId,chain,iteratee,partial,bind,bindAll,memoize,delay,defer,throttle,debounce:debounce$1,wrap:wrap$1,negate,compose,after,before,once:once$1,findKey,findIndex,findLastIndex,sortedIndex,indexOf,lastIndexOf,find,detect:find,findWhere,each:each$1,forEach:each$1,map:map$1,collect:map$1,reduce,foldl:reduce,inject:reduce,reduceRight,foldr:reduceRight,filter,select:filter,reject,every,all:every,some,any:some,contains:contains$2,includes:contains$2,include:contains$2,invoke,pluck,where,max:max$1,min:min$1,shuffle,sample,sortBy,groupBy,indexBy,countBy,partition,toArray,size,pick,omit,first,head:first,take:first,initial,last,rest,tail:rest,drop:rest,compact,flatten,without,uniq,unique:uniq,union,intersection,difference,unzip,transpose:unzip,zip,object,range,chunk,mixin,default:_$1},Symbol.toStringTag,{value:"Module"}));var _=mixin(allExports);_._=_;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const assert=function(u,a){if(!u)throw assertionError(a)},assertionError=function(u){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+u)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(u){const a=[];let d=0;for(let m=0;m<u.length;m++){let $=u.charCodeAt(m);$<128?a[d++]=$:$<2048?(a[d++]=$>>6|192,a[d++]=$&63|128):($&64512)===55296&&m+1<u.length&&(u.charCodeAt(m+1)&64512)===56320?($=65536+(($&1023)<<10)+(u.charCodeAt(++m)&1023),a[d++]=$>>18|240,a[d++]=$>>12&63|128,a[d++]=$>>6&63|128,a[d++]=$&63|128):(a[d++]=$>>12|224,a[d++]=$>>6&63|128,a[d++]=$&63|128)}return a},byteArrayToString=function(u){const a=[];let d=0,m=0;for(;d<u.length;){const $=u[d++];if($<128)a[m++]=String.fromCharCode($);else if($>191&&$<224){const ee=u[d++];a[m++]=String.fromCharCode(($&31)<<6|ee&63)}else if($>239&&$<365){const ee=u[d++],te=u[d++],b=u[d++],re=(($&7)<<18|(ee&63)<<12|(te&63)<<6|b&63)-65536;a[m++]=String.fromCharCode(55296+(re>>10)),a[m++]=String.fromCharCode(56320+(re&1023))}else{const ee=u[d++],te=u[d++];a[m++]=String.fromCharCode(($&15)<<12|(ee&63)<<6|te&63)}}return a.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(u,a){if(!Array.isArray(u))throw Error("encodeByteArray takes an array as a parameter");this.init_();const d=a?this.byteToCharMapWebSafe_:this.byteToCharMap_,m=[];for(let $=0;$<u.length;$+=3){const ee=u[$],te=$+1<u.length,b=te?u[$+1]:0,re=$+2<u.length,ne=re?u[$+2]:0,ie=ee>>2,se=(ee&3)<<4|b>>4;let fe=(b&15)<<2|ne>>6,ce=ne&63;re||(ce=64,te||(fe=64)),m.push(d[ie],d[se],d[fe],d[ce])}return m.join("")},encodeString(u,a){return this.HAS_NATIVE_SUPPORT&&!a?btoa(u):this.encodeByteArray(stringToByteArray$1(u),a)},decodeString(u,a){return this.HAS_NATIVE_SUPPORT&&!a?atob(u):byteArrayToString(this.decodeStringToByteArray(u,a))},decodeStringToByteArray(u,a){this.init_();const d=a?this.charToByteMapWebSafe_:this.charToByteMap_,m=[];for(let $=0;$<u.length;){const ee=d[u.charAt($++)],b=$<u.length?d[u.charAt($)]:0;++$;const ne=$<u.length?d[u.charAt($)]:64;++$;const se=$<u.length?d[u.charAt($)]:64;if(++$,ee==null||b==null||ne==null||se==null)throw Error();const fe=ee<<2|b>>4;if(m.push(fe),ne!==64){const ce=b<<4&240|ne>>2;if(m.push(ce),se!==64){const de=ne<<6&192|se;m.push(de)}}}return m},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let u=0;u<this.ENCODED_VALS.length;u++)this.byteToCharMap_[u]=this.ENCODED_VALS.charAt(u),this.charToByteMap_[this.byteToCharMap_[u]]=u,this.byteToCharMapWebSafe_[u]=this.ENCODED_VALS_WEBSAFE.charAt(u),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[u]]=u,u>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(u)]=u,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(u)]=u)}}},base64Encode=function(u){const a=stringToByteArray$1(u);return base64.encodeByteArray(a,!0)},base64urlEncodeWithoutPadding=function(u){return base64Encode(u).replace(/\./g,"")},base64Decode=function(u){try{return base64.decodeString(u,!0)}catch(a){console.error("base64Decode failed: ",a)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deepCopy(u){return deepExtend(void 0,u)}function deepExtend(u,a){if(!(a instanceof Object))return a;switch(a.constructor){case Date:const d=a;return new Date(d.getTime());case Object:u===void 0&&(u={});break;case Array:u=[];break;default:return a}for(const d in a)!a.hasOwnProperty(d)||!isValidKey$1(d)||(u[d]=deepExtend(u[d],a[d]));return u}function isValidKey$1(u){return u!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}wrapCallback(a){return(d,m)=>{d?this.reject(d):this.resolve(m),typeof a=="function"&&(this.promise.catch(()=>{}),a.length===1?a(d):a(d,m))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isNodeSdk(){return CONSTANTS.NODE_ADMIN===!0}function isIndexedDBAvailable(){return typeof indexedDB=="object"}function validateIndexedDBOpenable(){return new Promise((u,a)=>{try{let d=!0;const m="validate-browser-context-for-indexeddb-analytics-module",$=self.indexedDB.open(m);$.onsuccess=()=>{$.result.close(),d||self.indexedDB.deleteDatabase(m),u(!0)},$.onupgradeneeded=()=>{d=!1},$.onerror=()=>{var ee;a(((ee=$.error)===null||ee===void 0?void 0:ee.message)||"")}}catch(d){a(d)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(a,d,m){super(d),this.code=a,this.customData=m,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(a,d,m){this.service=a,this.serviceName=d,this.errors=m}create(a,...d){const m=d[0]||{},$=`${this.service}/${a}`,ee=this.errors[a],te=ee?replaceTemplate(ee,m):"Error",b=`${this.serviceName}: ${te} (${$}).`;return new FirebaseError($,b,m)}}function replaceTemplate(u,a){return u.replace(PATTERN,(d,m)=>{const $=a[m];return $!=null?String($):`<${m}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonEval(u){return JSON.parse(u)}function stringify(u){return JSON.stringify(u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const decode=function(u){let a={},d={},m={},$="";try{const ee=u.split(".");a=jsonEval(base64Decode(ee[0])||""),d=jsonEval(base64Decode(ee[1])||""),$=ee[2],m=d.d||{},delete d.d}catch{}return{header:a,claims:d,data:m,signature:$}},isValidFormat=function(u){const a=decode(u),d=a.claims;return!!d&&typeof d=="object"&&d.hasOwnProperty("iat")},isAdmin=function(u){const a=decode(u).claims;return typeof a=="object"&&a.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains$1(u,a){return Object.prototype.hasOwnProperty.call(u,a)}function safeGet(u,a){if(Object.prototype.hasOwnProperty.call(u,a))return u[a]}function isEmpty(u){for(const a in u)if(Object.prototype.hasOwnProperty.call(u,a))return!1;return!0}function map(u,a,d){const m={};for(const $ in u)Object.prototype.hasOwnProperty.call(u,$)&&(m[$]=a.call(d,u[$],$,u));return m}function deepEqual(u,a){if(u===a)return!0;const d=Object.keys(u),m=Object.keys(a);for(const $ of d){if(!m.includes($))return!1;const ee=u[$],te=a[$];if(isObject(ee)&&isObject(te)){if(!deepEqual(ee,te))return!1}else if(ee!==te)return!1}for(const $ of m)if(!d.includes($))return!1;return!0}function isObject(u){return u!==null&&typeof u=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(u){const a=[];for(const[d,m]of Object.entries(u))Array.isArray(m)?m.forEach($=>{a.push(encodeURIComponent(d)+"="+encodeURIComponent($))}):a.push(encodeURIComponent(d)+"="+encodeURIComponent(m));return a.length?"&"+a.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sha1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let a=1;a<this.blockSize;++a)this.pad_[a]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(a,d){d||(d=0);const m=this.W_;if(typeof a=="string")for(let se=0;se<16;se++)m[se]=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3),d+=4;else for(let se=0;se<16;se++)m[se]=a[d]<<24|a[d+1]<<16|a[d+2]<<8|a[d+3],d+=4;for(let se=16;se<80;se++){const fe=m[se-3]^m[se-8]^m[se-14]^m[se-16];m[se]=(fe<<1|fe>>>31)&4294967295}let $=this.chain_[0],ee=this.chain_[1],te=this.chain_[2],b=this.chain_[3],re=this.chain_[4],ne,ie;for(let se=0;se<80;se++){se<40?se<20?(ne=b^ee&(te^b),ie=1518500249):(ne=ee^te^b,ie=1859775393):se<60?(ne=ee&te|b&(ee|te),ie=2400959708):(ne=ee^te^b,ie=3395469782);const fe=($<<5|$>>>27)+ne+re+ie+m[se]&4294967295;re=b,b=te,te=(ee<<30|ee>>>2)&4294967295,ee=$,$=fe}this.chain_[0]=this.chain_[0]+$&4294967295,this.chain_[1]=this.chain_[1]+ee&4294967295,this.chain_[2]=this.chain_[2]+te&4294967295,this.chain_[3]=this.chain_[3]+b&4294967295,this.chain_[4]=this.chain_[4]+re&4294967295}update(a,d){if(a==null)return;d===void 0&&(d=a.length);const m=d-this.blockSize;let $=0;const ee=this.buf_;let te=this.inbuf_;for(;$<d;){if(te===0)for(;$<=m;)this.compress_(a,$),$+=this.blockSize;if(typeof a=="string"){for(;$<d;)if(ee[te]=a.charCodeAt($),++te,++$,te===this.blockSize){this.compress_(ee),te=0;break}}else for(;$<d;)if(ee[te]=a[$],++te,++$,te===this.blockSize){this.compress_(ee),te=0;break}}this.inbuf_=te,this.total_+=d}digest(){const a=[];let d=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let $=this.blockSize-1;$>=56;$--)this.buf_[$]=d&255,d/=256;this.compress_(this.buf_);let m=0;for(let $=0;$<5;$++)for(let ee=24;ee>=0;ee-=8)a[m]=this.chain_[$]>>ee&255,++m;return a}}function errorPrefix(u,a){return`${u} failed: ${a} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray=function(u){const a=[];let d=0;for(let m=0;m<u.length;m++){let $=u.charCodeAt(m);if($>=55296&&$<=56319){const ee=$-55296;m++,assert(m<u.length,"Surrogate pair missing trail surrogate.");const te=u.charCodeAt(m)-56320;$=65536+(ee<<10)+te}$<128?a[d++]=$:$<2048?(a[d++]=$>>6|192,a[d++]=$&63|128):$<65536?(a[d++]=$>>12|224,a[d++]=$>>6&63|128,a[d++]=$&63|128):(a[d++]=$>>18|240,a[d++]=$>>12&63|128,a[d++]=$>>6&63|128,a[d++]=$&63|128)}return a},stringLength=function(u){let a=0;for(let d=0;d<u.length;d++){const m=u.charCodeAt(d);m<128?a++:m<2048?a+=2:m>=55296&&m<=56319?(a+=4,d++):a+=3}return a};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(u){return u&&u._delegate?u._delegate:u}class Component{constructor(a,d,m){this.name=a,this.instanceFactory=d,this.type=m,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(a){return this.instantiationMode=a,this}setMultipleInstances(a){return this.multipleInstances=a,this}setServiceProps(a){return this.serviceProps=a,this}setInstanceCreatedCallback(a){return this.onInstanceCreated=a,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(a,d){this.name=a,this.container=d,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(a){const d=this.normalizeInstanceIdentifier(a);if(!this.instancesDeferred.has(d)){const m=new Deferred;if(this.instancesDeferred.set(d,m),this.isInitialized(d)||this.shouldAutoInitialize())try{const $=this.getOrInitializeService({instanceIdentifier:d});$&&m.resolve($)}catch{}}return this.instancesDeferred.get(d).promise}getImmediate(a){var d;const m=this.normalizeInstanceIdentifier(a?.identifier),$=(d=a?.optional)!==null&&d!==void 0?d:!1;if(this.isInitialized(m)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:m})}catch(ee){if($)return null;throw ee}else{if($)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(a){if(a.name!==this.name)throw Error(`Mismatching Component ${a.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=a,!!this.shouldAutoInitialize()){if(isComponentEager(a))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[d,m]of this.instancesDeferred.entries()){const $=this.normalizeInstanceIdentifier(d);try{const ee=this.getOrInitializeService({instanceIdentifier:$});m.resolve(ee)}catch{}}}}clearInstance(a=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(a),this.instancesOptions.delete(a),this.instances.delete(a)}async delete(){const a=Array.from(this.instances.values());await Promise.all([...a.filter(d=>"INTERNAL"in d).map(d=>d.INTERNAL.delete()),...a.filter(d=>"_delete"in d).map(d=>d._delete())])}isComponentSet(){return this.component!=null}isInitialized(a=DEFAULT_ENTRY_NAME$1){return this.instances.has(a)}getOptions(a=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(a)||{}}initialize(a={}){const{options:d={}}=a,m=this.normalizeInstanceIdentifier(a.instanceIdentifier);if(this.isInitialized(m))throw Error(`${this.name}(${m}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $=this.getOrInitializeService({instanceIdentifier:m,options:d});for(const[ee,te]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(ee);m===b&&te.resolve($)}return $}onInit(a,d){var m;const $=this.normalizeInstanceIdentifier(d),ee=(m=this.onInitCallbacks.get($))!==null&&m!==void 0?m:new Set;ee.add(a),this.onInitCallbacks.set($,ee);const te=this.instances.get($);return te&&a(te,$),()=>{ee.delete(a)}}invokeOnInitCallbacks(a,d){const m=this.onInitCallbacks.get(d);if(!!m)for(const $ of m)try{$(a,d)}catch{}}getOrInitializeService({instanceIdentifier:a,options:d={}}){let m=this.instances.get(a);if(!m&&this.component&&(m=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(a),options:d}),this.instances.set(a,m),this.instancesOptions.set(a,d),this.invokeOnInitCallbacks(m,a),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,a,m)}catch{}return m||null}normalizeInstanceIdentifier(a=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?a:DEFAULT_ENTRY_NAME$1:a}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(u){return u===DEFAULT_ENTRY_NAME$1?void 0:u}function isComponentEager(u){return u.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(a){this.name=a,this.providers=new Map}addComponent(a){const d=this.getProvider(a.name);if(d.isComponentSet())throw new Error(`Component ${a.name} has already been registered with ${this.name}`);d.setComponent(a)}addOrOverwriteComponent(a){this.getProvider(a.name).isComponentSet()&&this.providers.delete(a.name),this.addComponent(a)}getProvider(a){if(this.providers.has(a))return this.providers.get(a);const d=new Provider(a,this);return this.providers.set(a,d),d}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(u){u[u.DEBUG=0]="DEBUG",u[u.VERBOSE=1]="VERBOSE",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(u,a,...d)=>{if(a<u.logLevel)return;const m=new Date().toISOString(),$=ConsoleMethod[a];if($)console[$](`[${m}]  ${u.name}:`,...d);else throw new Error(`Attempted to log a message with an invalid logType (value: ${a})`)};class Logger{constructor(a){this.name=a,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(a){if(!(a in LogLevel))throw new TypeError(`Invalid value "${a}" assigned to \`logLevel\``);this._logLevel=a}setLogLevel(a){this._logLevel=typeof a=="string"?levelStringToEnum[a]:a}get logHandler(){return this._logHandler}set logHandler(a){if(typeof a!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=a}get userLogHandler(){return this._userLogHandler}set userLogHandler(a){this._userLogHandler=a}debug(...a){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...a),this._logHandler(this,LogLevel.DEBUG,...a)}log(...a){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...a),this._logHandler(this,LogLevel.VERBOSE,...a)}info(...a){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...a),this._logHandler(this,LogLevel.INFO,...a)}warn(...a){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...a),this._logHandler(this,LogLevel.WARN,...a)}error(...a){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...a),this._logHandler(this,LogLevel.ERROR,...a)}}const instanceOfAny=(u,a)=>a.some(d=>u instanceof d);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(u){const a=new Promise((d,m)=>{const $=()=>{u.removeEventListener("success",ee),u.removeEventListener("error",te)},ee=()=>{d(wrap(u.result)),$()},te=()=>{m(u.error),$()};u.addEventListener("success",ee),u.addEventListener("error",te)});return a.then(d=>{d instanceof IDBCursor&&cursorRequestMap.set(d,u)}).catch(()=>{}),reverseTransformCache.set(a,u),a}function cacheDonePromiseForTransaction(u){if(transactionDoneMap.has(u))return;const a=new Promise((d,m)=>{const $=()=>{u.removeEventListener("complete",ee),u.removeEventListener("error",te),u.removeEventListener("abort",te)},ee=()=>{d(),$()},te=()=>{m(u.error||new DOMException("AbortError","AbortError")),$()};u.addEventListener("complete",ee),u.addEventListener("error",te),u.addEventListener("abort",te)});transactionDoneMap.set(u,a)}let idbProxyTraps={get(u,a,d){if(u instanceof IDBTransaction){if(a==="done")return transactionDoneMap.get(u);if(a==="objectStoreNames")return u.objectStoreNames||transactionStoreNamesMap.get(u);if(a==="store")return d.objectStoreNames[1]?void 0:d.objectStore(d.objectStoreNames[0])}return wrap(u[a])},set(u,a,d){return u[a]=d,!0},has(u,a){return u instanceof IDBTransaction&&(a==="done"||a==="store")?!0:a in u}};function replaceTraps(u){idbProxyTraps=u(idbProxyTraps)}function wrapFunction(u){return u===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(a,...d){const m=u.call(unwrap(this),a,...d);return transactionStoreNamesMap.set(m,a.sort?a.sort():[a]),wrap(m)}:getCursorAdvanceMethods().includes(u)?function(...a){return u.apply(unwrap(this),a),wrap(cursorRequestMap.get(this))}:function(...a){return wrap(u.apply(unwrap(this),a))}}function transformCachableValue(u){return typeof u=="function"?wrapFunction(u):(u instanceof IDBTransaction&&cacheDonePromiseForTransaction(u),instanceOfAny(u,getIdbProxyableTypes())?new Proxy(u,idbProxyTraps):u)}function wrap(u){if(u instanceof IDBRequest)return promisifyRequest(u);if(transformCache.has(u))return transformCache.get(u);const a=transformCachableValue(u);return a!==u&&(transformCache.set(u,a),reverseTransformCache.set(a,u)),a}const unwrap=u=>reverseTransformCache.get(u);function openDB(u,a,{blocked:d,upgrade:m,blocking:$,terminated:ee}={}){const te=indexedDB.open(u,a),b=wrap(te);return m&&te.addEventListener("upgradeneeded",re=>{m(wrap(te.result),re.oldVersion,re.newVersion,wrap(te.transaction))}),d&&te.addEventListener("blocked",()=>d()),b.then(re=>{ee&&re.addEventListener("close",()=>ee()),$&&re.addEventListener("versionchange",()=>$())}).catch(()=>{}),b}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(u,a){if(!(u instanceof IDBDatabase&&!(a in u)&&typeof a=="string"))return;if(cachedMethods.get(a))return cachedMethods.get(a);const d=a.replace(/FromIndex$/,""),m=a!==d,$=writeMethods.includes(d);if(!(d in(m?IDBIndex:IDBObjectStore).prototype)||!($||readMethods.includes(d)))return;const ee=async function(te,...b){const re=this.transaction(te,$?"readwrite":"readonly");let ne=re.store;return m&&(ne=ne.index(b.shift())),(await Promise.all([ne[d](...b),$&&re.done]))[0]};return cachedMethods.set(a,ee),ee}replaceTraps(u=>({...u,get:(a,d,m)=>getMethod(a,d)||u.get(a,d,m),has:(a,d)=>!!getMethod(a,d)||u.has(a,d)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(a){this.container=a}getPlatformInfoString(){return this.container.getProviders().map(d=>{if(isVersionServiceProvider(d)){const m=d.getImmediate();return`${m.library}/${m.version}`}else return null}).filter(d=>d).join(" ")}}function isVersionServiceProvider(u){const a=u.getComponent();return a?.type==="VERSION"}const name$o="@firebase/app",version$1$1="0.7.30";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$3="9.9.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(u,a){try{u.container.addComponent(a)}catch(d){logger$1.debug(`Component ${a.name} failed to register with FirebaseApp ${u.name}`,d)}}function _registerComponent(u){const a=u.name;if(_components.has(a))return logger$1.debug(`There were multiple attempts to register component ${a}.`),!1;_components.set(a,u);for(const d of _apps.values())_addComponent(d,u);return!0}function _getProvider(u,a){const d=u.container.getProvider("heartbeat").getImmediate({optional:!0});return d&&d.triggerHeartbeat(),u.container.getProvider(a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(a,d,m){this._isDeleted=!1,this._options=Object.assign({},a),this._config=Object.assign({},d),this._name=d.name,this._automaticDataCollectionEnabled=d.automaticDataCollectionEnabled,this._container=m,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(a){this.checkDestroyed(),this._automaticDataCollectionEnabled=a}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(a){this._isDeleted=a}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION$1=version$3;function initializeApp(u,a={}){typeof a!="object"&&(a={name:a});const d=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},a),m=d.name;if(typeof m!="string"||!m)throw ERROR_FACTORY.create("bad-app-name",{appName:String(m)});const $=_apps.get(m);if($){if(deepEqual(u,$.options)&&deepEqual(d,$.config))return $;throw ERROR_FACTORY.create("duplicate-app",{appName:m})}const ee=new ComponentContainer(m);for(const b of _components.values())ee.addComponent(b);const te=new FirebaseAppImpl(u,d,ee);return _apps.set(m,te),te}function getApp(u=DEFAULT_ENTRY_NAME){const a=_apps.get(u);if(!a)throw ERROR_FACTORY.create("no-app",{appName:u});return a}function registerVersion(u,a,d){var m;let $=(m=PLATFORM_LOG_STRING[u])!==null&&m!==void 0?m:u;d&&($+=`-${d}`);const ee=$.match(/\s|\//),te=a.match(/\s|\//);if(ee||te){const b=[`Unable to register library "${$}" with version "${a}":`];ee&&b.push(`library name "${$}" contains illegal characters (whitespace or "/")`),ee&&te&&b.push("and"),te&&b.push(`version name "${a}" contains illegal characters (whitespace or "/")`),logger$1.warn(b.join(" "));return}_registerComponent(new Component(`${$}-version`,()=>({library:$,version:a}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebase-heartbeat-database",DB_VERSION=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME,DB_VERSION,{upgrade:(u,a)=>{switch(a){case 0:u.createObjectStore(STORE_NAME)}}}).catch(u=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:u.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(u){var a;try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(u))}catch(d){if(d instanceof FirebaseError)logger$1.warn(d.message);else{const m=ERROR_FACTORY.create("idb-get",{originalErrorMessage:(a=d)===null||a===void 0?void 0:a.message});logger$1.warn(m.message)}}}async function writeHeartbeatsToIndexedDB(u,a){var d;try{const $=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await $.objectStore(STORE_NAME).put(a,computeKey(u)),$.done}catch(m){if(m instanceof FirebaseError)logger$1.warn(m.message);else{const $=ERROR_FACTORY.create("idb-set",{originalErrorMessage:(d=m)===null||d===void 0?void 0:d.message});logger$1.warn($.message)}}}function computeKey(u){return`${u.name}!${u.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(a){this.container=a,this._heartbeatsCache=null;const d=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(d),this._heartbeatsCachePromise=this._storage.read().then(m=>(this._heartbeatsCache=m,m))}async triggerHeartbeat(){const d=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),m=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===m||this._heartbeatsCache.heartbeats.some($=>$.date===m)))return this._heartbeatsCache.heartbeats.push({date:m,agent:d}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter($=>{const ee=new Date($.date).valueOf();return Date.now()-ee<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const a=getUTCDateString(),{heartbeatsToSend:d,unsentEntries:m}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),$=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:d}));return this._heartbeatsCache.lastSentHeartbeatDate=a,m.length>0?(this._heartbeatsCache.heartbeats=m,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),$}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(u,a=MAX_HEADER_BYTES){const d=[];let m=u.slice();for(const $ of u){const ee=d.find(te=>te.agent===$.agent);if(ee){if(ee.dates.push($.date),countBytes(d)>a){ee.dates.pop();break}}else if(d.push({agent:$.agent,dates:[$.date]}),countBytes(d)>a){d.pop();break}m=m.slice(1)}return{heartbeatsToSend:d,unsentEntries:m}}class HeartbeatStorageImpl{constructor(a){this.app=a,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(a){var d;if(await this._canUseIndexedDBPromise){const $=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(d=a.lastSentHeartbeatDate)!==null&&d!==void 0?d:$.lastSentHeartbeatDate,heartbeats:a.heartbeats})}else return}async add(a){var d;if(await this._canUseIndexedDBPromise){const $=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(d=a.lastSentHeartbeatDate)!==null&&d!==void 0?d:$.lastSentHeartbeatDate,heartbeats:[...$.heartbeats,...a.heartbeats]})}else return}}function countBytes(u){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:u})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(u){_registerComponent(new Component("platform-logger",a=>new PlatformLoggerServiceImpl(a),"PRIVATE")),_registerComponent(new Component("heartbeat",a=>new HeartbeatServiceImpl(a),"PRIVATE")),registerVersion(name$o,version$1$1,u),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var name$2="firebase",version$2="9.9.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");const name$1="@firebase/database",version$1="0.13.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SDK_VERSION="";function setSDKVersion(u){SDK_VERSION=u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DOMStorageWrapper{constructor(a){this.domStorage_=a,this.prefix_="firebase:"}set(a,d){d==null?this.domStorage_.removeItem(this.prefixedName_(a)):this.domStorage_.setItem(this.prefixedName_(a),stringify(d))}get(a){const d=this.domStorage_.getItem(this.prefixedName_(a));return d==null?null:jsonEval(d)}remove(a){this.domStorage_.removeItem(this.prefixedName_(a))}prefixedName_(a){return this.prefix_+a}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MemoryStorage{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(a,d){d==null?delete this.cache_[a]:this.cache_[a]=d}get(a){return contains$1(this.cache_,a)?this.cache_[a]:null}remove(a){delete this.cache_[a]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const createStoragefor=function(u){try{if(typeof window<"u"&&typeof window[u]<"u"){const a=window[u];return a.setItem("firebase:sentinel","cache"),a.removeItem("firebase:sentinel"),new DOMStorageWrapper(a)}}catch{}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/database"),LUIDGenerator=function(){let u=1;return function(){return u++}}(),sha1=function(u){const a=stringToByteArray(u),d=new Sha1;d.update(a);const m=d.digest();return base64.encodeByteArray(m)},buildLogMessage_=function(...u){let a="";for(let d=0;d<u.length;d++){const m=u[d];Array.isArray(m)||m&&typeof m=="object"&&typeof m.length=="number"?a+=buildLogMessage_.apply(null,m):typeof m=="object"?a+=stringify(m):a+=m,a+=" "}return a};let logger=null,firstLog_=!0;const enableLogging$1=function(u,a){assert(!a||u===!0||u===!1,"Can't turn on custom loggers persistently."),u===!0?(logClient.logLevel=LogLevel.VERBOSE,logger=logClient.log.bind(logClient),a&&SessionStorage.set("logging_enabled",!0)):typeof u=="function"?logger=u:(logger=null,SessionStorage.remove("logging_enabled"))},log$1=function(...u){if(firstLog_===!0&&(firstLog_=!1,logger===null&&SessionStorage.get("logging_enabled")===!0&&enableLogging$1(!0)),logger){const a=buildLogMessage_.apply(null,u);logger(a)}},logWrapper=function(u){return function(...a){log$1(u,...a)}},error=function(...u){const a="FIREBASE INTERNAL ERROR: "+buildLogMessage_(...u);logClient.error(a)},fatal=function(...u){const a=`FIREBASE FATAL ERROR: ${buildLogMessage_(...u)}`;throw logClient.error(a),new Error(a)},warn=function(...u){const a="FIREBASE WARNING: "+buildLogMessage_(...u);logClient.warn(a)},warnIfPageIsSecure=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&warn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(u){return typeof u=="number"&&(u!==u||u===Number.POSITIVE_INFINITY||u===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(u){if(document.readyState==="complete")u();else{let a=!1;const d=function(){if(!document.body){setTimeout(d,Math.floor(10));return}a||(a=!0,u())};document.addEventListener?(document.addEventListener("DOMContentLoaded",d,!1),window.addEventListener("load",d,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&d()}),window.attachEvent("onload",d))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(u,a){if(u===a)return 0;if(u===MIN_NAME||a===MAX_NAME)return-1;if(a===MIN_NAME||u===MAX_NAME)return 1;{const d=tryParseInt(u),m=tryParseInt(a);return d!==null?m!==null?d-m===0?u.length-a.length:d-m:-1:m!==null?1:u<a?-1:1}},stringCompare=function(u,a){return u===a?0:u<a?-1:1},requireKey=function(u,a){if(a&&u in a)return a[u];throw new Error("Missing required key ("+u+") in object: "+stringify(a))},ObjectToUniqueKey=function(u){if(typeof u!="object"||u===null)return stringify(u);const a=[];for(const m in u)a.push(m);a.sort();let d="{";for(let m=0;m<a.length;m++)m!==0&&(d+=","),d+=stringify(a[m]),d+=":",d+=ObjectToUniqueKey(u[a[m]]);return d+="}",d},splitStringBySize=function(u,a){const d=u.length;if(d<=a)return[u];const m=[];for(let $=0;$<d;$+=a)$+a>d?m.push(u.substring($,d)):m.push(u.substring($,$+a));return m};function each(u,a){for(const d in u)u.hasOwnProperty(d)&&a(d,u[d])}const doubleToIEEE754String=function(u){assert(!isInvalidJSONNumber(u),"Invalid JSON number");const a=11,d=52,m=(1<<a-1)-1;let $,ee,te,b,re;u===0?(ee=0,te=0,$=1/u===-1/0?1:0):($=u<0,u=Math.abs(u),u>=Math.pow(2,1-m)?(b=Math.min(Math.floor(Math.log(u)/Math.LN2),m),ee=b+m,te=Math.round(u*Math.pow(2,d-b)-Math.pow(2,d))):(ee=0,te=Math.round(u/Math.pow(2,1-m-d))));const ne=[];for(re=d;re;re-=1)ne.push(te%2?1:0),te=Math.floor(te/2);for(re=a;re;re-=1)ne.push(ee%2?1:0),ee=Math.floor(ee/2);ne.push($?1:0),ne.reverse();const ie=ne.join("");let se="";for(re=0;re<64;re+=8){let fe=parseInt(ie.substr(re,8),2).toString(16);fe.length===1&&(fe="0"+fe),se=se+fe}return se.toLowerCase()},isChromeExtensionContentScript=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(u){if(INTEGER_REGEXP_.test(u)){const a=Number(u);if(a>=INTEGER_32_MIN&&a<=INTEGER_32_MAX)return a}return null},exceptionGuard=function(u){try{u()}catch(a){setTimeout(()=>{const d=a.stack||"";throw warn("Exception was thrown by user callback.",d),a},Math.floor(0))}},beingCrawled=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(u,a){const d=setTimeout(u,a);return typeof d=="object"&&d.unref&&d.unref(),d};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AppCheckTokenProvider{constructor(a,d){this.appName_=a,this.appCheckProvider=d,this.appCheck=d?.getImmediate({optional:!0}),this.appCheck||d?.get().then(m=>this.appCheck=m)}getToken(a){return this.appCheck?this.appCheck.getToken(a):new Promise((d,m)=>{setTimeout(()=>{this.appCheck?this.getToken(a).then(d,m):d(null)},0)})}addTokenChangeListener(a){var d;(d=this.appCheckProvider)===null||d===void 0||d.get().then(m=>m.addTokenListener(a))}notifyForInvalidToken(){warn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAuthTokenProvider{constructor(a,d,m){this.appName_=a,this.firebaseOptions_=d,this.authProvider_=m,this.auth_=null,this.auth_=m.getImmediate({optional:!0}),this.auth_||m.onInit($=>this.auth_=$)}getToken(a){return this.auth_?this.auth_.getToken(a).catch(d=>d&&d.code==="auth/token-not-initialized"?(log$1("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(d)):new Promise((d,m)=>{setTimeout(()=>{this.auth_?this.getToken(a).then(d,m):d(null)},0)})}addTokenChangeListener(a){this.auth_?this.auth_.addAuthTokenListener(a):this.authProvider_.get().then(d=>d.addAuthTokenListener(a))}removeTokenChangeListener(a){this.authProvider_.get().then(d=>d.removeAuthTokenListener(a))}notifyForInvalidToken(){let a='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?a+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?a+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':a+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn(a)}}class EmulatorTokenProvider{constructor(a){this.accessToken=a}getToken(a){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(a){a(this.accessToken)}removeTokenChangeListener(a){}notifyForInvalidToken(){}}EmulatorTokenProvider.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RepoInfo{constructor(a,d,m,$,ee=!1,te="",b=!1){this.secure=d,this.namespace=m,this.webSocketOnly=$,this.nodeAdmin=ee,this.persistenceKey=te,this.includeNamespaceInQueryParams=b,this._host=a.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+a)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(a){a!==this.internalHost&&(this.internalHost=a,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}toString(){let a=this.toURLString();return this.persistenceKey&&(a+="<"+this.persistenceKey+">"),a}toURLString(){const a=this.secure?"https://":"http://",d=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${a}${this.host}/${d}`}}function repoInfoNeedsQueryParam(u){return u.host!==u.internalHost||u.isCustomHost()||u.includeNamespaceInQueryParams}function repoInfoConnectionURL(u,a,d){assert(typeof a=="string","typeof type must == string"),assert(typeof d=="object","typeof params must == object");let m;if(a===WEBSOCKET)m=(u.secure?"wss://":"ws://")+u.internalHost+"/.ws?";else if(a===LONG_POLLING)m=(u.secure?"https://":"http://")+u.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+a);repoInfoNeedsQueryParam(u)&&(d.ns=u.namespace);const $=[];return each(d,(ee,te)=>{$.push(ee+"="+te)}),m+$.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsCollection{constructor(){this.counters_={}}incrementCounter(a,d=1){contains$1(this.counters_,a)||(this.counters_[a]=0),this.counters_[a]+=d}get(){return deepCopy(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const collections={},reporters={};function statsManagerGetCollection(u){const a=u.toString();return collections[a]||(collections[a]=new StatsCollection),collections[a]}function statsManagerGetOrCreateReporter(u,a){const d=u.toString();return reporters[d]||(reporters[d]=a()),reporters[d]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PacketReceiver{constructor(a){this.onMessage_=a,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(a,d){this.closeAfterResponse=a,this.onClose=d,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(a,d){for(this.pendingResponses[a]=d;this.pendingResponses[this.currentResponseNum];){const m=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let $=0;$<m.length;++$)m[$]&&exceptionGuard(()=>{this.onMessage_(m[$])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4;class BrowserPollConnection{constructor(a,d,m,$,ee,te,b){this.connId=a,this.repoInfo=d,this.applicationId=m,this.appCheckToken=$,this.authToken=ee,this.transportSessionId=te,this.lastSessionId=b,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(a),this.stats_=statsManagerGetCollection(d),this.urlFn=re=>(this.appCheckToken&&(re[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),repoInfoConnectionURL(d,LONG_POLLING,re))}open(a,d){this.curSegmentNum=0,this.onDisconnect_=d,this.myPacketOrderer=new PacketReceiver(a),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FirebaseIFrameScriptHolder((...ee)=>{const[te,b,re,ne,ie]=ee;if(this.incrementIncomingBytes_(ee),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,te===FIREBASE_LONGPOLL_START_PARAM)this.id=b,this.password=re;else if(te===FIREBASE_LONGPOLL_CLOSE_COMMAND)b?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(b,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+te)},(...ee)=>{const[te,b]=ee;this.incrementIncomingBytes_(ee),this.myPacketOrderer.handleResponse(te,b)},()=>{this.onClosed_()},this.urlFn);const m={};m[FIREBASE_LONGPOLL_START_PARAM]="t",m[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(m[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=this.scriptTagHolder.uniqueCallbackIdentifier),m[VERSION_PARAM]=PROTOCOL_VERSION,this.transportSessionId&&(m[TRANSPORT_SESSION_PARAM]=this.transportSessionId),this.lastSessionId&&(m[LAST_SESSION_PARAM]=this.lastSessionId),this.applicationId&&(m[APPLICATION_ID_PARAM]=this.applicationId),this.appCheckToken&&(m[APP_CHECK_TOKEN_PARAM]=this.appCheckToken),typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(m[REFERER_PARAM]=FORGE_REF);const $=this.urlFn(m);this.log_("Connecting via long-poll to "+$),this.scriptTagHolder.addTag($,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){BrowserPollConnection.forceAllow_=!0}static forceDisallow(){BrowserPollConnection.forceDisallow_=!0}static isAvailable(){return BrowserPollConnection.forceAllow_?!0:!BrowserPollConnection.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(a){const d=stringify(a);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const m=base64Encode(d),$=splitStringBySize(m,MAX_PAYLOAD_SIZE);for(let ee=0;ee<$.length;ee++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,$.length,$[ee]),this.curSegmentNum++}addDisconnectPingFrame(a,d){this.myDisconnFrame=document.createElement("iframe");const m={};m[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",m[FIREBASE_LONGPOLL_ID_PARAM]=a,m[FIREBASE_LONGPOLL_PW_PARAM]=d,this.myDisconnFrame.src=this.urlFn(m),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(a){const d=stringify(a).length;this.bytesReceived+=d,this.stats_.incrementCounter("bytes_received",d)}}class FirebaseIFrameScriptHolder{constructor(a,d,m,$){this.onDisconnect=m,this.urlFn=$,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=a,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=d,this.myIFrame=FirebaseIFrameScriptHolder.createIFrame_();let ee="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){const b=document.domain;ee='<script>document.domain="'+b+'";<\/script>'}const te="<html><body>"+ee+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(te),this.myIFrame.doc.close()}catch(b){log$1("frame writing exception"),b.stack&&log$1(b.stack),log$1(b)}}}static createIFrame_(){const a=document.createElement("iframe");if(a.style.display="none",document.body){document.body.appendChild(a);try{a.contentWindow.document||log$1("No IE domain setting required")}catch{const m=document.domain;a.src="javascript:void((function(){document.open();document.domain='"+m+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return a.contentDocument?a.doc=a.contentDocument:a.contentWindow?a.doc=a.contentWindow.document:a.document&&(a.doc=a.document),a}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const a=this.onDisconnect;a&&(this.onDisconnect=null,a())}startLongPoll(a,d){for(this.myID=a,this.myPW=d,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const a={};a[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,a[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,a[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;let d=this.urlFn(a),m="",$=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+SEG_HEADER_SIZE+m.length<=MAX_URL_DATA_SIZE;){const te=this.pendingSegs.shift();m=m+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+$+"="+te.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+$+"="+te.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+$+"="+te.d,$++}return d=d+m,this.addLongPollTag_(d,this.currentSerial),!0}else return!1}enqueueSegment(a,d,m){this.pendingSegs.push({seg:a,ts:d,d:m}),this.alive&&this.newRequest_()}addLongPollTag_(a,d){this.outstandingRequests.add(d);const m=()=>{this.outstandingRequests.delete(d),this.newRequest_()},$=setTimeout(m,Math.floor(KEEPALIVE_REQUEST_INTERVAL)),ee=()=>{clearTimeout($),m()};this.addTag(a,ee)}addTag(a,d){setTimeout(()=>{try{if(!this.sendNewPolls)return;const m=this.myIFrame.doc.createElement("script");m.type="text/javascript",m.async=!0,m.src=a,m.onload=m.onreadystatechange=function(){const $=m.readyState;(!$||$==="loaded"||$==="complete")&&(m.onload=m.onreadystatechange=null,m.parentNode&&m.parentNode.removeChild(m),d())},m.onerror=()=>{log$1("Long-poll script failed to load: "+a),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(m)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3;let WebSocketImpl=null;typeof MozWebSocket<"u"?WebSocketImpl=MozWebSocket:typeof WebSocket<"u"&&(WebSocketImpl=WebSocket);class WebSocketConnection{constructor(a,d,m,$,ee,te,b){this.connId=a,this.applicationId=m,this.appCheckToken=$,this.authToken=ee,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(d),this.connURL=WebSocketConnection.connectionURL_(d,te,b,$,m),this.nodeAdmin=d.nodeAdmin}static connectionURL_(a,d,m,$,ee){const te={};return te[VERSION_PARAM]=PROTOCOL_VERSION,typeof location<"u"&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(te[REFERER_PARAM]=FORGE_REF),d&&(te[TRANSPORT_SESSION_PARAM]=d),m&&(te[LAST_SESSION_PARAM]=m),$&&(te[APP_CHECK_TOKEN_PARAM]=$),ee&&(te[APPLICATION_ID_PARAM]=ee),repoInfoConnectionURL(a,WEBSOCKET,te)}open(a,d){this.onDisconnect=d,this.onMessage=a,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{let m;isNodeSdk(),this.mySock=new WebSocketImpl(this.connURL,[],m)}catch(m){this.log_("Error instantiating WebSocket.");const $=m.message||m.data;$&&this.log_($),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=m=>{this.handleIncomingFrame(m)},this.mySock.onerror=m=>{this.log_("WebSocket error.  Closing connection.");const $=m.message||m.data;$&&this.log_($),this.onClosed_()}}start(){}static forceDisallow(){WebSocketConnection.forceDisallow_=!0}static isAvailable(){let a=!1;if(typeof navigator<"u"&&navigator.userAgent){const d=/Android ([0-9]{0,}\.[0-9]{0,})/,m=navigator.userAgent.match(d);m&&m.length>1&&parseFloat(m[1])<4.4&&(a=!0)}return!a&&WebSocketImpl!==null&&!WebSocketConnection.forceDisallow_}static previouslyFailed(){return PersistentStorage.isInMemoryStorage||PersistentStorage.get("previous_websocket_failure")===!0}markConnectionHealthy(){PersistentStorage.remove("previous_websocket_failure")}appendFrame_(a){if(this.frames.push(a),this.frames.length===this.totalFrames){const d=this.frames.join("");this.frames=null;const m=jsonEval(d);this.onMessage(m)}}handleNewFrameCount_(a){this.totalFrames=a,this.frames=[]}extractFrameCount_(a){if(assert(this.frames===null,"We already have a frame buffer"),a.length<=6){const d=Number(a);if(!isNaN(d))return this.handleNewFrameCount_(d),null}return this.handleNewFrameCount_(1),a}handleIncomingFrame(a){if(this.mySock===null)return;const d=a.data;if(this.bytesReceived+=d.length,this.stats_.incrementCounter("bytes_received",d.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(d);else{const m=this.extractFrameCount_(d);m!==null&&this.appendFrame_(m)}}send(a){this.resetKeepAlive();const d=stringify(a);this.bytesSent+=d.length,this.stats_.incrementCounter("bytes_sent",d.length);const m=splitStringBySize(d,WEBSOCKET_MAX_FRAME_SIZE);m.length>1&&this.sendString_(String(m.length));for(let $=0;$<m.length;$++)this.sendString_(m[$])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))}sendString_(a){try{this.mySock.send(a)}catch(d){this.log_("Exception thrown from WebSocket.send():",d.message||d.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}WebSocketConnection.responsesRequiredToBeHealthy=2;WebSocketConnection.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransportManager{constructor(a){this.initTransports_(a)}static get ALL_TRANSPORTS(){return[BrowserPollConnection,WebSocketConnection]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(a){const d=WebSocketConnection&&WebSocketConnection.isAvailable();let m=d&&!WebSocketConnection.previouslyFailed();if(a.webSocketOnly&&(d||warn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),m=!0),m)this.transports_=[WebSocketConnection];else{const $=this.transports_=[];for(const ee of TransportManager.ALL_TRANSPORTS)ee&&ee.isAvailable()&&$.push(ee);TransportManager.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}TransportManager.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10*1024,BYTES_RECEIVED_HEALTHY_OVERRIDE=100*1024,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h";class Connection{constructor(a,d,m,$,ee,te,b,re,ne,ie){this.id=a,this.repoInfo_=d,this.applicationId_=m,this.appCheckToken_=$,this.authToken_=ee,this.onMessage_=te,this.onReady_=b,this.onDisconnect_=re,this.onKill_=ne,this.lastSessionId=ie,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(d),this.log_("Connection created"),this.start_()}start_(){const a=this.transportManager_.initialTransport();this.conn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.conn_),m=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(d,m)},Math.floor(0));const $=a.healthyTimeout||0;$>0&&(this.healthyTimeout_=setTimeoutNonBlocking(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor($)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(a){return d=>{a===this.conn_?this.onConnectionLost_(d):a===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(a){return d=>{this.state_!==2&&(a===this.rx_?this.onPrimaryMessageReceived_(d):a===this.secondaryConn_?this.onSecondaryMessageReceived_(d):this.log_("message on old connection"))}}sendRequest(a){const d={t:"d",d:a};this.sendData_(d)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(a){if(MESSAGE_TYPE in a){const d=a[MESSAGE_TYPE];d===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():d===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):d===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(a){const d=requireKey("t",a),m=requireKey("d",a);if(d==="c")this.onSecondaryControl_(m);else if(d==="d")this.pendingDataMessages.push(m);else throw new Error("Unknown protocol layer: "+d)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(a){const d=requireKey("t",a),m=requireKey("d",a);d==="c"?this.onControl_(m):d==="d"&&this.onDataMessage_(m)}onDataMessage_(a){this.onPrimaryResponse_(),this.onMessage_(a)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(a){const d=requireKey(MESSAGE_TYPE,a);if(MESSAGE_DATA in a){const m=a[MESSAGE_DATA];if(d===SERVER_HELLO)this.onHandshake_(m);else if(d===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let $=0;$<this.pendingDataMessages.length;++$)this.onDataMessage_(this.pendingDataMessages[$]);this.pendingDataMessages=[],this.tryCleanupConnection()}else d===CONTROL_SHUTDOWN?this.onConnectionShutdown_(m):d===CONTROL_RESET?this.onReset_(m):d===CONTROL_ERROR?error("Server Error: "+m):d===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+d)}}onHandshake_(a){const d=a.ts,m=a.v,$=a.h;this.sessionId=a.s,this.repoInfo_.host=$,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,d),PROTOCOL_VERSION!==m&&warn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const a=this.transportManager_.upgradeTransport();a&&this.startUpgrade_(a)}startUpgrade_(a){this.secondaryConn_=new a(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=a.responsesRequiredToBeHealthy||0;const d=this.connReceiver_(this.secondaryConn_),m=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(d,m),setTimeoutNonBlocking(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UPGRADE_TIMEOUT))}onReset_(a){this.log_("Reset packet received.  New host: "+a),this.repoInfo_.host=a,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(a,d){this.log_("Realtime connection established."),this.conn_=a,this.state_=1,this.onReady_&&(this.onReady_(d,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))}onSecondaryConnectionLost_(){const a=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===a||this.rx_===a)&&this.close()}onConnectionLost_(a){this.conn_=null,!a&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(a){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(a),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(a){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(a)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ServerActions{put(a,d,m,$){}merge(a,d,m,$){}refreshAuthToken(a){}refreshAppCheckToken(a){}onDisconnectPut(a,d,m){}onDisconnectMerge(a,d,m){}onDisconnectCancel(a,d){}reportStats(a){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventEmitter$1{constructor(a){this.allowedEvents_=a,this.listeners_={},assert(Array.isArray(a)&&a.length>0,"Requires a non-empty array")}trigger(a,...d){if(Array.isArray(this.listeners_[a])){const m=[...this.listeners_[a]];for(let $=0;$<m.length;$++)m[$].callback.apply(m[$].context,d)}}on(a,d,m){this.validateEventType_(a),this.listeners_[a]=this.listeners_[a]||[],this.listeners_[a].push({callback:d,context:m});const $=this.getInitialEvent(a);$&&d.apply(m,$)}off(a,d,m){this.validateEventType_(a);const $=this.listeners_[a]||[];for(let ee=0;ee<$.length;ee++)if($[ee].callback===d&&(!m||m===$[ee].context)){$.splice(ee,1);return}}validateEventType_(a){assert(this.allowedEvents_.find(d=>d===a),"Unknown event: "+a)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OnlineMonitor extends EventEmitter$1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!isMobileCordova()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new OnlineMonitor}getInitialEvent(a){return assert(a==="online","Unknown event type: "+a),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768;class Path{constructor(a,d){if(d===void 0){this.pieces_=a.split("/");let m=0;for(let $=0;$<this.pieces_.length;$++)this.pieces_[$].length>0&&(this.pieces_[m]=this.pieces_[$],m++);this.pieces_.length=m,this.pieceNum_=0}else this.pieces_=a,this.pieceNum_=d}toString(){let a="";for(let d=this.pieceNum_;d<this.pieces_.length;d++)this.pieces_[d]!==""&&(a+="/"+this.pieces_[d]);return a||"/"}}function newEmptyPath(){return new Path("")}function pathGetFront(u){return u.pieceNum_>=u.pieces_.length?null:u.pieces_[u.pieceNum_]}function pathGetLength(u){return u.pieces_.length-u.pieceNum_}function pathPopFront(u){let a=u.pieceNum_;return a<u.pieces_.length&&a++,new Path(u.pieces_,a)}function pathGetBack(u){return u.pieceNum_<u.pieces_.length?u.pieces_[u.pieces_.length-1]:null}function pathToUrlEncodedString(u){let a="";for(let d=u.pieceNum_;d<u.pieces_.length;d++)u.pieces_[d]!==""&&(a+="/"+encodeURIComponent(String(u.pieces_[d])));return a||"/"}function pathSlice(u,a=0){return u.pieces_.slice(u.pieceNum_+a)}function pathParent(u){if(u.pieceNum_>=u.pieces_.length)return null;const a=[];for(let d=u.pieceNum_;d<u.pieces_.length-1;d++)a.push(u.pieces_[d]);return new Path(a,0)}function pathChild(u,a){const d=[];for(let m=u.pieceNum_;m<u.pieces_.length;m++)d.push(u.pieces_[m]);if(a instanceof Path)for(let m=a.pieceNum_;m<a.pieces_.length;m++)d.push(a.pieces_[m]);else{const m=a.split("/");for(let $=0;$<m.length;$++)m[$].length>0&&d.push(m[$])}return new Path(d,0)}function pathIsEmpty(u){return u.pieceNum_>=u.pieces_.length}function newRelativePath(u,a){const d=pathGetFront(u),m=pathGetFront(a);if(d===null)return a;if(d===m)return newRelativePath(pathPopFront(u),pathPopFront(a));throw new Error("INTERNAL ERROR: innerPath ("+a+") is not within outerPath ("+u+")")}function pathEquals(u,a){if(pathGetLength(u)!==pathGetLength(a))return!1;for(let d=u.pieceNum_,m=a.pieceNum_;d<=u.pieces_.length;d++,m++)if(u.pieces_[d]!==a.pieces_[m])return!1;return!0}function pathContains(u,a){let d=u.pieceNum_,m=a.pieceNum_;if(pathGetLength(u)>pathGetLength(a))return!1;for(;d<u.pieces_.length;){if(u.pieces_[d]!==a.pieces_[m])return!1;++d,++m}return!0}class ValidationPath{constructor(a,d){this.errorPrefix_=d,this.parts_=pathSlice(a,0),this.byteLength_=Math.max(1,this.parts_.length);for(let m=0;m<this.parts_.length;m++)this.byteLength_+=stringLength(this.parts_[m]);validationPathCheckValid(this)}}function validationPathPush(u,a){u.parts_.length>0&&(u.byteLength_+=1),u.parts_.push(a),u.byteLength_+=stringLength(a),validationPathCheckValid(u)}function validationPathPop(u){const a=u.parts_.pop();u.byteLength_-=stringLength(a),u.parts_.length>0&&(u.byteLength_-=1)}function validationPathCheckValid(u){if(u.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(u.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+u.byteLength_+").");if(u.parts_.length>MAX_PATH_DEPTH)throw new Error(u.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(u))}function validationPathToErrorString(u){return u.parts_.length===0?"":"in property '"+u.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VisibilityMonitor extends EventEmitter$1{constructor(){super(["visible"]);let a,d;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(d="visibilitychange",a="hidden"):typeof document.mozHidden<"u"?(d="mozvisibilitychange",a="mozHidden"):typeof document.msHidden<"u"?(d="msvisibilitychange",a="msHidden"):typeof document.webkitHidden<"u"&&(d="webkitvisibilitychange",a="webkitHidden")),this.visible_=!0,d&&document.addEventListener(d,()=>{const m=!document[a];m!==this.visible_&&(this.visible_=m,this.trigger("visible",m))},!1)}static getInstance(){return new VisibilityMonitor}getInitialEvent(a){return assert(a==="visible","Unknown event type: "+a),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=60*5*1e3,RECONNECT_MAX_DELAY_FOR_ADMINS=30*1e3,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3;class PersistentConnection extends ServerActions{constructor(a,d,m,$,ee,te,b,re){if(super(),this.repoInfo_=a,this.applicationId_=d,this.onDataUpdate_=m,this.onConnectStatus_=$,this.onServerInfoUpdate_=ee,this.authTokenProvider_=te,this.appCheckTokenProvider_=b,this.authOverride_=re,this.id=PersistentConnection.nextPersistentConnectionId_++,this.log_=logWrapper("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RECONNECT_MIN_DELAY,this.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,re&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VisibilityMonitor.getInstance().on("visible",this.onVisible_,this),a.host.indexOf("fblocal")===-1&&OnlineMonitor.getInstance().on("online",this.onOnline_,this)}sendRequest(a,d,m){const $=++this.requestNumber_,ee={r:$,a,b:d};this.log_(stringify(ee)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(ee),m&&(this.requestCBHash_[$]=m)}get(a){this.initConnection_();const d=new Deferred,m={p:a._path.toString(),q:a._queryObject},$={action:"g",request:m,onComplete:te=>{const b=te.d;te.s==="ok"?d.resolve(b):d.reject(b)}};this.outstandingGets_.push($),this.outstandingGetCount_++;const ee=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(ee),d.promise}listen(a,d,m,$){this.initConnection_();const ee=a._queryIdentifier,te=a._path.toString();this.log_("Listen called for "+te+" "+ee),this.listens.has(te)||this.listens.set(te,new Map),assert(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(te).has(ee),"listen() called twice for same path/queryId.");const b={onComplete:$,hashFn:d,query:a,tag:m};this.listens.get(te).set(ee,b),this.connected_&&this.sendListen_(b)}sendGet_(a){const d=this.outstandingGets_[a];this.sendRequest("g",d.request,m=>{delete this.outstandingGets_[a],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),d.onComplete&&d.onComplete(m)})}sendListen_(a){const d=a.query,m=d._path.toString(),$=d._queryIdentifier;this.log_("Listen on "+m+" for "+$);const ee={p:m},te="q";a.tag&&(ee.q=d._queryObject,ee.t=a.tag),ee.h=a.hashFn(),this.sendRequest(te,ee,b=>{const re=b.d,ne=b.s;PersistentConnection.warnOnListenWarnings_(re,d),(this.listens.get(m)&&this.listens.get(m).get($))===a&&(this.log_("listen response",b),ne!=="ok"&&this.removeListen_(m,$),a.onComplete&&a.onComplete(ne,re))})}static warnOnListenWarnings_(a,d){if(a&&typeof a=="object"&&contains$1(a,"w")){const m=safeGet(a,"w");if(Array.isArray(m)&&~m.indexOf("no_index")){const $='".indexOn": "'+d._queryParams.getIndex().toString()+'"',ee=d._path.toString();warn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${$} at ${ee} to your security rules for better performance.`)}}}refreshAuthToken(a){this.authToken_=a,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(a)}reduceReconnectDelayIfAdminCredential_(a){(a&&a.length===40||isAdmin(a))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)}refreshAppCheckToken(a){this.appCheckToken_=a,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const a=this.authToken_,d=isValidFormat(a)?"auth":"gauth",m={cred:a};this.authOverride_===null?m.noauth=!0:typeof this.authOverride_=="object"&&(m.authvar=this.authOverride_),this.sendRequest(d,m,$=>{const ee=$.s,te=$.d||"error";this.authToken_===a&&(ee==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(ee,te))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},a=>{const d=a.s,m=a.d||"error";d==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(d,m)})}unlisten(a,d){const m=a._path.toString(),$=a._queryIdentifier;this.log_("Unlisten called for "+m+" "+$),assert(a._queryParams.isDefault()||!a._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(m,$)&&this.connected_&&this.sendUnlisten_(m,$,a._queryObject,d)}sendUnlisten_(a,d,m,$){this.log_("Unlisten on "+a+" for "+d);const ee={p:a},te="n";$&&(ee.q=m,ee.t=$),this.sendRequest(te,ee)}onDisconnectPut(a,d,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",a,d,m):this.onDisconnectRequestQueue_.push({pathString:a,action:"o",data:d,onComplete:m})}onDisconnectMerge(a,d,m){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",a,d,m):this.onDisconnectRequestQueue_.push({pathString:a,action:"om",data:d,onComplete:m})}onDisconnectCancel(a,d){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",a,null,d):this.onDisconnectRequestQueue_.push({pathString:a,action:"oc",data:null,onComplete:d})}sendOnDisconnect_(a,d,m,$){const ee={p:d,d:m};this.log_("onDisconnect "+a,ee),this.sendRequest(a,ee,te=>{$&&setTimeout(()=>{$(te.s,te.d)},Math.floor(0))})}put(a,d,m,$){this.putInternal("p",a,d,m,$)}merge(a,d,m,$){this.putInternal("m",a,d,m,$)}putInternal(a,d,m,$,ee){this.initConnection_();const te={p:d,d:m};ee!==void 0&&(te.h=ee),this.outstandingPuts_.push({action:a,request:te,onComplete:$}),this.outstandingPutCount_++;const b=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(b):this.log_("Buffering put: "+d)}sendPut_(a){const d=this.outstandingPuts_[a].action,m=this.outstandingPuts_[a].request,$=this.outstandingPuts_[a].onComplete;this.outstandingPuts_[a].queued=this.connected_,this.sendRequest(d,m,ee=>{this.log_(d+" response",ee),delete this.outstandingPuts_[a],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),$&&$(ee.s,ee.d)})}reportStats(a){if(this.connected_){const d={c:a};this.log_("reportStats",d),this.sendRequest("s",d,m=>{if(m.s!=="ok"){const ee=m.d;this.log_("reportStats","Error sending stats: "+ee)}})}}onDataMessage_(a){if("r"in a){this.log_("from server: "+stringify(a));const d=a.r,m=this.requestCBHash_[d];m&&(delete this.requestCBHash_[d],m(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&this.onDataPush_(a.a,a.b)}}onDataPush_(a,d){this.log_("handleServerMessage",a,d),a==="d"?this.onDataUpdate_(d.p,d.d,!1,d.t):a==="m"?this.onDataUpdate_(d.p,d.d,!0,d.t):a==="c"?this.onListenRevoked_(d.p,d.q):a==="ac"?this.onAuthRevoked_(d.s,d.d):a==="apc"?this.onAppCheckRevoked_(d.s,d.d):a==="sd"?this.onSecurityDebugPacket_(d):error("Unrecognized action received from server: "+stringify(a)+`
Are you using the latest client?`)}onReady_(a,d){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(a),this.lastSessionId=d,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(a){assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(a))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(a){a&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=a}onOnline_(a){a?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const a=new Date().getTime()-this.lastConnectionAttemptTime_;let d=Math.max(0,this.reconnectDelay_-a);d=Math.random()*d,this.log_("Trying to reconnect in "+d+"ms"),this.scheduleConnect_(d),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const a=this.onDataMessage_.bind(this),d=this.onReady_.bind(this),m=this.onRealtimeDisconnect_.bind(this),$=this.id+":"+PersistentConnection.nextConnectionId_++,ee=this.lastSessionId;let te=!1,b=null;const re=function(){b?b.close():(te=!0,m())},ne=function(se){assert(b,"sendRequest call when we're not connected not allowed."),b.sendRequest(se)};this.realtime_={close:re,sendRequest:ne};const ie=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[se,fe]=await Promise.all([this.authTokenProvider_.getToken(ie),this.appCheckTokenProvider_.getToken(ie)]);te?log$1("getToken() completed but was canceled"):(log$1("getToken() completed. Creating connection."),this.authToken_=se&&se.accessToken,this.appCheckToken_=fe&&fe.token,b=new Connection($,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,a,d,m,ce=>{warn(ce+" ("+this.repoInfo_.toString()+")"),this.interrupt(SERVER_KILL_INTERRUPT_REASON)},ee))}catch(se){this.log_("Failed to get token: "+se),te||(this.repoInfo_.nodeAdmin&&warn(se),re())}}}interrupt(a){log$1("Interrupting connection for reason: "+a),this.interruptReasons_[a]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(a){log$1("Resuming connection for reason: "+a),delete this.interruptReasons_[a],isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(a){const d=a-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:d})}cancelSentTransactions_(){for(let a=0;a<this.outstandingPuts_.length;a++){const d=this.outstandingPuts_[a];d&&"h"in d.request&&d.queued&&(d.onComplete&&d.onComplete("disconnect"),delete this.outstandingPuts_[a],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(a,d){let m;d?m=d.map(ee=>ObjectToUniqueKey(ee)).join("$"):m="default";const $=this.removeListen_(a,m);$&&$.onComplete&&$.onComplete("permission_denied")}removeListen_(a,d){const m=new Path(a).toString();let $;if(this.listens.has(m)){const ee=this.listens.get(m);$=ee.get(d),ee.delete(d),ee.size===0&&this.listens.delete(m)}else $=void 0;return $}onAuthRevoked_(a,d){log$1("Auth token revoked: "+a+"/"+d),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(a==="invalid_token"||a==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(a,d){log$1("App check token revoked: "+a+"/"+d),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(a==="invalid_token"||a==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(a){this.securityDebugCallback_?this.securityDebugCallback_(a):"msg"in a&&console.log("FIREBASE: "+a.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const a of this.listens.values())for(const d of a.values())this.sendListen_(d);for(let a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){const a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(let a=0;a<this.outstandingGets_.length;a++)this.outstandingGets_[a]&&this.sendGet_(a)}sendConnectStats_(){const a={};let d="js";a["sdk."+d+"."+SDK_VERSION.replace(/\./g,"-")]=1,isMobileCordova()?a["framework.cordova"]=1:isReactNative()&&(a["framework.reactnative"]=1),this.reportStats(a)}shouldReconnect_(){const a=OnlineMonitor.getInstance().currentlyOnline();return isEmpty(this.interruptReasons_)&&a}}PersistentConnection.nextPersistentConnectionId_=0;PersistentConnection.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NamedNode{constructor(a,d){this.name=a,this.node=d}static Wrap(a,d){return new NamedNode(a,d)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Index{getCompare(){return this.compare.bind(this)}indexedValueChanged(a,d){const m=new NamedNode(MIN_NAME,a),$=new NamedNode(MIN_NAME,d);return this.compare(m,$)!==0}minPost(){return NamedNode.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __EMPTY_NODE;class KeyIndex extends Index{static get __EMPTY_NODE(){return __EMPTY_NODE}static set __EMPTY_NODE(a){__EMPTY_NODE=a}compare(a,d){return nameCompare(a.name,d.name)}isDefinedOn(a){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(a,d){return!1}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,__EMPTY_NODE)}makePost(a,d){return assert(typeof a=="string","KeyIndex indexValue must always be a string."),new NamedNode(a,__EMPTY_NODE)}toString(){return".key"}}const KEY_INDEX=new KeyIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMapIterator{constructor(a,d,m,$,ee=null){this.isReverse_=$,this.resultGenerator_=ee,this.nodeStack_=[];let te=1;for(;!a.isEmpty();)if(a=a,te=d?m(a.key,d):1,$&&(te*=-1),te<0)this.isReverse_?a=a.left:a=a.right;else if(te===0){this.nodeStack_.push(a);break}else this.nodeStack_.push(a),this.isReverse_?a=a.right:a=a.left}getNext(){if(this.nodeStack_.length===0)return null;let a=this.nodeStack_.pop(),d;if(this.resultGenerator_?d=this.resultGenerator_(a.key,a.value):d={key:a.key,value:a.value},this.isReverse_)for(a=a.left;!a.isEmpty();)this.nodeStack_.push(a),a=a.right;else for(a=a.right;!a.isEmpty();)this.nodeStack_.push(a),a=a.left;return d}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const a=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(a.key,a.value):{key:a.key,value:a.value}}}class LLRBNode{constructor(a,d,m,$,ee){this.key=a,this.value=d,this.color=m??LLRBNode.RED,this.left=$??SortedMap.EMPTY_NODE,this.right=ee??SortedMap.EMPTY_NODE}copy(a,d,m,$,ee){return new LLRBNode(a??this.key,d??this.value,m??this.color,$??this.left,ee??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(a){return this.left.inorderTraversal(a)||!!a(this.key,this.value)||this.right.inorderTraversal(a)}reverseTraversal(a){return this.right.reverseTraversal(a)||a(this.key,this.value)||this.left.reverseTraversal(a)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(a,d,m){let $=this;const ee=m(a,$.key);return ee<0?$=$.copy(null,null,null,$.left.insert(a,d,m),null):ee===0?$=$.copy(null,d,null,null,null):$=$.copy(null,null,null,null,$.right.insert(a,d,m)),$.fixUp_()}removeMin_(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;let a=this;return!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.removeMin_(),null),a.fixUp_()}remove(a,d){let m,$;if(m=this,d(a,m.key)<0)!m.left.isEmpty()&&!m.left.isRed_()&&!m.left.left.isRed_()&&(m=m.moveRedLeft_()),m=m.copy(null,null,null,m.left.remove(a,d),null);else{if(m.left.isRed_()&&(m=m.rotateRight_()),!m.right.isEmpty()&&!m.right.isRed_()&&!m.right.left.isRed_()&&(m=m.moveRedRight_()),d(a,m.key)===0){if(m.right.isEmpty())return SortedMap.EMPTY_NODE;$=m.right.min_(),m=m.copy($.key,$.value,null,null,m.right.removeMin_())}m=m.copy(null,null,null,null,m.right.remove(a,d))}return m.fixUp_()}isRed_(){return this.color}fixUp_(){let a=this;return a.right.isRed_()&&!a.left.isRed_()&&(a=a.rotateLeft_()),a.left.isRed_()&&a.left.left.isRed_()&&(a=a.rotateRight_()),a.left.isRed_()&&a.right.isRed_()&&(a=a.colorFlip_()),a}moveRedLeft_(){let a=this.colorFlip_();return a.right.left.isRed_()&&(a=a.copy(null,null,null,null,a.right.rotateRight_()),a=a.rotateLeft_(),a=a.colorFlip_()),a}moveRedRight_(){let a=this.colorFlip_();return a.left.left.isRed_()&&(a=a.rotateRight_(),a=a.colorFlip_()),a}rotateLeft_(){const a=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,a,null)}rotateRight_(){const a=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,a)}colorFlip_(){const a=this.left.copy(null,null,!this.left.color,null,null),d=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,a,d)}checkMaxDepth_(){const a=this.check_();return Math.pow(2,a)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const a=this.left.check_();if(a!==this.right.check_())throw new Error("Black depths differ");return a+(this.isRed_()?0:1)}}LLRBNode.RED=!0;LLRBNode.BLACK=!1;class LLRBEmptyNode{copy(a,d,m,$,ee){return this}insert(a,d,m){return new LLRBNode(a,d,null)}remove(a,d){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class SortedMap{constructor(a,d=SortedMap.EMPTY_NODE){this.comparator_=a,this.root_=d}insert(a,d){return new SortedMap(this.comparator_,this.root_.insert(a,d,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}remove(a){return new SortedMap(this.comparator_,this.root_.remove(a,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))}get(a){let d,m=this.root_;for(;!m.isEmpty();){if(d=this.comparator_(a,m.key),d===0)return m.value;d<0?m=m.left:d>0&&(m=m.right)}return null}getPredecessorKey(a){let d,m=this.root_,$=null;for(;!m.isEmpty();)if(d=this.comparator_(a,m.key),d===0){if(m.left.isEmpty())return $?$.key:null;for(m=m.left;!m.right.isEmpty();)m=m.right;return m.key}else d<0?m=m.left:d>0&&($=m,m=m.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(a){return this.root_.inorderTraversal(a)}reverseTraversal(a){return this.root_.reverseTraversal(a)}getIterator(a){return new SortedMapIterator(this.root_,null,this.comparator_,!1,a)}getIteratorFrom(a,d){return new SortedMapIterator(this.root_,a,this.comparator_,!1,d)}getReverseIteratorFrom(a,d){return new SortedMapIterator(this.root_,a,this.comparator_,!0,d)}getReverseIterator(a){return new SortedMapIterator(this.root_,null,this.comparator_,!0,a)}}SortedMap.EMPTY_NODE=new LLRBEmptyNode;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NAME_ONLY_COMPARATOR(u,a){return nameCompare(u.name,a.name)}function NAME_COMPARATOR(u,a){return nameCompare(u,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MAX_NODE$2;function setMaxNode$1(u){MAX_NODE$2=u}const priorityHashText=function(u){return typeof u=="number"?"number:"+doubleToIEEE754String(u):"string:"+u},validatePriorityNode=function(u){if(u.isLeafNode()){const a=u.val();assert(typeof a=="string"||typeof a=="number"||typeof a=="object"&&contains$1(a,".sv"),"Priority must be a string or number.")}else assert(u===MAX_NODE$2||u.isEmpty(),"priority of unexpected type.");assert(u===MAX_NODE$2||u.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let __childrenNodeConstructor;class LeafNode{constructor(a,d=LeafNode.__childrenNodeConstructor.EMPTY_NODE){this.value_=a,this.priorityNode_=d,this.lazyHash_=null,assert(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}static set __childrenNodeConstructor(a){__childrenNodeConstructor=a}static get __childrenNodeConstructor(){return __childrenNodeConstructor}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(a){return new LeafNode(this.value_,a)}getImmediateChild(a){return a===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}getChild(a){return pathIsEmpty(a)?this:pathGetFront(a)===".priority"?this.priorityNode_:LeafNode.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(a,d){return null}updateImmediateChild(a,d){return a===".priority"?this.updatePriority(d):d.isEmpty()&&a!==".priority"?this:LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(a,d).updatePriority(this.priorityNode_)}updateChild(a,d){const m=pathGetFront(a);return m===null?d:d.isEmpty()&&m!==".priority"?this:(assert(m!==".priority"||pathGetLength(a)===1,".priority must be the last token in a path"),this.updateImmediateChild(m,LeafNode.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(a),d)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(a,d){return!1}val(a){return a&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let a="";this.priorityNode_.isEmpty()||(a+="priority:"+priorityHashText(this.priorityNode_.val())+":");const d=typeof this.value_;a+=d+":",d==="number"?a+=doubleToIEEE754String(this.value_):a+=this.value_,this.lazyHash_=sha1(a)}return this.lazyHash_}getValue(){return this.value_}compareTo(a){return a===LeafNode.__childrenNodeConstructor.EMPTY_NODE?1:a instanceof LeafNode.__childrenNodeConstructor?-1:(assert(a.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(a))}compareToLeafNode_(a){const d=typeof a.value_,m=typeof this.value_,$=LeafNode.VALUE_TYPE_ORDER.indexOf(d),ee=LeafNode.VALUE_TYPE_ORDER.indexOf(m);return assert($>=0,"Unknown leaf type: "+d),assert(ee>=0,"Unknown leaf type: "+m),$===ee?m==="object"?0:this.value_<a.value_?-1:this.value_===a.value_?0:1:ee-$}withIndex(){return this}isIndexed(){return!0}equals(a){if(a===this)return!0;if(a.isLeafNode()){const d=a;return this.value_===d.value_&&this.priorityNode_.equals(d.priorityNode_)}else return!1}}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(u){nodeFromJSON$1=u}function setMaxNode(u){MAX_NODE$1=u}class PriorityIndex extends Index{compare(a,d){const m=a.node.getPriority(),$=d.node.getPriority(),ee=m.compareTo($);return ee===0?nameCompare(a.name,d.name):ee}isDefinedOn(a){return!a.getPriority().isEmpty()}indexedValueChanged(a,d){return!a.getPriority().equals(d.getPriority())}minPost(){return NamedNode.MIN}maxPost(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))}makePost(a,d){const m=nodeFromJSON$1(a);return new NamedNode(d,new LeafNode("[PRIORITY-POST]",m))}toString(){return".priority"}}const PRIORITY_INDEX=new PriorityIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LOG_2=Math.log(2);class Base12Num{constructor(a){const d=ee=>parseInt(Math.log(ee)/LOG_2,10),m=ee=>parseInt(Array(ee+1).join("1"),2);this.count=d(a+1),this.current_=this.count-1;const $=m(this.count);this.bits_=a+1&$}nextBitIsOne(){const a=!(this.bits_&1<<this.current_);return this.current_--,a}}const buildChildSet=function(u,a,d,m){u.sort(a);const $=function(re,ne){const ie=ne-re;let se,fe;if(ie===0)return null;if(ie===1)return se=u[re],fe=d?d(se):se,new LLRBNode(fe,se.node,LLRBNode.BLACK,null,null);{const ce=parseInt(ie/2,10)+re,de=$(re,ce),ye=$(ce+1,ne);return se=u[ce],fe=d?d(se):se,new LLRBNode(fe,se.node,LLRBNode.BLACK,de,ye)}},ee=function(re){let ne=null,ie=null,se=u.length;const fe=function(de,ye){const ge=se-de,_e=se;se-=de;const Ee=$(ge+1,_e),Ae=u[ge],we=d?d(Ae):Ae;ce(new LLRBNode(we,Ae.node,ye,null,Ee))},ce=function(de){ne?(ne.left=de,ne=de):(ie=de,ne=de)};for(let de=0;de<re.count;++de){const ye=re.nextBitIsOne(),ge=Math.pow(2,re.count-(de+1));ye?fe(ge,LLRBNode.BLACK):(fe(ge,LLRBNode.BLACK),fe(ge,LLRBNode.RED))}return ie},te=new Base12Num(u.length),b=ee(te);return new SortedMap(m||a,b)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _defaultIndexMap;const fallbackObject={};class IndexMap{constructor(a,d){this.indexes_=a,this.indexSet_=d}static get Default(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new IndexMap({".priority":fallbackObject},{".priority":PRIORITY_INDEX}),_defaultIndexMap}get(a){const d=safeGet(this.indexes_,a);if(!d)throw new Error("No index defined for "+a);return d instanceof SortedMap?d:null}hasIndex(a){return contains$1(this.indexSet_,a.toString())}addIndex(a,d){assert(a!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const m=[];let $=!1;const ee=d.getIterator(NamedNode.Wrap);let te=ee.getNext();for(;te;)$=$||a.isDefinedOn(te.node),m.push(te),te=ee.getNext();let b;$?b=buildChildSet(m,a.getCompare()):b=fallbackObject;const re=a.toString(),ne=Object.assign({},this.indexSet_);ne[re]=a;const ie=Object.assign({},this.indexes_);return ie[re]=b,new IndexMap(ie,ne)}addToIndexes(a,d){const m=map(this.indexes_,($,ee)=>{const te=safeGet(this.indexSet_,ee);if(assert(te,"Missing index implementation for "+ee),$===fallbackObject)if(te.isDefinedOn(a.node)){const b=[],re=d.getIterator(NamedNode.Wrap);let ne=re.getNext();for(;ne;)ne.name!==a.name&&b.push(ne),ne=re.getNext();return b.push(a),buildChildSet(b,te.getCompare())}else return fallbackObject;else{const b=d.get(a.name);let re=$;return b&&(re=re.remove(new NamedNode(a.name,b))),re.insert(a,a.node)}});return new IndexMap(m,this.indexSet_)}removeFromIndexes(a,d){const m=map(this.indexes_,$=>{if($===fallbackObject)return $;{const ee=d.get(a.name);return ee?$.remove(new NamedNode(a.name,ee)):$}});return new IndexMap(m,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EMPTY_NODE;class ChildrenNode{constructor(a,d,m){this.children_=a,this.priorityNode_=d,this.indexMap_=m,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return EMPTY_NODE||(EMPTY_NODE=new ChildrenNode(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||EMPTY_NODE}updatePriority(a){return this.children_.isEmpty()?this:new ChildrenNode(this.children_,a,this.indexMap_)}getImmediateChild(a){if(a===".priority")return this.getPriority();{const d=this.children_.get(a);return d===null?EMPTY_NODE:d}}getChild(a){const d=pathGetFront(a);return d===null?this:this.getImmediateChild(d).getChild(pathPopFront(a))}hasChild(a){return this.children_.get(a)!==null}updateImmediateChild(a,d){if(assert(d,"We should always be passing snapshot nodes"),a===".priority")return this.updatePriority(d);{const m=new NamedNode(a,d);let $,ee;d.isEmpty()?($=this.children_.remove(a),ee=this.indexMap_.removeFromIndexes(m,this.children_)):($=this.children_.insert(a,d),ee=this.indexMap_.addToIndexes(m,this.children_));const te=$.isEmpty()?EMPTY_NODE:this.priorityNode_;return new ChildrenNode($,te,ee)}}updateChild(a,d){const m=pathGetFront(a);if(m===null)return d;{assert(pathGetFront(a)!==".priority"||pathGetLength(a)===1,".priority must be the last token in a path");const $=this.getImmediateChild(m).updateChild(pathPopFront(a),d);return this.updateImmediateChild(m,$)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(a){if(this.isEmpty())return null;const d={};let m=0,$=0,ee=!0;if(this.forEachChild(PRIORITY_INDEX,(te,b)=>{d[te]=b.val(a),m++,ee&&ChildrenNode.INTEGER_REGEXP_.test(te)?$=Math.max($,Number(te)):ee=!1}),!a&&ee&&$<2*m){const te=[];for(const b in d)te[b]=d[b];return te}else return a&&!this.getPriority().isEmpty()&&(d[".priority"]=this.getPriority().val()),d}hash(){if(this.lazyHash_===null){let a="";this.getPriority().isEmpty()||(a+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(d,m)=>{const $=m.hash();$!==""&&(a+=":"+d+":"+$)}),this.lazyHash_=a===""?"":sha1(a)}return this.lazyHash_}getPredecessorChildName(a,d,m){const $=this.resolveIndex_(m);if($){const ee=$.getPredecessorKey(new NamedNode(a,d));return ee?ee.name:null}else return this.children_.getPredecessorKey(a)}getFirstChildName(a){const d=this.resolveIndex_(a);if(d){const m=d.minKey();return m&&m.name}else return this.children_.minKey()}getFirstChild(a){const d=this.getFirstChildName(a);return d?new NamedNode(d,this.children_.get(d)):null}getLastChildName(a){const d=this.resolveIndex_(a);if(d){const m=d.maxKey();return m&&m.name}else return this.children_.maxKey()}getLastChild(a){const d=this.getLastChildName(a);return d?new NamedNode(d,this.children_.get(d)):null}forEachChild(a,d){const m=this.resolveIndex_(a);return m?m.inorderTraversal($=>d($.name,$.node)):this.children_.inorderTraversal(d)}getIterator(a){return this.getIteratorFrom(a.minPost(),a)}getIteratorFrom(a,d){const m=this.resolveIndex_(d);if(m)return m.getIteratorFrom(a,$=>$);{const $=this.children_.getIteratorFrom(a.name,NamedNode.Wrap);let ee=$.peek();for(;ee!=null&&d.compare(ee,a)<0;)$.getNext(),ee=$.peek();return $}}getReverseIterator(a){return this.getReverseIteratorFrom(a.maxPost(),a)}getReverseIteratorFrom(a,d){const m=this.resolveIndex_(d);if(m)return m.getReverseIteratorFrom(a,$=>$);{const $=this.children_.getReverseIteratorFrom(a.name,NamedNode.Wrap);let ee=$.peek();for(;ee!=null&&d.compare(ee,a)>0;)$.getNext(),ee=$.peek();return $}}compareTo(a){return this.isEmpty()?a.isEmpty()?0:-1:a.isLeafNode()||a.isEmpty()?1:a===MAX_NODE?-1:0}withIndex(a){if(a===KEY_INDEX||this.indexMap_.hasIndex(a))return this;{const d=this.indexMap_.addIndex(a,this.children_);return new ChildrenNode(this.children_,this.priorityNode_,d)}}isIndexed(a){return a===KEY_INDEX||this.indexMap_.hasIndex(a)}equals(a){if(a===this)return!0;if(a.isLeafNode())return!1;{const d=a;if(this.getPriority().equals(d.getPriority()))if(this.children_.count()===d.children_.count()){const m=this.getIterator(PRIORITY_INDEX),$=d.getIterator(PRIORITY_INDEX);let ee=m.getNext(),te=$.getNext();for(;ee&&te;){if(ee.name!==te.name||!ee.node.equals(te.node))return!1;ee=m.getNext(),te=$.getNext()}return ee===null&&te===null}else return!1;else return!1}}resolveIndex_(a){return a===KEY_INDEX?null:this.indexMap_.get(a.toString())}}ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class MaxNode extends ChildrenNode{constructor(){super(new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)}compareTo(a){return a===this?0:1}equals(a){return a===this}getPriority(){return this}getImmediateChild(a){return ChildrenNode.EMPTY_NODE}isEmpty(){return!1}}const MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}});KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE;LeafNode.__childrenNodeConstructor=ChildrenNode;setMaxNode$1(MAX_NODE);setMaxNode(MAX_NODE);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const USE_HINZE=!0;function nodeFromJSON(u,a=null){if(u===null)return ChildrenNode.EMPTY_NODE;if(typeof u=="object"&&".priority"in u&&(a=u[".priority"]),assert(a===null||typeof a=="string"||typeof a=="number"||typeof a=="object"&&".sv"in a,"Invalid priority type found: "+typeof a),typeof u=="object"&&".value"in u&&u[".value"]!==null&&(u=u[".value"]),typeof u!="object"||".sv"in u){const d=u;return new LeafNode(d,nodeFromJSON(a))}if(!(u instanceof Array)&&USE_HINZE){const d=[];let m=!1;if(each(u,(te,b)=>{if(te.substring(0,1)!=="."){const re=nodeFromJSON(b);re.isEmpty()||(m=m||!re.getPriority().isEmpty(),d.push(new NamedNode(te,re)))}}),d.length===0)return ChildrenNode.EMPTY_NODE;const ee=buildChildSet(d,NAME_ONLY_COMPARATOR,te=>te.name,NAME_COMPARATOR);if(m){const te=buildChildSet(d,PRIORITY_INDEX.getCompare());return new ChildrenNode(ee,nodeFromJSON(a),new IndexMap({".priority":te},{".priority":PRIORITY_INDEX}))}else return new ChildrenNode(ee,nodeFromJSON(a),IndexMap.Default)}else{let d=ChildrenNode.EMPTY_NODE;return each(u,(m,$)=>{if(contains$1(u,m)&&m.substring(0,1)!=="."){const ee=nodeFromJSON($);(ee.isLeafNode()||!ee.isEmpty())&&(d=d.updateImmediateChild(m,ee))}}),d.updatePriority(nodeFromJSON(a))}}setNodeFromJSON(nodeFromJSON);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PathIndex extends Index{constructor(a){super(),this.indexPath_=a,assert(!pathIsEmpty(a)&&pathGetFront(a)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(a){return a.getChild(this.indexPath_)}isDefinedOn(a){return!a.getChild(this.indexPath_).isEmpty()}compare(a,d){const m=this.extractChild(a.node),$=this.extractChild(d.node),ee=m.compareTo($);return ee===0?nameCompare(a.name,d.name):ee}makePost(a,d){const m=nodeFromJSON(a),$=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,m);return new NamedNode(d,$)}maxPost(){const a=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,a)}toString(){return pathSlice(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ValueIndex extends Index{compare(a,d){const m=a.node.compareTo(d.node);return m===0?nameCompare(a.name,d.name):m}isDefinedOn(a){return!0}indexedValueChanged(a,d){return!a.equals(d)}minPost(){return NamedNode.MIN}maxPost(){return NamedNode.MAX}makePost(a,d){const m=nodeFromJSON(a);return new NamedNode(d,m)}toString(){return".value"}}const VALUE_INDEX=new ValueIndex;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function changeValue(u){return{type:"value",snapshotNode:u}}function changeChildAdded(u,a){return{type:"child_added",snapshotNode:a,childName:u}}function changeChildRemoved(u,a){return{type:"child_removed",snapshotNode:a,childName:u}}function changeChildChanged(u,a,d){return{type:"child_changed",snapshotNode:a,childName:u,oldSnap:d}}function changeChildMoved(u,a){return{type:"child_moved",snapshotNode:a,childName:u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryParams{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME}hasEnd(){return this.endSet_}getIndexEndValue(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX}copy(){const a=new QueryParams;return a.limitSet_=this.limitSet_,a.limit_=this.limit_,a.startSet_=this.startSet_,a.indexStartValue_=this.indexStartValue_,a.startNameSet_=this.startNameSet_,a.indexStartName_=this.indexStartName_,a.endSet_=this.endSet_,a.indexEndValue_=this.indexEndValue_,a.endNameSet_=this.endNameSet_,a.indexEndName_=this.indexEndName_,a.index_=this.index_,a.viewFrom_=this.viewFrom_,a}}function queryParamsToRestQueryStringParameters(u){const a={};if(u.isDefault())return a;let d;return u.index_===PRIORITY_INDEX?d="$priority":u.index_===VALUE_INDEX?d="$value":u.index_===KEY_INDEX?d="$key":(assert(u.index_ instanceof PathIndex,"Unrecognized index type!"),d=u.index_.toString()),a.orderBy=stringify(d),u.startSet_&&(a.startAt=stringify(u.indexStartValue_),u.startNameSet_&&(a.startAt+=","+stringify(u.indexStartName_))),u.endSet_&&(a.endAt=stringify(u.indexEndValue_),u.endNameSet_&&(a.endAt+=","+stringify(u.indexEndName_))),u.limitSet_&&(u.isViewFromLeft()?a.limitToFirst=u.limit_:a.limitToLast=u.limit_),a}function queryParamsGetQueryObject(u){const a={};if(u.startSet_&&(a.sp=u.indexStartValue_,u.startNameSet_&&(a.sn=u.indexStartName_)),u.endSet_&&(a.ep=u.indexEndValue_,u.endNameSet_&&(a.en=u.indexEndName_)),u.limitSet_){a.l=u.limit_;let d=u.viewFrom_;d===""&&(u.isViewFromLeft()?d="l":d="r"),a.vf=d}return u.index_!==PRIORITY_INDEX&&(a.i=u.index_.toString()),a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ReadonlyRestClient extends ServerActions{constructor(a,d,m,$){super(),this.repoInfo_=a,this.onDataUpdate_=d,this.authTokenProvider_=m,this.appCheckTokenProvider_=$,this.log_=logWrapper("p:rest:"),this.listens_={}}reportStats(a){throw new Error("Method not implemented.")}static getListenId_(a,d){return d!==void 0?"tag$"+d:(assert(a._queryParams.isDefault(),"should have a tag if it's not a default query."),a._path.toString())}listen(a,d,m,$){const ee=a._path.toString();this.log_("Listen called for "+ee+" "+a._queryIdentifier);const te=ReadonlyRestClient.getListenId_(a,m),b={};this.listens_[te]=b;const re=queryParamsToRestQueryStringParameters(a._queryParams);this.restRequest_(ee+".json",re,(ne,ie)=>{let se=ie;if(ne===404&&(se=null,ne=null),ne===null&&this.onDataUpdate_(ee,se,!1,m),safeGet(this.listens_,te)===b){let fe;ne?ne===401?fe="permission_denied":fe="rest_error:"+ne:fe="ok",$(fe,null)}})}unlisten(a,d){const m=ReadonlyRestClient.getListenId_(a,d);delete this.listens_[m]}get(a){const d=queryParamsToRestQueryStringParameters(a._queryParams),m=a._path.toString(),$=new Deferred;return this.restRequest_(m+".json",d,(ee,te)=>{let b=te;ee===404&&(b=null,ee=null),ee===null?(this.onDataUpdate_(m,b,!1,null),$.resolve(b)):$.reject(new Error(b))}),$.promise}refreshAuthToken(a){}restRequest_(a,d={},m){return d.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([$,ee])=>{$&&$.accessToken&&(d.auth=$.accessToken),ee&&ee.token&&(d.ac=ee.token);const te=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+a+"?ns="+this.repoInfo_.namespace+querystring(d);this.log_("Sending REST request for "+te);const b=new XMLHttpRequest;b.onreadystatechange=()=>{if(m&&b.readyState===4){this.log_("REST Response for "+te+" received. status:",b.status,"response:",b.responseText);let re=null;if(b.status>=200&&b.status<300){try{re=jsonEval(b.responseText)}catch{warn("Failed to parse JSON response for "+te+": "+b.responseText)}m(null,re)}else b.status!==401&&b.status!==404&&warn("Got unsuccessful REST response for "+te+" Status: "+b.status),m(b.status);m=null}},b.open("GET",te,!0),b.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotHolder{constructor(){this.rootNode_=ChildrenNode.EMPTY_NODE}getNode(a){return this.rootNode_.getChild(a)}updateSnapshot(a,d){this.rootNode_=this.rootNode_.updateChild(a,d)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(u,a,d){if(pathIsEmpty(a))u.value=d,u.children.clear();else if(u.value!==null)u.value=u.value.updateChild(a,d);else{const m=pathGetFront(a);u.children.has(m)||u.children.set(m,newSparseSnapshotTree());const $=u.children.get(m);a=pathPopFront(a),sparseSnapshotTreeRemember($,a,d)}}function sparseSnapshotTreeForEachTree(u,a,d){u.value!==null?d(a,u.value):sparseSnapshotTreeForEachChild(u,(m,$)=>{const ee=new Path(a.toString()+"/"+m);sparseSnapshotTreeForEachTree($,ee,d)})}function sparseSnapshotTreeForEachChild(u,a){u.children.forEach((d,m)=>{a(m,d)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StatsListener{constructor(a){this.collection_=a,this.last_=null}get(){const a=this.collection_.get(),d=Object.assign({},a);return this.last_&&each(this.last_,(m,$)=>{d[m]=d[m]-$}),this.last_=a,d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIRST_STATS_MIN_TIME=10*1e3,FIRST_STATS_MAX_TIME=30*1e3,REPORT_STATS_INTERVAL=5*60*1e3;class StatsReporter{constructor(a,d){this.server_=d,this.statsToReport_={},this.statsListener_=new StatsListener(a);const m=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(m))}reportStats_(){const a=this.statsListener_.get(),d={};let m=!1;each(a,($,ee)=>{ee>0&&contains$1(this.statsToReport_,$)&&(d[$]=ee,m=!0)}),m&&this.server_.reportStats(d),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(Math.random()*2*REPORT_STATS_INTERVAL))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OperationType;(function(u){u[u.OVERWRITE=0]="OVERWRITE",u[u.MERGE=1]="MERGE",u[u.ACK_USER_WRITE=2]="ACK_USER_WRITE",u[u.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(OperationType||(OperationType={}));function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(u){return{fromUser:!1,fromServer:!0,queryId:u,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AckUserWrite{constructor(a,d,m){this.path=a,this.affectedTree=d,this.revert=m,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}operationForChild(a){if(pathIsEmpty(this.path)){if(this.affectedTree.value!=null)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const d=this.affectedTree.subtree(new Path(a));return new AckUserWrite(newEmptyPath(),d,this.revert)}}else return assert(pathGetFront(this.path)===a,"operationForChild called for unrelated child."),new AckUserWrite(pathPopFront(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overwrite{constructor(a,d,m){this.source=a,this.path=d,this.snap=m,this.type=OperationType.OVERWRITE}operationForChild(a){return pathIsEmpty(this.path)?new Overwrite(this.source,newEmptyPath(),this.snap.getImmediateChild(a)):new Overwrite(this.source,pathPopFront(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Merge{constructor(a,d,m){this.source=a,this.path=d,this.children=m,this.type=OperationType.MERGE}operationForChild(a){if(pathIsEmpty(this.path)){const d=this.children.subtree(new Path(a));return d.isEmpty()?null:d.value?new Overwrite(this.source,newEmptyPath(),d.value):new Merge(this.source,newEmptyPath(),d)}else return assert(pathGetFront(this.path)===a,"Can't get a merge for a child not on the path of the operation"),new Merge(this.source,pathPopFront(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CacheNode{constructor(a,d,m){this.node_=a,this.fullyInitialized_=d,this.filtered_=m}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(a){if(pathIsEmpty(a))return this.isFullyInitialized()&&!this.filtered_;const d=pathGetFront(a);return this.isCompleteForChild(d)}isCompleteForChild(a){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(a)}getNode(){return this.node_}}function eventGeneratorGenerateEventsForChanges(u,a,d,m){const $=[],ee=[];return a.forEach(te=>{te.type==="child_changed"&&u.index_.indexedValueChanged(te.oldSnap,te.snapshotNode)&&ee.push(changeChildMoved(te.childName,te.snapshotNode))}),eventGeneratorGenerateEventsForType(u,$,"child_removed",a,m,d),eventGeneratorGenerateEventsForType(u,$,"child_added",a,m,d),eventGeneratorGenerateEventsForType(u,$,"child_moved",ee,m,d),eventGeneratorGenerateEventsForType(u,$,"child_changed",a,m,d),eventGeneratorGenerateEventsForType(u,$,"value",a,m,d),$}function eventGeneratorGenerateEventsForType(u,a,d,m,$,ee){const te=m.filter(b=>b.type===d);te.sort((b,re)=>eventGeneratorCompareChanges(u,b,re)),te.forEach(b=>{const re=eventGeneratorMaterializeSingleChange(u,b,ee);$.forEach(ne=>{ne.respondsTo(b.type)&&a.push(ne.createEvent(re,u.query_))})})}function eventGeneratorMaterializeSingleChange(u,a,d){return a.type==="value"||a.type==="child_removed"||(a.prevName=d.getPredecessorChildName(a.childName,a.snapshotNode,u.index_)),a}function eventGeneratorCompareChanges(u,a,d){if(a.childName==null||d.childName==null)throw assertionError("Should only compare child_ events.");const m=new NamedNode(a.childName,a.snapshotNode),$=new NamedNode(d.childName,d.snapshotNode);return u.index_.compare(m,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function newViewCache(u,a){return{eventCache:u,serverCache:a}}function viewCacheUpdateEventSnap(u,a,d,m){return newViewCache(new CacheNode(a,d,m),u.serverCache)}function viewCacheUpdateServerSnap(u,a,d,m){return newViewCache(u.eventCache,new CacheNode(a,d,m))}function viewCacheGetCompleteEventSnap(u){return u.eventCache.isFullyInitialized()?u.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(u){return u.serverCache.isFullyInitialized()?u.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let emptyChildrenSingleton;const EmptyChildren=()=>(emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton);class ImmutableTree{constructor(a,d=EmptyChildren()){this.value=a,this.children=d}static fromObject(a){let d=new ImmutableTree(null);return each(a,(m,$)=>{d=d.set(new Path(m),$)}),d}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(a,d){if(this.value!=null&&d(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(a))return null;{const m=pathGetFront(a),$=this.children.get(m);if($!==null){const ee=$.findRootMostMatchingPathAndValue(pathPopFront(a),d);return ee!=null?{path:pathChild(new Path(m),ee.path),value:ee.value}:null}else return null}}findRootMostValueAndPath(a){return this.findRootMostMatchingPathAndValue(a,()=>!0)}subtree(a){if(pathIsEmpty(a))return this;{const d=pathGetFront(a),m=this.children.get(d);return m!==null?m.subtree(pathPopFront(a)):new ImmutableTree(null)}}set(a,d){if(pathIsEmpty(a))return new ImmutableTree(d,this.children);{const m=pathGetFront(a),ee=(this.children.get(m)||new ImmutableTree(null)).set(pathPopFront(a),d),te=this.children.insert(m,ee);return new ImmutableTree(this.value,te)}}remove(a){if(pathIsEmpty(a))return this.children.isEmpty()?new ImmutableTree(null):new ImmutableTree(null,this.children);{const d=pathGetFront(a),m=this.children.get(d);if(m){const $=m.remove(pathPopFront(a));let ee;return $.isEmpty()?ee=this.children.remove(d):ee=this.children.insert(d,$),this.value===null&&ee.isEmpty()?new ImmutableTree(null):new ImmutableTree(this.value,ee)}else return this}}get(a){if(pathIsEmpty(a))return this.value;{const d=pathGetFront(a),m=this.children.get(d);return m?m.get(pathPopFront(a)):null}}setTree(a,d){if(pathIsEmpty(a))return d;{const m=pathGetFront(a),ee=(this.children.get(m)||new ImmutableTree(null)).setTree(pathPopFront(a),d);let te;return ee.isEmpty()?te=this.children.remove(m):te=this.children.insert(m,ee),new ImmutableTree(this.value,te)}}fold(a){return this.fold_(newEmptyPath(),a)}fold_(a,d){const m={};return this.children.inorderTraversal(($,ee)=>{m[$]=ee.fold_(pathChild(a,$),d)}),d(a,this.value,m)}findOnPath(a,d){return this.findOnPath_(a,newEmptyPath(),d)}findOnPath_(a,d,m){const $=this.value?m(d,this.value):!1;if($)return $;if(pathIsEmpty(a))return null;{const ee=pathGetFront(a),te=this.children.get(ee);return te?te.findOnPath_(pathPopFront(a),pathChild(d,ee),m):null}}foreachOnPath(a,d){return this.foreachOnPath_(a,newEmptyPath(),d)}foreachOnPath_(a,d,m){if(pathIsEmpty(a))return this;{this.value&&m(d,this.value);const $=pathGetFront(a),ee=this.children.get($);return ee?ee.foreachOnPath_(pathPopFront(a),pathChild(d,$),m):new ImmutableTree(null)}}foreach(a){this.foreach_(newEmptyPath(),a)}foreach_(a,d){this.children.inorderTraversal((m,$)=>{$.foreach_(pathChild(a,m),d)}),this.value&&d(a,this.value)}foreachChild(a){this.children.inorderTraversal((d,m)=>{m.value&&a(d,m.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CompoundWrite{constructor(a){this.writeTree_=a}static empty(){return new CompoundWrite(new ImmutableTree(null))}}function compoundWriteAddWrite(u,a,d){if(pathIsEmpty(a))return new CompoundWrite(new ImmutableTree(d));{const m=u.writeTree_.findRootMostValueAndPath(a);if(m!=null){const $=m.path;let ee=m.value;const te=newRelativePath($,a);return ee=ee.updateChild(te,d),new CompoundWrite(u.writeTree_.set($,ee))}else{const $=new ImmutableTree(d),ee=u.writeTree_.setTree(a,$);return new CompoundWrite(ee)}}}function compoundWriteAddWrites(u,a,d){let m=u;return each(d,($,ee)=>{m=compoundWriteAddWrite(m,pathChild(a,$),ee)}),m}function compoundWriteRemoveWrite(u,a){if(pathIsEmpty(a))return CompoundWrite.empty();{const d=u.writeTree_.setTree(a,new ImmutableTree(null));return new CompoundWrite(d)}}function compoundWriteHasCompleteWrite(u,a){return compoundWriteGetCompleteNode(u,a)!=null}function compoundWriteGetCompleteNode(u,a){const d=u.writeTree_.findRootMostValueAndPath(a);return d!=null?u.writeTree_.get(d.path).getChild(newRelativePath(d.path,a)):null}function compoundWriteGetCompleteChildren(u){const a=[],d=u.writeTree_.value;return d!=null?d.isLeafNode()||d.forEachChild(PRIORITY_INDEX,(m,$)=>{a.push(new NamedNode(m,$))}):u.writeTree_.children.inorderTraversal((m,$)=>{$.value!=null&&a.push(new NamedNode(m,$.value))}),a}function compoundWriteChildCompoundWrite(u,a){if(pathIsEmpty(a))return u;{const d=compoundWriteGetCompleteNode(u,a);return d!=null?new CompoundWrite(new ImmutableTree(d)):new CompoundWrite(u.writeTree_.subtree(a))}}function compoundWriteIsEmpty(u){return u.writeTree_.isEmpty()}function compoundWriteApply(u,a){return applySubtreeWrite(newEmptyPath(),u.writeTree_,a)}function applySubtreeWrite(u,a,d){if(a.value!=null)return d.updateChild(u,a.value);{let m=null;return a.children.inorderTraversal(($,ee)=>{$===".priority"?(assert(ee.value!==null,"Priority writes must always be leaf nodes"),m=ee.value):d=applySubtreeWrite(pathChild(u,$),ee,d)}),!d.getChild(u).isEmpty()&&m!==null&&(d=d.updateChild(pathChild(u,".priority"),m)),d}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeTreeChildWrites(u,a){return newWriteTreeRef(a,u)}function writeTreeAddOverwrite(u,a,d,m,$){assert(m>u.lastWriteId,"Stacking an older write on top of newer ones"),$===void 0&&($=!0),u.allWrites.push({path:a,snap:d,writeId:m,visible:$}),$&&(u.visibleWrites=compoundWriteAddWrite(u.visibleWrites,a,d)),u.lastWriteId=m}function writeTreeGetWrite(u,a){for(let d=0;d<u.allWrites.length;d++){const m=u.allWrites[d];if(m.writeId===a)return m}return null}function writeTreeRemoveWrite(u,a){const d=u.allWrites.findIndex(b=>b.writeId===a);assert(d>=0,"removeWrite called with nonexistent writeId.");const m=u.allWrites[d];u.allWrites.splice(d,1);let $=m.visible,ee=!1,te=u.allWrites.length-1;for(;$&&te>=0;){const b=u.allWrites[te];b.visible&&(te>=d&&writeTreeRecordContainsPath_(b,m.path)?$=!1:pathContains(m.path,b.path)&&(ee=!0)),te--}if($){if(ee)return writeTreeResetTree_(u),!0;if(m.snap)u.visibleWrites=compoundWriteRemoveWrite(u.visibleWrites,m.path);else{const b=m.children;each(b,re=>{u.visibleWrites=compoundWriteRemoveWrite(u.visibleWrites,pathChild(m.path,re))})}return!0}else return!1}function writeTreeRecordContainsPath_(u,a){if(u.snap)return pathContains(u.path,a);for(const d in u.children)if(u.children.hasOwnProperty(d)&&pathContains(pathChild(u.path,d),a))return!0;return!1}function writeTreeResetTree_(u){u.visibleWrites=writeTreeLayerTree_(u.allWrites,writeTreeDefaultFilter_,newEmptyPath()),u.allWrites.length>0?u.lastWriteId=u.allWrites[u.allWrites.length-1].writeId:u.lastWriteId=-1}function writeTreeDefaultFilter_(u){return u.visible}function writeTreeLayerTree_(u,a,d){let m=CompoundWrite.empty();for(let $=0;$<u.length;++$){const ee=u[$];if(a(ee)){const te=ee.path;let b;if(ee.snap)pathContains(d,te)?(b=newRelativePath(d,te),m=compoundWriteAddWrite(m,b,ee.snap)):pathContains(te,d)&&(b=newRelativePath(te,d),m=compoundWriteAddWrite(m,newEmptyPath(),ee.snap.getChild(b)));else if(ee.children){if(pathContains(d,te))b=newRelativePath(d,te),m=compoundWriteAddWrites(m,b,ee.children);else if(pathContains(te,d))if(b=newRelativePath(te,d),pathIsEmpty(b))m=compoundWriteAddWrites(m,newEmptyPath(),ee.children);else{const re=safeGet(ee.children,pathGetFront(b));if(re){const ne=re.getChild(pathPopFront(b));m=compoundWriteAddWrite(m,newEmptyPath(),ne)}}}else throw assertionError("WriteRecord should have .snap or .children")}}return m}function writeTreeCalcCompleteEventCache(u,a,d,m,$){if(!m&&!$){const ee=compoundWriteGetCompleteNode(u.visibleWrites,a);if(ee!=null)return ee;{const te=compoundWriteChildCompoundWrite(u.visibleWrites,a);if(compoundWriteIsEmpty(te))return d;if(d==null&&!compoundWriteHasCompleteWrite(te,newEmptyPath()))return null;{const b=d||ChildrenNode.EMPTY_NODE;return compoundWriteApply(te,b)}}}else{const ee=compoundWriteChildCompoundWrite(u.visibleWrites,a);if(!$&&compoundWriteIsEmpty(ee))return d;if(!$&&d==null&&!compoundWriteHasCompleteWrite(ee,newEmptyPath()))return null;{const te=function(ne){return(ne.visible||$)&&(!m||!~m.indexOf(ne.writeId))&&(pathContains(ne.path,a)||pathContains(a,ne.path))},b=writeTreeLayerTree_(u.allWrites,te,a),re=d||ChildrenNode.EMPTY_NODE;return compoundWriteApply(b,re)}}}function writeTreeCalcCompleteEventChildren(u,a,d){let m=ChildrenNode.EMPTY_NODE;const $=compoundWriteGetCompleteNode(u.visibleWrites,a);if($)return $.isLeafNode()||$.forEachChild(PRIORITY_INDEX,(ee,te)=>{m=m.updateImmediateChild(ee,te)}),m;if(d){const ee=compoundWriteChildCompoundWrite(u.visibleWrites,a);return d.forEachChild(PRIORITY_INDEX,(te,b)=>{const re=compoundWriteApply(compoundWriteChildCompoundWrite(ee,new Path(te)),b);m=m.updateImmediateChild(te,re)}),compoundWriteGetCompleteChildren(ee).forEach(te=>{m=m.updateImmediateChild(te.name,te.node)}),m}else{const ee=compoundWriteChildCompoundWrite(u.visibleWrites,a);return compoundWriteGetCompleteChildren(ee).forEach(te=>{m=m.updateImmediateChild(te.name,te.node)}),m}}function writeTreeCalcEventCacheAfterServerOverwrite(u,a,d,m,$){assert(m||$,"Either existingEventSnap or existingServerSnap must exist");const ee=pathChild(a,d);if(compoundWriteHasCompleteWrite(u.visibleWrites,ee))return null;{const te=compoundWriteChildCompoundWrite(u.visibleWrites,ee);return compoundWriteIsEmpty(te)?$.getChild(d):compoundWriteApply(te,$.getChild(d))}}function writeTreeCalcCompleteChild(u,a,d,m){const $=pathChild(a,d),ee=compoundWriteGetCompleteNode(u.visibleWrites,$);if(ee!=null)return ee;if(m.isCompleteForChild(d)){const te=compoundWriteChildCompoundWrite(u.visibleWrites,$);return compoundWriteApply(te,m.getNode().getImmediateChild(d))}else return null}function writeTreeShadowingWrite(u,a){return compoundWriteGetCompleteNode(u.visibleWrites,a)}function writeTreeCalcIndexedSlice(u,a,d,m,$,ee,te){let b;const re=compoundWriteChildCompoundWrite(u.visibleWrites,a),ne=compoundWriteGetCompleteNode(re,newEmptyPath());if(ne!=null)b=ne;else if(d!=null)b=compoundWriteApply(re,d);else return[];if(b=b.withIndex(te),!b.isEmpty()&&!b.isLeafNode()){const ie=[],se=te.getCompare(),fe=ee?b.getReverseIteratorFrom(m,te):b.getIteratorFrom(m,te);let ce=fe.getNext();for(;ce&&ie.length<$;)se(ce,m)!==0&&ie.push(ce),ce=fe.getNext();return ie}else return[]}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(u,a,d,m){return writeTreeCalcCompleteEventCache(u.writeTree,u.treePath,a,d,m)}function writeTreeRefCalcCompleteEventChildren(u,a){return writeTreeCalcCompleteEventChildren(u.writeTree,u.treePath,a)}function writeTreeRefCalcEventCacheAfterServerOverwrite(u,a,d,m){return writeTreeCalcEventCacheAfterServerOverwrite(u.writeTree,u.treePath,a,d,m)}function writeTreeRefShadowingWrite(u,a){return writeTreeShadowingWrite(u.writeTree,pathChild(u.treePath,a))}function writeTreeRefCalcIndexedSlice(u,a,d,m,$,ee){return writeTreeCalcIndexedSlice(u.writeTree,u.treePath,a,d,m,$,ee)}function writeTreeRefCalcCompleteChild(u,a,d){return writeTreeCalcCompleteChild(u.writeTree,u.treePath,a,d)}function writeTreeRefChild(u,a){return newWriteTreeRef(pathChild(u.treePath,a),u.writeTree)}function newWriteTreeRef(u,a){return{treePath:u,writeTree:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ChildChangeAccumulator{constructor(){this.changeMap=new Map}trackChildChange(a){const d=a.type,m=a.childName;assert(d==="child_added"||d==="child_changed"||d==="child_removed","Only child changes supported for tracking"),assert(m!==".priority","Only non-priority child changes can be tracked.");const $=this.changeMap.get(m);if($){const ee=$.type;if(d==="child_added"&&ee==="child_removed")this.changeMap.set(m,changeChildChanged(m,a.snapshotNode,$.snapshotNode));else if(d==="child_removed"&&ee==="child_added")this.changeMap.delete(m);else if(d==="child_removed"&&ee==="child_changed")this.changeMap.set(m,changeChildRemoved(m,$.oldSnap));else if(d==="child_changed"&&ee==="child_added")this.changeMap.set(m,changeChildAdded(m,a.snapshotNode));else if(d==="child_changed"&&ee==="child_changed")this.changeMap.set(m,changeChildChanged(m,a.snapshotNode,$.oldSnap));else throw assertionError("Illegal combination of changes: "+a+" occurred after "+$)}else this.changeMap.set(m,a)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NoCompleteChildSource_{getCompleteChild(a){return null}getChildAfterChild(a,d,m){return null}}const NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_;class WriteTreeCompleteChildSource{constructor(a,d,m=null){this.writes_=a,this.viewCache_=d,this.optCompleteServerCache_=m}getCompleteChild(a){const d=this.viewCache_.eventCache;if(d.isCompleteForChild(a))return d.getNode().getImmediateChild(a);{const m=this.optCompleteServerCache_!=null?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,a,m)}}getChildAfterChild(a,d,m){const $=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),ee=writeTreeRefCalcIndexedSlice(this.writes_,$,d,1,m,a);return ee.length===0?null:ee[0]}}function viewProcessorAssertIndexed(u,a){assert(a.eventCache.getNode().isIndexed(u.filter.getIndex()),"Event snap not indexed"),assert(a.serverCache.getNode().isIndexed(u.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(u,a,d,m,$){const ee=new ChildChangeAccumulator;let te,b;if(d.type===OperationType.OVERWRITE){const ne=d;ne.source.fromUser?te=viewProcessorApplyUserOverwrite(u,a,ne.path,ne.snap,m,$,ee):(assert(ne.source.fromServer,"Unknown source."),b=ne.source.tagged||a.serverCache.isFiltered()&&!pathIsEmpty(ne.path),te=viewProcessorApplyServerOverwrite(u,a,ne.path,ne.snap,m,$,b,ee))}else if(d.type===OperationType.MERGE){const ne=d;ne.source.fromUser?te=viewProcessorApplyUserMerge(u,a,ne.path,ne.children,m,$,ee):(assert(ne.source.fromServer,"Unknown source."),b=ne.source.tagged||a.serverCache.isFiltered(),te=viewProcessorApplyServerMerge(u,a,ne.path,ne.children,m,$,b,ee))}else if(d.type===OperationType.ACK_USER_WRITE){const ne=d;ne.revert?te=viewProcessorRevertUserWrite(u,a,ne.path,m,$,ee):te=viewProcessorAckUserWrite(u,a,ne.path,ne.affectedTree,m,$,ee)}else if(d.type===OperationType.LISTEN_COMPLETE)te=viewProcessorListenComplete(u,a,d.path,m,ee);else throw assertionError("Unknown operation type: "+d.type);const re=ee.getChanges();return viewProcessorMaybeAddValueEvent(a,te,re),{viewCache:te,changes:re}}function viewProcessorMaybeAddValueEvent(u,a,d){const m=a.eventCache;if(m.isFullyInitialized()){const $=m.getNode().isLeafNode()||m.getNode().isEmpty(),ee=viewCacheGetCompleteEventSnap(u);(d.length>0||!u.eventCache.isFullyInitialized()||$&&!m.getNode().equals(ee)||!m.getNode().getPriority().equals(ee.getPriority()))&&d.push(changeValue(viewCacheGetCompleteEventSnap(a)))}}function viewProcessorGenerateEventCacheAfterServerEvent(u,a,d,m,$,ee){const te=a.eventCache;if(writeTreeRefShadowingWrite(m,d)!=null)return a;{let b,re;if(pathIsEmpty(d))if(assert(a.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),a.serverCache.isFiltered()){const ne=viewCacheGetCompleteServerSnap(a),ie=ne instanceof ChildrenNode?ne:ChildrenNode.EMPTY_NODE,se=writeTreeRefCalcCompleteEventChildren(m,ie);b=u.filter.updateFullNode(a.eventCache.getNode(),se,ee)}else{const ne=writeTreeRefCalcCompleteEventCache(m,viewCacheGetCompleteServerSnap(a));b=u.filter.updateFullNode(a.eventCache.getNode(),ne,ee)}else{const ne=pathGetFront(d);if(ne===".priority"){assert(pathGetLength(d)===1,"Can't have a priority with additional path components");const ie=te.getNode();re=a.serverCache.getNode();const se=writeTreeRefCalcEventCacheAfterServerOverwrite(m,d,ie,re);se!=null?b=u.filter.updatePriority(ie,se):b=te.getNode()}else{const ie=pathPopFront(d);let se;if(te.isCompleteForChild(ne)){re=a.serverCache.getNode();const fe=writeTreeRefCalcEventCacheAfterServerOverwrite(m,d,te.getNode(),re);fe!=null?se=te.getNode().getImmediateChild(ne).updateChild(ie,fe):se=te.getNode().getImmediateChild(ne)}else se=writeTreeRefCalcCompleteChild(m,ne,a.serverCache);se!=null?b=u.filter.updateChild(te.getNode(),ne,se,ie,$,ee):b=te.getNode()}}return viewCacheUpdateEventSnap(a,b,te.isFullyInitialized()||pathIsEmpty(d),u.filter.filtersNodes())}}function viewProcessorApplyServerOverwrite(u,a,d,m,$,ee,te,b){const re=a.serverCache;let ne;const ie=te?u.filter:u.filter.getIndexedFilter();if(pathIsEmpty(d))ne=ie.updateFullNode(re.getNode(),m,null);else if(ie.filtersNodes()&&!re.isFiltered()){const ce=re.getNode().updateChild(d,m);ne=ie.updateFullNode(re.getNode(),ce,null)}else{const ce=pathGetFront(d);if(!re.isCompleteForPath(d)&&pathGetLength(d)>1)return a;const de=pathPopFront(d),ge=re.getNode().getImmediateChild(ce).updateChild(de,m);ce===".priority"?ne=ie.updatePriority(re.getNode(),ge):ne=ie.updateChild(re.getNode(),ce,ge,de,NO_COMPLETE_CHILD_SOURCE,null)}const se=viewCacheUpdateServerSnap(a,ne,re.isFullyInitialized()||pathIsEmpty(d),ie.filtersNodes()),fe=new WriteTreeCompleteChildSource($,se,ee);return viewProcessorGenerateEventCacheAfterServerEvent(u,se,d,$,fe,b)}function viewProcessorApplyUserOverwrite(u,a,d,m,$,ee,te){const b=a.eventCache;let re,ne;const ie=new WriteTreeCompleteChildSource($,a,ee);if(pathIsEmpty(d))ne=u.filter.updateFullNode(a.eventCache.getNode(),m,te),re=viewCacheUpdateEventSnap(a,ne,!0,u.filter.filtersNodes());else{const se=pathGetFront(d);if(se===".priority")ne=u.filter.updatePriority(a.eventCache.getNode(),m),re=viewCacheUpdateEventSnap(a,ne,b.isFullyInitialized(),b.isFiltered());else{const fe=pathPopFront(d),ce=b.getNode().getImmediateChild(se);let de;if(pathIsEmpty(fe))de=m;else{const ye=ie.getCompleteChild(se);ye!=null?pathGetBack(fe)===".priority"&&ye.getChild(pathParent(fe)).isEmpty()?de=ye:de=ye.updateChild(fe,m):de=ChildrenNode.EMPTY_NODE}if(ce.equals(de))re=a;else{const ye=u.filter.updateChild(b.getNode(),se,de,fe,ie,te);re=viewCacheUpdateEventSnap(a,ye,b.isFullyInitialized(),u.filter.filtersNodes())}}}return re}function viewProcessorCacheHasChild(u,a){return u.eventCache.isCompleteForChild(a)}function viewProcessorApplyUserMerge(u,a,d,m,$,ee,te){let b=a;return m.foreach((re,ne)=>{const ie=pathChild(d,re);viewProcessorCacheHasChild(a,pathGetFront(ie))&&(b=viewProcessorApplyUserOverwrite(u,b,ie,ne,$,ee,te))}),m.foreach((re,ne)=>{const ie=pathChild(d,re);viewProcessorCacheHasChild(a,pathGetFront(ie))||(b=viewProcessorApplyUserOverwrite(u,b,ie,ne,$,ee,te))}),b}function viewProcessorApplyMerge(u,a,d){return d.foreach((m,$)=>{a=a.updateChild(m,$)}),a}function viewProcessorApplyServerMerge(u,a,d,m,$,ee,te,b){if(a.serverCache.getNode().isEmpty()&&!a.serverCache.isFullyInitialized())return a;let re=a,ne;pathIsEmpty(d)?ne=m:ne=new ImmutableTree(null).setTree(d,m);const ie=a.serverCache.getNode();return ne.children.inorderTraversal((se,fe)=>{if(ie.hasChild(se)){const ce=a.serverCache.getNode().getImmediateChild(se),de=viewProcessorApplyMerge(u,ce,fe);re=viewProcessorApplyServerOverwrite(u,re,new Path(se),de,$,ee,te,b)}}),ne.children.inorderTraversal((se,fe)=>{const ce=!a.serverCache.isCompleteForChild(se)&&fe.value===void 0;if(!ie.hasChild(se)&&!ce){const de=a.serverCache.getNode().getImmediateChild(se),ye=viewProcessorApplyMerge(u,de,fe);re=viewProcessorApplyServerOverwrite(u,re,new Path(se),ye,$,ee,te,b)}}),re}function viewProcessorAckUserWrite(u,a,d,m,$,ee,te){if(writeTreeRefShadowingWrite($,d)!=null)return a;const b=a.serverCache.isFiltered(),re=a.serverCache;if(m.value!=null){if(pathIsEmpty(d)&&re.isFullyInitialized()||re.isCompleteForPath(d))return viewProcessorApplyServerOverwrite(u,a,d,re.getNode().getChild(d),$,ee,b,te);if(pathIsEmpty(d)){let ne=new ImmutableTree(null);return re.getNode().forEachChild(KEY_INDEX,(ie,se)=>{ne=ne.set(new Path(ie),se)}),viewProcessorApplyServerMerge(u,a,d,ne,$,ee,b,te)}else return a}else{let ne=new ImmutableTree(null);return m.foreach((ie,se)=>{const fe=pathChild(d,ie);re.isCompleteForPath(fe)&&(ne=ne.set(ie,re.getNode().getChild(fe)))}),viewProcessorApplyServerMerge(u,a,d,ne,$,ee,b,te)}}function viewProcessorListenComplete(u,a,d,m,$){const ee=a.serverCache,te=viewCacheUpdateServerSnap(a,ee.getNode(),ee.isFullyInitialized()||pathIsEmpty(d),ee.isFiltered());return viewProcessorGenerateEventCacheAfterServerEvent(u,te,d,m,NO_COMPLETE_CHILD_SOURCE,$)}function viewProcessorRevertUserWrite(u,a,d,m,$,ee){let te;if(writeTreeRefShadowingWrite(m,d)!=null)return a;{const b=new WriteTreeCompleteChildSource(m,a,$),re=a.eventCache.getNode();let ne;if(pathIsEmpty(d)||pathGetFront(d)===".priority"){let ie;if(a.serverCache.isFullyInitialized())ie=writeTreeRefCalcCompleteEventCache(m,viewCacheGetCompleteServerSnap(a));else{const se=a.serverCache.getNode();assert(se instanceof ChildrenNode,"serverChildren would be complete if leaf node"),ie=writeTreeRefCalcCompleteEventChildren(m,se)}ie=ie,ne=u.filter.updateFullNode(re,ie,ee)}else{const ie=pathGetFront(d);let se=writeTreeRefCalcCompleteChild(m,ie,a.serverCache);se==null&&a.serverCache.isCompleteForChild(ie)&&(se=re.getImmediateChild(ie)),se!=null?ne=u.filter.updateChild(re,ie,se,pathPopFront(d),b,ee):a.eventCache.getNode().hasChild(ie)?ne=u.filter.updateChild(re,ie,ChildrenNode.EMPTY_NODE,pathPopFront(d),b,ee):ne=re,ne.isEmpty()&&a.serverCache.isFullyInitialized()&&(te=writeTreeRefCalcCompleteEventCache(m,viewCacheGetCompleteServerSnap(a)),te.isLeafNode()&&(ne=u.filter.updateFullNode(ne,te,ee)))}return te=a.serverCache.isFullyInitialized()||writeTreeRefShadowingWrite(m,newEmptyPath())!=null,viewCacheUpdateEventSnap(a,ne,te,u.filter.filtersNodes())}}function viewGetCompleteServerCache(u,a){const d=viewCacheGetCompleteServerSnap(u.viewCache_);return d&&(u.query._queryParams.loadsAllData()||!pathIsEmpty(a)&&!d.getImmediateChild(pathGetFront(a)).isEmpty())?d.getChild(a):null}function viewApplyOperation(u,a,d,m){a.type===OperationType.MERGE&&a.source.queryId!==null&&(assert(viewCacheGetCompleteServerSnap(u.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(u.viewCache_),"Missing event cache, even though we have a server cache"));const $=u.viewCache_,ee=viewProcessorApplyOperation(u.processor_,$,a,d,m);return viewProcessorAssertIndexed(u.processor_,ee.viewCache),assert(ee.viewCache.serverCache.isFullyInitialized()||!$.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),u.viewCache_=ee.viewCache,viewGenerateEventsForChanges_(u,ee.changes,ee.viewCache.eventCache.getNode(),null)}function viewGenerateEventsForChanges_(u,a,d,m){const $=m?[m]:u.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(u.eventGenerator_,a,d,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor$1;function syncPointSetReferenceConstructor(u){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=u}function syncPointApplyOperation(u,a,d,m){const $=a.source.queryId;if($!==null){const ee=u.views.get($);return assert(ee!=null,"SyncTree gave us an op for an invalid query."),viewApplyOperation(ee,a,d,m)}else{let ee=[];for(const te of u.views.values())ee=ee.concat(viewApplyOperation(te,a,d,m));return ee}}function syncPointGetCompleteServerCache(u,a){let d=null;for(const m of u.views.values())d=d||viewGetCompleteServerCache(m,a);return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let referenceConstructor;function syncTreeSetReferenceConstructor(u){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=u}class SyncTree{constructor(a){this.listenProvider_=a,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function syncTreeApplyUserOverwrite(u,a,d,m,$){return writeTreeAddOverwrite(u.pendingWriteTree_,a,d,m,$),$?syncTreeApplyOperationToSyncPoints_(u,new Overwrite(newOperationSourceUser(),a,d)):[]}function syncTreeAckUserWrite(u,a,d=!1){const m=writeTreeGetWrite(u.pendingWriteTree_,a);if(writeTreeRemoveWrite(u.pendingWriteTree_,a)){let ee=new ImmutableTree(null);return m.snap!=null?ee=ee.set(newEmptyPath(),!0):each(m.children,te=>{ee=ee.set(new Path(te),!0)}),syncTreeApplyOperationToSyncPoints_(u,new AckUserWrite(m.path,ee,d))}else return[]}function syncTreeApplyServerOverwrite(u,a,d){return syncTreeApplyOperationToSyncPoints_(u,new Overwrite(newOperationSourceServer(),a,d))}function syncTreeApplyServerMerge(u,a,d){const m=ImmutableTree.fromObject(d);return syncTreeApplyOperationToSyncPoints_(u,new Merge(newOperationSourceServer(),a,m))}function syncTreeApplyTaggedQueryOverwrite(u,a,d,m){const $=syncTreeQueryKeyForTag_(u,m);if($!=null){const ee=syncTreeParseQueryKey_($),te=ee.path,b=ee.queryId,re=newRelativePath(te,a),ne=new Overwrite(newOperationSourceServerTaggedQuery(b),re,d);return syncTreeApplyTaggedOperation_(u,te,ne)}else return[]}function syncTreeApplyTaggedQueryMerge(u,a,d,m){const $=syncTreeQueryKeyForTag_(u,m);if($){const ee=syncTreeParseQueryKey_($),te=ee.path,b=ee.queryId,re=newRelativePath(te,a),ne=ImmutableTree.fromObject(d),ie=new Merge(newOperationSourceServerTaggedQuery(b),re,ne);return syncTreeApplyTaggedOperation_(u,te,ie)}else return[]}function syncTreeCalcCompleteEventCache(u,a,d){const $=u.pendingWriteTree_,ee=u.syncPointTree_.findOnPath(a,(te,b)=>{const re=newRelativePath(te,a),ne=syncPointGetCompleteServerCache(b,re);if(ne)return ne});return writeTreeCalcCompleteEventCache($,a,ee,d,!0)}function syncTreeApplyOperationToSyncPoints_(u,a){return syncTreeApplyOperationHelper_(a,u.syncPointTree_,null,writeTreeChildWrites(u.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(u,a,d,m){if(pathIsEmpty(u.path))return syncTreeApplyOperationDescendantsHelper_(u,a,d,m);{const $=a.get(newEmptyPath());d==null&&$!=null&&(d=syncPointGetCompleteServerCache($,newEmptyPath()));let ee=[];const te=pathGetFront(u.path),b=u.operationForChild(te),re=a.children.get(te);if(re&&b){const ne=d?d.getImmediateChild(te):null,ie=writeTreeRefChild(m,te);ee=ee.concat(syncTreeApplyOperationHelper_(b,re,ne,ie))}return $&&(ee=ee.concat(syncPointApplyOperation($,u,m,d))),ee}}function syncTreeApplyOperationDescendantsHelper_(u,a,d,m){const $=a.get(newEmptyPath());d==null&&$!=null&&(d=syncPointGetCompleteServerCache($,newEmptyPath()));let ee=[];return a.children.inorderTraversal((te,b)=>{const re=d?d.getImmediateChild(te):null,ne=writeTreeRefChild(m,te),ie=u.operationForChild(te);ie&&(ee=ee.concat(syncTreeApplyOperationDescendantsHelper_(ie,b,re,ne)))}),$&&(ee=ee.concat(syncPointApplyOperation($,u,m,d))),ee}function syncTreeQueryKeyForTag_(u,a){return u.tagToQueryMap.get(a)}function syncTreeParseQueryKey_(u){const a=u.indexOf("$");return assert(a!==-1&&a<u.length-1,"Bad queryKey."),{queryId:u.substr(a+1),path:new Path(u.substr(0,a))}}function syncTreeApplyTaggedOperation_(u,a,d){const m=u.syncPointTree_.get(a);assert(m,"Missing sync point for query tag that we're tracking");const $=writeTreeChildWrites(u.pendingWriteTree_,a);return syncPointApplyOperation(m,d,$,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistingValueProvider{constructor(a){this.node_=a}getImmediateChild(a){const d=this.node_.getImmediateChild(a);return new ExistingValueProvider(d)}node(){return this.node_}}class DeferredValueProvider{constructor(a,d){this.syncTree_=a,this.path_=d}getImmediateChild(a){const d=pathChild(this.path_,a);return new DeferredValueProvider(this.syncTree_,d)}node(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)}}const generateWithValues=function(u){return u=u||{},u.timestamp=u.timestamp||new Date().getTime(),u},resolveDeferredLeafValue=function(u,a,d){if(!u||typeof u!="object")return u;if(assert(".sv"in u,"Unexpected leaf node or priority contents"),typeof u[".sv"]=="string")return resolveScalarDeferredValue(u[".sv"],a,d);if(typeof u[".sv"]=="object")return resolveComplexDeferredValue(u[".sv"],a);assert(!1,"Unexpected server value: "+JSON.stringify(u,null,2))},resolveScalarDeferredValue=function(u,a,d){switch(u){case"timestamp":return d.timestamp;default:assert(!1,"Unexpected server value: "+u)}},resolveComplexDeferredValue=function(u,a,d){u.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(u,null,2));const m=u.increment;typeof m!="number"&&assert(!1,"Unexpected increment value: "+m);const $=a.node();if(assert($!==null&&typeof $<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!$.isLeafNode())return m;const te=$.getValue();return typeof te!="number"?m:te+m},resolveDeferredValueTree=function(u,a,d,m){return resolveDeferredValue(a,new DeferredValueProvider(d,u),m)},resolveDeferredValueSnapshot=function(u,a,d){return resolveDeferredValue(u,new ExistingValueProvider(a),d)};function resolveDeferredValue(u,a,d){const m=u.getPriority().val(),$=resolveDeferredLeafValue(m,a.getImmediateChild(".priority"),d);let ee;if(u.isLeafNode()){const te=u,b=resolveDeferredLeafValue(te.getValue(),a,d);return b!==te.getValue()||$!==te.getPriority().val()?new LeafNode(b,nodeFromJSON($)):u}else{const te=u;return ee=te,$!==te.getPriority().val()&&(ee=ee.updatePriority(new LeafNode($))),te.forEachChild(PRIORITY_INDEX,(b,re)=>{const ne=resolveDeferredValue(re,a.getImmediateChild(b),d);ne!==re&&(ee=ee.updateImmediateChild(b,ne))}),ee}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tree{constructor(a="",d=null,m={children:{},childCount:0}){this.name=a,this.parent=d,this.node=m}}function treeSubTree(u,a){let d=a instanceof Path?a:new Path(a),m=u,$=pathGetFront(d);for(;$!==null;){const ee=safeGet(m.node.children,$)||{children:{},childCount:0};m=new Tree($,m,ee),d=pathPopFront(d),$=pathGetFront(d)}return m}function treeGetValue(u){return u.node.value}function treeSetValue(u,a){u.node.value=a,treeUpdateParents(u)}function treeHasChildren(u){return u.node.childCount>0}function treeIsEmpty(u){return treeGetValue(u)===void 0&&!treeHasChildren(u)}function treeForEachChild(u,a){each(u.node.children,(d,m)=>{a(new Tree(d,u,m))})}function treeForEachDescendant(u,a,d,m){d&&!m&&a(u),treeForEachChild(u,$=>{treeForEachDescendant($,a,!0,m)}),d&&m&&a(u)}function treeForEachAncestor(u,a,d){let m=d?u:u.parent;for(;m!==null;){if(a(m))return!0;m=m.parent}return!1}function treeGetPath(u){return new Path(u.parent===null?u.name:treeGetPath(u.parent)+"/"+u.name)}function treeUpdateParents(u){u.parent!==null&&treeUpdateChild(u.parent,u.name,u)}function treeUpdateChild(u,a,d){const m=treeIsEmpty(d),$=contains$1(u.node.children,a);m&&$?(delete u.node.children[a],u.node.childCount--,treeUpdateParents(u)):!m&&!$&&(u.node.children[a]=d.node,u.node.childCount++,treeUpdateParents(u))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10*1024*1024,isValidKey=function(u){return typeof u=="string"&&u.length!==0&&!INVALID_KEY_REGEX_.test(u)},isValidPathString=function(u){return typeof u=="string"&&u.length!==0&&!INVALID_PATH_REGEX_.test(u)},isValidRootPathString=function(u){return u&&(u=u.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(u)},validateFirebaseData=function(u,a,d){const m=d instanceof Path?new ValidationPath(d,u):d;if(a===void 0)throw new Error(u+"contains undefined "+validationPathToErrorString(m));if(typeof a=="function")throw new Error(u+"contains a function "+validationPathToErrorString(m)+" with contents = "+a.toString());if(isInvalidJSONNumber(a))throw new Error(u+"contains "+a.toString()+" "+validationPathToErrorString(m));if(typeof a=="string"&&a.length>MAX_LEAF_SIZE_/3&&stringLength(a)>MAX_LEAF_SIZE_)throw new Error(u+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(m)+" ('"+a.substring(0,50)+"...')");if(a&&typeof a=="object"){let $=!1,ee=!1;if(each(a,(te,b)=>{if(te===".value")$=!0;else if(te!==".priority"&&te!==".sv"&&(ee=!0,!isValidKey(te)))throw new Error(u+" contains an invalid key ("+te+") "+validationPathToErrorString(m)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);validationPathPush(m,te),validateFirebaseData(u,b,m),validationPathPop(m)}),$&&ee)throw new Error(u+' contains ".value" child '+validationPathToErrorString(m)+" in addition to actual children.")}},validateUrl=function(u,a){const d=a.path.toString();if(typeof a.repoInfo.host!="string"||a.repoInfo.host.length===0||!isValidKey(a.repoInfo.namespace)&&a.repoInfo.host.split(":")[0]!=="localhost"||d.length!==0&&!isValidRootPathString(d))throw new Error(errorPrefix(u,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EventQueue{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eventQueueQueueEvents(u,a){let d=null;for(let m=0;m<a.length;m++){const $=a[m],ee=$.getPath();d!==null&&!pathEquals(ee,d.path)&&(u.eventLists_.push(d),d=null),d===null&&(d={events:[],path:ee}),d.events.push($)}d&&u.eventLists_.push(d)}function eventQueueRaiseEventsForChangedPath(u,a,d){eventQueueQueueEvents(u,d),eventQueueRaiseQueuedEventsMatchingPredicate(u,m=>pathContains(m,a)||pathContains(a,m))}function eventQueueRaiseQueuedEventsMatchingPredicate(u,a){u.recursionDepth_++;let d=!0;for(let m=0;m<u.eventLists_.length;m++){const $=u.eventLists_[m];if($){const ee=$.path;a(ee)?(eventListRaise(u.eventLists_[m]),u.eventLists_[m]=null):d=!1}}d&&(u.eventLists_=[]),u.recursionDepth_--}function eventListRaise(u){for(let a=0;a<u.events.length;a++){const d=u.events[a];if(d!==null){u.events[a]=null;const m=d.getEventRunner();logger&&log$1("event: "+d.toString()),exceptionGuard(m)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25;class Repo{constructor(a,d,m,$){this.repoInfo_=a,this.forceRestClient_=d,this.authTokenProvider_=m,this.appCheckProvider_=$,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function repoStart(u,a,d){if(u.stats_=statsManagerGetCollection(u.repoInfo_),u.forceRestClient_||beingCrawled())u.server_=new ReadonlyRestClient(u.repoInfo_,(m,$,ee,te)=>{repoOnDataUpdate(u,m,$,ee,te)},u.authTokenProvider_,u.appCheckProvider_),setTimeout(()=>repoOnConnectStatus(u,!0),0);else{if(typeof d<"u"&&d!==null){if(typeof d!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(d)}catch(m){throw new Error("Invalid authOverride provided: "+m)}}u.persistentConnection_=new PersistentConnection(u.repoInfo_,a,(m,$,ee,te)=>{repoOnDataUpdate(u,m,$,ee,te)},m=>{repoOnConnectStatus(u,m)},m=>{repoOnServerInfoUpdate(u,m)},u.authTokenProvider_,u.appCheckProvider_,d),u.server_=u.persistentConnection_}u.authTokenProvider_.addTokenChangeListener(m=>{u.server_.refreshAuthToken(m)}),u.appCheckProvider_.addTokenChangeListener(m=>{u.server_.refreshAppCheckToken(m.token)}),u.statsReporter_=statsManagerGetOrCreateReporter(u.repoInfo_,()=>new StatsReporter(u.stats_,u.server_)),u.infoData_=new SnapshotHolder,u.infoSyncTree_=new SyncTree({startListening:(m,$,ee,te)=>{let b=[];const re=u.infoData_.getNode(m._path);return re.isEmpty()||(b=syncTreeApplyServerOverwrite(u.infoSyncTree_,m._path,re),setTimeout(()=>{te("ok")},0)),b},stopListening:()=>{}}),repoUpdateInfo(u,"connected",!1),u.serverSyncTree_=new SyncTree({startListening:(m,$,ee,te)=>(u.server_.listen(m,ee,$,(b,re)=>{const ne=te(b,re);eventQueueRaiseEventsForChangedPath(u.eventQueue_,m._path,ne)}),[]),stopListening:(m,$)=>{u.server_.unlisten(m,$)}})}function repoServerTime(u){const d=u.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return new Date().getTime()+d}function repoGenerateServerValues(u){return generateWithValues({timestamp:repoServerTime(u)})}function repoOnDataUpdate(u,a,d,m,$){u.dataUpdateCount++;const ee=new Path(a);d=u.interceptServerDataCallback_?u.interceptServerDataCallback_(a,d):d;let te=[];if($)if(m){const re=map(d,ne=>nodeFromJSON(ne));te=syncTreeApplyTaggedQueryMerge(u.serverSyncTree_,ee,re,$)}else{const re=nodeFromJSON(d);te=syncTreeApplyTaggedQueryOverwrite(u.serverSyncTree_,ee,re,$)}else if(m){const re=map(d,ne=>nodeFromJSON(ne));te=syncTreeApplyServerMerge(u.serverSyncTree_,ee,re)}else{const re=nodeFromJSON(d);te=syncTreeApplyServerOverwrite(u.serverSyncTree_,ee,re)}let b=ee;te.length>0&&(b=repoRerunTransactions(u,ee)),eventQueueRaiseEventsForChangedPath(u.eventQueue_,b,te)}function repoOnConnectStatus(u,a){repoUpdateInfo(u,"connected",a),a===!1&&repoRunOnDisconnectEvents(u)}function repoOnServerInfoUpdate(u,a){each(a,(d,m)=>{repoUpdateInfo(u,d,m)})}function repoUpdateInfo(u,a,d){const m=new Path("/.info/"+a),$=nodeFromJSON(d);u.infoData_.updateSnapshot(m,$);const ee=syncTreeApplyServerOverwrite(u.infoSyncTree_,m,$);eventQueueRaiseEventsForChangedPath(u.eventQueue_,m,ee)}function repoGetNextWriteId(u){return u.nextWriteId_++}function repoRunOnDisconnectEvents(u){repoLog(u,"onDisconnectEvents");const a=repoGenerateServerValues(u),d=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(u.onDisconnect_,newEmptyPath(),($,ee)=>{const te=resolveDeferredValueTree($,ee,u.serverSyncTree_,a);sparseSnapshotTreeRemember(d,$,te)});let m=[];sparseSnapshotTreeForEachTree(d,newEmptyPath(),($,ee)=>{m=m.concat(syncTreeApplyServerOverwrite(u.serverSyncTree_,$,ee));const te=repoAbortTransactions(u,$);repoRerunTransactions(u,te)}),u.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(u.eventQueue_,newEmptyPath(),m)}function repoInterrupt(u){u.persistentConnection_&&u.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(u,...a){let d="";u.persistentConnection_&&(d=u.persistentConnection_.id+":"),log$1(d,...a)}function repoGetLatestState(u,a,d){return syncTreeCalcCompleteEventCache(u.serverSyncTree_,a,d)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(u,a=u.transactionQueueTree_){if(a||repoPruneCompletedTransactionsBelowNode(u,a),treeGetValue(a)){const d=repoBuildTransactionQueue(u,a);assert(d.length>0,"Sending zero length transaction queue"),d.every($=>$.status===0)&&repoSendTransactionQueue(u,treeGetPath(a),d)}else treeHasChildren(a)&&treeForEachChild(a,d=>{repoSendReadyTransactions(u,d)})}function repoSendTransactionQueue(u,a,d){const m=d.map(ne=>ne.currentWriteId),$=repoGetLatestState(u,a,m);let ee=$;const te=$.hash();for(let ne=0;ne<d.length;ne++){const ie=d[ne];assert(ie.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),ie.status=1,ie.retryCount++;const se=newRelativePath(a,ie.path);ee=ee.updateChild(se,ie.currentOutputSnapshotRaw)}const b=ee.val(!0),re=a;u.server_.put(re.toString(),b,ne=>{repoLog(u,"transaction put response",{path:re.toString(),status:ne});let ie=[];if(ne==="ok"){const se=[];for(let fe=0;fe<d.length;fe++)d[fe].status=2,ie=ie.concat(syncTreeAckUserWrite(u.serverSyncTree_,d[fe].currentWriteId)),d[fe].onComplete&&se.push(()=>d[fe].onComplete(null,!0,d[fe].currentOutputSnapshotResolved)),d[fe].unwatcher();repoPruneCompletedTransactionsBelowNode(u,treeSubTree(u.transactionQueueTree_,a)),repoSendReadyTransactions(u,u.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(u.eventQueue_,a,ie);for(let fe=0;fe<se.length;fe++)exceptionGuard(se[fe])}else{if(ne==="datastale")for(let se=0;se<d.length;se++)d[se].status===3?d[se].status=4:d[se].status=0;else{warn("transaction at "+re.toString()+" failed: "+ne);for(let se=0;se<d.length;se++)d[se].status=4,d[se].abortReason=ne}repoRerunTransactions(u,a)}},te)}function repoRerunTransactions(u,a){const d=repoGetAncestorTransactionNode(u,a),m=treeGetPath(d),$=repoBuildTransactionQueue(u,d);return repoRerunTransactionQueue(u,$,m),m}function repoRerunTransactionQueue(u,a,d){if(a.length===0)return;const m=[];let $=[];const te=a.filter(b=>b.status===0).map(b=>b.currentWriteId);for(let b=0;b<a.length;b++){const re=a[b],ne=newRelativePath(d,re.path);let ie=!1,se;if(assert(ne!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),re.status===4)ie=!0,se=re.abortReason,$=$.concat(syncTreeAckUserWrite(u.serverSyncTree_,re.currentWriteId,!0));else if(re.status===0)if(re.retryCount>=MAX_TRANSACTION_RETRIES)ie=!0,se="maxretry",$=$.concat(syncTreeAckUserWrite(u.serverSyncTree_,re.currentWriteId,!0));else{const fe=repoGetLatestState(u,re.path,te);re.currentInputSnapshot=fe;const ce=a[b].update(fe.val());if(ce!==void 0){validateFirebaseData("transaction failed: Data returned ",ce,re.path);let de=nodeFromJSON(ce);typeof ce=="object"&&ce!=null&&contains$1(ce,".priority")||(de=de.updatePriority(fe.getPriority()));const ge=re.currentWriteId,_e=repoGenerateServerValues(u),Ee=resolveDeferredValueSnapshot(de,fe,_e);re.currentOutputSnapshotRaw=de,re.currentOutputSnapshotResolved=Ee,re.currentWriteId=repoGetNextWriteId(u),te.splice(te.indexOf(ge),1),$=$.concat(syncTreeApplyUserOverwrite(u.serverSyncTree_,re.path,Ee,re.currentWriteId,re.applyLocally)),$=$.concat(syncTreeAckUserWrite(u.serverSyncTree_,ge,!0))}else ie=!0,se="nodata",$=$.concat(syncTreeAckUserWrite(u.serverSyncTree_,re.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(u.eventQueue_,d,$),$=[],ie&&(a[b].status=2,function(fe){setTimeout(fe,Math.floor(0))}(a[b].unwatcher),a[b].onComplete&&(se==="nodata"?m.push(()=>a[b].onComplete(null,!1,a[b].currentInputSnapshot)):m.push(()=>a[b].onComplete(new Error(se),!1,null))))}repoPruneCompletedTransactionsBelowNode(u,u.transactionQueueTree_);for(let b=0;b<m.length;b++)exceptionGuard(m[b]);repoSendReadyTransactions(u,u.transactionQueueTree_)}function repoGetAncestorTransactionNode(u,a){let d,m=u.transactionQueueTree_;for(d=pathGetFront(a);d!==null&&treeGetValue(m)===void 0;)m=treeSubTree(m,d),a=pathPopFront(a),d=pathGetFront(a);return m}function repoBuildTransactionQueue(u,a){const d=[];return repoAggregateTransactionQueuesForNode(u,a,d),d.sort((m,$)=>m.order-$.order),d}function repoAggregateTransactionQueuesForNode(u,a,d){const m=treeGetValue(a);if(m)for(let $=0;$<m.length;$++)d.push(m[$]);treeForEachChild(a,$=>{repoAggregateTransactionQueuesForNode(u,$,d)})}function repoPruneCompletedTransactionsBelowNode(u,a){const d=treeGetValue(a);if(d){let m=0;for(let $=0;$<d.length;$++)d[$].status!==2&&(d[m]=d[$],m++);d.length=m,treeSetValue(a,d.length>0?d:void 0)}treeForEachChild(a,m=>{repoPruneCompletedTransactionsBelowNode(u,m)})}function repoAbortTransactions(u,a){const d=treeGetPath(repoGetAncestorTransactionNode(u,a)),m=treeSubTree(u.transactionQueueTree_,a);return treeForEachAncestor(m,$=>{repoAbortTransactionsOnNode(u,$)}),repoAbortTransactionsOnNode(u,m),treeForEachDescendant(m,$=>{repoAbortTransactionsOnNode(u,$)}),d}function repoAbortTransactionsOnNode(u,a){const d=treeGetValue(a);if(d){const m=[];let $=[],ee=-1;for(let te=0;te<d.length;te++)d[te].status===3||(d[te].status===1?(assert(ee===te-1,"All SENT items should be at beginning of queue."),ee=te,d[te].status=3,d[te].abortReason="set"):(assert(d[te].status===0,"Unexpected transaction status in abort"),d[te].unwatcher(),$=$.concat(syncTreeAckUserWrite(u.serverSyncTree_,d[te].currentWriteId,!0)),d[te].onComplete&&m.push(d[te].onComplete.bind(null,new Error("set"),!1,null))));ee===-1?treeSetValue(a,void 0):d.length=ee+1,eventQueueRaiseEventsForChangedPath(u.eventQueue_,treeGetPath(a),$);for(let te=0;te<m.length;te++)exceptionGuard(m[te])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodePath(u){let a="";const d=u.split("/");for(let m=0;m<d.length;m++)if(d[m].length>0){let $=d[m];try{$=decodeURIComponent($.replace(/\+/g," "))}catch{}a+="/"+$}return a}function decodeQuery(u){const a={};u.charAt(0)==="?"&&(u=u.substring(1));for(const d of u.split("&")){if(d.length===0)continue;const m=d.split("=");m.length===2?a[decodeURIComponent(m[0])]=decodeURIComponent(m[1]):warn(`Invalid query segment '${d}' in query '${u}'`)}return a}const parseRepoInfo=function(u,a){const d=parseDatabaseURL(u),m=d.namespace;d.domain==="firebase.com"&&fatal(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!m||m==="undefined")&&d.domain!=="localhost"&&fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),d.secure||warnIfPageIsSecure();const $=d.scheme==="ws"||d.scheme==="wss";return{repoInfo:new RepoInfo(d.host,d.secure,m,$,a,"",m!==d.subdomain),path:new Path(d.pathString)}},parseDatabaseURL=function(u){let a="",d="",m="",$="",ee="",te=!0,b="https",re=443;if(typeof u=="string"){let ne=u.indexOf("//");ne>=0&&(b=u.substring(0,ne-1),u=u.substring(ne+2));let ie=u.indexOf("/");ie===-1&&(ie=u.length);let se=u.indexOf("?");se===-1&&(se=u.length),a=u.substring(0,Math.min(ie,se)),ie<se&&($=decodePath(u.substring(ie,se)));const fe=decodeQuery(u.substring(Math.min(u.length,se)));ne=a.indexOf(":"),ne>=0?(te=b==="https"||b==="wss",re=parseInt(a.substring(ne+1),10)):ne=a.length;const ce=a.slice(0,ne);if(ce.toLowerCase()==="localhost")d="localhost";else if(ce.split(".").length<=2)d=ce;else{const de=a.indexOf(".");m=a.substring(0,de).toLowerCase(),d=a.substring(de+1),ee=m}"ns"in fe&&(ee=fe.ns)}return{host:a,port:re,domain:d,subdomain:m,secure:te,scheme:b,pathString:$,namespace:ee}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryImpl{constructor(a,d,m,$){this._repo=a,this._path=d,this._queryParams=m,this._orderByCalled=$}get key(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}get ref(){return new ReferenceImpl(this._repo,this._path)}get _queryIdentifier(){const a=queryParamsGetQueryObject(this._queryParams),d=ObjectToUniqueKey(a);return d==="{}"?"default":d}get _queryObject(){return queryParamsGetQueryObject(this._queryParams)}isEqual(a){if(a=getModularInstance(a),!(a instanceof QueryImpl))return!1;const d=this._repo===a._repo,m=pathEquals(this._path,a._path),$=this._queryIdentifier===a._queryIdentifier;return d&&m&&$}toJSON(){return this.toString()}toString(){return this._repo.toString()+pathToUrlEncodedString(this._path)}}class ReferenceImpl extends QueryImpl{constructor(a,d){super(a,d,new QueryParams,!1)}get parent(){const a=pathParent(this._path);return a===null?null:new ReferenceImpl(this._repo,a)}get root(){let a=this;for(;a.parent!==null;)a=a.parent;return a}}syncPointSetReferenceConstructor(ReferenceImpl);syncTreeSetReferenceConstructor(ReferenceImpl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={};let useRestClient=!1;function repoManagerDatabaseFromApp(u,a,d,m,$){let ee=m||u.options.databaseURL;ee===void 0&&(u.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log$1("Using default host for project ",u.options.projectId),ee=`${u.options.projectId}-default-rtdb.firebaseio.com`);let te=parseRepoInfo(ee,$),b=te.repoInfo,re,ne;typeof process<"u"&&process.env&&(ne=process.env[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),ne?(re=!0,ee=`http://${ne}?ns=${b.namespace}`,te=parseRepoInfo(ee,$),b=te.repoInfo):re=!te.repoInfo.secure;const ie=$&&re?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider(u.name,u.options,a);validateUrl("Invalid Firebase Database URL",te),pathIsEmpty(te.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");const se=repoManagerCreateRepo(b,u,ie,new AppCheckTokenProvider(u.name,d));return new Database(se,u)}function repoManagerDeleteRepo(u,a){const d=repos[a];(!d||d[u.key]!==u)&&fatal(`Database ${a}(${u.repoInfo_}) has already been deleted.`),repoInterrupt(u),delete d[u.key]}function repoManagerCreateRepo(u,a,d,m){let $=repos[a.name];$||($={},repos[a.name]=$);let ee=$[u.toURLString()];return ee&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),ee=new Repo(u,useRestClient,d,m),$[u.toURLString()]=ee,ee}class Database{constructor(a,d){this._repoInternal=a,this.app=d,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}_delete(){return this._rootInternal!==null&&(repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(a){this._rootInternal===null&&fatal("Cannot call "+a+" on a deleted database.")}}function getDatabase(u=getApp(),a){return _getProvider(u,"database").getImmediate({identifier:a})}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerDatabase(u){setSDKVersion(SDK_VERSION$1),_registerComponent(new Component("database",(a,{instanceIdentifier:d})=>{const m=a.getProvider("app").getImmediate(),$=a.getProvider("auth-internal"),ee=a.getProvider("app-check-internal");return repoManagerDatabaseFromApp(m,$,ee,d)},"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$1,u),registerVersion(name$1,version$1,"esm2017")}PersistentConnection.prototype.simpleListen=function(u,a){this.sendRequest("q",{p:u},a)};PersistentConnection.prototype.echo=function(u,a){this.sendRequest("echo",{d:u},a)};registerDatabase();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,goog=goog||{},l=commonjsGlobal||self;function aa(){}function ba$1(u){var a=typeof u;return a=a!="object"?a:u?Array.isArray(u)?"array":a:"null",a=="array"||a=="object"&&typeof u.length=="number"}function p(u){var a=typeof u;return a=="object"&&u!=null||a=="function"}function da(u){return Object.prototype.hasOwnProperty.call(u,ea)&&u[ea]||(u[ea]=++fa)}var ea="closure_uid_"+(1e9*Math.random()>>>0),fa=0;function ha(u,a,d){return u.call.apply(u.bind,arguments)}function ia(u,a,d){if(!u)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,m),u.apply(a,$)}}return function(){return u.apply(a,arguments)}}function q(u,a,d){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q=ha:q=ia,q.apply(null,arguments)}function ja(u,a){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),u.apply(this,m)}}function t$1(u,a){function d(){}d.prototype=a.prototype,u.Z=a.prototype,u.prototype=new d,u.prototype.constructor=u,u.Vb=function(m,$,ee){for(var te=Array(arguments.length-2),b=2;b<arguments.length;b++)te[b-2]=arguments[b];return a.prototype[$].apply(m,te)}}function v(){this.s=this.s,this.o=this.o}var ka=0;v.prototype.s=!1;v.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ka!=0)&&da(this)};v.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ma$1=Array.prototype.indexOf?function(u,a){return Array.prototype.indexOf.call(u,a,void 0)}:function(u,a){if(typeof u=="string")return typeof a!="string"||a.length!=1?-1:u.indexOf(a,0);for(let d=0;d<u.length;d++)if(d in u&&u[d]===a)return d;return-1},na=Array.prototype.forEach?function(u,a,d){Array.prototype.forEach.call(u,a,d)}:function(u,a,d){const m=u.length,$=typeof u=="string"?u.split(""):u;for(let ee=0;ee<m;ee++)ee in $&&a.call(d,$[ee],ee,u)};function oa(u){e:{var a=pa;const d=u.length,m=typeof u=="string"?u.split(""):u;for(let $=0;$<d;$++)if($ in m&&a.call(void 0,m[$],$,u)){a=$;break e}a=-1}return 0>a?null:typeof u=="string"?u.charAt(a):u[a]}function qa(u){return Array.prototype.concat.apply([],arguments)}function ra(u){const a=u.length;if(0<a){const d=Array(a);for(let m=0;m<a;m++)d[m]=u[m];return d}return[]}function sa(u){return/^[\s\xa0]*$/.test(u)}var ta=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function w(u,a){return u.indexOf(a)!=-1}function ua(u,a){return u<a?-1:u>a?1:0}var x$1;e:{var va$1=l.navigator;if(va$1){var wa=va$1.userAgent;if(wa){x$1=wa;break e}}x$1=""}function xa(u,a,d){for(const m in u)a.call(d,u[m],m,u)}function ya$1(u){const a={};for(const d in u)a[d]=u[d];return a}var za="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aa(u,a){let d,m;for(let $=1;$<arguments.length;$++){m=arguments[$];for(d in m)u[d]=m[d];for(let ee=0;ee<za.length;ee++)d=za[ee],Object.prototype.hasOwnProperty.call(m,d)&&(u[d]=m[d])}}function Ca(u){return Ca[" "](u),u}Ca[" "]=aa;function Fa(u){var a=Ga;return Object.prototype.hasOwnProperty.call(a,9)?a[9]:a[9]=u(9)}var Ha=w(x$1,"Opera"),y=w(x$1,"Trident")||w(x$1,"MSIE"),Ia$1=w(x$1,"Edge"),Ja=Ia$1||y,Ka$1=w(x$1,"Gecko")&&!(w(x$1.toLowerCase(),"webkit")&&!w(x$1,"Edge"))&&!(w(x$1,"Trident")||w(x$1,"MSIE"))&&!w(x$1,"Edge"),La=w(x$1.toLowerCase(),"webkit")&&!w(x$1,"Edge");function Ma$1(){var u=l.document;return u?u.documentMode:void 0}var Na;e:{var Oa="",Pa=function(){var u=x$1;if(Ka$1)return/rv:([^\);]+)(\)|;)/.exec(u);if(Ia$1)return/Edge\/([\d\.]+)/.exec(u);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u);if(La)return/WebKit\/(\S+)/.exec(u);if(Ha)return/(?:Version)[ \/]?(\S+)/.exec(u)}();if(Pa&&(Oa=Pa?Pa[1]:""),y){var Qa=Ma$1();if(Qa!=null&&Qa>parseFloat(Oa)){Na=String(Qa);break e}}Na=Oa}var Ga={};function Ra$1(){return Fa(function(){let u=0;const a=ta(String(Na)).split("."),d=ta("9").split("."),m=Math.max(a.length,d.length);for(let te=0;u==0&&te<m;te++){var $=a[te]||"",ee=d[te]||"";do{if($=/(\d*)(\D*)(.*)/.exec($)||["","","",""],ee=/(\d*)(\D*)(.*)/.exec(ee)||["","","",""],$[0].length==0&&ee[0].length==0)break;u=ua($[1].length==0?0:parseInt($[1],10),ee[1].length==0?0:parseInt(ee[1],10))||ua($[2].length==0,ee[2].length==0)||ua($[2],ee[2]),$=$[3],ee=ee[3]}while(u==0)}return 0<=u})}l.document&&y&&Ma$1();var Va$1=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var u=!1,a=Object.defineProperty({},"passive",{get:function(){u=!0}});try{l.addEventListener("test",aa,a),l.removeEventListener("test",aa,a)}catch{}return u}();function z$1(u,a){this.type=u,this.g=this.target=a,this.defaultPrevented=!1}z$1.prototype.h=function(){this.defaultPrevented=!0};function A(u,a){if(z$1.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var d=this.type=u.type,m=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=a,a=u.relatedTarget){if(Ka$1){e:{try{Ca(a.nodeName);var $=!0;break e}catch{}$=!1}$||(a=null)}}else d=="mouseover"?a=u.fromElement:d=="mouseout"&&(a=u.toElement);this.relatedTarget=a,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Wa[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&A.Z.h.call(this)}}t$1(A,z$1);var Wa={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var B$1="closure_listenable_"+(1e6*Math.random()|0),Xa=0;function Ya(u,a,d,m,$){this.listener=u,this.proxy=null,this.src=a,this.type=d,this.capture=!!m,this.ia=$,this.key=++Xa,this.ca=this.fa=!1}function Za(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function $a(u){this.src=u,this.g={},this.h=0}$a.prototype.add=function(u,a,d,m,$){var ee=u.toString();u=this.g[ee],u||(u=this.g[ee]=[],this.h++);var te=ab(u,a,m,$);return-1<te?(a=u[te],d||(a.fa=!1)):(a=new Ya(a,this.src,ee,!!m,$),a.fa=d,u.push(a)),a};function bb(u,a){var d=a.type;if(d in u.g){var m=u.g[d],$=ma$1(m,a),ee;(ee=0<=$)&&Array.prototype.splice.call(m,$,1),ee&&(Za(a),u.g[d].length==0&&(delete u.g[d],u.h--))}}function ab(u,a,d,m){for(var $=0;$<u.length;++$){var ee=u[$];if(!ee.ca&&ee.listener==a&&ee.capture==!!d&&ee.ia==m)return $}return-1}var cb="closure_lm_"+(1e6*Math.random()|0),db={};function fb(u,a,d,m,$){if(m&&m.once)return gb(u,a,d,m,$);if(Array.isArray(a)){for(var ee=0;ee<a.length;ee++)fb(u,a[ee],d,m,$);return null}return d=hb(d),u&&u[B$1]?u.N(a,d,p(m)?!!m.capture:!!m,$):ib(u,a,d,!1,m,$)}function ib(u,a,d,m,$,ee){if(!a)throw Error("Invalid event type");var te=p($)?!!$.capture:!!$,b=jb(u);if(b||(u[cb]=b=new $a(u)),d=b.add(a,d,m,te,ee),d.proxy)return d;if(m=kb(),d.proxy=m,m.src=u,m.listener=d,u.addEventListener)Va$1||($=te),$===void 0&&($=!1),u.addEventListener(a.toString(),m,$);else if(u.attachEvent)u.attachEvent(lb(a.toString()),m);else if(u.addListener&&u.removeListener)u.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function kb(){function u(d){return a.call(u.src,u.listener,d)}var a=mb;return u}function gb(u,a,d,m,$){if(Array.isArray(a)){for(var ee=0;ee<a.length;ee++)gb(u,a[ee],d,m,$);return null}return d=hb(d),u&&u[B$1]?u.O(a,d,p(m)?!!m.capture:!!m,$):ib(u,a,d,!0,m,$)}function nb(u,a,d,m,$){if(Array.isArray(a))for(var ee=0;ee<a.length;ee++)nb(u,a[ee],d,m,$);else m=p(m)?!!m.capture:!!m,d=hb(d),u&&u[B$1]?(u=u.i,a=String(a).toString(),a in u.g&&(ee=u.g[a],d=ab(ee,d,m,$),-1<d&&(Za(ee[d]),Array.prototype.splice.call(ee,d,1),ee.length==0&&(delete u.g[a],u.h--)))):u&&(u=jb(u))&&(a=u.g[a.toString()],u=-1,a&&(u=ab(a,d,m,$)),(d=-1<u?a[u]:null)&&ob(d))}function ob(u){if(typeof u!="number"&&u&&!u.ca){var a=u.src;if(a&&a[B$1])bb(a.i,u);else{var d=u.type,m=u.proxy;a.removeEventListener?a.removeEventListener(d,m,u.capture):a.detachEvent?a.detachEvent(lb(d),m):a.addListener&&a.removeListener&&a.removeListener(m),(d=jb(a))?(bb(d,u),d.h==0&&(d.src=null,a[cb]=null)):Za(u)}}}function lb(u){return u in db?db[u]:db[u]="on"+u}function mb(u,a){if(u.ca)u=!0;else{a=new A(a,this);var d=u.listener,m=u.ia||u.src;u.fa&&ob(u),u=d.call(m,a)}return u}function jb(u){return u=u[cb],u instanceof $a?u:null}var pb="__closure_events_fn_"+(1e9*Math.random()>>>0);function hb(u){return typeof u=="function"?u:(u[pb]||(u[pb]=function(a){return u.handleEvent(a)}),u[pb])}function C$1(){v.call(this),this.i=new $a(this),this.P=this,this.I=null}t$1(C$1,v);C$1.prototype[B$1]=!0;C$1.prototype.removeEventListener=function(u,a,d,m){nb(this,u,a,d,m)};function D$1(u,a){var d,m=u.I;if(m)for(d=[];m;m=m.I)d.push(m);if(u=u.P,m=a.type||a,typeof a=="string")a=new z$1(a,u);else if(a instanceof z$1)a.target=a.target||u;else{var $=a;a=new z$1(m,u),Aa(a,$)}if($=!0,d)for(var ee=d.length-1;0<=ee;ee--){var te=a.g=d[ee];$=qb(te,m,!0,a)&&$}if(te=a.g=u,$=qb(te,m,!0,a)&&$,$=qb(te,m,!1,a)&&$,d)for(ee=0;ee<d.length;ee++)te=a.g=d[ee],$=qb(te,m,!1,a)&&$}C$1.prototype.M=function(){if(C$1.Z.M.call(this),this.i){var u=this.i,a;for(a in u.g){for(var d=u.g[a],m=0;m<d.length;m++)Za(d[m]);delete u.g[a],u.h--}}this.I=null};C$1.prototype.N=function(u,a,d,m){return this.i.add(String(u),a,!1,d,m)};C$1.prototype.O=function(u,a,d,m){return this.i.add(String(u),a,!0,d,m)};function qb(u,a,d,m){if(a=u.i.g[String(a)],!a)return!0;a=a.concat();for(var $=!0,ee=0;ee<a.length;++ee){var te=a[ee];if(te&&!te.ca&&te.capture==d){var b=te.listener,re=te.ia||te.src;te.fa&&bb(u.i,te),$=b.call(re,m)!==!1&&$}}return $&&!m.defaultPrevented}var rb=l.JSON.stringify;function sb(){var u=tb;let a=null;return u.g&&(a=u.g,u.g=u.g.next,u.g||(u.h=null),a.next=null),a}class ub{constructor(){this.h=this.g=null}add(a,d){const m=vb.get();m.set(a,d),this.h?this.h.next=m:this.g=m,this.h=m}}var vb=new class{constructor(u,a){this.i=u,this.j=a,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}(()=>new wb,u=>u.reset());class wb{constructor(){this.next=this.g=this.h=null}set(a,d){this.h=a,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}function yb(u){l.setTimeout(()=>{throw u},0)}function zb(u,a){Ab||Bb(),Cb||(Ab(),Cb=!0),tb.add(u,a)}var Ab;function Bb(){var u=l.Promise.resolve(void 0);Ab=function(){u.then(Db)}}var Cb=!1,tb=new ub;function Db(){for(var u;u=sb();){try{u.h.call(u.g)}catch(d){yb(d)}var a=vb;a.j(u),100>a.h&&(a.h++,u.next=a.g,a.g=u)}Cb=!1}function Eb(u,a){C$1.call(this),this.h=u||1,this.g=a||l,this.j=q(this.kb,this),this.l=Date.now()}t$1(Eb,C$1);k=Eb.prototype;k.da=!1;k.S=null;k.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),D$1(this,"tick"),this.da&&(Fb(this),this.start()))}};k.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Fb(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}k.M=function(){Eb.Z.M.call(this),Fb(this),delete this.g};function Gb(u,a,d){if(typeof u=="function")d&&(u=q(u,d));else if(u&&typeof u.handleEvent=="function")u=q(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:l.setTimeout(u,a||0)}function Hb(u){u.g=Gb(()=>{u.g=null,u.i&&(u.i=!1,Hb(u))},u.j);const a=u.h;u.h=null,u.m.apply(null,a)}class Ib extends v{constructor(a,d){super(),this.m=a,this.j=d,this.h=null,this.i=!1,this.g=null}l(a){this.h=arguments,this.g?this.i=!0:Hb(this)}M(){super.M(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function E(u){v.call(this),this.h=u,this.g={}}t$1(E,v);var Jb=[];function Kb(u,a,d,m){Array.isArray(d)||(d&&(Jb[0]=d.toString()),d=Jb);for(var $=0;$<d.length;$++){var ee=fb(a,d[$],m||u.handleEvent,!1,u.h||u);if(!ee)break;u.g[ee.key]=ee}}function Lb(u){xa(u.g,function(a,d){this.g.hasOwnProperty(d)&&ob(a)},u),u.g={}}E.prototype.M=function(){E.Z.M.call(this),Lb(this)};E.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Mb(){this.g=!0}Mb.prototype.Aa=function(){this.g=!1};function Nb(u,a,d,m,$,ee){u.info(function(){if(u.g)if(ee)for(var te="",b=ee.split("&"),re=0;re<b.length;re++){var ne=b[re].split("=");if(1<ne.length){var ie=ne[0];ne=ne[1];var se=ie.split("_");te=2<=se.length&&se[1]=="type"?te+(ie+"="+ne+"&"):te+(ie+"=redacted&")}}else te=null;else te=ee;return"XMLHTTP REQ ("+m+") [attempt "+$+"]: "+a+`
`+d+`
`+te})}function Ob(u,a,d,m,$,ee,te){u.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+$+"]: "+a+`
`+d+`
`+ee+" "+te})}function F$1(u,a,d,m){u.info(function(){return"XMLHTTP TEXT ("+a+"): "+Pb(u,d)+(m?" "+m:"")})}function Qb(u,a){u.info(function(){return"TIMEOUT: "+a})}Mb.prototype.info=function(){};function Pb(u,a){if(!u.g)return a;if(!a)return null;try{var d=JSON.parse(a);if(d){for(u=0;u<d.length;u++)if(Array.isArray(d[u])){var m=d[u];if(!(2>m.length)){var $=m[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var te=1;te<$.length;te++)$[te]=""}}}}return rb(d)}catch{return a}}var H={},Rb=null;function Sb(){return Rb=Rb||new C$1}H.Ma="serverreachability";function Tb(u){z$1.call(this,H.Ma,u)}t$1(Tb,z$1);function I(u){const a=Sb();D$1(a,new Tb(a))}H.STAT_EVENT="statevent";function Ub(u,a){z$1.call(this,H.STAT_EVENT,u),this.stat=a}t$1(Ub,z$1);function J$1(u){const a=Sb();D$1(a,new Ub(a,u))}H.Na="timingevent";function Vb(u,a){z$1.call(this,H.Na,u),this.size=a}t$1(Vb,z$1);function K(u,a){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){u()},a)}var Wb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Xb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Yb(){}Yb.prototype.h=null;function Zb(u){return u.h||(u.h=u.i())}function $b(){}var L$1={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ac(){z$1.call(this,"d")}t$1(ac,z$1);function bc(){z$1.call(this,"c")}t$1(bc,z$1);var cc;function dc(){}t$1(dc,Yb);dc.prototype.g=function(){return new XMLHttpRequest};dc.prototype.i=function(){return{}};cc=new dc;function M(u,a,d,m){this.l=u,this.j=a,this.m=d,this.X=m||1,this.V=new E(this),this.P=ec,u=Ja?125:void 0,this.W=new Eb(u),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new fc}function fc(){this.i=null,this.g="",this.h=!1}var ec=45e3,gc={},hc={};k=M.prototype;k.setTimeout=function(u){this.P=u};function ic(u,a,d){u.K=1,u.v=jc(N$1(a)),u.s=d,u.U=!0,kc(u,null)}function kc(u,a){u.F=Date.now(),lc(u),u.A=N$1(u.v);var d=u.A,m=u.X;Array.isArray(m)||(m=[String(m)]),mc(d.h,"t",m),u.C=0,d=u.l.H,u.h=new fc,u.g=nc(u.l,d?a:null,!u.s),0<u.O&&(u.L=new Ib(q(u.Ia,u,u.g),u.O)),Kb(u.V,u.g,"readystatechange",u.gb),a=u.H?ya$1(u.H):{},u.s?(u.u||(u.u="POST"),a["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,a)):(u.u="GET",u.g.ea(u.A,u.u,null,a)),I(),Nb(u.j,u.u,u.A,u.m,u.X,u.s)}k.gb=function(u){u=u.target;const a=this.L;a&&O$1(u)==3?a.l():this.Ia(u)};k.Ia=function(u){try{if(u==this.g)e:{const ie=O$1(this.g);var a=this.g.Da();const se=this.g.ba();if(!(3>ie)&&(ie!=3||Ja||this.g&&(this.h.h||this.g.ga()||oc(this.g)))){this.I||ie!=4||a==7||(a==8||0>=se?I(3):I(2)),pc(this);var d=this.g.ba();this.N=d;t:if(qc(this)){var m=oc(this.g);u="";var $=m.length,ee=O$1(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){P(this),rc(this);var te="";break t}this.h.i=new l.TextDecoder}for(a=0;a<$;a++)this.h.h=!0,u+=this.h.i.decode(m[a],{stream:ee&&a==$-1});m.splice(0,$),this.h.g+=u,this.C=0,te=this.h.g}else te=this.g.ga();if(this.i=d==200,Ob(this.j,this.u,this.A,this.m,this.X,ie,d),this.i){if(this.$&&!this.J){t:{if(this.g){var b,re=this.g;if((b=re.g?re.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sa(b)){var ne=b;break t}}ne=null}if(d=ne)F$1(this.j,this.m,d,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sc(this,d);else{this.i=!1,this.o=3,J$1(12),P(this),rc(this);break e}}this.U?(tc(this,ie,te),Ja&&this.i&&ie==3&&(Kb(this.V,this.W,"tick",this.fb),this.W.start())):(F$1(this.j,this.m,te,null),sc(this,te)),ie==4&&P(this),this.i&&!this.I&&(ie==4?uc(this.l,this):(this.i=!1,lc(this)))}else d==400&&0<te.indexOf("Unknown SID")?(this.o=3,J$1(12)):(this.o=0,J$1(13)),P(this),rc(this)}}}catch{}finally{}};function qc(u){return u.g?u.u=="GET"&&u.K!=2&&u.l.Ba:!1}function tc(u,a,d){let m=!0,$;for(;!u.I&&u.C<d.length;)if($=vc(u,d),$==hc){a==4&&(u.o=4,J$1(14),m=!1),F$1(u.j,u.m,null,"[Incomplete Response]");break}else if($==gc){u.o=4,J$1(15),F$1(u.j,u.m,d,"[Invalid Chunk]"),m=!1;break}else F$1(u.j,u.m,$,null),sc(u,$);qc(u)&&$!=hc&&$!=gc&&(u.h.g="",u.C=0),a!=4||d.length!=0||u.h.h||(u.o=1,J$1(16),m=!1),u.i=u.i&&m,m?0<d.length&&!u.aa&&(u.aa=!0,a=u.l,a.g==u&&a.$&&!a.L&&(a.h.info("Great, no buffering proxy detected. Bytes received: "+d.length),wc(a),a.L=!0,J$1(11))):(F$1(u.j,u.m,d,"[Invalid Chunked Response]"),P(u),rc(u))}k.fb=function(){if(this.g){var u=O$1(this.g),a=this.g.ga();this.C<a.length&&(pc(this),tc(this,u,a),this.i&&u!=4&&lc(this))}};function vc(u,a){var d=u.C,m=a.indexOf(`
`,d);return m==-1?hc:(d=Number(a.substring(d,m)),isNaN(d)?gc:(m+=1,m+d>a.length?hc:(a=a.substr(m,d),u.C=m+d,a)))}k.cancel=function(){this.I=!0,P(this)};function lc(u){u.Y=Date.now()+u.P,xc(u,u.P)}function xc(u,a){if(u.B!=null)throw Error("WatchDog timer not null");u.B=K(q(u.eb,u),a)}function pc(u){u.B&&(l.clearTimeout(u.B),u.B=null)}k.eb=function(){this.B=null;const u=Date.now();0<=u-this.Y?(Qb(this.j,this.A),this.K!=2&&(I(),J$1(17)),P(this),this.o=2,rc(this)):xc(this,this.Y-u)};function rc(u){u.l.G==0||u.I||uc(u.l,u)}function P(u){pc(u);var a=u.L;a&&typeof a.na=="function"&&a.na(),u.L=null,Fb(u.W),Lb(u.V),u.g&&(a=u.g,u.g=null,a.abort(),a.na())}function sc(u,a){try{var d=u.l;if(d.G!=0&&(d.g==u||yc(d.i,u))){if(d.I=u.N,!u.J&&yc(d.i,u)&&d.G==3){try{var m=d.Ca.g.parse(a)}catch{m=null}if(Array.isArray(m)&&m.length==3){var $=m;if($[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<u.F)zc(d),Ac(d);else break e;Bc(d),J$1(18)}}else d.ta=$[1],0<d.ta-d.U&&37500>$[2]&&d.N&&d.A==0&&!d.v&&(d.v=K(q(d.ab,d),6e3));if(1>=Cc(d.i)&&d.ka){try{d.ka()}catch{}d.ka=void 0}}else Q$1(d,11)}else if((u.J||d.g==u)&&zc(d),!sa(a))for($=d.Ca.g.parse(a),a=0;a<$.length;a++){let ne=$[a];if(d.U=ne[0],ne=ne[1],d.G==2)if(ne[0]=="c"){d.J=ne[1],d.la=ne[2];const ie=ne[3];ie!=null&&(d.ma=ie,d.h.info("VER="+d.ma));const se=ne[4];se!=null&&(d.za=se,d.h.info("SVER="+d.za));const fe=ne[5];fe!=null&&typeof fe=="number"&&0<fe&&(m=1.5*fe,d.K=m,d.h.info("backChannelRequestTimeoutMs_="+m)),m=d;const ce=u.g;if(ce){const de=ce.g?ce.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var ee=m.i;!ee.g&&(w(de,"spdy")||w(de,"quic")||w(de,"h2"))&&(ee.j=ee.l,ee.g=new Set,ee.h&&(Dc(ee,ee.h),ee.h=null))}if(m.D){const ye=ce.g?ce.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(m.sa=ye,R$1(m.F,m.D,ye))}}d.G=3,d.j&&d.j.xa(),d.$&&(d.O=Date.now()-u.F,d.h.info("Handshake RTT: "+d.O+"ms")),m=d;var te=u;if(m.oa=Ec(m,m.H?m.la:null,m.W),te.J){Fc(m.i,te);var b=te,re=m.K;re&&b.setTimeout(re),b.B&&(pc(b),lc(b)),m.g=te}else Gc(m);0<d.l.length&&Hc(d)}else ne[0]!="stop"&&ne[0]!="close"||Q$1(d,7);else d.G==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?Q$1(d,7):Ic(d):ne[0]!="noop"&&d.j&&d.j.wa(ne),d.A=0)}}I(4)}catch{}}function Jc$1(u){if(u.R&&typeof u.R=="function")return u.R();if(typeof u=="string")return u.split("");if(ba$1(u)){for(var a=[],d=u.length,m=0;m<d;m++)a.push(u[m]);return a}a=[],d=0;for(m in u)a[d++]=u[m];return a}function Kc(u,a){if(u.forEach&&typeof u.forEach=="function")u.forEach(a,void 0);else if(ba$1(u)||typeof u=="string")na(u,a,void 0);else{if(u.T&&typeof u.T=="function")var d=u.T();else if(u.R&&typeof u.R=="function")d=void 0;else if(ba$1(u)||typeof u=="string"){d=[];for(var m=u.length,$=0;$<m;$++)d.push($)}else for($ in d=[],m=0,u)d[m++]=$;m=Jc$1(u),$=m.length;for(var ee=0;ee<$;ee++)a.call(void 0,m[ee],d&&d[ee],u)}}function S(u,a){this.h={},this.g=[],this.i=0;var d=arguments.length;if(1<d){if(d%2)throw Error("Uneven number of arguments");for(var m=0;m<d;m+=2)this.set(arguments[m],arguments[m+1])}else if(u)if(u instanceof S)for(d=u.T(),m=0;m<d.length;m++)this.set(d[m],u.get(d[m]));else for(m in u)this.set(m,u[m])}k=S.prototype;k.R=function(){Lc(this);for(var u=[],a=0;a<this.g.length;a++)u.push(this.h[this.g[a]]);return u};k.T=function(){return Lc(this),this.g.concat()};function Lc(u){if(u.i!=u.g.length){for(var a=0,d=0;a<u.g.length;){var m=u.g[a];T(u.h,m)&&(u.g[d++]=m),a++}u.g.length=d}if(u.i!=u.g.length){var $={};for(d=a=0;a<u.g.length;)m=u.g[a],T($,m)||(u.g[d++]=m,$[m]=1),a++;u.g.length=d}}k.get=function(u,a){return T(this.h,u)?this.h[u]:a};k.set=function(u,a){T(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=a};k.forEach=function(u,a){for(var d=this.T(),m=0;m<d.length;m++){var $=d[m],ee=this.get($);u.call(a,ee,$,this)}};function T(u,a){return Object.prototype.hasOwnProperty.call(u,a)}var Mc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nc(u,a){if(u){u=u.split("&");for(var d=0;d<u.length;d++){var m=u[d].indexOf("="),$=null;if(0<=m){var ee=u[d].substring(0,m);$=u[d].substring(m+1)}else ee=u[d];a(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function U$1(u,a){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof U$1){this.g=a!==void 0?a:u.g,Oc(this,u.j),this.s=u.s,Pc(this,u.i),Qc(this,u.m),this.l=u.l,a=u.h;var d=new Rc;d.i=a.i,a.g&&(d.g=new S(a.g),d.h=a.h),Sc(this,d),this.o=u.o}else u&&(d=String(u).match(Mc))?(this.g=!!a,Oc(this,d[1]||"",!0),this.s=Tc(d[2]||""),Pc(this,d[3]||"",!0),Qc(this,d[4]),this.l=Tc(d[5]||"",!0),Sc(this,d[6]||"",!0),this.o=Tc(d[7]||"")):(this.g=!!a,this.h=new Rc(null,this.g))}U$1.prototype.toString=function(){var u=[],a=this.j;a&&u.push(Uc(a,Vc,!0),":");var d=this.i;return(d||a=="file")&&(u.push("//"),(a=this.s)&&u.push(Uc(a,Vc,!0),"@"),u.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.m,d!=null&&u.push(":",String(d))),(d=this.l)&&(this.i&&d.charAt(0)!="/"&&u.push("/"),u.push(Uc(d,d.charAt(0)=="/"?Wc:Xc,!0))),(d=this.h.toString())&&u.push("?",d),(d=this.o)&&u.push("#",Uc(d,Yc)),u.join("")};function N$1(u){return new U$1(u)}function Oc(u,a,d){u.j=d?Tc(a,!0):a,u.j&&(u.j=u.j.replace(/:$/,""))}function Pc(u,a,d){u.i=d?Tc(a,!0):a}function Qc(u,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);u.m=a}else u.m=null}function Sc(u,a,d){a instanceof Rc?(u.h=a,Zc(u.h,u.g)):(d||(a=Uc(a,$c)),u.h=new Rc(a,u.g))}function R$1(u,a,d){u.h.set(a,d)}function jc(u){return R$1(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ad(u){return u instanceof U$1?N$1(u):new U$1(u,void 0)}function bd(u,a,d,m){var $=new U$1(null,void 0);return u&&Oc($,u),a&&Pc($,a),d&&Qc($,d),m&&($.l=m),$}function Tc(u,a){return u?a?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Uc(u,a,d){return typeof u=="string"?(u=encodeURI(u).replace(a,cd),d&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cd(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Vc=/[#\/\?@]/g,Xc=/[#\?:]/g,Wc=/[#\?]/g,$c=/[#\?@]/g,Yc=/#/g;function Rc(u,a){this.h=this.g=null,this.i=u||null,this.j=!!a}function V(u){u.g||(u.g=new S,u.h=0,u.i&&Nc(u.i,function(a,d){u.add(decodeURIComponent(a.replace(/\+/g," ")),d)}))}k=Rc.prototype;k.add=function(u,a){V(this),this.i=null,u=W$1(this,u);var d=this.g.get(u);return d||this.g.set(u,d=[]),d.push(a),this.h+=1,this};function dd(u,a){V(u),a=W$1(u,a),T(u.g.h,a)&&(u.i=null,u.h-=u.g.get(a).length,u=u.g,T(u.h,a)&&(delete u.h[a],u.i--,u.g.length>2*u.i&&Lc(u)))}function ed(u,a){return V(u),a=W$1(u,a),T(u.g.h,a)}k.forEach=function(u,a){V(this),this.g.forEach(function(d,m){na(d,function($){u.call(a,$,m,this)},this)},this)};k.T=function(){V(this);for(var u=this.g.R(),a=this.g.T(),d=[],m=0;m<a.length;m++)for(var $=u[m],ee=0;ee<$.length;ee++)d.push(a[m]);return d};k.R=function(u){V(this);var a=[];if(typeof u=="string")ed(this,u)&&(a=qa(a,this.g.get(W$1(this,u))));else{u=this.g.R();for(var d=0;d<u.length;d++)a=qa(a,u[d])}return a};k.set=function(u,a){return V(this),this.i=null,u=W$1(this,u),ed(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[a]),this.h+=1,this};k.get=function(u,a){return u?(u=this.R(u),0<u.length?String(u[0]):a):a};function mc(u,a,d){dd(u,a),0<d.length&&(u.i=null,u.g.set(W$1(u,a),ra(d)),u.h+=d.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],a=this.g.T(),d=0;d<a.length;d++){var m=a[d],$=encodeURIComponent(String(m));m=this.R(m);for(var ee=0;ee<m.length;ee++){var te=$;m[ee]!==""&&(te+="="+encodeURIComponent(String(m[ee]))),u.push(te)}}return this.i=u.join("&")};function W$1(u,a){return a=String(a),u.j&&(a=a.toLowerCase()),a}function Zc(u,a){a&&!u.j&&(V(u),u.i=null,u.g.forEach(function(d,m){var $=m.toLowerCase();m!=$&&(dd(this,m),mc(this,$,d))},u)),u.j=a}var fd=class{constructor(u,a){this.h=u,this.g=a}};function gd(u){this.l=u||hd,l.PerformanceNavigationTiming?(u=l.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(l.g&&l.g.Ea&&l.g.Ea()&&l.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hd=10;function id(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Cc(u){return u.h?1:u.g?u.g.size:0}function yc(u,a){return u.h?u.h==a:u.g?u.g.has(a):!1}function Dc(u,a){u.g?u.g.add(a):u.h=a}function Fc(u,a){u.h&&u.h==a?u.h=null:u.g&&u.g.has(a)&&u.g.delete(a)}gd.prototype.cancel=function(){if(this.i=jd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jd(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let a=u.i;for(const d of u.g.values())a=a.concat(d.D);return a}return ra(u.i)}function kd(){}kd.prototype.stringify=function(u){return l.JSON.stringify(u,void 0)};kd.prototype.parse=function(u){return l.JSON.parse(u,void 0)};function ld(){this.g=new kd}function md(u,a,d){const m=d||"";try{Kc(u,function($,ee){let te=$;p($)&&(te=rb($)),a.push(m+ee+"="+encodeURIComponent(te))})}catch($){throw a.push(m+"type="+encodeURIComponent("_badmap")),$}}function nd(u,a){const d=new Mb;if(l.Image){const m=new Image;m.onload=ja(od,d,m,"TestLoadImage: loaded",!0,a),m.onerror=ja(od,d,m,"TestLoadImage: error",!1,a),m.onabort=ja(od,d,m,"TestLoadImage: abort",!1,a),m.ontimeout=ja(od,d,m,"TestLoadImage: timeout",!1,a),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=u}else a(!1)}function od(u,a,d,m,$){try{a.onload=null,a.onerror=null,a.onabort=null,a.ontimeout=null,$(m)}catch{}}function pd(u){this.l=u.$b||null,this.j=u.ib||!1}t$1(pd,Yb);pd.prototype.g=function(){return new qd(this.l,this.j)};pd.prototype.i=function(u){return function(){return u}}({});function qd(u,a){C$1.call(this),this.D=u,this.u=a,this.m=void 0,this.readyState=rd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t$1(qd,C$1);var rd=0;k=qd.prototype;k.open=function(u,a){if(this.readyState!=rd)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=a,this.readyState=1,sd(this)};k.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const a={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(a.body=u),(this.D||l).fetch(new Request(this.B,a)).then(this.Va.bind(this),this.ha.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,td(this)),this.readyState=rd};k.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,sd(this)),this.g&&(this.readyState=3,sd(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ud(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))};function ud(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}k.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var a=u.value?u.value:new Uint8Array(0);(a=this.A.decode(a,{stream:!u.done}))&&(this.response=this.responseText+=a)}u.done?td(this):sd(this),this.readyState==3&&ud(this)}};k.Ua=function(u){this.g&&(this.response=this.responseText=u,td(this))};k.Ta=function(u){this.g&&(this.response=u,td(this))};k.ha=function(){this.g&&td(this)};function td(u){u.readyState=4,u.l=null,u.j=null,u.A=null,sd(u)}k.setRequestHeader=function(u,a){this.v.append(u,a)};k.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],a=this.h.entries();for(var d=a.next();!d.done;)d=d.value,u.push(d[0]+": "+d[1]),d=a.next();return u.join(`\r
`)};function sd(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(qd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});var vd=l.JSON.parse;function X$1(u){C$1.call(this),this.headers=new S,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wd,this.K=this.L=!1}t$1(X$1,C$1);var wd="",xd=/^https?$/i,yd=["POST","PUT"];k=X$1.prototype;k.ea=function(u,a,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);a=a?a.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cc.g(),this.C=this.u?Zb(this.u):Zb(cc),this.g.onreadystatechange=q(this.Fa,this);try{this.F=!0,this.g.open(a,String(u),!0),this.F=!1}catch(ee){zd(this,ee);return}u=d||"";const $=new S(this.headers);m&&Kc(m,function(ee,te){$.set(te,ee)}),m=oa($.T()),d=l.FormData&&u instanceof l.FormData,!(0<=ma$1(yd,a))||m||d||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),$.forEach(function(ee,te){this.g.setRequestHeader(te,ee)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ad(this),0<this.B&&((this.K=Bd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q(this.pa,this)):this.A=Gb(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(ee){zd(this,ee)}};function Bd(u){return y&&Ra$1()&&typeof u.timeout=="number"&&u.ontimeout!==void 0}function pa(u){return u.toLowerCase()=="content-type"}k.pa=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,D$1(this,"timeout"),this.abort(8))};function zd(u,a){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=a,u.m=5,Cd(u),Dd(u)}function Cd(u){u.D||(u.D=!0,D$1(u,"complete"),D$1(u,"error"))}k.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,D$1(this,"complete"),D$1(this,"abort"),Dd(this))};k.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dd(this,!0)),X$1.Z.M.call(this)};k.Fa=function(){this.s||(this.F||this.v||this.l?Ed(this):this.cb())};k.cb=function(){Ed(this)};function Ed(u){if(u.h&&typeof goog<"u"&&(!u.C[1]||O$1(u)!=4||u.ba()!=2)){if(u.v&&O$1(u)==4)Gb(u.Fa,0,u);else if(D$1(u,"readystatechange"),O$1(u)==4){u.h=!1;try{const b=u.ba();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}var d;if(!(d=a)){var m;if(m=b===0){var $=String(u.H).match(Mc)[1]||null;if(!$&&l.self&&l.self.location){var ee=l.self.location.protocol;$=ee.substr(0,ee.length-1)}m=!xd.test($?$.toLowerCase():"")}d=m}if(d)D$1(u,"complete"),D$1(u,"success");else{u.m=6;try{var te=2<O$1(u)?u.g.statusText:""}catch{te=""}u.j=te+" ["+u.ba()+"]",Cd(u)}}finally{Dd(u)}}}}function Dd(u,a){if(u.g){Ad(u);const d=u.g,m=u.C[0]?aa:null;u.g=null,u.C=null,a||D$1(u,"ready");try{d.onreadystatechange=m}catch{}}}function Ad(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(l.clearTimeout(u.A),u.A=null)}function O$1(u){return u.g?u.g.readyState:0}k.ba=function(){try{return 2<O$1(this)?this.g.status:-1}catch{return-1}};k.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Qa=function(u){if(this.g){var a=this.g.responseText;return u&&a.indexOf(u)==0&&(a=a.substring(u.length)),vd(a)}};function oc(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case wd:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}k.Da=function(){return this.m};k.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function Fd(u){let a="";return xa(u,function(d,m){a+=m,a+=":",a+=d,a+=`\r
`}),a}function Gd(u,a,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=Fd(d),typeof u=="string"?d!=null&&encodeURIComponent(String(d)):R$1(u,a,d))}function Hd(u,a,d){return d&&d.internalChannelParams&&d.internalChannelParams[u]||a}function Id(u){this.za=0,this.l=[],this.h=new Mb,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Hd("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Hd("baseRetryDelayMs",5e3,u),this.$a=Hd("retryDelaySeedMs",1e4,u),this.Ya=Hd("forwardChannelMaxRetries",2,u),this.ra=Hd("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new gd(u&&u.concurrentRequestLimit),this.Ca=new ld,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||u.Xb!==!1}k=Id.prototype;k.ma=8;k.G=1;function Ic(u){if(Jd(u),u.G==3){var a=u.V++,d=N$1(u.F);R$1(d,"SID",u.J),R$1(d,"RID",a),R$1(d,"TYPE","terminate"),Kd(u,d),a=new M(u,u.h,a,void 0),a.K=2,a.v=jc(N$1(d)),d=!1,l.navigator&&l.navigator.sendBeacon&&(d=l.navigator.sendBeacon(a.v.toString(),"")),!d&&l.Image&&(new Image().src=a.v,d=!0),d||(a.g=nc(a.l,null),a.g.ea(a.v)),a.F=Date.now(),lc(a)}Ld(u)}k.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch{}};function Ac(u){u.g&&(wc(u),u.g.cancel(),u.g=null)}function Jd(u){Ac(u),u.u&&(l.clearTimeout(u.u),u.u=null),zc(u),u.i.cancel(),u.m&&(typeof u.m=="number"&&l.clearTimeout(u.m),u.m=null)}function Md(u,a){u.l.push(new fd(u.Za++,a)),u.G==3&&Hc(u)}function Hc(u){id(u.i)||u.m||(u.m=!0,zb(u.Ha,u),u.C=0)}function Nd(u,a){return Cc(u.i)>=u.i.j-(u.m?1:0)?!1:u.m?(u.l=a.D.concat(u.l),!0):u.G==1||u.G==2||u.C>=(u.Xa?0:u.Ya)?!1:(u.m=K(q(u.Ha,u,a),Od(u,u.C)),u.C++,!0)}k.Ha=function(u){if(this.m)if(this.m=null,this.G==1){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;const $=new M(this,this.h,u,void 0);let ee=this.s;if(this.P&&(ee?(ee=ya$1(ee),Aa(ee,this.P)):ee=this.P),this.o===null&&($.H=ee),this.ja)e:{for(var a=0,d=0;d<this.l.length;d++){t:{var m=this.l[d];if("__data__"in m.g&&(m=m.g.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(a+=m,4096<a){a=d;break e}if(a===4096||d===this.l.length-1){a=d+1;break e}}a=1e3}else a=1e3;a=Pd(this,$,a),d=N$1(this.F),R$1(d,"RID",u),R$1(d,"CVER",22),this.D&&R$1(d,"X-HTTP-Session-Id",this.D),Kd(this,d),this.o&&ee&&Gd(d,this.o,ee),Dc(this.i,$),this.Ra&&R$1(d,"TYPE","init"),this.ja?(R$1(d,"$req",a),R$1(d,"SID","null"),$.$=!0,ic($,d,null)):ic($,d,a),this.G=2}}else this.G==3&&(u?Qd(this,u):this.l.length==0||id(this.i)||Qd(this))};function Qd(u,a){var d;a?d=a.m:d=u.V++;const m=N$1(u.F);R$1(m,"SID",u.J),R$1(m,"RID",d),R$1(m,"AID",u.U),Kd(u,m),u.o&&u.s&&Gd(m,u.o,u.s),d=new M(u,u.h,d,u.C+1),u.o===null&&(d.H=u.s),a&&(u.l=a.D.concat(u.l)),a=Pd(u,d,1e3),d.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),Dc(u.i,d),ic(d,m,a)}function Kd(u,a){u.j&&Kc({},function(d,m){R$1(a,m,d)})}function Pd(u,a,d){d=Math.min(u.l.length,d);var m=u.j?q(u.j.Oa,u.j,u):null;e:{var $=u.l;let ee=-1;for(;;){const te=["count="+d];ee==-1?0<d?(ee=$[0].h,te.push("ofs="+ee)):ee=0:te.push("ofs="+ee);let b=!0;for(let re=0;re<d;re++){let ne=$[re].h;const ie=$[re].g;if(ne-=ee,0>ne)ee=Math.max(0,$[re].h-100),b=!1;else try{md(ie,te,"req"+ne+"_")}catch{m&&m(ie)}}if(b){m=te.join("&");break e}}}return u=u.l.splice(0,d),a.D=u,m}function Gc(u){u.g||u.u||(u.Y=1,zb(u.Ga,u),u.A=0)}function Bc(u){return u.g||u.u||3<=u.A?!1:(u.Y++,u.u=K(q(u.Ga,u),Od(u,u.A)),u.A++,!0)}k.Ga=function(){if(this.u=null,Rd(this),this.$&&!(this.L||this.g==null||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=K(q(this.bb,this),u)}};k.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,J$1(10),Ac(this),Rd(this))};function wc(u){u.B!=null&&(l.clearTimeout(u.B),u.B=null)}function Rd(u){u.g=new M(u,u.h,"rpc",u.Y),u.o===null&&(u.g.H=u.s),u.g.O=0;var a=N$1(u.oa);R$1(a,"RID","rpc"),R$1(a,"SID",u.J),R$1(a,"CI",u.N?"0":"1"),R$1(a,"AID",u.U),Kd(u,a),R$1(a,"TYPE","xmlhttp"),u.o&&u.s&&Gd(a,u.o,u.s),u.K&&u.g.setTimeout(u.K);var d=u.g;u=u.la,d.K=1,d.v=jc(N$1(a)),d.s=null,d.U=!0,kc(d,u)}k.ab=function(){this.v!=null&&(this.v=null,Ac(this),Bc(this),J$1(19))};function zc(u){u.v!=null&&(l.clearTimeout(u.v),u.v=null)}function uc(u,a){var d=null;if(u.g==a){zc(u),wc(u),u.g=null;var m=2}else if(yc(u.i,a))d=a.D,Fc(u.i,a),m=1;else return;if(u.I=a.N,u.G!=0){if(a.i)if(m==1){d=a.s?a.s.length:0,a=Date.now()-a.F;var $=u.C;m=Sb(),D$1(m,new Vb(m,d)),Hc(u)}else Gc(u);else if($=a.o,$==3||$==0&&0<u.I||!(m==1&&Nd(u,a)||m==2&&Bc(u)))switch(d&&0<d.length&&(a=u.i,a.i=a.i.concat(d)),$){case 1:Q$1(u,5);break;case 4:Q$1(u,10);break;case 3:Q$1(u,6);break;default:Q$1(u,2)}}}function Od(u,a){let d=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(d*=2),d*a}function Q$1(u,a){if(u.h.info("Error code "+a),a==2){var d=null;u.j&&(d=null);var m=q(u.jb,u);d||(d=new U$1("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Oc(d,"https"),jc(d)),nd(d.toString(),m)}else J$1(2);u.G=0,u.j&&u.j.va(a),Ld(u),Jd(u)}k.jb=function(u){u?(this.h.info("Successfully pinged google.com"),J$1(2)):(this.h.info("Failed to ping google.com"),J$1(1))};function Ld(u){u.G=0,u.I=-1,u.j&&((jd(u.i).length!=0||u.l.length!=0)&&(u.i.i.length=0,ra(u.l),u.l.length=0),u.j.ua())}function Ec(u,a,d){let m=ad(d);if(m.i!="")a&&Pc(m,a+"."+m.i),Qc(m,m.m);else{const $=l.location;m=bd($.protocol,a?a+"."+$.hostname:$.hostname,+$.port,d)}return u.aa&&xa(u.aa,function($,ee){R$1(m,ee,$)}),a=u.D,d=u.sa,a&&d&&R$1(m,a,d),R$1(m,"VER",u.ma),Kd(u,m),m}function nc(u,a,d){if(a&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return a=d&&u.Ba&&!u.qa?new X$1(new pd({ib:!0})):new X$1(u.qa),a.L=u.H,a}function Sd(){}k=Sd.prototype;k.xa=function(){};k.wa=function(){};k.va=function(){};k.ua=function(){};k.Oa=function(){};function Y$1(u,a){C$1.call(this),this.g=new Id(a),this.l=u,this.h=a&&a.messageUrlParams||null,u=a&&a.messageHeaders||null,a&&a.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=a&&a.initMessageHeaders||null,a&&a.messageContentType&&(u?u["X-WebChannel-Content-Type"]=a.messageContentType:u={"X-WebChannel-Content-Type":a.messageContentType}),a&&a.ya&&(u?u["X-WebChannel-Client-Profile"]=a.ya:u={"X-WebChannel-Client-Profile":a.ya}),this.g.P=u,(u=a&&a.httpHeadersOverwriteParam)&&!sa(u)&&(this.g.o=u),this.A=a&&a.supportsCrossDomainXhr||!1,this.v=a&&a.sendRawJson||!1,(a=a&&a.httpSessionIdParam)&&!sa(a)&&(this.g.D=a,u=this.h,u!==null&&a in u&&(u=this.h,a in u&&delete u[a])),this.j=new Z$1(this)}t$1(Y$1,C$1);Y$1.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,a=this.l,d=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),zb(q(u.hb,u,a))),J$1(0),u.W=a,u.aa=d||{},u.N=u.X,u.F=Ec(u,null,u.W),Hc(u)};Y$1.prototype.close=function(){Ic(this.g)};Y$1.prototype.u=function(u){if(typeof u=="string"){var a={};a.__data__=u,Md(this.g,a)}else this.v?(a={},a.__data__=rb(u),Md(this.g,a)):Md(this.g,u)};Y$1.prototype.M=function(){this.g.j=null,delete this.j,Ic(this.g),delete this.g,Y$1.Z.M.call(this)};function Ud(u){ac.call(this);var a=u.__sm__;if(a){e:{for(const d in a){u=d;break e}u=void 0}(this.i=u)&&(u=this.i,a=a!==null&&u in a?a[u]:void 0),this.data=a}else this.data=u}t$1(Ud,ac);function Vd(){bc.call(this),this.status=1}t$1(Vd,bc);function Z$1(u){this.g=u}t$1(Z$1,Sd);Z$1.prototype.xa=function(){D$1(this.g,"a")};Z$1.prototype.wa=function(u){D$1(this.g,new Ud(u))};Z$1.prototype.va=function(u){D$1(this.g,new Vd)};Z$1.prototype.ua=function(){D$1(this.g,"b")};Y$1.prototype.send=Y$1.prototype.u;Y$1.prototype.open=Y$1.prototype.m;Y$1.prototype.close=Y$1.prototype.close;Wb.NO_ERROR=0;Wb.TIMEOUT=8;Wb.HTTP_ERROR=6;Xb.COMPLETE="complete";$b.EventType=L$1;L$1.OPEN="a";L$1.CLOSE="b";L$1.ERROR="c";L$1.MESSAGE="d";C$1.prototype.listen=C$1.prototype.N;X$1.prototype.listenOnce=X$1.prototype.O;X$1.prototype.getLastError=X$1.prototype.La;X$1.prototype.getLastErrorCode=X$1.prototype.Da;X$1.prototype.getStatus=X$1.prototype.ba;X$1.prototype.getResponseJson=X$1.prototype.Qa;X$1.prototype.getResponseText=X$1.prototype.ga;X$1.prototype.send=X$1.prototype.ea;const D="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(a){this.uid=a}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(a){return a.uid===this.uid}}C.UNAUTHENTICATED=new C(null),C.GOOGLE_CREDENTIALS=new C("google-credentials-uid"),C.FIRST_PARTY=new C("first-party-uid"),C.MOCK_USER=new C("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x="9.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N=new Logger("@firebase/firestore");function O(u,...a){if(N.logLevel<=LogLevel.DEBUG){const d=a.map(B);N.debug(`Firestore (${x}): ${u}`,...d)}}function F(u,...a){if(N.logLevel<=LogLevel.ERROR){const d=a.map(B);N.error(`Firestore (${x}): ${u}`,...d)}}function B(u){if(typeof u=="string")return u;try{return a=u,JSON.stringify(a)}catch{return u}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(u="Unexpected state"){const a=`FIRESTORE (${x}) INTERNAL ASSERTION FAILED: `+u;throw F(a),new Error(a)}function U(u,a){u||L()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Q extends FirebaseError{constructor(a,d){super(a,d),this.code=a,this.message=d,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(){this.promise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(a,d){this.user=d,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${a}`)}}class z{getToken(){return Promise.resolve(null)}invalidateToken(){}start(a,d){a.enqueueRetryable(()=>d(C.UNAUTHENTICATED))}shutdown(){}}class J{constructor(a){this.t=a,this.currentUser=C.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(a,d){let m=this.i;const $=re=>this.i!==m?(m=this.i,d(re)):Promise.resolve();let ee=new j;this.o=()=>{this.i++,this.currentUser=this.u(),ee.resolve(),ee=new j,a.enqueueRetryable(()=>$(this.currentUser))};const te=()=>{const re=ee;a.enqueueRetryable(async()=>{await re.promise,await $(this.currentUser)})},b=re=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=re,this.auth.addAuthTokenListener(this.o),te()};this.t.onInit(re=>b(re)),setTimeout(()=>{if(!this.auth){const re=this.t.getImmediate({optional:!0});re?b(re):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),ee.resolve(),ee=new j)}},0),te()}getToken(){const a=this.i,d=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(d).then(m=>this.i!==a?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):m?(U(typeof m.accessToken=="string"),new W(m.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const a=this.auth&&this.auth.getUid();return U(a===null||typeof a=="string"),new C(a)}}class Y{constructor(a,d,m){this.type="FirstParty",this.user=C.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",d);const $=a.auth.getAuthHeaderValueForFirstParty([]);$&&this.headers.set("Authorization",$),m&&this.headers.set("X-Goog-Iam-Authorization-Token",m)}}class X{constructor(a,d,m){this.h=a,this.l=d,this.m=m}getToken(){return Promise.resolve(new Y(this.h,this.l,this.m))}start(a,d){a.enqueueRetryable(()=>d(C.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z{constructor(a){this.value=a,this.type="AppCheck",this.headers=new Map,a&&a.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tt{constructor(a){this.g=a,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(a,d){const m=ee=>{ee.error!=null&&O("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${ee.error.message}`);const te=ee.token!==this.p;return this.p=ee.token,O("FirebaseAppCheckTokenProvider",`Received ${te?"new":"existing"} token.`),te?d(ee.token):Promise.resolve()};this.o=ee=>{a.enqueueRetryable(()=>m(ee))};const $=ee=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=ee,this.appCheck.addTokenListener(this.o)};this.g.onInit(ee=>$(ee)),setTimeout(()=>{if(!this.appCheck){const ee=this.g.getImmediate({optional:!0});ee?$(ee):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const a=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(a).then(d=>d?(U(typeof d.token=="string"),this.p=d.token,new Z(d.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(u){const a=typeof self<"u"&&(self.crypto||self.msCrypto),d=new Uint8Array(u);if(a&&typeof a.getRandomValues=="function")a.getRandomValues(d);else for(let m=0;m<u;m++)d[m]=Math.floor(256*Math.random());return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static I(){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d=Math.floor(256/a.length)*a.length;let m="";for(;m.length<20;){const $=nt(40);for(let ee=0;ee<$.length;++ee)m.length<20&&$[ee]<d&&(m+=a.charAt($[ee]%a.length))}return m}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(a,d,m){d===void 0?d=0:d>a.length&&L(),m===void 0?m=a.length-d:m>a.length-d&&L(),this.segments=a,this.offset=d,this.len=m}get length(){return this.len}isEqual(a){return at.comparator(this,a)===0}child(a){const d=this.segments.slice(this.offset,this.limit());return a instanceof at?a.forEach(m=>{d.push(m)}):d.push(a),this.construct(d)}limit(){return this.offset+this.length}popFirst(a){return a=a===void 0?1:a,this.construct(this.segments,this.offset+a,this.length-a)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(a){return this.segments[this.offset+a]}isEmpty(){return this.length===0}isPrefixOf(a){if(a.length<this.length)return!1;for(let d=0;d<this.length;d++)if(this.get(d)!==a.get(d))return!1;return!0}isImmediateParentOf(a){if(this.length+1!==a.length)return!1;for(let d=0;d<this.length;d++)if(this.get(d)!==a.get(d))return!1;return!0}forEach(a){for(let d=this.offset,m=this.limit();d<m;d++)a(this.segments[d])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(a,d){const m=Math.min(a.length,d.length);for(let $=0;$<m;$++){const ee=a.get($),te=d.get($);if(ee<te)return-1;if(ee>te)return 1}return a.length<d.length?-1:a.length>d.length?1:0}}class ht extends at{construct(a,d,m){return new ht(a,d,m)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...a){const d=[];for(const m of a){if(m.indexOf("//")>=0)throw new Q(G.INVALID_ARGUMENT,`Invalid segment (${m}). Paths must not contain // in them.`);d.push(...m.split("/").filter($=>$.length>0))}return new ht(d)}static emptyPath(){return new ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(a){this.path=a}static fromPath(a){return new dt(ht.fromString(a))}static fromName(a){return new dt(ht.fromString(a).popFirst(5))}static empty(){return new dt(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(a){return this.path.length>=2&&this.path.get(this.path.length-2)===a}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(a){return a!==null&&ht.comparator(this.path,a.path)===0}toString(){return this.path.toString()}static comparator(a,d){return ht.comparator(a.path,d.path)}static isDocumentKey(a){return a.length%2==0}static fromSegments(a){return new dt(new ht(a.slice()))}}function Nt(u){return u.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(a,d,m,$,ee,te,b,re){this.databaseId=a,this.appId=d,this.persistenceKey=m,this.host=$,this.ssl=ee,this.forceLongPolling=te,this.autoDetectLongPolling=b,this.useFetchStreams=re}}class ue{constructor(a,d){this.projectId=a,this.database=d||"(default)"}static empty(){return new ue("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(a){return a instanceof ue&&a.projectId===this.projectId&&a.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(a,d=null,m=[],$=[],ee=null,te="F",b=null,re=null){this.path=a,this.collectionGroup=d,this.explicitOrderBy=m,this.filters=$,this.limit=ee,this.limitType=te,this.startAt=b,this.endAt=re,this.lt=null,this.ft=null,this.startAt,this.endAt}}function un(u){return new rn(u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns,ss;(ss=ns||(ns={}))[ss.OK=0]="OK",ss[ss.CANCELLED=1]="CANCELLED",ss[ss.UNKNOWN=2]="UNKNOWN",ss[ss.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ss[ss.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ss[ss.NOT_FOUND=5]="NOT_FOUND",ss[ss.ALREADY_EXISTS=6]="ALREADY_EXISTS",ss[ss.PERMISSION_DENIED=7]="PERMISSION_DENIED",ss[ss.UNAUTHENTICATED=16]="UNAUTHENTICATED",ss[ss.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ss[ss.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ss[ss.ABORTED=10]="ABORTED",ss[ss.OUT_OF_RANGE=11]="OUT_OF_RANGE",ss[ss.UNIMPLEMENTED=12]="UNIMPLEMENTED",ss[ss.INTERNAL=13]="INTERNAL",ss[ss.UNAVAILABLE=14]="UNAVAILABLE",ss[ss.DATA_LOSS=15]="DATA_LOSS";function su(){return typeof document<"u"?document:null}class ru{constructor(a,d,m=1e3,$=1.5,ee=6e4){this.js=a,this.timerId=d,this.lo=m,this.fo=$,this._o=ee,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(a){this.cancel();const d=Math.floor(this.wo+this.To()),m=Math.max(0,Date.now()-this.yo),$=Math.max(0,d-m);$>0&&O("ExponentialBackoff",`Backing off for ${$} ms (base delay: ${this.wo} ms, delay with jitter: ${d} ms, last attempt: ${m} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,$,()=>(this.yo=Date.now(),a())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){this.mo!==null&&(this.mo.skipDelay(),this.mo=null)}cancel(){this.mo!==null&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(a,d,m,$,ee){this.asyncQueue=a,this.timerId=d,this.targetTimeMs=m,this.op=$,this.removalCallback=ee,this.deferred=new j,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(te=>{})}static createAndSchedule(a,d,m,$,ee){const te=Date.now()+m,b=new Lu(a,d,te,$,ee);return b.start(m),b}start(a){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),a)}skipDelay(){return this.handleDelayElapsed()}cancel(a){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(G.CANCELLED,"Operation cancelled"+(a?": "+a:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(a=>this.deferred.resolve(a))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uu(u,a){if(F("AsyncQueue",`${a}: ${u}`),Nt(u))return new Q(G.UNAVAILABLE,`${a}: ${u}`);throw u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(a,d,m,$){this.authCredentials=a,this.appCheckCredentials=d,this.asyncQueue=m,this.databaseInfo=$,this.user=C.UNAUTHENTICATED,this.clientId=st.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(m,async ee=>{O("FirestoreClient","Received user=",ee.uid),await this.authCredentialListener(ee),this.user=ee}),this.appCheckCredentials.start(m,ee=>(O("FirestoreClient","Received new app check token=",ee),this.appCheckCredentialListener(ee,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(a){this.authCredentialListener=a}setAppCheckTokenChangeListener(a){this.appCheckCredentialListener=a}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Q(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const a=new j;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),a.resolve()}catch(d){const m=Uu(d,"Failed to shutdown persistence");a.reject(m)}}),a.promise}}const ma=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(u,a,d){if(!d)throw new Q(G.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${a}.`)}function ya(u,a,d,m){if(a===!0&&m===!0)throw new Q(G.INVALID_ARGUMENT,`${u} and ${d} cannot be used together.`)}function Ia(u){if(dt.isDocumentKey(u))throw new Q(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(a){var d;if(a.host===void 0){if(a.ssl!==void 0)throw new Q(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=a.host,this.ssl=(d=a.ssl)===null||d===void 0||d;if(this.credentials=a.credentials,this.ignoreUndefinedProperties=!!a.ignoreUndefinedProperties,a.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(a.cacheSizeBytes!==-1&&a.cacheSizeBytes<1048576)throw new Q(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=a.cacheSizeBytes}this.experimentalForceLongPolling=!!a.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!a.experimentalAutoDetectLongPolling,this.useFetchStreams=!!a.useFetchStreams,ya("experimentalForceLongPolling",a.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",a.experimentalAutoDetectLongPolling)}isEqual(a){return this.host===a.host&&this.ssl===a.ssl&&this.credentials===a.credentials&&this.cacheSizeBytes===a.cacheSizeBytes&&this.experimentalForceLongPolling===a.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===a.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===a.ignoreUndefinedProperties&&this.useFetchStreams===a.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(a,d,m){this._authCredentials=d,this._appCheckCredentials=m,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ra({}),this._settingsFrozen=!1,a instanceof ue?this._databaseId=a:(this._app=a,this._databaseId=function($){if(!Object.prototype.hasOwnProperty.apply($.options,["projectId"]))throw new Q(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ue($.options.projectId)}(a))}get app(){if(!this._app)throw new Q(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(a){if(this._settingsFrozen)throw new Q(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ra(a),a.credentials!==void 0&&(this._authCredentials=function(d){if(!d)return new z;switch(d.type){case"gapi":const m=d.client;return U(!(typeof m!="object"||m===null||!m.auth||!m.auth.getAuthHeaderValueForFirstParty)),new X(m,d.sessionIndex||"0",d.iamToken||null);case"provider":return d.client;default:throw new Q(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(a.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const d=ma.get(a);d&&(O("ComponentProvider","Removing Datastore"),ma.delete(a),d.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(a,d,m){this.converter=d,this._key=m,this.type="document",this.firestore=a}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(a){return new va(this.firestore,a,this._key)}}class Va{constructor(a,d,m){this.converter=d,this._query=m,this.type="query",this.firestore=a}withConverter(a){return new Va(this.firestore,a,this._query)}}class Sa extends Va{constructor(a,d,m){super(a,d,un(m)),this._path=m,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const a=this._path.popLast();return a.isEmpty()?null:new va(this.firestore,null,new dt(a))}withConverter(a){return new Sa(this.firestore,a,this._path)}}function Da(u,a,...d){if(u=getModularInstance(u),ga("collection","path",a),u instanceof ba){const m=ht.fromString(a,...d);return Ia(m),new Sa(u,null,m)}{if(!(u instanceof va||u instanceof Sa))throw new Q(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const m=u._path.child(ht.fromString(a,...d));return Ia(m),new Sa(u.firestore,null,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ru(this,"async_queue_retry"),this.Kc=()=>{const d=su();d&&O("AsyncQueue","Visibility state changed to "+d.visibilityState),this.So.Eo()};const a=su();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(a){this.enqueue(a)}enqueueAndForgetEvenWhileRestricted(a){this.Gc(),this.Qc(a)}enterRestrictedMode(a){if(!this.Fc){this.Fc=!0,this.Uc=a||!1;const d=su();d&&typeof d.removeEventListener=="function"&&d.removeEventListener("visibilitychange",this.Kc)}}enqueue(a){if(this.Gc(),this.Fc)return new Promise(()=>{});const d=new j;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(a().then(d.resolve,d.reject),d.promise)).then(()=>d.promise)}enqueueRetryable(a){this.enqueueAndForget(()=>(this.Oc.push(a),this.jc()))}async jc(){if(this.Oc.length!==0){try{await this.Oc[0](),this.Oc.shift(),this.So.reset()}catch(a){if(!Nt(a))throw a;O("AsyncQueue","Operation failed with retryable error: "+a)}this.Oc.length>0&&this.So.Io(()=>this.jc())}}Qc(a){const d=this.Mc.then(()=>(this.Lc=!0,a().catch(m=>{this.Bc=m,this.Lc=!1;const $=function(ee){let te=ee.message||"";return ee.stack&&(te=ee.stack.includes(ee.message)?ee.stack:ee.message+`
`+ee.stack),te}(m);throw F("INTERNAL UNHANDLED ERROR: ",$),m}).then(m=>(this.Lc=!1,m))));return this.Mc=d,d}enqueueAfterDelay(a,d,m){this.Gc(),this.qc.indexOf(a)>-1&&(d=0);const $=Lu.createAndSchedule(this,a,d,m,ee=>this.Wc(ee));return this.$c.push($),$}Gc(){this.Bc&&L()}verifyOperationInProgress(){}async zc(){let a;do a=this.Mc,await a;while(a!==this.Mc)}Hc(a){for(const d of this.$c)if(d.timerId===a)return!0;return!1}Jc(a){return this.zc().then(()=>{this.$c.sort((d,m)=>d.targetTimeMs-m.targetTimeMs);for(const d of this.$c)if(d.skipDelay(),a!=="all"&&d.timerId===a)break;return this.zc()})}Yc(a){this.qc.push(a)}Wc(a){const d=this.$c.indexOf(a);this.$c.splice(d,1)}}class Ba extends ba{constructor(a,d,m){super(a,d,m),this.type="firestore",this._queue=new Ma,this._persistenceKey="name"in a?a.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Ka(this),this._firestoreClient.terminate()}}function Ua(u=getApp()){return _getProvider(u,"firestore").getImmediate()}function Ka(u){var a;const d=u._freezeSettings(),m=function($,ee,te,b){return new oe($,ee,te,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams)}(u._databaseId,((a=u._app)===null||a===void 0?void 0:a.options.appId)||"",u._persistenceKey,d);u._firestoreClient=new Jc(u._authCredentials,u._appCheckCredentials,u._queue,m)}(function(u,a=!0){(function(d){x=d})(SDK_VERSION$1),_registerComponent(new Component("firestore",(d,{options:m})=>{const $=d.getProvider("app").getImmediate(),ee=new Ba($,new J(d.getProvider("auth-internal")),new tt(d.getProvider("app-check-internal")));return m=Object.assign({useFetchStreams:a},m),ee._setSettings(m),ee},"PUBLIC")),registerVersion(D,"3.4.14",u),registerVersion(D,"3.4.14","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(a,d){super(prependCode(a),`Firebase Storage: ${d} (${prependCode(a)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}_codeEquals(a){return prependCode(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function prependCode(u){return"storage/"+u}function unknown(){const u="An unknown error occurred, please check the error payload for server response.";return new StorageError("unknown",u)}function retryLimitExceeded(){return new StorageError("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError("canceled","User canceled the upload/download.")}function invalidUrl(u){return new StorageError("invalid-url","Invalid URL '"+u+"'.")}function invalidDefaultBucket(u){return new StorageError("invalid-default-bucket","Invalid default bucket '"+u+"'.")}function invalidArgument(u){return new StorageError("invalid-argument",u)}function appDeleted(){return new StorageError("app-deleted","The Firebase app was deleted.")}function invalidRootOperation(u){return new StorageError("invalid-root-operation","The operation '"+u+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(a,d){this.bucket=a,this.path_=d}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,d){let m;try{m=Location.makeFromUrl(a,d)}catch{return new Location(a,"")}if(m.path==="")return m;throw invalidDefaultBucket(a)}static makeFromUrl(a,d){let m=null;const $="([A-Za-z0-9.\\-_]+)";function ee(we){we.path.charAt(we.path.length-1)==="/"&&(we.path_=we.path_.slice(0,-1))}const te="(/(.*))?$",b=new RegExp("^gs://"+$+te,"i"),re={bucket:1,path:3};function ne(we){we.path_=decodeURIComponent(we.path)}const ie="v[A-Za-z0-9_]+",se=d.replace(/[.]/g,"\\."),fe="(/([^?#]*).*)?$",ce=new RegExp(`^https?://${se}/${ie}/b/${$}/o${fe}`,"i"),de={bucket:1,path:3},ye=d===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":d,ge="([^?#]*)",_e=new RegExp(`^https?://${ye}/${$}/${ge}`,"i"),Ae=[{regex:b,indices:re,postModify:ee},{regex:ce,indices:de,postModify:ne},{regex:_e,indices:{bucket:1,path:2},postModify:ne}];for(let we=0;we<Ae.length;we++){const Me=Ae[we],ke=Me.regex.exec(a);if(ke){const Re=ke[Me.indices.bucket];let ze=ke[Me.indices.path];ze||(ze=""),m=new Location(Re,ze),Me.postModify(m);break}}if(m==null)throw invalidUrl(a);return m}}class FailRequest{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start$1(u,a,d){let m=1,$=null,ee=null,te=!1,b=0;function re(){return b===2}let ne=!1;function ie(...ge){ne||(ne=!0,a.apply(null,ge))}function se(ge){$=setTimeout(()=>{$=null,u(ce,re())},ge)}function fe(){ee&&clearTimeout(ee)}function ce(ge,..._e){if(ne){fe();return}if(ge){fe(),ie.call(null,ge,..._e);return}if(re()||te){fe(),ie.call(null,ge,..._e);return}m<64&&(m*=2);let Ae;b===1?(b=2,Ae=0):Ae=(m+Math.random())*1e3,se(Ae)}let de=!1;function ye(ge){de||(de=!0,fe(),!ne&&($!==null?(ge||(b=2),clearTimeout($),se(0)):ge||(b=1)))}return se(0),ee=setTimeout(()=>{te=!0,ye(!0)},d),ye}function stop(u){u(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(u){return u!==void 0}function validateNumber(u,a,d,m){if(m<a)throw invalidArgument(`Invalid value for '${u}'. Expected ${a} or greater.`);if(m>d)throw invalidArgument(`Invalid value for '${u}'. Expected ${d} or less.`)}function makeQueryString(u){const a=encodeURIComponent;let d="?";for(const m in u)if(u.hasOwnProperty(m)){const $=a(m)+"="+a(u[m]);d=d+$+"&"}return d=d.slice(0,-1),d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(u){u[u.NO_ERROR=0]="NO_ERROR",u[u.NETWORK_ERROR=1]="NETWORK_ERROR",u[u.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(a,d,m,$,ee,te,b,re,ne,ie,se){this.url_=a,this.method_=d,this.headers_=m,this.body_=$,this.successCodes_=ee,this.additionalRetryCodes_=te,this.callback_=b,this.errorCallback_=re,this.timeout_=ne,this.progressCallback_=ie,this.connectionFactory_=se,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fe,ce)=>{this.resolve_=fe,this.reject_=ce,this.start_()})}start_(){const a=(m,$)=>{if($){m(!1,new RequestEndStatus(!1,null,!0));return}const ee=this.connectionFactory_();this.pendingConnection_=ee;const te=b=>{const re=b.loaded,ne=b.lengthComputable?b.total:-1;this.progressCallback_!==null&&this.progressCallback_(re,ne)};this.progressCallback_!==null&&ee.addUploadProgressListener(te),ee.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&ee.removeUploadProgressListener(te),this.pendingConnection_=null;const b=ee.getErrorCode()===ErrorCode.NO_ERROR,re=ee.getStatus();if(!b||this.isRetryStatusCode_(re)){const ie=ee.getErrorCode()===ErrorCode.ABORT;m(!1,new RequestEndStatus(!1,null,ie));return}const ne=this.successCodes_.indexOf(re)!==-1;m(!0,new RequestEndStatus(ne,ee))})},d=(m,$)=>{const ee=this.resolve_,te=this.reject_,b=$.connection;if($.wasSuccessCode)try{const re=this.callback_(b,b.getResponse());isJustDef(re)?ee(re):ee()}catch(re){te(re)}else if(b!==null){const re=unknown();re.serverResponse=b.getErrorText(),this.errorCallback_?te(this.errorCallback_(b,re)):te(re)}else if($.canceled){const re=this.appDelete_?appDeleted():canceled();te(re)}else{const re=retryLimitExceeded();te(re)}};this.canceled_?d(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start$1(a,d,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}isRetryStatusCode_(a){const d=a>=500&&a<600,$=[408,429].indexOf(a)!==-1,ee=this.additionalRetryCodes_.indexOf(a)!==-1;return d||$||ee}}class RequestEndStatus{constructor(a,d,m){this.wasSuccessCode=a,this.connection=d,this.canceled=!!m}}function addAuthHeader_(u,a){a!==null&&a.length>0&&(u.Authorization="Firebase "+a)}function addVersionHeader_(u,a){u["X-Firebase-Storage-Version"]="webjs/"+(a??"AppManager")}function addGmpidHeader_(u,a){a&&(u["X-Firebase-GMPID"]=a)}function addAppCheckHeader_(u,a){a!==null&&(u["X-Firebase-AppCheck"]=a)}function makeRequest(u,a,d,m,$,ee){const te=makeQueryString(u.urlParams),b=u.url+te,re=Object.assign({},u.headers);return addGmpidHeader_(re,a),addAuthHeader_(re,d),addVersionHeader_(re,ee),addAppCheckHeader_(re,m),new NetworkRequest(b,u.method,re,u.body,u.successCodes,u.additionalRetryCodes,u.handler,u.errorHandler,u.timeout,u.progressCallback,$)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(u){if(u.length===0)return null;const a=u.lastIndexOf("/");return a===-1?"":u.slice(0,a)}function lastComponent(u){const a=u.lastIndexOf("/",u.length-2);return a===-1?u:u.slice(a+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(a,d){this._service=a,d instanceof Location?this._location=d:this._location=Location.makeFromUrl(d,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,d){return new Reference(a,d)}get root(){const a=new Location(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const a=parent(this._location.path);if(a===null)return null;const d=new Location(this._location.bucket,a);return new Reference(this._service,d)}_throwIfRoot(a){if(this._location.path==="")throw invalidRootOperation(a)}}function extractBucket(u,a){const d=a?.[CONFIG_STORAGE_BUCKET_KEY];return d==null?null:Location.makeFromBucketSpec(d,u)}class FirebaseStorageImpl{constructor(a,d,m,$,ee){this.app=a,this._authProvider=d,this._appCheckProvider=m,this._url=$,this._firebaseVersion=ee,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,$!=null?this._bucket=Location.makeFromBucketSpec($,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,a):this._bucket=extractBucket(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){validateNumber("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){validateNumber("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const a=this._authProvider.getImmediate({optional:!0});if(a){const d=await a.getToken();if(d!==null)return d.accessToken}return null}async _getAppCheckToken(){const a=this._appCheckProvider.getImmediate({optional:!0});return a?(await a.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new Reference(this,a)}_makeRequest(a,d,m,$){if(this._deleted)return new FailRequest(appDeleted());{const ee=makeRequest(a,this._appId,m,$,d,this._firebaseVersion);return this._requests.add(ee),ee.getPromise().then(()=>this._requests.delete(ee),()=>this._requests.delete(ee)),ee}}async makeRequestWithTokens(a,d){const[m,$]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(a,d,m,$).getPromise()}}const name="@firebase/storage",version="0.9.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function getStorage(u=getApp(),a){return u=getModularInstance(u),_getProvider(u,STORAGE_TYPE).getImmediate({identifier:a})}function factory(u,{instanceIdentifier:a}){const d=u.getProvider("app").getImmediate(),m=u.getProvider("auth-internal"),$=u.getProvider("app-check-internal");return new FirebaseStorageImpl(d,m,$,a,SDK_VERSION$1)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();const config={apiKey:"AIzaSyBq_0_UdMnZloKZ2ISr8fpDPBoRWZhHiKg",authDomain:"supachat-c09da.firebaseapp.com",projectId:"supachat-c09da",storageBucket:"supachat-c09da.appspot.com",messagingSenderId:"113128711488",appId:"1:113128711488:web:dacfe7bebb28ad915906a5",measurementId:"G-7V276S9F8X"};initializeApp(config);const firestoreDb=Ua();getDatabase();getStorage();const USERS_PATH="users",ROOMS_PATH="chatRooms";Da(firestoreDb,USERS_PATH);Da(firestoreDb,ROOMS_PATH);const zeroPad=(u,a)=>String(u).padStart(a,"0"),isSameDay=(u,a)=>u.getFullYear()===a.getFullYear()&&u.getMonth()===a.getMonth()&&u.getDate()===a.getDate(),parseTimestamp=(u,a="")=>{if(!u)return;const d=u.seconds?new Date(u.seconds*1e3):u;if(a==="HH:mm")return`${zeroPad(d.getHours(),2)}:${zeroPad(d.getMinutes(),2)}`;if(a==="DD MMMM YYYY"){const m={month:"long",year:"numeric",day:"numeric"};return`${new Intl.DateTimeFormat("en-GB",m).format(d)}`}else if(a==="DD/MM/YY"){const m={month:"numeric",year:"numeric",day:"numeric"};return`${new Intl.DateTimeFormat("en-GB",m).format(d)}`}else if(a==="DD MMMM, HH:mm"){const m={month:"long",day:"numeric"};return`${new Intl.DateTimeFormat("en-GB",m).format(d)}, ${zeroPad(d.getHours(),2)}:${zeroPad(d.getMinutes(),2)}`}return d},formatTimestamp=(u,a)=>{const d=isSameDay(u,new Date)?"HH:mm":"DD/MM/YY",m=parseTimestamp(a,d);return d==="HH:mm"?`Today, ${m}`:m};function e(u){this.message=u}e.prototype=new Error,e.prototype.name="InvalidCharacterError";var r=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(u){var a=String(u).replace(/=+$/,"");if(a.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var d,m,$=0,ee=0,te="";m=a.charAt(ee++);~m&&(d=$%4?64*d+m:m,$++%4)?te+=String.fromCharCode(255&d>>(-2*$&6)):0)m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(m);return te};function t(u){var a=u.replace(/-/g,"+").replace(/_/g,"/");switch(a.length%4){case 0:break;case 2:a+="==";break;case 3:a+="=";break;default:throw"Illegal base64url string!"}try{return function(d){return decodeURIComponent(r(d).replace(/(.)/g,function(m,$){var ee=$.charCodeAt(0).toString(16).toUpperCase();return ee.length<2&&(ee="0"+ee),"%"+ee}))}(a)}catch{return r(a)}}function n(u){this.message=u}function o(u,a){if(typeof u!="string")throw new n("Invalid token specified");var d=(a=a||{}).header===!0?0:1;try{return JSON.parse(t(u.split(".")[d]))}catch(m){throw new n("Invalid token specified: "+m.message)}}n.prototype=new Error,n.prototype.name="InvalidTokenError";var build={},centrifuge={},subscription={},events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function u(a,d,m){return Function.prototype.apply.call(a,d,m)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(a){return Object.getOwnPropertyNames(a).concat(Object.getOwnPropertySymbols(a))}:ReflectOwnKeys=function(a){return Object.getOwnPropertyNames(a)};function ProcessEmitWarning(u){console&&console.warn&&console.warn(u)}var NumberIsNaN=Number.isNaN||function u(a){return a!==a};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(u){if(typeof u!="number"||u<0||NumberIsNaN(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");defaultMaxListeners=u}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function u(a){if(typeof a!="number"||a<0||NumberIsNaN(a))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+a+".");return this._maxListeners=a,this};function _getMaxListeners(u){return u._maxListeners===void 0?EventEmitter.defaultMaxListeners:u._maxListeners}EventEmitter.prototype.getMaxListeners=function u(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function u(a){for(var d=[],m=1;m<arguments.length;m++)d.push(arguments[m]);var $=a==="error",ee=this._events;if(ee!==void 0)$=$&&ee.error===void 0;else if(!$)return!1;if($){var te;if(d.length>0&&(te=d[0]),te instanceof Error)throw te;var b=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw b.context=te,b}var re=ee[a];if(re===void 0)return!1;if(typeof re=="function")ReflectApply(re,this,d);else for(var ne=re.length,ie=arrayClone(re,ne),m=0;m<ne;++m)ReflectApply(ie[m],this,d);return!0};function _addListener(u,a,d,m){var $,ee,te;if(checkListener(d),ee=u._events,ee===void 0?(ee=u._events=Object.create(null),u._eventsCount=0):(ee.newListener!==void 0&&(u.emit("newListener",a,d.listener?d.listener:d),ee=u._events),te=ee[a]),te===void 0)te=ee[a]=d,++u._eventsCount;else if(typeof te=="function"?te=ee[a]=m?[d,te]:[te,d]:m?te.unshift(d):te.push(d),$=_getMaxListeners(u),$>0&&te.length>$&&!te.warned){te.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+te.length+" "+String(a)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=u,b.type=a,b.count=te.length,ProcessEmitWarning(b)}return u}EventEmitter.prototype.addListener=function u(a,d){return _addListener(this,a,d,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function u(a,d){return _addListener(this,a,d,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(u,a,d){var m={fired:!1,wrapFn:void 0,target:u,type:a,listener:d},$=onceWrapper.bind(m);return $.listener=d,m.wrapFn=$,$}EventEmitter.prototype.once=function u(a,d){return checkListener(d),this.on(a,_onceWrap(this,a,d)),this};EventEmitter.prototype.prependOnceListener=function u(a,d){return checkListener(d),this.prependListener(a,_onceWrap(this,a,d)),this};EventEmitter.prototype.removeListener=function u(a,d){var m,$,ee,te,b;if(checkListener(d),$=this._events,$===void 0)return this;if(m=$[a],m===void 0)return this;if(m===d||m.listener===d)--this._eventsCount===0?this._events=Object.create(null):(delete $[a],$.removeListener&&this.emit("removeListener",a,m.listener||d));else if(typeof m!="function"){for(ee=-1,te=m.length-1;te>=0;te--)if(m[te]===d||m[te].listener===d){b=m[te].listener,ee=te;break}if(ee<0)return this;ee===0?m.shift():spliceOne(m,ee),m.length===1&&($[a]=m[0]),$.removeListener!==void 0&&this.emit("removeListener",a,b||d)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function u(a){var d,m,$;if(m=this._events,m===void 0)return this;if(m.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):m[a]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete m[a]),this;if(arguments.length===0){var ee=Object.keys(m),te;for($=0;$<ee.length;++$)te=ee[$],te!=="removeListener"&&this.removeAllListeners(te);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(d=m[a],typeof d=="function")this.removeListener(a,d);else if(d!==void 0)for($=d.length-1;$>=0;$--)this.removeListener(a,d[$]);return this};function _listeners(u,a,d){var m=u._events;if(m===void 0)return[];var $=m[a];return $===void 0?[]:typeof $=="function"?d?[$.listener||$]:[$]:d?unwrapListeners($):arrayClone($,$.length)}EventEmitter.prototype.listeners=function u(a){return _listeners(this,a,!0)};EventEmitter.prototype.rawListeners=function u(a){return _listeners(this,a,!1)};EventEmitter.listenerCount=function(u,a){return typeof u.listenerCount=="function"?u.listenerCount(a):listenerCount.call(u,a)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(u){var a=this._events;if(a!==void 0){var d=a[u];if(typeof d=="function")return 1;if(d!==void 0)return d.length}return 0}EventEmitter.prototype.eventNames=function u(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(u,a){for(var d=new Array(a),m=0;m<a;++m)d[m]=u[m];return d}function spliceOne(u,a){for(;a+1<u.length;a++)u[a]=u[a+1];u.pop()}function unwrapListeners(u){for(var a=new Array(u.length),d=0;d<a.length;++d)a[d]=u[d].listener||u[d];return a}function once(u,a){return new Promise(function(d,m){function $(te){u.removeListener(a,ee),m(te)}function ee(){typeof u.removeListener=="function"&&u.removeListener("error",$),d([].slice.call(arguments))}eventTargetAgnosticAddListener(u,a,ee,{once:!0}),a!=="error"&&addErrorHandlerIfEventEmitter(u,$,{once:!0})})}function addErrorHandlerIfEventEmitter(u,a,d){typeof u.on=="function"&&eventTargetAgnosticAddListener(u,"error",a,d)}function eventTargetAgnosticAddListener(u,a,d,m){if(typeof u.on=="function")m.once?u.once(a,d):u.on(a,d);else if(typeof u.addEventListener=="function")u.addEventListener(a,function $(ee){m.once&&u.removeEventListener(a,$),d(ee)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u)}var codes={};Object.defineProperty(codes,"__esModule",{value:!0});codes.unsubscribedCodes=codes.subscribingCodes=codes.disconnectedCodes=codes.connectingCodes=codes.errorCodes=void 0;codes.errorCodes={timeout:1,transportClosed:2,clientDisconnected:3,clientClosed:4,clientConnectToken:5,clientRefreshToken:6,subscriptionUnsubscribed:7,subscriptionSubscribeToken:8,subscriptionRefreshToken:9,transportWriteError:10,connectionClosed:11};codes.connectingCodes={connectCalled:0,transportClosed:1,noPing:2,subscribeTimeout:3,unsubscribeError:4};codes.disconnectedCodes={disconnectCalled:0,unauthorized:1,badProtocol:2,messageSizeLimit:3};codes.subscribingCodes={subscribeCalled:0,transportClosed:1};codes.unsubscribedCodes={unsubscribeCalled:0,unauthorized:1,clientClosed:2};var types={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.SubscriptionState=u.State=void 0,function(a){a.Disconnected="disconnected",a.Connecting="connecting",a.Connected="connected"}(u.State||(u.State={})),function(a){a.Unsubscribed="unsubscribed",a.Subscribing="subscribing",a.Subscribed="subscribed"}(u.SubscriptionState||(u.SubscriptionState={}))})(types);var utils={};Object.defineProperty(utils,"__esModule",{value:!0});utils.ttlMilliseconds=utils.errorExists=utils.backoff=utils.log=utils.isFunction=utils.startsWith=void 0;function startsWith(u,a){return u.lastIndexOf(a,0)===0}utils.startsWith=startsWith;function isFunction(u){return u==null?!1:typeof u=="function"}utils.isFunction=isFunction;function log(u,a){if(globalThis.console){const d=globalThis.console[u];isFunction(d)&&d.apply(globalThis.console,a)}}utils.log=log;function randomInt(u,a){return Math.floor(Math.random()*(a-u+1)+u)}function backoff(u,a,d){u>31&&(u=31);const m=randomInt(0,Math.min(d,a*Math.pow(2,u)));return Math.min(d,a+m)}utils.backoff=backoff;function errorExists(u){return"error"in u&&u.error!==null}utils.errorExists=errorExists;function ttlMilliseconds(u){return Math.min(u*1e3,2147483647)}utils.ttlMilliseconds=ttlMilliseconds;var __importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(subscription,"__esModule",{value:!0});subscription.Subscription=void 0;const events_1$1=__importDefault$1(events.exports),codes_1$1=codes,types_1$1=types,utils_1$1=utils;class Subscription extends events_1$1.default{constructor(a,d,m){super(),this._resubscribeTimeout=null,this._refreshTimeout=null,this.channel=d,this.state=types_1$1.SubscriptionState.Unsubscribed,this._centrifuge=a,this._token=null,this._getToken=null,this._data=null,this._recover=!1,this._offset=null,this._epoch=null,this._recoverable=!1,this._positioned=!1,this._joinLeave=!1,this._minResubscribeDelay=500,this._maxResubscribeDelay=2e4,this._resubscribeTimeout=null,this._resubscribeAttempts=0,this._promises={},this._promiseId=0,this._inflight=!1,this._refreshTimeout=null,this._setOptions(m),this._centrifuge._debugEnabled?(this.on("state",$=>{this._centrifuge._debug("subscription state",d,$.oldState,"->",$.newState)}),this.on("error",$=>{this._centrifuge._debug("subscription error",d,$)})):this.on("error",function(){Function.prototype()})}ready(a){return this.state===types_1$1.SubscriptionState.Unsubscribed?Promise.reject({code:codes_1$1.errorCodes.subscriptionUnsubscribed,message:this.state}):this.state===types_1$1.SubscriptionState.Subscribed?Promise.resolve():new Promise((d,m)=>{const $={resolve:d,reject:m};a&&($.timeout=setTimeout(function(){m({code:codes_1$1.errorCodes.timeout,message:"timeout"})},a)),this._promises[this._nextPromiseId()]=$})}subscribe(){this._isSubscribed()||(this._resubscribeAttempts=0,this._setSubscribing(codes_1$1.subscribingCodes.subscribeCalled,"subscribe called"))}unsubscribe(){this._setUnsubscribed(codes_1$1.unsubscribedCodes.unsubscribeCalled,"unsubscribe called",!0)}publish(a){const d=this;return this._methodCall().then(function(){return d._centrifuge.publish(d.channel,a)})}presence(){const a=this;return this._methodCall().then(function(){return a._centrifuge.presence(a.channel)})}presenceStats(){const a=this;return this._methodCall().then(function(){return a._centrifuge.presenceStats(a.channel)})}history(a){const d=this;return this._methodCall().then(function(){return d._centrifuge.history(d.channel,a)})}_methodCall(){return this._isSubscribed()?Promise.resolve():this._isUnsubscribed()?Promise.reject({code:codes_1$1.errorCodes.subscriptionUnsubscribed,message:this.state}):new Promise((a,d)=>{const m=setTimeout(function(){d({code:codes_1$1.errorCodes.timeout,message:"timeout"})},this._centrifuge._config.timeout);this._promises[this._nextPromiseId()]={timeout:m,resolve:a,reject:d}})}_nextPromiseId(){return++this._promiseId}_needRecover(){return this._recover===!0}_isUnsubscribed(){return this.state===types_1$1.SubscriptionState.Unsubscribed}_isSubscribing(){return this.state===types_1$1.SubscriptionState.Subscribing}_isSubscribed(){return this.state===types_1$1.SubscriptionState.Subscribed}_setState(a){if(this.state!==a){const d=this.state;return this.state=a,this.emit("state",{newState:a,oldState:d,channel:this.channel}),!0}return!1}_usesToken(){return this._token!==null||this._getToken!==null}_clearSubscribingState(){this._resubscribeAttempts=0,this._clearResubscribeTimeout()}_clearSubscribedState(){this._clearRefreshTimeout()}_setSubscribed(a){if(!this._isSubscribing())return;this._clearSubscribingState(),a.recoverable&&(this._recover=!0,this._offset=a.offset||0,this._epoch=a.epoch||""),this._setState(types_1$1.SubscriptionState.Subscribed);const d=this._centrifuge._getSubscribeContext(this.channel,a);this.emit("subscribed",d),this._resolvePromises();const m=a.publications;if(m&&m.length>0)for(const $ in m)!m.hasOwnProperty($)||this._handlePublication(m[$]);a.expires===!0&&(this._refreshTimeout=setTimeout(()=>this._refresh(),(0,utils_1$1.ttlMilliseconds)(a.ttl)))}_setSubscribing(a,d){this._isSubscribing()||(this._isSubscribed()&&this._clearSubscribedState(),this._setState(types_1$1.SubscriptionState.Subscribing)&&this.emit("subscribing",{channel:this.channel,code:a,reason:d}),this._subscribe(!1,!1))}_subscribe(a,d){if(this._centrifuge._debug("subscribing on",this.channel),this._centrifuge.state!==types_1$1.State.Connected&&!a)return this._centrifuge._debug("delay subscribe on",this.channel,"till connected"),null;if(this._usesToken()){if(this._token)return this._sendSubscribe(this._token,d);{if(a)return null;const m=this;return this._getSubscriptionToken().then(function($){if(!!m._isSubscribing()){if(!$){m._failUnauthorized();return}m._token=$,m._sendSubscribe($,!1)}}).catch(function($){!m._isSubscribing()||(m.emit("error",{type:"subscribeToken",channel:m.channel,error:{code:codes_1$1.errorCodes.subscriptionSubscribeToken,message:$!==void 0?$.toString():""}}),m._scheduleResubscribe())}),null}}else return this._sendSubscribe("",d)}_sendSubscribe(a,d){const $={channel:this.channel};if(a&&($.token=a),this._data&&($.data=this._data),this._positioned&&($.positioned=!0),this._recoverable&&($.recoverable=!0),this._joinLeave&&($.join_leave=!0),this._needRecover()){$.recover=!0;const te=this._getOffset();te&&($.offset=te);const b=this._getEpoch();b&&($.epoch=b)}const ee={subscribe:$};return this._inflight=!0,this._centrifuge._call(ee,d).then(te=>{this._inflight=!1;const b=te.reply.subscribe;this._handleSubscribeResponse(b),te.next&&te.next()},te=>{this._inflight=!1,this._handleSubscribeError(te.error),te.next&&te.next()}),ee}_handleSubscribeError(a){if(!!this._isSubscribing()){if(a.code===codes_1$1.errorCodes.timeout){this._centrifuge._disconnect(codes_1$1.connectingCodes.subscribeTimeout,"subscribe timeout",!0);return}this._subscribeError(a)}}_handleSubscribeResponse(a){!this._isSubscribing()||this._setSubscribed(a)}_setUnsubscribed(a,d,m){this._isUnsubscribed()||(this._isSubscribed()&&(m&&this._centrifuge._unsubscribe(this),this._clearSubscribedState()),this._isSubscribing()&&this._clearSubscribingState(),this._setState(types_1$1.SubscriptionState.Unsubscribed)&&this.emit("unsubscribed",{channel:this.channel,code:a,reason:d}),this._rejectPromises({code:codes_1$1.errorCodes.subscriptionUnsubscribed,message:this.state}))}_handlePublication(a){const d=this._centrifuge._getPublicationContext(this.channel,a);this.emit("publication",d),a.offset&&(this._offset=a.offset)}_handleJoin(a){const d=this._centrifuge._getJoinLeaveContext(a.info);this.emit("join",{channel:this.channel,info:d})}_handleLeave(a){const d=this._centrifuge._getJoinLeaveContext(a.info);this.emit("leave",{channel:this.channel,info:d})}_resolvePromises(){for(const a in this._promises)this._promises[a].timeout&&clearTimeout(this._promises[a].timeout),this._promises[a].resolve(),delete this._promises[a]}_rejectPromises(a){for(const d in this._promises)this._promises[d].timeout&&clearTimeout(this._promises[d].timeout),this._promises[d].reject(a),delete this._promises[d]}_scheduleResubscribe(){const a=this,d=this._getResubscribeDelay();this._resubscribeTimeout=setTimeout(function(){a._isSubscribing()&&a._subscribe(!1,!1)},d)}_subscribeError(a){if(!!this._isSubscribing())if(a.code<100||a.code===109||a.temporary===!0){a.code===109&&(this._token=null);const d={channel:this.channel,type:"subscribe",error:a};this._centrifuge.state===types_1$1.State.Connected&&this.emit("error",d),this._scheduleResubscribe()}else this._setUnsubscribed(a.code,a.message,!1)}_getResubscribeDelay(){const a=(0,utils_1$1.backoff)(this._resubscribeAttempts,this._minResubscribeDelay,this._maxResubscribeDelay);return this._resubscribeAttempts++,a}_setOptions(a){!a||(a.since&&(this._offset=a.since.offset,this._epoch=a.since.epoch,this._recover=!0),a.data&&(this._data=a.data),a.minResubscribeDelay!==void 0&&(this._minResubscribeDelay=a.minResubscribeDelay),a.maxResubscribeDelay!==void 0&&(this._maxResubscribeDelay=a.maxResubscribeDelay),a.token&&(this._token=a.token),a.getToken&&(this._getToken=a.getToken),a.positioned===!0&&(this._positioned=!0),a.recoverable===!0&&(this._recoverable=!0),a.joinLeave===!0&&(this._joinLeave=!0))}_getOffset(){const a=this._offset;return a!==null?a:0}_getEpoch(){const a=this._epoch;return a!==null?a:""}_clearRefreshTimeout(){this._refreshTimeout!==null&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null)}_clearResubscribeTimeout(){this._resubscribeTimeout!==null&&(clearTimeout(this._resubscribeTimeout),this._resubscribeTimeout=null)}_getSubscriptionToken(){this._centrifuge._debug("get subscription token for channel",this.channel);const a={channel:this.channel},d=this._getToken;if(d===null)throw new Error("provide a function to get channel subscription token");return d(a)}_refresh(){this._clearRefreshTimeout();const a=this;this._getSubscriptionToken().then(function(d){if(!a._isSubscribed())return;if(!d){a._failUnauthorized();return}a._token=d;const $={sub_refresh:{channel:a.channel,token:d}};a._centrifuge._call($).then(ee=>{const te=ee.reply.sub_refresh;a._refreshResponse(te),ee.next&&ee.next()},ee=>{a._refreshError(ee.error),ee.next&&ee.next()})}).catch(function(d){a.emit("error",{type:"refreshToken",channel:a.channel,error:{code:codes_1$1.errorCodes.subscriptionRefreshToken,message:d!==void 0?d.toString():""}}),a._refreshTimeout=setTimeout(()=>a._refresh(),a._getRefreshRetryDelay())})}_refreshResponse(a){!this._isSubscribed()||(this._centrifuge._debug("subscription token refreshed, channel",this.channel),this._clearRefreshTimeout(),a.expires===!0&&(this._refreshTimeout=setTimeout(()=>this._refresh(),(0,utils_1$1.ttlMilliseconds)(a.ttl))))}_refreshError(a){!this._isSubscribed()||(a.code<100||a.temporary===!0?(this.emit("error",{type:"refresh",channel:this.channel,error:a}),this._refreshTimeout=setTimeout(()=>this._refresh(),this._getRefreshRetryDelay())):this._setUnsubscribed(a.code,a.message,!0))}_getRefreshRetryDelay(){return(0,utils_1$1.backoff)(0,1e4,2e4)}_failUnauthorized(){this._setUnsubscribed(codes_1$1.unsubscribedCodes.unauthorized,"unauthorized",!0)}}subscription.Subscription=Subscription;var transport_sockjs={};Object.defineProperty(transport_sockjs,"__esModule",{value:!0});transport_sockjs.SockjsTransport=void 0;class SockjsTransport{constructor(a,d){this.endpoint=a,this.options=d,this._transport=null}name(){return"sockjs"}subName(){return"sockjs-"+this._transport.transport}emulation(){return!1}supported(){return this.options.sockjs!==null}initialize(a,d){this._transport=new this.options.sockjs(this.endpoint,null,this.options.sockjsOptions),this._transport.onopen=()=>{d.onOpen()},this._transport.onerror=m=>{d.onError(m)},this._transport.onclose=m=>{d.onClose(m)},this._transport.onmessage=m=>{d.onMessage(m.data)}}close(){this._transport.close()}send(a){this._transport.send(a)}}transport_sockjs.SockjsTransport=SockjsTransport;var transport_websocket={};Object.defineProperty(transport_websocket,"__esModule",{value:!0});transport_websocket.WebsocketTransport=void 0;class WebsocketTransport{constructor(a,d){this.endpoint=a,this.options=d,this._transport=null}name(){return"websocket"}subName(){return"websocket"}emulation(){return!1}supported(){return this.options.websocket!==void 0&&this.options.websocket!==null}initialize(a,d){let m="";a==="protobuf"&&(m="centrifuge-protobuf"),m!==""?this._transport=new this.options.websocket(this.endpoint,m):this._transport=new this.options.websocket(this.endpoint),a==="protobuf"&&(this._transport.binaryType="arraybuffer"),this._transport.onopen=()=>{d.onOpen()},this._transport.onerror=$=>{d.onError($)},this._transport.onclose=$=>{d.onClose($)},this._transport.onmessage=$=>{d.onMessage($.data)}}close(){this._transport.close()}send(a){this._transport.send(a)}}transport_websocket.WebsocketTransport=WebsocketTransport;var transport_http_stream={};Object.defineProperty(transport_http_stream,"__esModule",{value:!0});transport_http_stream.HttpStreamTransport=void 0;class HttpStreamTransport{constructor(a,d){this.endpoint=a,this.options=d,this._abortController=null,this._utf8decoder=new TextDecoder,this._protocol="json"}name(){return"http_stream"}subName(){return"http_stream"}emulation(){return!0}_handleErrors(a){if(!a.ok)throw new Error(a.status);return a}_fetchEventTarget(a,d,m){const $=new EventTarget,ee=a.options.fetch;return ee(d,m).then(a._handleErrors).then(te=>{$.dispatchEvent(new Event("open"));let b="",re=0,ne=new Uint8Array;const ie=te.body.getReader();return new a.options.readableStream({start(se){function fe(){return ie.read().then(({done:ce,value:de})=>{if(ce){$.dispatchEvent(new Event("close")),se.close();return}try{if(a._protocol==="json")for(b+=a._utf8decoder.decode(de);re<b.length;)if(b[re]===`
`){const ye=b.substring(0,re);$.dispatchEvent(new MessageEvent("message",{data:ye})),b=b.substring(re+1),re=0}else++re;else{const ye=new Uint8Array(ne.length+de.length);for(ye.set(ne),ye.set(de,ne.length),ne=ye;;){const ge=a.options.decoder.decodeReply(ne);if(ge.ok){const _e=ne.slice(0,ge.pos);$.dispatchEvent(new MessageEvent("message",{data:_e})),ne=ne.slice(ge.pos);continue}break}}}catch(ye){$.dispatchEvent(new Event("error",{detail:ye})),$.dispatchEvent(new Event("close")),se.close();return}fe()}).catch(function(ce){$.dispatchEvent(new Event("error",{detail:ce})),$.dispatchEvent(new Event("close")),se.close()})}return fe()}})}).catch(te=>{$.dispatchEvent(new Event("error",{detail:te})),$.dispatchEvent(new Event("close"))}),$}supported(){return this.options.fetch!==null&&this.options.readableStream!==null&&typeof TextDecoder<"u"&&typeof AbortController<"u"&&typeof EventTarget<"u"&&typeof Event<"u"&&typeof MessageEvent<"u"&&typeof Error<"u"}initialize(a,d,m){this._protocol=a,this._abortController=new AbortController;let $,ee;a==="json"?($={Accept:"application/json","Content-Type":"application/json"},ee=m):($={Accept:"application/octet-stream","Content-Type":"application/octet-stream"},ee=m);const te={method:"POST",headers:$,body:ee,mode:"cors",credentials:"same-origin",cache:"no-cache",signal:this._abortController.signal},b=this._fetchEventTarget(this,this.endpoint,te);b.addEventListener("open",()=>{d.onOpen()}),b.addEventListener("error",re=>{this._abortController.abort(),d.onError(re)}),b.addEventListener("close",()=>{this._abortController.abort(),d.onClose({code:4,reason:"connection closed"})}),b.addEventListener("message",re=>{d.onMessage(re.data)})}close(){this._abortController.abort()}send(a,d,m){let $,ee;const te={session:d,node:m,data:a};this._protocol==="json"?($={"Content-Type":"application/json"},ee=JSON.stringify(te)):($={"Content-Type":"application/octet-stream"},ee=this.options.encoder.encodeEmulationRequest(te));const b=this.options.fetch,re={method:"POST",headers:$,body:ee,mode:"cors",credentials:"same-origin",cache:"no-cache"};b(this.options.emulationEndpoint,re)}}transport_http_stream.HttpStreamTransport=HttpStreamTransport;var transport_sse={};Object.defineProperty(transport_sse,"__esModule",{value:!0});transport_sse.SseTransport=void 0;class SseTransport{constructor(a,d){this.endpoint=a,this.options=d,this._protocol="json",this._transport=null,this._onClose=null}name(){return"sse"}subName(){return"sse"}emulation(){return!0}supported(){return this.options.eventsource!==null&&this.options.fetch!==null}initialize(a,d,m){let $;globalThis&&globalThis.document&&globalThis.document.baseURI?$=new URL(this.endpoint,globalThis.document.baseURI):$=new URL(this.endpoint),$.searchParams.append("cf_connect",m);const ee={},te=new this.options.eventsource($.toString(),ee);this._transport=te;const b=this;te.onopen=function(){d.onOpen()},te.onerror=function(re){te.close(),d.onError(re),d.onClose({code:4,reason:"connection closed"})},te.onmessage=function(re){d.onMessage(re.data)},b._onClose=function(){d.onClose({code:4,reason:"connection closed"})}}close(){this._transport.close(),this._onClose!==null&&this._onClose()}send(a,d,m){const $={session:d,node:m,data:a},ee={"Content-Type":"application/json"},te=JSON.stringify($),b=this.options.fetch,re={method:"POST",headers:ee,body:te,mode:"cors",credentials:"same-origin",cache:"no-cache"};b(this.options.emulationEndpoint,re)}}transport_sse.SseTransport=SseTransport;var transport_webtransport={},__awaiter=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(u,a,d,m){function $(ee){return ee instanceof d?ee:new d(function(te){te(ee)})}return new(d||(d=Promise))(function(ee,te){function b(ie){try{ne(m.next(ie))}catch(se){te(se)}}function re(ie){try{ne(m.throw(ie))}catch(se){te(se)}}function ne(ie){ie.done?ee(ie.value):$(ie.value).then(b,re)}ne((m=m.apply(u,a||[])).next())})};Object.defineProperty(transport_webtransport,"__esModule",{value:!0});transport_webtransport.WebtransportTransport=void 0;class WebtransportTransport{constructor(a,d){this.endpoint=a,this.options=d,this._transport=null,this._stream=null,this._writer=null,this._utf8decoder=new TextDecoder,this._protocol="json"}name(){return"webtransport"}subName(){return"webtransport"}emulation(){return!1}supported(){return this.options.webtransport!==void 0&&this.options.webtransport!==null}initialize(a,d){return __awaiter(this,void 0,void 0,function*(){let m;globalThis&&globalThis.document&&globalThis.document.baseURI?m=new URL(this.endpoint,globalThis.document.baseURI):m=new URL(this.endpoint),a==="protobuf"&&m.searchParams.append("cf_protocol","protobuf"),this._protocol=a;const $=new EventTarget;this._transport=new this.options.webtransport(m.toString()),this._transport.closed.then(()=>{d.onClose({code:4,reason:"connection closed"})}).catch(()=>{d.onClose({code:4,reason:"connection closed"})});try{yield this._transport.ready}catch{this.close();return}let ee;try{ee=yield this._transport.createBidirectionalStream()}catch{this.close();return}this._stream=ee,this._writer=this._stream.writable.getWriter(),$.addEventListener("close",()=>{d.onClose({code:4,reason:"connection closed"})}),$.addEventListener("message",te=>{d.onMessage(te.data)}),this._startReading($),d.onOpen()})}_startReading(a){return __awaiter(this,void 0,void 0,function*(){const d=this._stream.readable.getReader();let m="",$=0,ee=new Uint8Array;try{for(;;){const{done:te,value:b}=yield d.read();if(b.length>0)if(this._protocol==="json")for(m+=this._utf8decoder.decode(b);$<m.length;)if(m[$]===`
`){const re=m.substring(0,$);a.dispatchEvent(new MessageEvent("message",{data:re})),m=m.substring($+1),$=0}else++$;else{const re=new Uint8Array(ee.length+b.length);for(re.set(ee),re.set(b,ee.length),ee=re;;){const ne=this.options.decoder.decodeReply(ee);if(ne.ok){const ie=ee.slice(0,ne.pos);a.dispatchEvent(new MessageEvent("message",{data:ie})),ee=ee.slice(ne.pos);continue}break}}if(te)break}}catch{a.dispatchEvent(new Event("close"))}})}close(){return __awaiter(this,void 0,void 0,function*(){try{this._writer&&(yield this._writer.close()),this._transport.close()}catch{}})}send(a){return __awaiter(this,void 0,void 0,function*(){let d;this._protocol==="json"?d=new TextEncoder().encode(a+`
`):d=a;try{yield this._writer.write(d)}catch{this.close()}})}}transport_webtransport.WebtransportTransport=WebtransportTransport;var json={};Object.defineProperty(json,"__esModule",{value:!0});json.JsonDecoder=json.JsonEncoder=void 0;class JsonEncoder{encodeCommands(a){return a.map(d=>JSON.stringify(d)).join(`
`)}}json.JsonEncoder=JsonEncoder;class JsonDecoder{decodeReplies(a){return a.trim().split(`
`).map(d=>JSON.parse(d))}}json.JsonDecoder=JsonDecoder;var __importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(centrifuge,"__esModule",{value:!0});centrifuge.Centrifuge=void 0;const subscription_1=subscription,codes_1=codes,transport_sockjs_1=transport_sockjs,transport_websocket_1=transport_websocket,transport_http_stream_1=transport_http_stream,transport_sse_1=transport_sse,transport_webtransport_1=transport_webtransport,json_1=json,utils_1=utils,types_1=types,events_1=__importDefault(events.exports),defaults={protocol:"json",token:null,getToken:null,data:null,debug:!1,name:"js",version:"",fetch:null,readableStream:null,websocket:null,eventsource:null,sockjs:null,sockjsOptions:{},emulationEndpoint:"/emulation",minReconnectDelay:500,maxReconnectDelay:2e4,timeout:5e3,maxServerPingDelay:1e4};class Centrifuge extends events_1.default{constructor(a,d){super(),this._reconnectTimeout=null,this._refreshTimeout=null,this._serverPingTimeout=null,this.state=types_1.State.Disconnected,this._endpoint=a,this._emulation=!1,this._transports=[],this._currentTransportIndex=0,this._triedAllTransports=!1,this._transportWasOpen=!1,this._transport=null,this._transportClosed=!0,this._encoder=null,this._decoder=null,this._reconnectTimeout=null,this._reconnectAttempts=0,this._client=null,this._session="",this._node="",this._subs={},this._serverSubs={},this._commandId=0,this._commands=[],this._batching=!1,this._refreshRequired=!1,this._refreshTimeout=null,this._callbacks={},this._token=void 0,this._dispatchPromise=Promise.resolve(),this._serverPing=0,this._serverPingTimeout=null,this._sendPong=!1,this._promises={},this._promiseId=0,this._debugEnabled=!1,this._config=Object.assign(Object.assign({},defaults),d),this._configure(),this._debugEnabled?(this.on("state",m=>{this._debug("client state",m.oldState,"->",m.newState)}),this.on("error",m=>{this._debug("client error",m)})):this.on("error",function(){Function.prototype()})}newSubscription(a,d){if(this.getSubscription(a)!==null)throw new Error("Subscription to the channel "+a+" already exists");const m=new subscription_1.Subscription(this,a,d);return this._subs[a]=m,m}getSubscription(a){return this._getSub(a)}removeSubscription(a){!a||(a.state!==types_1.SubscriptionState.Unsubscribed&&a.unsubscribe(),this._removeSubscription(a))}subscriptions(){return this._subs}ready(a){return this.state===types_1.State.Disconnected?Promise.reject({code:codes_1.errorCodes.clientDisconnected,message:"client disconnected"}):this.state===types_1.State.Connected?Promise.resolve():new Promise((d,m)=>{const $={resolve:d,reject:m};a&&($.timeout=setTimeout(function(){m({code:codes_1.errorCodes.timeout,message:"timeout"})},a)),this._promises[this._nextPromiseId()]=$})}connect(){if(this._isConnected()){this._debug("connect called when already connected");return}if(this._isConnecting()){this._debug("connect called when already connecting");return}this._reconnectAttempts=0,this._startConnecting()}disconnect(){this._disconnect(codes_1.disconnectedCodes.disconnectCalled,"disconnect called",!1)}send(a){const d={send:{data:a}},m=this;return this._methodCall().then(function(){return m._transportSendCommands([d])?Promise.resolve():Promise.reject(m._createErrorObject(codes_1.errorCodes.transportWriteError,"transport write error"))})}rpc(a,d){const m={rpc:{method:a,data:d}},$=this;return this._methodCall().then(function(){return $._callPromise(m,function(ee){return{data:ee.rpc.data}})})}publish(a,d){const m={publish:{channel:a,data:d}},$=this;return this._methodCall().then(function(){return $._callPromise(m,function(){return{}})})}history(a,d){const m={history:this._getHistoryRequest(a,d)},$=this;return this._methodCall().then(function(){return $._callPromise(m,function(ee){const te=ee.history,b=[];if(te.publications)for(let re=0;re<te.publications.length;re++)b.push($._getPublicationContext(a,te.publications[re]));return{publications:b,epoch:te.epoch||"",offset:te.offset||0}})})}presence(a){const d={presence:{channel:a}},m=this;return this._methodCall().then(function(){return m._callPromise(d,function($){return{clients:$.presence.presence}})})}presenceStats(a){const d={presence_stats:{channel:a}},m=this;return this._methodCall().then(function(){return m._callPromise(d,function($){const ee=$.presence_stats;return{numUsers:ee.num_users,numClients:ee.num_clients}})})}startBatching(){this._batching=!0}stopBatching(){const a=this;Promise.resolve().then(function(){Promise.resolve().then(function(){a._batching=!1,a._flush()})})}_debug(...a){!this._debugEnabled||(0,utils_1.log)("debug",a)}_setFormat(a){if(!this._formatOverride(a)){if(a==="protobuf")throw new Error("not implemented by JSON-only Centrifuge client, use client with Protobuf support");this._encoder=new json_1.JsonEncoder,this._decoder=new json_1.JsonDecoder}}_formatOverride(a){return!1}_configure(){if(!("Promise"in globalThis))throw new Error("Promise polyfill required");if(!this._endpoint)throw new Error("endpoint configuration required");if(this._config.protocol!=="json"&&this._config.protocol!=="protobuf")throw new Error("unsupported protocol "+this._config.protocol);if(this._config.token!==null&&(this._token=this._config.token),this._setFormat("json"),this._config.protocol==="protobuf"&&this._setFormat("protobuf"),(this._config.debug===!0||typeof localStorage<"u"&&localStorage.getItem("centrifuge.debug"))&&(this._debugEnabled=!0),this._debug("config",this._config),typeof this._endpoint!="string")if(typeof this._endpoint=="object"&&this._endpoint instanceof Array){this._transports=this._endpoint,this._emulation=!0;for(const a in this._transports){const d=this._transports[a];if(!d.endpoint||!d.transport)throw new Error("malformed transport configuration");const m=d.transport;if(["websocket","http_stream","sse","sockjs","webtransport"].indexOf(m)<0)throw new Error("unsupported transport name: "+m)}}else throw new Error("unsupported url configuration type: only string or array of objects are supported")}_setState(a){if(this.state!==a){const d=this.state;return this.state=a,this.emit("state",{newState:a,oldState:d}),!0}return!1}_isDisconnected(){return this.state===types_1.State.Disconnected}_isConnecting(){return this.state===types_1.State.Connecting}_isConnected(){return this.state===types_1.State.Connected}_nextCommandId(){return++this._commandId}_getReconnectDelay(){const a=(0,utils_1.backoff)(this._reconnectAttempts,this._config.minReconnectDelay,this._config.maxReconnectDelay);return this._reconnectAttempts+=1,a}_clearOutgoingRequests(){for(const a in this._callbacks)if(this._callbacks.hasOwnProperty(a)){const d=this._callbacks[a];clearTimeout(d.timeout);const m=d.errback;if(!m)continue;m({error:this._createErrorObject(codes_1.errorCodes.connectionClosed,"connection closed")})}this._callbacks={}}_clearConnectedState(){this._client=null,this._clearServerPingTimeout(),this._clearRefreshTimeout();for(const a in this._subs){if(!this._subs.hasOwnProperty(a))continue;const d=this._subs[a];d.state===types_1.SubscriptionState.Subscribed&&d._setSubscribing(codes_1.subscribingCodes.transportClosed,"transport closed")}for(const a in this._serverSubs)this._serverSubs.hasOwnProperty(a)&&this.emit("subscribing",{channel:a})}_handleWriteError(a){for(const d of a){const m=d.id;if(!(m in this._callbacks))continue;const $=this._callbacks[m];clearTimeout(this._callbacks[m].timeout),delete this._callbacks[m];const ee=$.errback;ee({error:this._createErrorObject(codes_1.errorCodes.transportWriteError,"transport write error")})}}_transportSendCommands(a){if(!a.length)return!0;if(!this._transport)return!1;try{this._transport.send(this._encoder.encodeCommands(a),this._session,this._node)}catch(d){return this._debug("error writing commands",d),this._handleWriteError(a),!1}return!0}_initializeTransport(){let a;this._config.websocket!==null?a=this._config.websocket:typeof globalThis.WebSocket!="function"&&typeof globalThis.WebSocket!="object"||(a=globalThis.WebSocket);let d=null;this._config.sockjs!==null?d=this._config.sockjs:typeof globalThis.SockJS<"u"&&(d=globalThis.SockJS);let m=null;this._config.eventsource!==null?m=this._config.eventsource:typeof globalThis.EventSource<"u"&&(m=globalThis.EventSource);let $=null;this._config.fetch!==null?$=this._config.fetch:typeof globalThis.fetch<"u"&&($=globalThis.fetch);let ee=null;if(this._config.readableStream!==null?ee=this._config.readableStream:typeof globalThis.ReadableStream<"u"&&(ee=globalThis.ReadableStream),this._emulation){this._currentTransportIndex>=this._transports.length&&(this._triedAllTransports=!0,this._currentTransportIndex=0);let fe=0;for(;;){if(fe>=this._transports.length)throw new Error("no supported transport found");const ce=this._transports[this._currentTransportIndex],de=ce.transport,ye=ce.endpoint;if(de==="websocket"){if(this._debug("trying websocket transport"),this._transport=new transport_websocket_1.WebsocketTransport(ye,{websocket:a}),!this._transport.supported()){this._debug("websocket transport not available"),this._currentTransportIndex++,fe++;continue}}else if(de==="webtransport"){if(this._debug("trying webtransport transport"),this._transport=new transport_webtransport_1.WebtransportTransport(ye,{webtransport:globalThis.WebTransport,decoder:this._decoder,encoder:this._encoder}),!this._transport.supported()){this._debug("webtransport transport not available"),this._currentTransportIndex++,fe++;continue}}else if(de==="http_stream"){if(this._debug("trying http_stream transport"),this._transport=new transport_http_stream_1.HttpStreamTransport(ye,{fetch:$,readableStream:ee,emulationEndpoint:this._config.emulationEndpoint,decoder:this._decoder,encoder:this._encoder}),!this._transport.supported()){this._debug("http_stream transport not available"),this._currentTransportIndex++,fe++;continue}}else if(de==="sse"){if(this._debug("trying sse transport"),this._transport=new transport_sse_1.SseTransport(ye,{eventsource:m,fetch:$,emulationEndpoint:this._config.emulationEndpoint}),!this._transport.supported()){this._debug("sse transport not available"),this._currentTransportIndex++,fe++;continue}}else if(de==="sockjs"){if(this._debug("trying sockjs"),this._transport=new transport_sockjs_1.SockjsTransport(ye,{sockjs:d,sockjsOptions:this._config.sockjsOptions}),!this._transport.supported()){this._debug("sockjs transport not available"),this._currentTransportIndex++,fe++;continue}}else throw new Error("unknown transport "+de);break}}else{if((0,utils_1.startsWith)(this._endpoint,"http"))throw new Error("Provide explicit transport endpoints configuration in case of using HTTP (i.e. using array of TransportEndpoint instead of a single string), or use ws(s):// scheme in an endpoint if you aimed using WebSocket transport");if(this._debug("client will use websocket"),this._transport=new transport_websocket_1.WebsocketTransport(this._endpoint,{websocket:a}),!this._transport.supported())throw new Error("WebSocket not available")}const te=this;let b,re=!1,ne=!0;this._transport.name()==="sse"&&(ne=!1);const ie=[];if(this._transport.emulation()){const fe=te._sendConnect(!0);if(ie.push(fe),ne){const ce=te._sendSubscribeCommands(!0,!0);for(const de in ce)ie.push(ce[de])}}const se=this._encoder.encodeCommands(ie);this._transport.initialize(this._config.protocol,{onOpen:function(){re=!0,b=te._transport.subName(),te._debug(b,"transport open"),te._transportWasOpen=!0,te._transportClosed=!1,!te._transport.emulation()&&(te.startBatching(),te._sendConnect(!1),ne&&te._sendSubscribeCommands(!0,!1),te.stopBatching())},onError:function(fe){te._debug("transport level error",fe)},onClose:function(fe){te._debug(te._transport.name(),"transport closed"),te._transportClosed=!0;let ce="connection closed",de=!0,ye=0;if(fe&&"code"in fe&&fe.code&&(ye=fe.code),fe&&fe.reason)try{const _e=JSON.parse(fe.reason);ce=_e.reason,de=_e.reconnect}catch{ce=fe.reason,(ye>=3500&&ye<4e3||ye>=4500&&ye<5e3)&&(de=!1)}ye<3e3?(ye===1009?(ye=codes_1.disconnectedCodes.messageSizeLimit,ce="message size limit exceeded",de=!1):(ye=codes_1.connectingCodes.transportClosed,ce="transport closed"),te._emulation&&!te._transportWasOpen&&(te._currentTransportIndex++,te._currentTransportIndex>=te._transports.length&&(te._triedAllTransports=!0,te._currentTransportIndex=0))):te._transportWasOpen=!0;let ge=!1;if(te._emulation&&!te._transportWasOpen&&!te._triedAllTransports&&(ge=!0),te._isConnecting()&&!re&&te.emit("error",{type:"transport",error:{code:codes_1.errorCodes.transportClosed,message:"transport closed"},transport:te._transport.name()}),te._disconnect(ye,ce,de),te._isConnecting()){let _e=te._getReconnectDelay();ge&&(_e=0),te._debug("reconnect after "+_e+" milliseconds"),te._reconnectTimeout=setTimeout(()=>{te._startReconnecting()},_e)}},onMessage:function(fe){te._dataReceived(fe)}},se)}_sendConnect(a){const d=this._constructConnectCommand(),m=this;return this._call(d,a).then($=>{const ee=$.reply.connect;m._connectResponse(ee),$.next&&$.next()},$=>{m._connectError($.error),$.next&&$.next()}),d}_startReconnecting(){if(!this._isConnecting())return;if(!(this._refreshRequired||!this._token&&this._config.getToken!==null)){this._initializeTransport();return}const d=this;this._getToken().then(function(m){if(!!d._isConnecting()){if(!m){d._failUnauthorized();return}d._token=m,d._debug("connection token refreshed"),d._initializeTransport()}}).catch(function(m){if(!d._isConnecting())return;d.emit("error",{type:"connectToken",error:{code:codes_1.errorCodes.clientConnectToken,message:m!==void 0?m.toString():""}});const $=d._getReconnectDelay();d._debug("error on connection token refresh, reconnect after "+$+" milliseconds",m),d._reconnectTimeout=setTimeout(()=>{d._startReconnecting()},$)})}_connectError(a){this.state===types_1.State.Connecting&&(a.code===109&&(this._refreshRequired=!0),a.code<100||a.temporary===!0||a.code===109?(this.emit("error",{type:"connect",error:a}),this._transport&&!this._transportClosed&&(this._transportClosed=!0,this._transport.close())):this._disconnect(a.code,a.message,!1))}_constructConnectCommand(){const a={};this._token&&(a.token=this._token),this._config.data&&(a.data=this._config.data),this._config.name&&(a.name=this._config.name),this._config.version&&(a.version=this._config.version);const d={};let m=!1;for(const $ in this._serverSubs)if(this._serverSubs.hasOwnProperty($)&&this._serverSubs[$].recoverable){m=!0;const ee={recover:!0};this._serverSubs[$].offset&&(ee.offset=this._serverSubs[$].offset),this._serverSubs[$].epoch&&(ee.epoch=this._serverSubs[$].epoch),d[$]=ee}return m&&(a.subs=d),{connect:a}}_getHistoryRequest(a,d){const m={channel:a};return d!==void 0&&(d.since&&(m.since={offset:d.since.offset},d.since.epoch&&(m.since.epoch=d.since.epoch)),d.limit!==void 0&&(m.limit=d.limit),d.reverse===!0&&(m.reverse=!0)),m}_methodCall(){return this._isConnected()?Promise.resolve():new Promise((a,d)=>{const m=setTimeout(function(){d({code:codes_1.errorCodes.timeout,message:"timeout"})},this._config.timeout);this._promises[this._nextPromiseId()]={timeout:m,resolve:a,reject:d}})}_callPromise(a,d){return new Promise((m,$)=>{this._call(a,!1).then(ee=>{m(d(ee.reply)),ee.next&&ee.next()},ee=>{$(ee.error),ee.next&&ee.next()})})}_dataReceived(a){this._serverPing>0&&this._waitServerPing();const d=this._decoder.decodeReplies(a);this._dispatchPromise=this._dispatchPromise.then(()=>{let m;this._dispatchPromise=new Promise($=>{m=$}),this._dispatchSynchronized(d,m)})}_dispatchSynchronized(a,d){let m=Promise.resolve();for(const $ in a)a.hasOwnProperty($)&&(m=m.then(()=>this._dispatchReply(a[$])));m=m.then(()=>{d()})}_dispatchReply(a){let d;const m=new Promise(ee=>{d=ee});if(a==null)return this._debug("dispatch: got undefined or null reply"),d(),m;const $=a.id;return $&&$>0?this._handleReply(a,d):a.push?this._handlePush(a.push,d):this._handleServerPing(d),m}_call(a,d){return new Promise((m,$)=>{a.id=this._nextCommandId(),this._registerCall(a.id,m,$),d||this._addCommand(a)})}_startConnecting(){this._debug("start connecting"),this._setState(types_1.State.Connecting)&&this.emit("connecting",{code:codes_1.connectingCodes.connectCalled,reason:"connect called"}),this._client=null,this._startReconnecting()}_disconnect(a,d,m){if(this._isDisconnected())return;const $=this.state,ee={code:a,reason:d};let te=!1;m?te=this._setState(types_1.State.Connecting):(te=this._setState(types_1.State.Disconnected),this._rejectPromises({code:codes_1.errorCodes.clientDisconnected,message:"disconnected"})),this._clearOutgoingRequests(),$===types_1.State.Connecting&&this._clearReconnectTimeout(),$===types_1.State.Connected&&this._clearConnectedState(),te&&(this._isConnecting()?this.emit("connecting",ee):this.emit("disconnected",ee)),this._transport&&!this._transportClosed&&(this._transportClosed=!0,this._transport.close())}_failUnauthorized(){this._disconnect(codes_1.disconnectedCodes.unauthorized,"unauthorized",!1)}_getToken(){if(this._debug("get connection token"),!this._config.getToken)throw new Error("provide a function to get connection token");return this._config.getToken({})}_refresh(){const a=this._client,d=this;this._getToken().then(function(m){if(a!==d._client)return;if(!m){d._failUnauthorized();return}if(d._token=m,d._debug("connection token refreshed"),!d._isConnected())return;const $={refresh:{token:d._token}};d._call($,!1).then(ee=>{const te=ee.reply.refresh;d._refreshResponse(te),ee.next&&ee.next()},ee=>{d._refreshError(ee.error),ee.next&&ee.next()})}).catch(function(m){d.emit("error",{type:"refreshToken",error:{code:codes_1.errorCodes.clientRefreshToken,message:m!==void 0?m.toString():""}}),d._refreshTimeout=setTimeout(()=>d._refresh(),d._getRefreshRetryDelay())})}_refreshError(a){a.code<100||a.temporary===!0?(this.emit("error",{type:"refresh",error:a}),this._refreshTimeout=setTimeout(()=>this._refresh(),this._getRefreshRetryDelay())):this._disconnect(a.code,a.message,!1)}_getRefreshRetryDelay(){return(0,utils_1.backoff)(0,5e3,1e4)}_refreshResponse(a){this._refreshTimeout&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null),a.expires&&(this._client=a.client,this._refreshTimeout=setTimeout(()=>this._refresh(),(0,utils_1.ttlMilliseconds)(a.ttl)))}_removeSubscription(a){a!==null&&delete this._subs[a.channel]}_unsubscribe(a){if(!this._isConnected())return;const m={unsubscribe:{channel:a.channel}},$=this;this._call(m,!1).then(ee=>{ee.next&&ee.next()},ee=>{ee.next&&ee.next(),$._disconnect(codes_1.connectingCodes.unsubscribeError,"unsubscribe error",!0)})}_getSub(a){const d=this._subs[a];return d||null}_isServerSub(a){return this._serverSubs[a]!==void 0}_sendSubscribeCommands(a,d){const m=[];for(const $ in this._subs){if(!this._subs.hasOwnProperty($))continue;const ee=this._subs[$];if(ee._inflight!==!0&&ee.state===types_1.SubscriptionState.Subscribing){const te=ee._subscribe(a,d);te&&m.push(te)}}return m}_connectResponse(a){if(this._transportWasOpen=!0,this._reconnectAttempts=0,this._refreshRequired=!1,this._isConnected())return;this._client=a.client,this._setState(types_1.State.Connected),this._refreshTimeout&&clearTimeout(this._refreshTimeout),a.expires&&(this._refreshTimeout=setTimeout(()=>this._refresh(),(0,utils_1.ttlMilliseconds)(a.ttl))),this._session=a.session,this._node=a.node,this.startBatching(),this._sendSubscribeCommands(!1,!1),this.stopBatching();const d={client:a.client,transport:this._transport.subName()};a.data&&(d.data=a.data),this.emit("connected",d),this._resolvePromises(),this._processServerSubs(a.subs||{}),a.ping&&a.ping>0?(this._serverPing=a.ping*1e3,this._sendPong=a.pong===!0,this._waitServerPing()):this._serverPing=0}_processServerSubs(a){for(const d in a){if(!a.hasOwnProperty(d))continue;const m=a[d];this._serverSubs[d]={offset:m.offset,epoch:m.epoch,recoverable:m.recoverable||!1};const $=this._getSubscribeContext(d,m);this.emit("subscribed",$)}for(const d in a){if(!a.hasOwnProperty(d))continue;const m=a[d];if(m.recovered){const $=m.publications;if($&&$.length>0)for(const ee in $)$.hasOwnProperty(ee)&&this._handlePublication(d,$[ee])}}for(const d in this._serverSubs)!this._serverSubs.hasOwnProperty(d)||a[d]||(this.emit("unsubscribed",{channel:d}),delete this._serverSubs[d])}_clearRefreshTimeout(){this._refreshTimeout!==null&&(clearTimeout(this._refreshTimeout),this._refreshTimeout=null)}_clearReconnectTimeout(){this._reconnectTimeout!==null&&(clearTimeout(this._reconnectTimeout),this._reconnectTimeout=null)}_clearServerPingTimeout(){this._serverPingTimeout!==null&&(clearTimeout(this._serverPingTimeout),this._serverPingTimeout=null)}_waitServerPing(){this._config.maxServerPingDelay!==0&&(!this._isConnected()||(this._clearServerPingTimeout(),this._serverPingTimeout=setTimeout(()=>{!this._isConnected()||this._disconnect(codes_1.connectingCodes.noPing,"no ping",!0)},this._serverPing+this._config.maxServerPingDelay)))}_getSubscribeContext(a,d){const m={channel:a,positioned:!1,recoverable:!1,wasRecovering:!1,recovered:!1};d.recovered&&(m.recovered=!0),d.positioned&&(m.positioned=!0),d.recoverable&&(m.recoverable=!0),d.was_recovering&&(m.wasRecovering=!0);let $="";"epoch"in d&&($=d.epoch);let ee=0;return"offset"in d&&(ee=d.offset),(m.positioned||m.recoverable)&&(m.streamPosition={offset:ee,epoch:$}),d.data&&(m.data=d.data),m}_handleReply(a,d){const m=a.id;if(!(m in this._callbacks)){d();return}const $=this._callbacks[m];if(clearTimeout(this._callbacks[m].timeout),delete this._callbacks[m],(0,utils_1.errorExists)(a)){const ee=$.errback;if(!ee){d();return}const te=a.error;ee({error:te,next:d})}else{const ee=$.callback;if(!ee)return;ee({reply:a,next:d})}}_handleJoin(a,d){const m=this._getSub(a);if(!m){if(this._isServerSub(a)){const $={channel:a,info:this._getJoinLeaveContext(d.info)};this.emit("join",$)}return}m._handleJoin(d)}_handleLeave(a,d){const m=this._getSub(a);if(!m){if(this._isServerSub(a)){const $={channel:a,info:this._getJoinLeaveContext(d.info)};this.emit("leave",$)}return}m._handleLeave(d)}_handleUnsubscribe(a,d){const m=this._getSub(a);if(!m){this._isServerSub(a)&&(delete this._serverSubs[a],this.emit("unsubscribed",{channel:a}));return}d.code<2500?m._setUnsubscribed(d.code,d.reason,!1):m._setSubscribing(d.code,d.reason)}_handleSubscribe(a,d){this._serverSubs[a]={offset:d.offset,epoch:d.epoch,recoverable:d.recoverable||!1},this.emit("subscribed",this._getSubscribeContext(a,d))}_handleDisconnect(a){const d=a.code;let m=!0;(d>=3500&&d<4e3||d>=4500&&d<5e3)&&(m=!1),this._disconnect(d,a.reason,m)}_getPublicationContext(a,d){const m={channel:a,data:d.data};return d.offset&&(m.offset=d.offset),d.info&&(m.info=this._getJoinLeaveContext(d.info)),d.tags&&(m.tags=d.tags),m}_getJoinLeaveContext(a){const d={client:a.client,user:a.user};return a.conn_info&&(d.connInfo=a.conn_info),a.chan_info&&(d.chanInfo=a.chan_info),d}_handlePublication(a,d){const m=this._getSub(a);if(!m){if(this._isServerSub(a)){const $=this._getPublicationContext(a,d);this.emit("publication",$),d.offset!==void 0&&(this._serverSubs[a].offset=d.offset)}return}m._handlePublication(d)}_handleMessage(a){this.emit("message",{data:a.data})}_handleServerPing(a){if(this._sendPong){const d={};this._transportSendCommands([d])}a()}_handlePush(a,d){const m=a.channel;a.pub?this._handlePublication(m,a.pub):a.message?this._handleMessage(a.message):a.join?this._handleJoin(m,a.join):a.leave?this._handleLeave(m,a.leave):a.unsubscribe?this._handleUnsubscribe(m,a.unsubscribe):a.subscribe?this._handleSubscribe(m,a.subscribe):a.disconnect&&this._handleDisconnect(a.disconnect),d()}_flush(){const a=this._commands.slice(0);this._commands=[],this._transportSendCommands(a)}_createErrorObject(a,d,m){const $={code:a,message:d};return m&&($.temporary=!0),$}_registerCall(a,d,m){this._callbacks[a]={callback:d,errback:m,timeout:null},this._callbacks[a].timeout=setTimeout(()=>{delete this._callbacks[a],(0,utils_1.isFunction)(m)&&m({error:this._createErrorObject(codes_1.errorCodes.timeout,"timeout")})},this._config.timeout)}_addCommand(a){this._batching?this._commands.push(a):this._transportSendCommands([a])}_nextPromiseId(){return++this._promiseId}_resolvePromises(){for(const a in this._promises)this._promises[a].timeout&&clearTimeout(this._promises[a].timeout),this._promises[a].resolve(),delete this._promises[a]}_rejectPromises(a){for(const d in this._promises)this._promises[d].timeout&&clearTimeout(this._promises[d].timeout),this._promises[d].reject(a),delete this._promises[d]}}centrifuge.Centrifuge=Centrifuge;Centrifuge.SubscriptionState=types_1.SubscriptionState;Centrifuge.State=types_1.State;(function(u){var a=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(ee,te,b,re){re===void 0&&(re=b);var ne=Object.getOwnPropertyDescriptor(te,b);(!ne||("get"in ne?!te.__esModule:ne.writable||ne.configurable))&&(ne={enumerable:!0,get:function(){return te[b]}}),Object.defineProperty(ee,re,ne)}:function(ee,te,b,re){re===void 0&&(re=b),ee[re]=te[b]}),d=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(ee,te){for(var b in ee)b!=="default"&&!Object.prototype.hasOwnProperty.call(te,b)&&a(te,ee,b)};Object.defineProperty(u,"__esModule",{value:!0}),u.Subscription=u.Centrifuge=void 0;const m=centrifuge;Object.defineProperty(u,"Centrifuge",{enumerable:!0,get:function(){return m.Centrifuge}});const $=subscription;Object.defineProperty(u,"Subscription",{enumerable:!0,get:function(){return $.Subscription}}),d(types,u)})(build);var dayjs_min$1={exports:{}};(function(u,a){(function(d,m){u.exports=m()})(commonjsGlobal$1,function(){var d=1e3,m=6e4,$=36e5,ee="millisecond",te="second",b="minute",re="hour",ne="day",ie="week",se="month",fe="quarter",ce="year",de="date",ye="Invalid Date",ge=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_e=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ee={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},Ae=function(le,ae,he){var xe=String(le);return!xe||xe.length>=ae?le:""+Array(ae+1-xe.length).join(he)+le},we={s:Ae,z:function(le){var ae=-le.utcOffset(),he=Math.abs(ae),xe=Math.floor(he/60),$e=he%60;return(ae<=0?"+":"-")+Ae(xe,2,"0")+":"+Ae($e,2,"0")},m:function le(ae,he){if(ae.date()<he.date())return-le(he,ae);var xe=12*(he.year()-ae.year())+(he.month()-ae.month()),$e=ae.clone().add(xe,se),He=he-$e<0,Fe=ae.clone().add(xe+(He?-1:1),se);return+(-(xe+(he-$e)/(He?$e-Fe:Fe-$e))||0)},a:function(le){return le<0?Math.ceil(le)||0:Math.floor(le)},p:function(le){return{M:se,y:ce,w:ie,d:ne,D:de,h:re,m:b,s:te,ms:ee,Q:fe}[le]||String(le||"").toLowerCase().replace(/s$/,"")},u:function(le){return le===void 0}},Me="en",ke={};ke[Me]=Ee;var Re=function(le){return le instanceof Pe},ze=function le(ae,he,xe){var $e;if(!ae)return Me;if(typeof ae=="string"){var He=ae.toLowerCase();ke[He]&&($e=He),he&&(ke[He]=he,$e=He);var Fe=ae.split("-");if(!$e&&Fe.length>1)return le(Fe[0])}else{var Ne=ae.name;ke[Ne]=ae,$e=Ne}return!xe&&$e&&(Me=$e),$e||!xe&&Me},Je=function(le,ae){if(Re(le))return le.clone();var he=typeof ae=="object"?ae:{};return he.date=le,he.args=arguments,new Pe(he)},et=we;et.l=ze,et.i=Re,et.w=function(le,ae){return Je(le,{locale:ae.$L,utc:ae.$u,x:ae.$x,$offset:ae.$offset})};var Pe=function(){function le(he){this.$L=ze(he.locale,null,!0),this.parse(he)}var ae=le.prototype;return ae.parse=function(he){this.$d=function(xe){var $e=xe.date,He=xe.utc;if($e===null)return new Date(NaN);if(et.u($e))return new Date;if($e instanceof Date)return new Date($e);if(typeof $e=="string"&&!/Z$/i.test($e)){var Fe=$e.match(ge);if(Fe){var Ne=Fe[2]-1||0,De=(Fe[7]||"0").substring(0,3);return He?new Date(Date.UTC(Fe[1],Ne,Fe[3]||1,Fe[4]||0,Fe[5]||0,Fe[6]||0,De)):new Date(Fe[1],Ne,Fe[3]||1,Fe[4]||0,Fe[5]||0,Fe[6]||0,De)}}return new Date($e)}(he),this.$x=he.x||{},this.init()},ae.init=function(){var he=this.$d;this.$y=he.getFullYear(),this.$M=he.getMonth(),this.$D=he.getDate(),this.$W=he.getDay(),this.$H=he.getHours(),this.$m=he.getMinutes(),this.$s=he.getSeconds(),this.$ms=he.getMilliseconds()},ae.$utils=function(){return et},ae.isValid=function(){return this.$d.toString()!==ye},ae.isSame=function(he,xe){var $e=Je(he);return this.startOf(xe)<=$e&&$e<=this.endOf(xe)},ae.isAfter=function(he,xe){return Je(he)<this.startOf(xe)},ae.isBefore=function(he,xe){return this.endOf(xe)<Je(he)},ae.$g=function(he,xe,$e){return et.u(he)?this[xe]:this.set($e,he)},ae.unix=function(){return Math.floor(this.valueOf()/1e3)},ae.valueOf=function(){return this.$d.getTime()},ae.startOf=function(he,xe){var $e=this,He=!!et.u(xe)||xe,Fe=et.p(he),Ne=function(rt,Oe){var Ve=et.w($e.$u?Date.UTC($e.$y,Oe,rt):new Date($e.$y,Oe,rt),$e);return He?Ve:Ve.endOf(ne)},De=function(rt,Oe){return et.w($e.toDate()[rt].apply($e.toDate("s"),(He?[0,0,0,0]:[23,59,59,999]).slice(Oe)),$e)},pe=this.$W,Le=this.$M,Be=this.$D,Ce="set"+(this.$u?"UTC":"");switch(Fe){case ce:return He?Ne(1,0):Ne(31,11);case se:return He?Ne(1,Le):Ne(0,Le+1);case ie:var Ze=this.$locale().weekStart||0,it=(pe<Ze?pe+7:pe)-Ze;return Ne(He?Be-it:Be+(6-it),Le);case ne:case de:return De(Ce+"Hours",0);case re:return De(Ce+"Minutes",1);case b:return De(Ce+"Seconds",2);case te:return De(Ce+"Milliseconds",3);default:return this.clone()}},ae.endOf=function(he){return this.startOf(he,!1)},ae.$set=function(he,xe){var $e,He=et.p(he),Fe="set"+(this.$u?"UTC":""),Ne=($e={},$e[ne]=Fe+"Date",$e[de]=Fe+"Date",$e[se]=Fe+"Month",$e[ce]=Fe+"FullYear",$e[re]=Fe+"Hours",$e[b]=Fe+"Minutes",$e[te]=Fe+"Seconds",$e[ee]=Fe+"Milliseconds",$e)[He],De=He===ne?this.$D+(xe-this.$W):xe;if(He===se||He===ce){var pe=this.clone().set(de,1);pe.$d[Ne](De),pe.init(),this.$d=pe.set(de,Math.min(this.$D,pe.daysInMonth())).$d}else Ne&&this.$d[Ne](De);return this.init(),this},ae.set=function(he,xe){return this.clone().$set(he,xe)},ae.get=function(he){return this[et.p(he)]()},ae.add=function(he,xe){var $e,He=this;he=Number(he);var Fe=et.p(xe),Ne=function(Le){var Be=Je(He);return et.w(Be.date(Be.date()+Math.round(Le*he)),He)};if(Fe===se)return this.set(se,this.$M+he);if(Fe===ce)return this.set(ce,this.$y+he);if(Fe===ne)return Ne(1);if(Fe===ie)return Ne(7);var De=($e={},$e[b]=m,$e[re]=$,$e[te]=d,$e)[Fe]||1,pe=this.$d.getTime()+he*De;return et.w(pe,this)},ae.subtract=function(he,xe){return this.add(-1*he,xe)},ae.format=function(he){var xe=this,$e=this.$locale();if(!this.isValid())return $e.invalidDate||ye;var He=he||"YYYY-MM-DDTHH:mm:ssZ",Fe=et.z(this),Ne=this.$H,De=this.$m,pe=this.$M,Le=$e.weekdays,Be=$e.months,Ce=function(Oe,Ve,We,qe){return Oe&&(Oe[Ve]||Oe(xe,He))||We[Ve].slice(0,qe)},Ze=function(Oe){return et.s(Ne%12||12,Oe,"0")},it=$e.meridiem||function(Oe,Ve,We){var qe=Oe<12?"AM":"PM";return We?qe.toLowerCase():qe},rt={YY:String(this.$y).slice(-2),YYYY:this.$y,M:pe+1,MM:et.s(pe+1,2,"0"),MMM:Ce($e.monthsShort,pe,Be,3),MMMM:Ce(Be,pe),D:this.$D,DD:et.s(this.$D,2,"0"),d:String(this.$W),dd:Ce($e.weekdaysMin,this.$W,Le,2),ddd:Ce($e.weekdaysShort,this.$W,Le,3),dddd:Le[this.$W],H:String(Ne),HH:et.s(Ne,2,"0"),h:Ze(1),hh:Ze(2),a:it(Ne,De,!0),A:it(Ne,De,!1),m:String(De),mm:et.s(De,2,"0"),s:String(this.$s),ss:et.s(this.$s,2,"0"),SSS:et.s(this.$ms,3,"0"),Z:Fe};return He.replace(_e,function(Oe,Ve){return Ve||rt[Oe]||Fe.replace(":","")})},ae.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ae.diff=function(he,xe,$e){var He,Fe=et.p(xe),Ne=Je(he),De=(Ne.utcOffset()-this.utcOffset())*m,pe=this-Ne,Le=et.m(this,Ne);return Le=(He={},He[ce]=Le/12,He[se]=Le,He[fe]=Le/3,He[ie]=(pe-De)/6048e5,He[ne]=(pe-De)/864e5,He[re]=pe/$,He[b]=pe/m,He[te]=pe/d,He)[Fe]||pe,$e?Le:et.a(Le)},ae.daysInMonth=function(){return this.endOf(se).$D},ae.$locale=function(){return ke[this.$L]},ae.locale=function(he,xe){if(!he)return this.$L;var $e=this.clone(),He=ze(he,xe,!0);return He&&($e.$L=He),$e},ae.clone=function(){return et.w(this.$d,this)},ae.toDate=function(){return new Date(this.valueOf())},ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toISOString=function(){return this.$d.toISOString()},ae.toString=function(){return this.$d.toUTCString()},le}(),ve=Pe.prototype;return Je.prototype=ve,[["$ms",ee],["$s",te],["$m",b],["$H",re],["$W",ne],["$M",se],["$y",ce],["$D",de]].forEach(function(le){ve[le[1]]=function(ae){return this.$g(ae,le[0],le[1])}}),Je.extend=function(le,ae){return le.$i||(le(ae,Pe,Je),le.$i=!0),Je},Je.locale=ze,Je.isDayjs=Re,Je.unix=function(le){return Je(1e3*le)},Je.en=ke[Me],Je.Ls=ke,Je.p={},Je})})(dayjs_min$1);const dayjs_min=dayjs_min$1.exports,dayjs=_mergeNamespaces({__proto__:null,default:dayjs_min},[dayjs_min$1.exports]),Chat_vue_vue_type_style_index_0_lang="",_sfc_main$1=defineComponent({name:"ChatS",components:{ChatWindow,NModal,NButton,NInput,NIcon,AddIcon,NCheckbox,NCheckboxGroup,NSpin,NTabs,NTabPane,NScrollbar,NAvatar,NRadio,NGrid,NCol,NGridItem,NInputGroup,NTag},data(){return{currentUserId:"",messages:[],messagesLoaded:!1,roomActions:[{name:"inviteUser",title:"Invite User"},{name:"removeUser",title:"Remove User"},{name:"deleteRoom",title:"Delete Room"},{name:"info",title:"Info"}],messageSelectionActions:[{name:"deleteMessages",title:"Delete"}],addShowRoom:ref(!1),infoRoom:ref(!1),detailsMembers:ref(!1),detailsUsers:ref(!1),loadingRooms:!0,loadingLastMessageByRoom:0,roomsLoadedCount:!1,rooms:[],roomsLoaded:!1,startRooms:null,endRooms:null,roomsListeners:[],roomsPerPage:15,allUsers:[],addNewRoom:null,addRoomUsername:null,name_room:null,addShowInviteUser:ref(!1),inviteRoomId:null,inviteUserWallet:null,listeners:[],addShowRemoveUser:ref(!1),listUserRoom:[],isConnect:!1,collectionError:ref(!1),usernameOptions:{minUsers:1}}},setup(){const u=ref(0),a=ref([]),d=ref(null),m=ref(!0),$=ref(""),ee=ref(""),te=ref(!1),b=ref(""),re=ref(!0),ne=ref(!0),ie=ref(null),se=useStore();se.initialize();const fe=ref(se.wallet?.publicKey.toBase58()),ce=ref(!0);ref(!1),ref(!1),ref(!1),ref(!1);const de=ref(0),ye=ref(!1),ge=ref(!1),_e=ref(null),Ee=ref(null),Ae=ref([]);ref(15),ref([]);const we=ref([]);ref(null),ref(null),ref(null),ref(!1),ref(null),ref(null);const Me=ref([]);ref(!1),ref([]),ref(!1),ref(!1);const ke=ref(null),Re=ref(!1),ze=ref(null),Je=ref({minUsers:1}),et=ref([]),Pe=ref("warning"),ve=ref(""),le=()=>{Fe(),Le();const Ve=document.querySelector(".vac-icon-textarea > div.vac-svg-button");console.log("cek deleteAttach: ",Ve),Ve&&Ve.remove()},ae=Ve=>{Pe.value=PublicKey.isOnCurve(Ve)?"success":Ve.length==0?"warning":"error",re.value=!PublicKey.isOnCurve(Ve),b.value=Ve},he=()=>{PublicKey.isOnCurve(b.value)&&(ve.value=b.value)},xe=()=>{PublicKey.isOnCurve(b.value)&&b.value!=fe.value&&(et.value.push(b.value),et.value=_.uniq(et.value))},$e=()=>{ve.value=""},He=Ve=>{et.value=_.without(et.value,Ve)},Fe=()=>{m.value=!0,de.value=0,ye.value=0,a.value=[],ge.value=!0,_e.value=null,Ee.value=null,Ae.value.forEach(Ve=>Ve()),Ae.value=[],Ne()},Ne=()=>{we.value=[],Re.value=!1,ke.value=null,ze.value=null,Me.value.forEach(Ve=>Ve()),Me.value=[]},De=async({room:Ve,options:We={}})=>{console.log(Ve),d.value=Ve,we.value=[],Ve.name.includes("DM#")?it.history("dm:"+fe.value,{limit:100}).then(function(qe){qe.publications.forEach(Ge=>{if(Ge.data.text.room_id.split(":")[1]==Ve.name.split(":")[1]){console.log(Ge);const Qe=pe(Ve,Ge.data.text);we.value.push(Qe)}}),Re.value=!0},function(qe){console.log("history error",qe)}):it.history(Ve.roomId,{limit:30}).then(function(qe){qe.publications.forEach(Ge=>{console.log(Ge);const Qe=pe(Ve,Ge.data.text);we.value.push(Qe)}),Re.value=!0},function(qe){console.log("history error",qe)})},pe=(Ve,We)=>{console.log(We.timestamp);const qe={...We,senderId:We.sender_id,_id:We.msgId||Date.now(),seconds:We.timestamp.seconds,timestamp:dayjs(We.timestamp).format("HH:mm"),date:dayjs(We.timestamp).format("DD MMMM YYYY"),username:"message.sender_id",avatar:We.sender_id==fe.value?se.avatar:We.avatar?We.avatar:null,distributed:!0,lastMessage:{...We.lastMessage,senderId:We.sender_id}};return We.replyMessage&&(qe.replyMessage={...We.replyMessage,senderId:We.replyMessage.sender_id}),qe},Le=async()=>{if(Ee.value&&!_e.value){ge.value=!0;return}a.value=[];let Ve="https://picsum.photos/seed/picsum/200/300";$.value=fe.value;const We=[],qe=[];let Ge=o(se.userToken).channels,Qe=50;for(let ct=0;ct<Ge.length;ct++)Ge[ct].includes("dm:")==!1?Qe=1:Qe=50,it.history(Ge[ct],{limit:Qe}).then(function(ft){if(Ge[ct].includes("dm:")==!1){let bt={name:"CH#"+Ge[ct],roomName:"CH#"+Ge[ct],users:[],id:Ge[ct]};console.log(Array.isArray(Ve)?Ve[0]:Ve),We.push({...bt,roomId:Ge[ct],avatar:Array.isArray(se.nftList.filter(St=>St.updateAuthorityAddress===Ge[ct]).map(St=>St.img))?se.nftList.filter(St=>St.updateAuthorityAddress===Ge[ct]).map(St=>St.img)[0]:se.nftList.filter(St=>St.updateAuthorityAddress===Ge[ct]).map(St=>St.img),index:ft.publications.length>0?Math.floor(ft.publications[0].data.timestamp/1e3):Math.floor(Date.now()/1e3),lastMessage:{content:ft.publications.length>0?ft.publications[0].data.text.content:"No messages yet",timestamp:formatTimestamp(new Date(ft.publications.length>0?Math.floor(ft.publications[0].data.timestamp/1e3):Math.floor(Date.now()/1e3)),ft.publications.length>0?ft.publications[0].data.timestamp:Date.now())}})}else for(let bt=0;bt<ft.publications.length;bt++){let St={name:"DM#"+ft.publications[bt].data.text.room_id,roomName:"DM#"+ft.publications[bt].data.text.room_id,users:[],id:ft.publications[bt].data.text.room_id};qe.indexOf(ft.publications[bt].data.text.room_id==-1)&&(We.push({...St,roomId:ft.publications[bt].data.text.room_id,avatar:"https://nftstorage.link/ipfs/bafkreifxsugv5u2zb3rg33xy3qqgwi2pl3abcfiorulctlut7jgjokctuu",index:Math.floor(Date.now()/1e3),lastMessage:{content:"Direct Message",timestamp:formatTimestamp(new Date(Math.floor(Date.now()/1e3)),ft.publications.length>0?ft.publications[0].data.timestamp:Date.now())}}),qe.push(ft.publications[bt].data.text.room_id))}Ge.length==ct+1&&(a.value=a.value.concat(We),a.value=_.uniq(a.value,bt=>bt.roomId),a.value.length||(m.value=!1,ye.value=0))},function(ft){console.log("history error",ft)})},Be=()=>{it.disconnect();let Ve={contractAddress:ie.value};fetch("http://solana-hackathon-api.supacharge.io:3000/addchannels",{method:"POST",body:JSON.stringify(Ve),headers:{"Content-Type":"application/json",Authorization:"Bearer "+se.userToken}}).then(function(We){return We.json()}).then(function(We){se.storeUserToken(We),it.disconnect(),ne.value=!1})},Ce=Ve=>{u.value=Ve.target.value,console.log(u.value),se.setAvatar(u.value)},Ze=computed(()=>se.userToken);let it=new build.Centrifuge("wss://ws.supacharge.io/connection/websocket",{token:se.userToken});it.on("subscribed",function(Ve){console.log("subscribed to server-side channel",Ve.channel)}),it.on("subscribing",function(Ve){console.log("subscribing to server-side channel",Ve.channel)}),it.on("unsubscribed",function(Ve){console.log("unsubscribed from server-side channel",Ve.channel)}),it.on("connected",function(Ve){}),it.on("disconnected",function(Ve){console.log("disconnected",Ve)}),it.on("publication",function(Ve){}),it.connect(),watch(ne,Ve=>{Ve==!1&&Be()}),watch(Ze,Ve=>{it=new build.Centrifuge("wss://ws.supacharge.io/connection/websocket",{token:Ve}),it.on("subscribed",function(We){console.log("subscribed to server-side channel",We.channel)}),it.on("subscribing",function(We){console.log("subscribing to server-side channel",We.channel)}),it.on("unsubscribed",function(We){console.log("unsubscribed from server-side channel",We.channel)}),it.on("connected",function(We){le()}),it.on("disconnected",function(We){console.log("disconnected",We)}),it.on("publication",function(We){if(We.channel.includes("dm:")==!1){let qe=a.value.findIndex(Ge=>Ge.roomId==We.channel);a.value[qe].lastMessage={content:We.data.text.content,timestamp:formatTimestamp(new Date(Math.floor(Date.now()/1e3)),We.data.timestamp?We.data.timestamp:Date.now())}}if(We.channel==d.value?.roomId&&We.channel.includes("dm:")==!1){const qe=pe(d.value,We.data.text);we.value.push(qe),we.value=[...new Map(we.value.map(Ge=>[JSON.stringify(Ge),Ge])).values()]}else if(We.channel=="dm:"+fe.value){let qe=a.value.findIndex(Qe=>Qe.roomId==We.data.text.room_id);if(qe==-1){let Qe=[],ct={name:"DM#"+We.data.text.room_id,roomName:"DM#"+We.data.text.room_id,users:[],id:We.data.text.room_id};Qe.push({...ct,roomId:We.data.text.room_id,avatar:"https://nftstorage.link/ipfs/bafkreifxsugv5u2zb3rg33xy3qqgwi2pl3abcfiorulctlut7jgjokctuu",index:Math.floor(Date.now()/1e3),lastMessage:{content:We.data.text.content,timestamp:formatTimestamp(new Date(Math.floor(Date.now()/1e3)),We.data.timestamp?We.data.timestamp:Date.now())}}),a.value=a.value.concat(Qe),a.value=_.uniq(a.value,ft=>ft.roomId)}else a.value[qe].lastMessage={content:We.data.text.content,timestamp:formatTimestamp(new Date(Math.floor(Date.now()/1e3)),We.data.timestamp?We.data.timestamp:Date.now())};const Ge=pe(d.value,We.data.text);we.value.push(Ge),Re.value=!0}else console.log("..");console.log("publication receive from server-side channel",We.channel,We.data)}),it.connect()});const rt=computed(()=>se.nftList.filter((We,qe,Ge)=>Ge.findIndex(Qe=>["updateAuthorityAddress"].every(ct=>Qe[ct]===We[ct]))===qe)),Oe=computed(()=>o(se.userToken).channels);return{collectionList:rt,channelsList:Oe,collectionsSelect:ie,handleUpdateValue(Ve){ie.value=Ve},refreshList(){te.value=!0,ne.value=!1;let Ve={};fetch("http://solana-hackathon-api.supacharge.io:3000/refreshlist",{method:"POST",body:JSON.stringify(Ve),headers:{"Content-Type":"application/json",Authorization:"Bearer "+se.userToken}}).then(function(We){return We.json()}).then(function(We){for(let qe=0;qe<We.nftList.length;qe++)fetch(We.nftList[qe].uri).then(Ge=>{Ge.json().then(Qe=>{We.nftList[qe].img=Qe.image,qe+1==We.nftList.length&&(se.refreshUser(We.token,We.nftList),te.value=!1,ne.value=!0)})})})},async sendMessage({content:Ve,roomId:We,files:qe,replyMessage:Ge}){$.value=se.wallet?.publicKey.toBase58();const Qe={sender_id:$.value,content:Ve,timestamp:new Date,avatar:se.avatar,room_id:We};qe&&(Qe.files=this.formattedFiles(qe)),Ge&&(Qe.replyMessage={_id:Ge._id,content:Ge.content,sender_id:Ge.senderId},Ge.files&&(Qe.replyMessage.files=Ge.files));let ct={token:se.userToken,message:Qe,channelAddress:We};fetch("http://solana-hackathon-api.supacharge.io:3000/sendmessage",{method:"POST",body:JSON.stringify(ct),headers:{"Content-Type":"application/json",Authorization:"Bearer "+se.userToken}}).then(function(ft){return ne.value=!1,ft.json()}).then(function(ft){console.log(ft)})},saveGroups:Be,collectionsRef:ie,showModalStart:ne,showSpin:te,username:fe,disabledUsername:ce,rooms:a,fetchRooms:le,resetRooms:Fe,resetMessages:Ne,fetchMoreRooms:Le,fetchMessages:De,messages:we,formatMessage:pe,messagesLoaded:Re,currentUserId:$,currentRoom:d,usernameOptions:Je,handleChange:Ce,checkedValue:u,addressInput:b,processAddressInput:xe,inputStatus:Pe,isSignInButtonDisabled:re,addressInputChange:ae,DMRooms:et,handleRemoveAddress:He,tempAddressInput:he,handleRemoveTempAddress:$e,tempAddress:ve,msgToAddress:ee}}}),_hoisted_1$1=createTextVNode("Refresh List"),_hoisted_2$1=createBaseVNode("div",{style:{color:"#fff"}},"Selection:",-1),_hoisted_3$1={class:"card my-2"},_hoisted_4$1={class:"card-body"},_hoisted_5$1={class:"row"},_hoisted_6={class:"col-1 align-self-center"},_hoisted_7={class:"col-2"},_hoisted_8=["src"],_hoisted_9={class:"col align-self-center"},_hoisted_10={style:{"font-weight":"bold"}},_hoisted_11={style:{"font-size":"12px"}},_hoisted_12=createTextVNode("Proceed"),_hoisted_13=createTextVNode(" Enter a Solana Wallet Address: "),_hoisted_14=createTextVNode(" Please enter a valid Solana Address "),_hoisted_15=createTextVNode(" Add "),_hoisted_16={key:0},_hoisted_17=createTextVNode(" Send Message "),_hoisted_18={class:"row"},_hoisted_19={class:"col-1 align-self-center"},_hoisted_20={class:"col-2"},_hoisted_21=["src"];function _sfc_render(u,a,d,m,$,ee){const te=resolveComponent("add-icon"),b=resolveComponent("n-icon"),re=resolveComponent("n-button"),ne=resolveComponent("chat-window"),ie=resolveComponent("n-checkbox"),se=resolveComponent("n-checkbox-group"),fe=resolveComponent("n-scrollbar"),ce=resolveComponent("n-tab-pane"),de=resolveComponent("n-text"),ye=resolveComponent("n-input"),ge=resolveComponent("n-input-group"),_e=resolveComponent("n-tag"),Ee=resolveComponent("n-radio"),Ae=resolveComponent("n-tabs"),we=resolveComponent("n-modal");return openBlock(),createElementBlock("div",null,[createVNode(re,{class:"add-room",text:"",style:{"font-size":"28px"},onClick:a[0]||(a[0]=Me=>u.showModalStart=!0),circle:""},{default:withCtx(()=>[createVNode(b,null,{default:withCtx(()=>[createVNode(te)]),_:1})]),_:1}),createVNode(ne,{height:"calc(100vh - 20px)","current-user-id":u.currentUserId,"room-actions":u.roomActions,rooms:u.rooms,"rooms-loaded":!0,messages:u.messages,"messages-loaded":u.messagesLoaded,onSendMessage:u.sendMessage,onFetchMessages:u.fetchMessages,"username-options":u.usernameOptions,"message-actions":[{name:"replyMessage",title:"Reply"}]},null,8,["current-user-id","room-actions","rooms","messages","messages-loaded","onSendMessage","onFetchMessages","username-options"]),createVNode(we,{show:u.showModalStart,"onUpdate:show":a[5]||(a[5]=Me=>u.showModalStart=Me),preset:"card",style:{width:"500px"},title:"Channel Selection",class:"selection-card"},{"header-extra":withCtx(()=>[createVNode(re,{onClick:u.refreshList,class:"selection-card-btn-text"},{default:withCtx(()=>[_hoisted_1$1]),_:1},8,["onClick"])]),header:withCtx(()=>[_hoisted_2$1]),default:withCtx(()=>[createVNode(Ae,{"default-value":"channel","justify-content":"space-evenly",type:"line",class:"selection-card-tabs"},{default:withCtx(()=>[createVNode(ce,{name:"channel",tab:"Channels"},{default:withCtx(()=>[createVNode(fe,{style:{"max-height":"300px"}},{default:withCtx(()=>[createBaseVNode("div",null,[createVNode(se,{value:u.collectionsSelect,"onUpdate:value":[a[1]||(a[1]=Me=>u.collectionsSelect=Me),u.handleUpdateValue]},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.collectionList,Me=>(openBlock(),createElementBlock("div",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6,[createVNode(ie,{size:"large",value:Me.updateAuthorityAddress},null,8,["value"])]),createBaseVNode("div",_hoisted_7,[createBaseVNode("img",{alt:"logo",class:"rounded-circle mx-auto d-block",src:Me.img,width:"65",height:"65",style:{"object-fit":"cover"}},null,8,_hoisted_8)]),createBaseVNode("div",_hoisted_9,[createBaseVNode("span",_hoisted_10,toDisplayString(Me.name),1),createBaseVNode("span",_hoisted_11," #"+toDisplayString(Me.updateAuthorityAddress),1)])])])]))),256))]),_:1},8,["value","onUpdate:value"])])]),_:1}),u.disabledUsername?(openBlock(),createBlock(re,{key:0,onClick:u.saveGroups,disabled:!u.username},{default:withCtx(()=>[_hoisted_12]),_:1},8,["onClick","disabled"])):createCommentVNode("",!0)]),_:1}),createVNode(ce,{name:"dm",tab:"Direct Message"},{default:withCtx(()=>[createVNode(de,{code:""},{default:withCtx(()=>[_hoisted_13]),_:1}),createVNode(ge,null,{default:withCtx(()=>[createVNode(ye,{style:{width:"75%"},status:u.inputStatus,"on-update:value":u.addressInputChange,placeholder:""},null,8,["status","on-update:value"]),u.inputStatus=="error"?(openBlock(),createBlock(de,{key:0,type:"error"},{default:withCtx(()=>[_hoisted_14]),_:1})):createCommentVNode("",!0),createVNode(re,{type:"primary",ghost:"",onClick:u.tempAddressInput,disabled:u.isSignInButtonDisabled},{default:withCtx(()=>[_hoisted_15]),_:1},8,["onClick","disabled"])]),_:1}),u.tempAddress!=""?(openBlock(),createElementBlock("div",_hoisted_16,[createVNode(_e,{closable:"",onClose:a[2]||(a[2]=Me=>u.handleRemoveTempAddress()),size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(u.tempAddress),1)]),_:1})])):createCommentVNode("",!0),u.tempAddress!=""?(openBlock(),createBlock(ye,{key:1,value:u.msgToAddress,"onUpdate:value":a[3]||(a[3]=Me=>u.msgToAddress=Me),type:"textarea",placeholder:"Basic Textarea"},null,8,["value"])):createCommentVNode("",!0),u.tempAddress!=""?(openBlock(),createBlock(re,{key:2,type:"primary",onClick:a[4]||(a[4]=Me=>u.sendMessage({content:u.msgToAddress,roomId:"dm:"+u.tempAddress})),disabled:u.msgToAddress.length==0},{default:withCtx(()=>[_hoisted_17]),_:1},8,["disabled"])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(u.DMRooms,(Me,ke)=>(openBlock(),createElementBlock("div",null,[createVNode(_e,{closable:"",onClose:Re=>u.handleRemoveAddress(Me),size:"small"},{default:withCtx(()=>[createTextVNode(toDisplayString(Me),1)]),_:2},1032,["onClose"])]))),256))]),_:1}),createVNode(ce,{name:"avatar",tab:"Avatar"},{default:withCtx(()=>[createVNode(fe,{style:{"max-height":"300px"}},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.collectionList,(Me,ke)=>(openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_18,[createBaseVNode("div",_hoisted_19,[(openBlock(),createBlock(Ee,{checked:u.checkedValue===ke,value:ke,key:ke,name:ke,onChange:u.handleChange},null,8,["checked","value","name","onChange"]))]),createBaseVNode("div",_hoisted_20,[createBaseVNode("img",{alt:"logo",class:"rounded-circle mx-auto d-block",src:Me.img,width:"65",height:"65",style:{"object-fit":"cover"}},null,8,_hoisted_21)])])]))),256))]),_:1})]),_:1})]),_:1})]),_:1},8,["show"])])}const Chat=_export_sfc$1(_sfc_main$1,[["render",_sfc_render]]),ChatView_vue_vue_type_style_index_0_scoped_b1b5c586_lang="",_withScopeId=u=>(pushScopeId("data-v-b1b5c586"),u=u(),popScopeId(),u),_hoisted_1={class:"btn-wallet-chat"},_hoisted_2={key:1,class:"d-flex justify-content-center"},_hoisted_3=_withScopeId(()=>createBaseVNode("div",{class:"spinner-border text-primary",role:"status"},null,-1)),_hoisted_4=[_hoisted_3],_hoisted_5={key:2,class:"text-center"},_sfc_main={__name:"ChatView",setup(u){const{connected:a,connecting:d}=useWallet();return watch(a,m=>{m||(window.location="/")}),(m,$)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1,[unref(a)?(openBlock(),createBlock(unref(WalletMultiButton),{key:0})):createCommentVNode("",!0)]),unref(a)?(openBlock(),createBlock(Chat,{key:0})):createCommentVNode("",!0),unref(a)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2,_hoisted_4)),unref(d)?(openBlock(),createElementBlock("p",_hoisted_5,"Loading...")):createCommentVNode("",!0)],64))}},ChatView=_export_sfc$1(_sfc_main,[["__scopeId","data-v-b1b5c586"]]),router=createRouter({history:createWebHistory("./"),routes:[{path:"/",name:"home",component:HomeView},{path:"/chat",name:"chat",component:ChatView},{path:"/about",name:"about",component:()=>__vitePreload(()=>Promise.resolve().then(()=>AboutView$1),void 0,import.meta.url)},{path:"/:catchAll(.*)",component:()=>__vitePreload(()=>import("./NotFound.47355059.js"),[],import.meta.url)}]}),styles="",bootstrap_min="";var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(u,a){return u.concat([a+"-"+start,a+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(u,a){return u.concat([a,a+"-"+start,a+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(u){return u?(u.nodeName||"").toLowerCase():null}function getWindow(u){if(u==null)return window;if(u.toString()!=="[object Window]"){var a=u.ownerDocument;return a&&a.defaultView||window}return u}function isElement$1(u){var a=getWindow(u).Element;return u instanceof a||u instanceof Element}function isHTMLElement(u){var a=getWindow(u).HTMLElement;return u instanceof a||u instanceof HTMLElement}function isShadowRoot(u){if(typeof ShadowRoot>"u")return!1;var a=getWindow(u).ShadowRoot;return u instanceof a||u instanceof ShadowRoot}function applyStyles(u){var a=u.state;Object.keys(a.elements).forEach(function(d){var m=a.styles[d]||{},$=a.attributes[d]||{},ee=a.elements[d];!isHTMLElement(ee)||!getNodeName(ee)||(Object.assign(ee.style,m),Object.keys($).forEach(function(te){var b=$[te];b===!1?ee.removeAttribute(te):ee.setAttribute(te,b===!0?"":b)}))})}function effect$2(u){var a=u.state,d={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,d.popper),a.styles=d,a.elements.arrow&&Object.assign(a.elements.arrow.style,d.arrow),function(){Object.keys(a.elements).forEach(function(m){var $=a.elements[m],ee=a.attributes[m]||{},te=Object.keys(a.styles.hasOwnProperty(m)?a.styles[m]:d[m]),b=te.reduce(function(re,ne){return re[ne]="",re},{});!isHTMLElement($)||!getNodeName($)||(Object.assign($.style,b),Object.keys(ee).forEach(function(re){$.removeAttribute(re)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(u){return u.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getBoundingClientRect(u,a){a===void 0&&(a=!1);var d=u.getBoundingClientRect(),m=1,$=1;if(isHTMLElement(u)&&a){var ee=u.offsetHeight,te=u.offsetWidth;te>0&&(m=round(d.width)/te||1),ee>0&&($=round(d.height)/ee||1)}return{width:d.width/m,height:d.height/$,top:d.top/$,right:d.right/m,bottom:d.bottom/$,left:d.left/m,x:d.left/m,y:d.top/$}}function getLayoutRect(u){var a=getBoundingClientRect(u),d=u.offsetWidth,m=u.offsetHeight;return Math.abs(a.width-d)<=1&&(d=a.width),Math.abs(a.height-m)<=1&&(m=a.height),{x:u.offsetLeft,y:u.offsetTop,width:d,height:m}}function contains(u,a){var d=a.getRootNode&&a.getRootNode();if(u.contains(a))return!0;if(d&&isShadowRoot(d)){var m=a;do{if(m&&u.isSameNode(m))return!0;m=m.parentNode||m.host}while(m)}return!1}function getComputedStyle$1(u){return getWindow(u).getComputedStyle(u)}function isTableElement(u){return["table","td","th"].indexOf(getNodeName(u))>=0}function getDocumentElement(u){return((isElement$1(u)?u.ownerDocument:u.document)||window.document).documentElement}function getParentNode(u){return getNodeName(u)==="html"?u:u.assignedSlot||u.parentNode||(isShadowRoot(u)?u.host:null)||getDocumentElement(u)}function getTrueOffsetParent(u){return!isHTMLElement(u)||getComputedStyle$1(u).position==="fixed"?null:u.offsetParent}function getContainingBlock(u){var a=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,d=navigator.userAgent.indexOf("Trident")!==-1;if(d&&isHTMLElement(u)){var m=getComputedStyle$1(u);if(m.position==="fixed")return null}var $=getParentNode(u);for(isShadowRoot($)&&($=$.host);isHTMLElement($)&&["html","body"].indexOf(getNodeName($))<0;){var ee=getComputedStyle$1($);if(ee.transform!=="none"||ee.perspective!=="none"||ee.contain==="paint"||["transform","perspective"].indexOf(ee.willChange)!==-1||a&&ee.willChange==="filter"||a&&ee.filter&&ee.filter!=="none")return $;$=$.parentNode}return null}function getOffsetParent(u){for(var a=getWindow(u),d=getTrueOffsetParent(u);d&&isTableElement(d)&&getComputedStyle$1(d).position==="static";)d=getTrueOffsetParent(d);return d&&(getNodeName(d)==="html"||getNodeName(d)==="body"&&getComputedStyle$1(d).position==="static")?a:d||getContainingBlock(u)||a}function getMainAxisFromPlacement(u){return["top","bottom"].indexOf(u)>=0?"x":"y"}function within(u,a,d){return max(u,min(a,d))}function withinMaxClamp(u,a,d){var m=within(u,a,d);return m>d?d:m}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(u){return Object.assign({},getFreshSideObject(),u)}function expandToHashMap(u,a){return a.reduce(function(d,m){return d[m]=u,d},{})}var toPaddingObject=function u(a,d){return a=typeof a=="function"?a(Object.assign({},d.rects,{placement:d.placement})):a,mergePaddingObject(typeof a!="number"?a:expandToHashMap(a,basePlacements))};function arrow(u){var a,d=u.state,m=u.name,$=u.options,ee=d.elements.arrow,te=d.modifiersData.popperOffsets,b=getBasePlacement(d.placement),re=getMainAxisFromPlacement(b),ne=[left,right].indexOf(b)>=0,ie=ne?"height":"width";if(!(!ee||!te)){var se=toPaddingObject($.padding,d),fe=getLayoutRect(ee),ce=re==="y"?top:left,de=re==="y"?bottom:right,ye=d.rects.reference[ie]+d.rects.reference[re]-te[re]-d.rects.popper[ie],ge=te[re]-d.rects.reference[re],_e=getOffsetParent(ee),Ee=_e?re==="y"?_e.clientHeight||0:_e.clientWidth||0:0,Ae=ye/2-ge/2,we=se[ce],Me=Ee-fe[ie]-se[de],ke=Ee/2-fe[ie]/2+Ae,Re=within(we,ke,Me),ze=re;d.modifiersData[m]=(a={},a[ze]=Re,a.centerOffset=Re-ke,a)}}function effect$1(u){var a=u.state,d=u.options,m=d.element,$=m===void 0?"[data-popper-arrow]":m;$!=null&&(typeof $=="string"&&($=a.elements.popper.querySelector($),!$)||!contains(a.elements.popper,$)||(a.elements.arrow=$))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(u){return u.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(u){var a=u.x,d=u.y,m=window,$=m.devicePixelRatio||1;return{x:round(a*$)/$||0,y:round(d*$)/$||0}}function mapToStyles(u){var a,d=u.popper,m=u.popperRect,$=u.placement,ee=u.variation,te=u.offsets,b=u.position,re=u.gpuAcceleration,ne=u.adaptive,ie=u.roundOffsets,se=u.isFixed,fe=te.x,ce=fe===void 0?0:fe,de=te.y,ye=de===void 0?0:de,ge=typeof ie=="function"?ie({x:ce,y:ye}):{x:ce,y:ye};ce=ge.x,ye=ge.y;var _e=te.hasOwnProperty("x"),Ee=te.hasOwnProperty("y"),Ae=left,we=top,Me=window;if(ne){var ke=getOffsetParent(d),Re="clientHeight",ze="clientWidth";if(ke===getWindow(d)&&(ke=getDocumentElement(d),getComputedStyle$1(ke).position!=="static"&&b==="absolute"&&(Re="scrollHeight",ze="scrollWidth")),ke=ke,$===top||($===left||$===right)&&ee===end){we=bottom;var Je=se&&ke===Me&&Me.visualViewport?Me.visualViewport.height:ke[Re];ye-=Je-m.height,ye*=re?1:-1}if($===left||($===top||$===bottom)&&ee===end){Ae=right;var et=se&&ke===Me&&Me.visualViewport?Me.visualViewport.width:ke[ze];ce-=et-m.width,ce*=re?1:-1}}var Pe=Object.assign({position:b},ne&&unsetSides),ve=ie===!0?roundOffsetsByDPR({x:ce,y:ye}):{x:ce,y:ye};if(ce=ve.x,ye=ve.y,re){var le;return Object.assign({},Pe,(le={},le[we]=Ee?"0":"",le[Ae]=_e?"0":"",le.transform=(Me.devicePixelRatio||1)<=1?"translate("+ce+"px, "+ye+"px)":"translate3d("+ce+"px, "+ye+"px, 0)",le))}return Object.assign({},Pe,(a={},a[we]=Ee?ye+"px":"",a[Ae]=_e?ce+"px":"",a.transform="",a))}function computeStyles(u){var a=u.state,d=u.options,m=d.gpuAcceleration,$=m===void 0?!0:m,ee=d.adaptive,te=ee===void 0?!0:ee,b=d.roundOffsets,re=b===void 0?!0:b,ne={placement:getBasePlacement(a.placement),variation:getVariation(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:$,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,mapToStyles(Object.assign({},ne,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:te,roundOffsets:re})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,mapToStyles(Object.assign({},ne,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:re})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(u){var a=u.state,d=u.instance,m=u.options,$=m.scroll,ee=$===void 0?!0:$,te=m.resize,b=te===void 0?!0:te,re=getWindow(a.elements.popper),ne=[].concat(a.scrollParents.reference,a.scrollParents.popper);return ee&&ne.forEach(function(ie){ie.addEventListener("scroll",d.update,passive)}),b&&re.addEventListener("resize",d.update,passive),function(){ee&&ne.forEach(function(ie){ie.removeEventListener("scroll",d.update,passive)}),b&&re.removeEventListener("resize",d.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function u(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(u){return u.replace(/left|right|bottom|top/g,function(a){return hash$1[a]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(u){return u.replace(/start|end/g,function(a){return hash[a]})}function getWindowScroll(u){var a=getWindow(u),d=a.pageXOffset,m=a.pageYOffset;return{scrollLeft:d,scrollTop:m}}function getWindowScrollBarX(u){return getBoundingClientRect(getDocumentElement(u)).left+getWindowScroll(u).scrollLeft}function getViewportRect(u){var a=getWindow(u),d=getDocumentElement(u),m=a.visualViewport,$=d.clientWidth,ee=d.clientHeight,te=0,b=0;return m&&($=m.width,ee=m.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(te=m.offsetLeft,b=m.offsetTop)),{width:$,height:ee,x:te+getWindowScrollBarX(u),y:b}}function getDocumentRect(u){var a,d=getDocumentElement(u),m=getWindowScroll(u),$=(a=u.ownerDocument)==null?void 0:a.body,ee=max(d.scrollWidth,d.clientWidth,$?$.scrollWidth:0,$?$.clientWidth:0),te=max(d.scrollHeight,d.clientHeight,$?$.scrollHeight:0,$?$.clientHeight:0),b=-m.scrollLeft+getWindowScrollBarX(u),re=-m.scrollTop;return getComputedStyle$1($||d).direction==="rtl"&&(b+=max(d.clientWidth,$?$.clientWidth:0)-ee),{width:ee,height:te,x:b,y:re}}function isScrollParent(u){var a=getComputedStyle$1(u),d=a.overflow,m=a.overflowX,$=a.overflowY;return/auto|scroll|overlay|hidden/.test(d+$+m)}function getScrollParent(u){return["html","body","#document"].indexOf(getNodeName(u))>=0?u.ownerDocument.body:isHTMLElement(u)&&isScrollParent(u)?u:getScrollParent(getParentNode(u))}function listScrollParents(u,a){var d;a===void 0&&(a=[]);var m=getScrollParent(u),$=m===((d=u.ownerDocument)==null?void 0:d.body),ee=getWindow(m),te=$?[ee].concat(ee.visualViewport||[],isScrollParent(m)?m:[]):m,b=a.concat(te);return $?b:b.concat(listScrollParents(getParentNode(te)))}function rectToClientRect(u){return Object.assign({},u,{left:u.x,top:u.y,right:u.x+u.width,bottom:u.y+u.height})}function getInnerBoundingClientRect(u){var a=getBoundingClientRect(u);return a.top=a.top+u.clientTop,a.left=a.left+u.clientLeft,a.bottom=a.top+u.clientHeight,a.right=a.left+u.clientWidth,a.width=u.clientWidth,a.height=u.clientHeight,a.x=a.left,a.y=a.top,a}function getClientRectFromMixedType(u,a){return a===viewport?rectToClientRect(getViewportRect(u)):isElement$1(a)?getInnerBoundingClientRect(a):rectToClientRect(getDocumentRect(getDocumentElement(u)))}function getClippingParents(u){var a=listScrollParents(getParentNode(u)),d=["absolute","fixed"].indexOf(getComputedStyle$1(u).position)>=0,m=d&&isHTMLElement(u)?getOffsetParent(u):u;return isElement$1(m)?a.filter(function($){return isElement$1($)&&contains($,m)&&getNodeName($)!=="body"}):[]}function getClippingRect(u,a,d){var m=a==="clippingParents"?getClippingParents(u):[].concat(a),$=[].concat(m,[d]),ee=$[0],te=$.reduce(function(b,re){var ne=getClientRectFromMixedType(u,re);return b.top=max(ne.top,b.top),b.right=min(ne.right,b.right),b.bottom=min(ne.bottom,b.bottom),b.left=max(ne.left,b.left),b},getClientRectFromMixedType(u,ee));return te.width=te.right-te.left,te.height=te.bottom-te.top,te.x=te.left,te.y=te.top,te}function computeOffsets(u){var a=u.reference,d=u.element,m=u.placement,$=m?getBasePlacement(m):null,ee=m?getVariation(m):null,te=a.x+a.width/2-d.width/2,b=a.y+a.height/2-d.height/2,re;switch($){case top:re={x:te,y:a.y-d.height};break;case bottom:re={x:te,y:a.y+a.height};break;case right:re={x:a.x+a.width,y:b};break;case left:re={x:a.x-d.width,y:b};break;default:re={x:a.x,y:a.y}}var ne=$?getMainAxisFromPlacement($):null;if(ne!=null){var ie=ne==="y"?"height":"width";switch(ee){case start:re[ne]=re[ne]-(a[ie]/2-d[ie]/2);break;case end:re[ne]=re[ne]+(a[ie]/2-d[ie]/2);break}}return re}function detectOverflow(u,a){a===void 0&&(a={});var d=a,m=d.placement,$=m===void 0?u.placement:m,ee=d.boundary,te=ee===void 0?clippingParents:ee,b=d.rootBoundary,re=b===void 0?viewport:b,ne=d.elementContext,ie=ne===void 0?popper:ne,se=d.altBoundary,fe=se===void 0?!1:se,ce=d.padding,de=ce===void 0?0:ce,ye=mergePaddingObject(typeof de!="number"?de:expandToHashMap(de,basePlacements)),ge=ie===popper?reference:popper,_e=u.rects.popper,Ee=u.elements[fe?ge:ie],Ae=getClippingRect(isElement$1(Ee)?Ee:Ee.contextElement||getDocumentElement(u.elements.popper),te,re),we=getBoundingClientRect(u.elements.reference),Me=computeOffsets({reference:we,element:_e,strategy:"absolute",placement:$}),ke=rectToClientRect(Object.assign({},_e,Me)),Re=ie===popper?ke:we,ze={top:Ae.top-Re.top+ye.top,bottom:Re.bottom-Ae.bottom+ye.bottom,left:Ae.left-Re.left+ye.left,right:Re.right-Ae.right+ye.right},Je=u.modifiersData.offset;if(ie===popper&&Je){var et=Je[$];Object.keys(ze).forEach(function(Pe){var ve=[right,bottom].indexOf(Pe)>=0?1:-1,le=[top,bottom].indexOf(Pe)>=0?"y":"x";ze[Pe]+=et[le]*ve})}return ze}function computeAutoPlacement(u,a){a===void 0&&(a={});var d=a,m=d.placement,$=d.boundary,ee=d.rootBoundary,te=d.padding,b=d.flipVariations,re=d.allowedAutoPlacements,ne=re===void 0?placements:re,ie=getVariation(m),se=ie?b?variationPlacements:variationPlacements.filter(function(de){return getVariation(de)===ie}):basePlacements,fe=se.filter(function(de){return ne.indexOf(de)>=0});fe.length===0&&(fe=se);var ce=fe.reduce(function(de,ye){return de[ye]=detectOverflow(u,{placement:ye,boundary:$,rootBoundary:ee,padding:te})[getBasePlacement(ye)],de},{});return Object.keys(ce).sort(function(de,ye){return ce[de]-ce[ye]})}function getExpandedFallbackPlacements(u){if(getBasePlacement(u)===auto)return[];var a=getOppositePlacement(u);return[getOppositeVariationPlacement(u),a,getOppositeVariationPlacement(a)]}function flip(u){var a=u.state,d=u.options,m=u.name;if(!a.modifiersData[m]._skip){for(var $=d.mainAxis,ee=$===void 0?!0:$,te=d.altAxis,b=te===void 0?!0:te,re=d.fallbackPlacements,ne=d.padding,ie=d.boundary,se=d.rootBoundary,fe=d.altBoundary,ce=d.flipVariations,de=ce===void 0?!0:ce,ye=d.allowedAutoPlacements,ge=a.options.placement,_e=getBasePlacement(ge),Ee=_e===ge,Ae=re||(Ee||!de?[getOppositePlacement(ge)]:getExpandedFallbackPlacements(ge)),we=[ge].concat(Ae).reduce(function(Be,Ce){return Be.concat(getBasePlacement(Ce)===auto?computeAutoPlacement(a,{placement:Ce,boundary:ie,rootBoundary:se,padding:ne,flipVariations:de,allowedAutoPlacements:ye}):Ce)},[]),Me=a.rects.reference,ke=a.rects.popper,Re=new Map,ze=!0,Je=we[0],et=0;et<we.length;et++){var Pe=we[et],ve=getBasePlacement(Pe),le=getVariation(Pe)===start,ae=[top,bottom].indexOf(ve)>=0,he=ae?"width":"height",xe=detectOverflow(a,{placement:Pe,boundary:ie,rootBoundary:se,altBoundary:fe,padding:ne}),$e=ae?le?right:left:le?bottom:top;Me[he]>ke[he]&&($e=getOppositePlacement($e));var He=getOppositePlacement($e),Fe=[];if(ee&&Fe.push(xe[ve]<=0),b&&Fe.push(xe[$e]<=0,xe[He]<=0),Fe.every(function(Be){return Be})){Je=Pe,ze=!1;break}Re.set(Pe,Fe)}if(ze)for(var Ne=de?3:1,De=function(Ce){var Ze=we.find(function(it){var rt=Re.get(it);if(rt)return rt.slice(0,Ce).every(function(Oe){return Oe})});if(Ze)return Je=Ze,"break"},pe=Ne;pe>0;pe--){var Le=De(pe);if(Le==="break")break}a.placement!==Je&&(a.modifiersData[m]._skip=!0,a.placement=Je,a.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(u,a,d){return d===void 0&&(d={x:0,y:0}),{top:u.top-a.height-d.y,right:u.right-a.width+d.x,bottom:u.bottom-a.height+d.y,left:u.left-a.width-d.x}}function isAnySideFullyClipped(u){return[top,right,bottom,left].some(function(a){return u[a]>=0})}function hide(u){var a=u.state,d=u.name,m=a.rects.reference,$=a.rects.popper,ee=a.modifiersData.preventOverflow,te=detectOverflow(a,{elementContext:"reference"}),b=detectOverflow(a,{altBoundary:!0}),re=getSideOffsets(te,m),ne=getSideOffsets(b,$,ee),ie=isAnySideFullyClipped(re),se=isAnySideFullyClipped(ne);a.modifiersData[d]={referenceClippingOffsets:re,popperEscapeOffsets:ne,isReferenceHidden:ie,hasPopperEscaped:se},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":ie,"data-popper-escaped":se})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(u,a,d){var m=getBasePlacement(u),$=[left,top].indexOf(m)>=0?-1:1,ee=typeof d=="function"?d(Object.assign({},a,{placement:u})):d,te=ee[0],b=ee[1];return te=te||0,b=(b||0)*$,[left,right].indexOf(m)>=0?{x:b,y:te}:{x:te,y:b}}function offset(u){var a=u.state,d=u.options,m=u.name,$=d.offset,ee=$===void 0?[0,0]:$,te=placements.reduce(function(ie,se){return ie[se]=distanceAndSkiddingToXY(se,a.rects,ee),ie},{}),b=te[a.placement],re=b.x,ne=b.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=re,a.modifiersData.popperOffsets.y+=ne),a.modifiersData[m]=te}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(u){var a=u.state,d=u.name;a.modifiersData[d]=computeOffsets({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(u){return u==="x"?"y":"x"}function preventOverflow(u){var a=u.state,d=u.options,m=u.name,$=d.mainAxis,ee=$===void 0?!0:$,te=d.altAxis,b=te===void 0?!1:te,re=d.boundary,ne=d.rootBoundary,ie=d.altBoundary,se=d.padding,fe=d.tether,ce=fe===void 0?!0:fe,de=d.tetherOffset,ye=de===void 0?0:de,ge=detectOverflow(a,{boundary:re,rootBoundary:ne,padding:se,altBoundary:ie}),_e=getBasePlacement(a.placement),Ee=getVariation(a.placement),Ae=!Ee,we=getMainAxisFromPlacement(_e),Me=getAltAxis(we),ke=a.modifiersData.popperOffsets,Re=a.rects.reference,ze=a.rects.popper,Je=typeof ye=="function"?ye(Object.assign({},a.rects,{placement:a.placement})):ye,et=typeof Je=="number"?{mainAxis:Je,altAxis:Je}:Object.assign({mainAxis:0,altAxis:0},Je),Pe=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,ve={x:0,y:0};if(!!ke){if(ee){var le,ae=we==="y"?top:left,he=we==="y"?bottom:right,xe=we==="y"?"height":"width",$e=ke[we],He=$e+ge[ae],Fe=$e-ge[he],Ne=ce?-ze[xe]/2:0,De=Ee===start?Re[xe]:ze[xe],pe=Ee===start?-ze[xe]:-Re[xe],Le=a.elements.arrow,Be=ce&&Le?getLayoutRect(Le):{width:0,height:0},Ce=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Ze=Ce[ae],it=Ce[he],rt=within(0,Re[xe],Be[xe]),Oe=Ae?Re[xe]/2-Ne-rt-Ze-et.mainAxis:De-rt-Ze-et.mainAxis,Ve=Ae?-Re[xe]/2+Ne+rt+it+et.mainAxis:pe+rt+it+et.mainAxis,We=a.elements.arrow&&getOffsetParent(a.elements.arrow),qe=We?we==="y"?We.clientTop||0:We.clientLeft||0:0,Ge=(le=Pe?.[we])!=null?le:0,Qe=$e+Oe-Ge-qe,ct=$e+Ve-Ge,ft=within(ce?min(He,Qe):He,$e,ce?max(Fe,ct):Fe);ke[we]=ft,ve[we]=ft-$e}if(b){var bt,St=we==="x"?top:left,xt=we==="x"?bottom:right,$t=ke[Me],It=Me==="y"?"height":"width",Et=$t+ge[St],At=$t-ge[xt],kt=[top,left].indexOf(_e)!==-1,Kt=(bt=Pe?.[Me])!=null?bt:0,lt=kt?Et:$t-Re[It]-ze[It]-Kt+et.altAxis,Se=kt?$t+Re[It]+ze[It]-Kt-et.altAxis:At,me=ce&&kt?withinMaxClamp(lt,$t,Se):within(ce?lt:Et,$t,ce?Se:At);ke[Me]=me,ve[Me]=me-$t}a.modifiersData[m]=ve}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(u){return{scrollLeft:u.scrollLeft,scrollTop:u.scrollTop}}function getNodeScroll(u){return u===getWindow(u)||!isHTMLElement(u)?getWindowScroll(u):getHTMLElementScroll(u)}function isElementScaled(u){var a=u.getBoundingClientRect(),d=round(a.width)/u.offsetWidth||1,m=round(a.height)/u.offsetHeight||1;return d!==1||m!==1}function getCompositeRect(u,a,d){d===void 0&&(d=!1);var m=isHTMLElement(a),$=isHTMLElement(a)&&isElementScaled(a),ee=getDocumentElement(a),te=getBoundingClientRect(u,$),b={scrollLeft:0,scrollTop:0},re={x:0,y:0};return(m||!m&&!d)&&((getNodeName(a)!=="body"||isScrollParent(ee))&&(b=getNodeScroll(a)),isHTMLElement(a)?(re=getBoundingClientRect(a,!0),re.x+=a.clientLeft,re.y+=a.clientTop):ee&&(re.x=getWindowScrollBarX(ee))),{x:te.left+b.scrollLeft-re.x,y:te.top+b.scrollTop-re.y,width:te.width,height:te.height}}function order(u){var a=new Map,d=new Set,m=[];u.forEach(function(ee){a.set(ee.name,ee)});function $(ee){d.add(ee.name);var te=[].concat(ee.requires||[],ee.requiresIfExists||[]);te.forEach(function(b){if(!d.has(b)){var re=a.get(b);re&&$(re)}}),m.push(ee)}return u.forEach(function(ee){d.has(ee.name)||$(ee)}),m}function orderModifiers(u){var a=order(u);return modifierPhases.reduce(function(d,m){return d.concat(a.filter(function($){return $.phase===m}))},[])}function debounce(u){var a;return function(){return a||(a=new Promise(function(d){Promise.resolve().then(function(){a=void 0,d(u())})})),a}}function mergeByName(u){var a=u.reduce(function(d,m){var $=d[m.name];return d[m.name]=$?Object.assign({},$,m,{options:Object.assign({},$.options,m.options),data:Object.assign({},$.data,m.data)}):m,d},{});return Object.keys(a).map(function(d){return a[d]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var u=arguments.length,a=new Array(u),d=0;d<u;d++)a[d]=arguments[d];return!a.some(function(m){return!(m&&typeof m.getBoundingClientRect=="function")})}function popperGenerator(u){u===void 0&&(u={});var a=u,d=a.defaultModifiers,m=d===void 0?[]:d,$=a.defaultOptions,ee=$===void 0?DEFAULT_OPTIONS:$;return function(b,re,ne){ne===void 0&&(ne=ee);var ie={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ee),modifiersData:{},elements:{reference:b,popper:re},attributes:{},styles:{}},se=[],fe=!1,ce={state:ie,setOptions:function(_e){var Ee=typeof _e=="function"?_e(ie.options):_e;ye(),ie.options=Object.assign({},ee,ie.options,Ee),ie.scrollParents={reference:isElement$1(b)?listScrollParents(b):b.contextElement?listScrollParents(b.contextElement):[],popper:listScrollParents(re)};var Ae=orderModifiers(mergeByName([].concat(m,ie.options.modifiers)));return ie.orderedModifiers=Ae.filter(function(we){return we.enabled}),de(),ce.update()},forceUpdate:function(){if(!fe){var _e=ie.elements,Ee=_e.reference,Ae=_e.popper;if(!!areValidElements(Ee,Ae)){ie.rects={reference:getCompositeRect(Ee,getOffsetParent(Ae),ie.options.strategy==="fixed"),popper:getLayoutRect(Ae)},ie.reset=!1,ie.placement=ie.options.placement,ie.orderedModifiers.forEach(function(et){return ie.modifiersData[et.name]=Object.assign({},et.data)});for(var we=0;we<ie.orderedModifiers.length;we++){if(ie.reset===!0){ie.reset=!1,we=-1;continue}var Me=ie.orderedModifiers[we],ke=Me.fn,Re=Me.options,ze=Re===void 0?{}:Re,Je=Me.name;typeof ke=="function"&&(ie=ke({state:ie,options:ze,name:Je,instance:ce})||ie)}}}},update:debounce(function(){return new Promise(function(ge){ce.forceUpdate(),ge(ie)})}),destroy:function(){ye(),fe=!0}};if(!areValidElements(b,re))return ce;ce.setOptions(ne).then(function(ge){!fe&&ne.onFirstUpdate&&ne.onFirstUpdate(ge)});function de(){ie.orderedModifiers.forEach(function(ge){var _e=ge.name,Ee=ge.options,Ae=Ee===void 0?{}:Ee,we=ge.effect;if(typeof we=="function"){var Me=we({state:ie,name:_e,instance:ce,options:Ae}),ke=function(){};se.push(Me||ke)}})}function ye(){se.forEach(function(ge){return ge()}),se=[]}return ce}}var createPopper$2=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$1=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,popperGenerator,detectOverflow,createPopperBase:createPopper$2,createPopper,createPopperLite:createPopper$1,top,bottom,right,left,auto,basePlacements,start,end,clippingParents,viewport,popper,reference,variationPlacements,placements,beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite,modifierPhases,applyStyles:applyStyles$1,arrow:arrow$1,computeStyles:computeStyles$1,eventListeners,flip:flip$1,hide:hide$1,offset:offset$1,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.2.0 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",toType=u=>u==null?`${u}`:Object.prototype.toString.call(u).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=u=>{do u+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(u));return u},getSelector=u=>{let a=u.getAttribute("data-bs-target");if(!a||a==="#"){let d=u.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),a=d&&d!=="#"?d.trim():null}return a},getSelectorFromElement=u=>{const a=getSelector(u);return a&&document.querySelector(a)?a:null},getElementFromSelector=u=>{const a=getSelector(u);return a?document.querySelector(a):null},getTransitionDurationFromElement=u=>{if(!u)return 0;let{transitionDuration:a,transitionDelay:d}=window.getComputedStyle(u);const m=Number.parseFloat(a),$=Number.parseFloat(d);return!m&&!$?0:(a=a.split(",")[0],d=d.split(",")[0],(Number.parseFloat(a)+Number.parseFloat(d))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=u=>{u.dispatchEvent(new Event(TRANSITION_END))},isElement=u=>!u||typeof u!="object"?!1:(typeof u.jquery<"u"&&(u=u[0]),typeof u.nodeType<"u"),getElement=u=>isElement(u)?u.jquery?u[0]:u:typeof u=="string"&&u.length>0?document.querySelector(u):null,isVisible=u=>{if(!isElement(u)||u.getClientRects().length===0)return!1;const a=getComputedStyle(u).getPropertyValue("visibility")==="visible",d=u.closest("details:not([open])");if(!d)return a;if(d!==u){const m=u.closest("summary");if(m&&m.parentNode!==d||m===null)return!1}return a},isDisabled=u=>!u||u.nodeType!==Node.ELEMENT_NODE||u.classList.contains("disabled")?!0:typeof u.disabled<"u"?u.disabled:u.hasAttribute("disabled")&&u.getAttribute("disabled")!=="false",findShadowRoot=u=>{if(!document.documentElement.attachShadow)return null;if(typeof u.getRootNode=="function"){const a=u.getRootNode();return a instanceof ShadowRoot?a:null}return u instanceof ShadowRoot?u:u.parentNode?findShadowRoot(u.parentNode):null},noop=()=>{},reflow=u=>{u.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=u=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const a of DOMContentLoadedCallbacks)a()}),DOMContentLoadedCallbacks.push(u)):u()},isRTL=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=u=>{onDOMContentLoaded(()=>{const a=getjQuery();if(a){const d=u.NAME,m=a.fn[d];a.fn[d]=u.jQueryInterface,a.fn[d].Constructor=u,a.fn[d].noConflict=()=>(a.fn[d]=m,u.jQueryInterface)}})},execute=u=>{typeof u=="function"&&u()},executeAfterTransition=(u,a,d=!0)=>{if(!d){execute(u);return}const m=5,$=getTransitionDurationFromElement(a)+m;let ee=!1;const te=({target:b})=>{b===a&&(ee=!0,a.removeEventListener(TRANSITION_END,te),execute(u))};a.addEventListener(TRANSITION_END,te),setTimeout(()=>{ee||triggerTransitionEnd(a)},$)},getNextActiveElement=(u,a,d,m)=>{const $=u.length;let ee=u.indexOf(a);return ee===-1?!d&&m?u[$-1]:u[0]:(ee+=d?1:-1,m&&(ee=(ee+$)%$),u[Math.max(0,Math.min(ee,$-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(u,a){return a&&`${a}::${uidEvent++}`||u.uidEvent||uidEvent++}function getElementEvents(u){const a=makeEventUid(u);return u.uidEvent=a,eventRegistry[a]=eventRegistry[a]||{},eventRegistry[a]}function bootstrapHandler(u,a){return function d(m){return hydrateObj(m,{delegateTarget:u}),d.oneOff&&EventHandler.off(u,m.type,a),a.apply(u,[m])}}function bootstrapDelegationHandler(u,a,d){return function m($){const ee=u.querySelectorAll(a);for(let{target:te}=$;te&&te!==this;te=te.parentNode)for(const b of ee)if(b===te)return hydrateObj($,{delegateTarget:te}),m.oneOff&&EventHandler.off(u,$.type,a,d),d.apply(te,[$])}}function findHandler(u,a,d=null){return Object.values(u).find(m=>m.callable===a&&m.delegationSelector===d)}function normalizeParameters(u,a,d){const m=typeof a=="string",$=m?d:a||d;let ee=getTypeEvent(u);return nativeEvents.has(ee)||(ee=u),[m,$,ee]}function addHandler(u,a,d,m,$){if(typeof a!="string"||!u)return;let[ee,te,b]=normalizeParameters(a,d,m);a in customEvents&&(te=(de=>function(ye){if(!ye.relatedTarget||ye.relatedTarget!==ye.delegateTarget&&!ye.delegateTarget.contains(ye.relatedTarget))return de.call(this,ye)})(te));const re=getElementEvents(u),ne=re[b]||(re[b]={}),ie=findHandler(ne,te,ee?d:null);if(ie){ie.oneOff=ie.oneOff&&$;return}const se=makeEventUid(te,a.replace(namespaceRegex,"")),fe=ee?bootstrapDelegationHandler(u,d,te):bootstrapHandler(u,te);fe.delegationSelector=ee?d:null,fe.callable=te,fe.oneOff=$,fe.uidEvent=se,ne[se]=fe,u.addEventListener(b,fe,ee)}function removeHandler(u,a,d,m,$){const ee=findHandler(a[d],m,$);!ee||(u.removeEventListener(d,ee,Boolean($)),delete a[d][ee.uidEvent])}function removeNamespacedHandlers(u,a,d,m){const $=a[d]||{};for(const ee of Object.keys($))if(ee.includes(m)){const te=$[ee];removeHandler(u,a,d,te.callable,te.delegationSelector)}}function getTypeEvent(u){return u=u.replace(stripNameRegex,""),customEvents[u]||u}const EventHandler={on(u,a,d,m){addHandler(u,a,d,m,!1)},one(u,a,d,m){addHandler(u,a,d,m,!0)},off(u,a,d,m){if(typeof a!="string"||!u)return;const[$,ee,te]=normalizeParameters(a,d,m),b=te!==a,re=getElementEvents(u),ne=re[te]||{},ie=a.startsWith(".");if(typeof ee<"u"){if(!Object.keys(ne).length)return;removeHandler(u,re,te,ee,$?d:null);return}if(ie)for(const se of Object.keys(re))removeNamespacedHandlers(u,re,se,a.slice(1));for(const se of Object.keys(ne)){const fe=se.replace(stripUidRegex,"");if(!b||a.includes(fe)){const ce=ne[se];removeHandler(u,re,te,ce.callable,ce.delegationSelector)}}},trigger(u,a,d){if(typeof a!="string"||!u)return null;const m=getjQuery(),$=getTypeEvent(a),ee=a!==$;let te=null,b=!0,re=!0,ne=!1;ee&&m&&(te=m.Event(a,d),m(u).trigger(te),b=!te.isPropagationStopped(),re=!te.isImmediatePropagationStopped(),ne=te.isDefaultPrevented());let ie=new Event(a,{bubbles:b,cancelable:!0});return ie=hydrateObj(ie,d),ne&&ie.preventDefault(),re&&u.dispatchEvent(ie),ie.defaultPrevented&&te&&te.preventDefault(),ie}};function hydrateObj(u,a){for(const[d,m]of Object.entries(a||{}))try{u[d]=m}catch{Object.defineProperty(u,d,{configurable:!0,get(){return m}})}return u}const elementMap=new Map,Data={set(u,a,d){elementMap.has(u)||elementMap.set(u,new Map);const m=elementMap.get(u);if(!m.has(a)&&m.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(m.keys())[0]}.`);return}m.set(a,d)},get(u,a){return elementMap.has(u)&&elementMap.get(u).get(a)||null},remove(u,a){if(!elementMap.has(u))return;const d=elementMap.get(u);d.delete(a),d.size===0&&elementMap.delete(u)}};function normalizeData(u){if(u==="true")return!0;if(u==="false")return!1;if(u===Number(u).toString())return Number(u);if(u===""||u==="null")return null;if(typeof u!="string")return u;try{return JSON.parse(decodeURIComponent(u))}catch{return u}}function normalizeDataKey(u){return u.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}const Manipulator={setDataAttribute(u,a,d){u.setAttribute(`data-bs-${normalizeDataKey(a)}`,d)},removeDataAttribute(u,a){u.removeAttribute(`data-bs-${normalizeDataKey(a)}`)},getDataAttributes(u){if(!u)return{};const a={},d=Object.keys(u.dataset).filter(m=>m.startsWith("bs")&&!m.startsWith("bsConfig"));for(const m of d){let $=m.replace(/^bs/,"");$=$.charAt(0).toLowerCase()+$.slice(1,$.length),a[$]=normalizeData(u.dataset[m])}return a},getDataAttribute(u,a){return normalizeData(u.getAttribute(`data-bs-${normalizeDataKey(a)}`))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,d){const m=isElement(d)?Manipulator.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof m=="object"?m:{},...isElement(d)?Manipulator.getDataAttributes(d):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,d=this.constructor.DefaultType){for(const m of Object.keys(d)){const $=d[m],ee=a[m],te=isElement(ee)?"element":toType(ee);if(!new RegExp($).test(te))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${m}" provided type "${te}" but expected type "${$}".`)}}}const VERSION="5.2.0";class BaseComponent extends Config{constructor(a,d){super(),a=getElement(a),a&&(this._element=a,this._config=this._getConfig(d),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,d,m=!0){executeAfterTransition(a,d,m)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return Data.get(getElement(a),this.DATA_KEY)}static getOrCreateInstance(a,d={}){return this.getInstance(a)||new this(a,typeof d=="object"?d:null)}static get VERSION(){return VERSION}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}const enableDismissTrigger=(u,a="hide")=>{const d=`click.dismiss${u.EVENT_KEY}`,m=u.NAME;EventHandler.on(document,d,`[data-bs-dismiss="${m}"]`,function($){if(["A","AREA"].includes(this.tagName)&&$.preventDefault(),isDisabled(this))return;const ee=getElementFromSelector(this)||this.closest(`.${m}`);u.getOrCreateInstance(ee)[a]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=`.${DATA_KEY$a}`,EVENT_CLOSE=`close${EVENT_KEY$b}`,EVENT_CLOSED=`closed${EVENT_KEY$b}`,CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const d=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,d)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(a){return this.each(function(){const d=Alert.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=`.${DATA_KEY$9}`,DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6=`click${EVENT_KEY$a}${DATA_API_KEY$6}`;class Button extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(a){return this.each(function(){const d=Button.getOrCreateInstance(this);a==="toggle"&&d[a]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,u=>{u.preventDefault();const a=u.target.closest(SELECTOR_DATA_TOGGLE$5);Button.getOrCreateInstance(a).toggle()});defineJQueryPlugin(Button);const SelectorEngine={find(u,a=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(a,u))},findOne(u,a=document.documentElement){return Element.prototype.querySelector.call(a,u)},children(u,a){return[].concat(...u.children).filter(d=>d.matches(a))},parents(u,a){const d=[];let m=u.parentNode.closest(a);for(;m;)d.push(m),m=m.parentNode.closest(a);return d},prev(u,a){let d=u.previousElementSibling;for(;d;){if(d.matches(a))return[d];d=d.previousElementSibling}return[]},next(u,a){let d=u.nextElementSibling;for(;d;){if(d.matches(a))return[d];d=d.nextElementSibling}return[]},focusableChildren(u){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(a,u).filter(d=>!isDisabled(d)&&isVisible(d))}},NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART=`touchstart${EVENT_KEY$9}`,EVENT_TOUCHMOVE=`touchmove${EVENT_KEY$9}`,EVENT_TOUCHEND=`touchend${EVENT_KEY$9}`,EVENT_POINTERDOWN=`pointerdown${EVENT_KEY$9}`,EVENT_POINTERUP=`pointerup${EVENT_KEY$9}`,POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(a,d){super(),this._element=a,!(!a||!Swipe.isSupported())&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(a){if(!this._supportPointerEvents){this._deltaX=a.touches[0].clientX;return}this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX)}_end(a){this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(a){this._deltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this._deltaX}_handleSwipe(){const a=Math.abs(this._deltaX);if(a<=SWIPE_THRESHOLD)return;const d=a/this._deltaX;this._deltaX=0,d&&execute(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,a=>this._start(a)),EventHandler.on(this._element,EVENT_POINTERUP,a=>this._end(a)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,a=>this._start(a)),EventHandler.on(this._element,EVENT_TOUCHMOVE,a=>this._move(a)),EventHandler.on(this._element,EVENT_TOUCHEND,a=>this._end(a)))}_eventIsPointerPenTouch(a){return this._supportPointerEvents&&(a.pointerType===POINTER_TYPE_PEN||a.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=`.${DATA_KEY$8}`,DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE=`slide${EVENT_KEY$8}`,EVENT_SLID=`slid${EVENT_KEY$8}`,EVENT_KEYDOWN$1=`keydown${EVENT_KEY$8}`,EVENT_MOUSEENTER$1=`mouseenter${EVENT_KEY$8}`,EVENT_MOUSELEAVE$1=`mouseleave${EVENT_KEY$8}`,EVENT_DRAG_START=`dragstart${EVENT_KEY$8}`,EVENT_LOAD_DATA_API$3=`load${EVENT_KEY$8}${DATA_API_KEY$5}`,EVENT_CLICK_DATA_API$5=`click${EVENT_KEY$8}${DATA_API_KEY$5}`,CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(a,d){super(a,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(!!this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(a){const d=this._getItems();if(a>d.length-1||a<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(a));return}const m=this._getItemIndex(this._getActive());if(m===a)return;const $=a>m?ORDER_NEXT:ORDER_PREV;this._slide($,d[a])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(a){return a.defaultInterval=a.interval,a}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,a=>this._keydown(a)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const m of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(m,EVENT_DRAG_START,$=>$.preventDefault());const d={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,d)}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const d=KEY_TO_DIRECTION[a.key];d&&(a.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(a){return this._getItems().indexOf(a)}_setActiveIndicatorElement(a){if(!this._indicatorsElement)return;const d=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);d.classList.remove(CLASS_NAME_ACTIVE$2),d.removeAttribute("aria-current");const m=SelectorEngine.findOne(`[data-bs-slide-to="${a}"]`,this._indicatorsElement);m&&(m.classList.add(CLASS_NAME_ACTIVE$2),m.setAttribute("aria-current","true"))}_updateInterval(){const a=this._activeElement||this._getActive();if(!a)return;const d=Number.parseInt(a.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(a,d=null){if(this._isSliding)return;const m=this._getActive(),$=a===ORDER_NEXT,ee=d||getNextActiveElement(this._getItems(),m,$,this._config.wrap);if(ee===m)return;const te=this._getItemIndex(ee),b=ce=>EventHandler.trigger(this._element,ce,{relatedTarget:ee,direction:this._orderToDirection(a),from:this._getItemIndex(m),to:te});if(b(EVENT_SLIDE).defaultPrevented||!m||!ee)return;const ne=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(te),this._activeElement=ee;const ie=$?CLASS_NAME_START:CLASS_NAME_END,se=$?CLASS_NAME_NEXT:CLASS_NAME_PREV;ee.classList.add(se),reflow(ee),m.classList.add(ie),ee.classList.add(ie);const fe=()=>{ee.classList.remove(ie,se),ee.classList.add(CLASS_NAME_ACTIVE$2),m.classList.remove(CLASS_NAME_ACTIVE$2,se,ie),this._isSliding=!1,b(EVENT_SLID)};this._queueCallback(fe,m,this._isAnimated()),ne&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(a){return isRTL()?a===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:a===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(a){return isRTL()?a===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:a===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(a){return this.each(function(){const d=Carousel.getOrCreateInstance(this,a);if(typeof a=="number"){d.to(a);return}if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(u){const a=getElementFromSelector(this);if(!a||!a.classList.contains(CLASS_NAME_CAROUSEL))return;u.preventDefault();const d=Carousel.getOrCreateInstance(a),m=this.getAttribute("data-bs-slide-to");if(m){d.to(m),d._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){d.next(),d._maybeEnableCycle();return}d.prev(),d._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const u=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const a of u)Carousel.getOrCreateInstance(a)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=`.${DATA_KEY$7}`,DATA_API_KEY$4=".data-api",EVENT_SHOW$6=`show${EVENT_KEY$7}`,EVENT_SHOWN$6=`shown${EVENT_KEY$7}`,EVENT_HIDE$6=`hide${EVENT_KEY$7}`,EVENT_HIDDEN$6=`hidden${EVENT_KEY$7}`,EVENT_CLICK_DATA_API$4=`click${EVENT_KEY$7}${DATA_API_KEY$4}`,CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=`:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`,CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(a,d){super(a,d),this._isTransitioning=!1,this._triggerArray=[];const m=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const $ of m){const ee=getSelectorFromElement($),te=SelectorEngine.find(ee).filter(b=>b===this._element);ee!==null&&te.length&&this._triggerArray.push($)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a=[];if(this._config.parent&&(a=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(b=>b!==this._element).map(b=>Collapse.getOrCreateInstance(b,{toggle:!1}))),a.length&&a[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const b of a)b.hide();const m=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[m]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const $=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[m]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},te=`scroll${m[0].toUpperCase()+m.slice(1)}`;this._queueCallback($,this._element,!0),this._element.style[m]=`${this._element[te]}px`}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const d=this._getDimension();this._element.style[d]=`${this._element.getBoundingClientRect()[d]}px`,reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const $ of this._triggerArray){const ee=getElementFromSelector($);ee&&!this._isShown(ee)&&this._addAriaAndCollapsedClass([$],!1)}this._isTransitioning=!0;const m=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[d]="",this._queueCallback(m,this._element,!0)}_isShown(a=this._element){return a.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(a){return a.toggle=Boolean(a.toggle),a.parent=getElement(a.parent),a}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const a=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const d of a){const m=getElementFromSelector(d);m&&this._addAriaAndCollapsedClass([d],this._isShown(m))}}_getFirstLevelChildren(a){const d=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(a,this._config.parent).filter(m=>!d.includes(m))}_addAriaAndCollapsedClass(a,d){if(!!a.length)for(const m of a)m.classList.toggle(CLASS_NAME_COLLAPSED,!d),m.setAttribute("aria-expanded",d)}static jQueryInterface(a){const d={};return typeof a=="string"&&/show|hide/.test(a)&&(d.toggle=!1),this.each(function(){const m=Collapse.getOrCreateInstance(this,d);if(typeof a=="string"){if(typeof m[a]>"u")throw new TypeError(`No method named "${a}"`);m[a]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(u){(u.target.tagName==="A"||u.delegateTarget&&u.delegateTarget.tagName==="A")&&u.preventDefault();const a=getSelectorFromElement(this),d=SelectorEngine.find(a);for(const m of d)Collapse.getOrCreateInstance(m,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=`.${DATA_KEY$6}`,DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5=`hide${EVENT_KEY$6}`,EVENT_HIDDEN$5=`hidden${EVENT_KEY$6}`,EVENT_SHOW$5=`show${EVENT_KEY$6}`,EVENT_SHOWN$5=`shown${EVENT_KEY$6}`,EVENT_CLICK_DATA_API$3=`click${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYDOWN_DATA_API=`keydown${EVENT_KEY$6}${DATA_API_KEY$3}`,EVENT_KEYUP_DATA_API=`keyup${EVENT_KEY$6}${DATA_API_KEY$3}`,CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN=`${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`,SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL()?"left-start":"right-start",PLACEMENT_LEFT=isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor(a,d){super(a,d),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const a={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const m of[].concat(...document.body.children))EventHandler.on(m,"mouseover",noop);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,a)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,a).defaultPrevented){if("ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))EventHandler.off(m,"mouseover",noop);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,a)}}_getConfig(a){if(a=super._getConfig(a),typeof a.reference=="object"&&!isElement(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${NAME$a.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let a=this._element;this._config.reference==="parent"?a=this._parent:isElement(this._config.reference)?a=getElement(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);const d=this._getPopperConfig();this._popper=createPopper(a,this._menu,d)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const a=this._parent;if(a.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(a.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(a.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(a.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains(CLASS_NAME_DROPUP)?d?PLACEMENT_TOPEND:PLACEMENT_TOP:d?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...typeof this._config.popperConfig=="function"?this._config.popperConfig(a):this._config.popperConfig}}_selectMenuItem({key:a,target:d}){const m=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter($=>isVisible($));!m.length||getNextActiveElement(m,d,a===ARROW_DOWN_KEY$1,!m.includes(d)).focus()}static jQueryInterface(a){return this.each(function(){const d=Dropdown.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof d[a]>"u")throw new TypeError(`No method named "${a}"`);d[a]()}})}static clearMenus(a){if(a.button===RIGHT_MOUSE_BUTTON||a.type==="keyup"&&a.key!==TAB_KEY$1)return;const d=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const m of d){const $=Dropdown.getInstance(m);if(!$||$._config.autoClose===!1)continue;const ee=a.composedPath(),te=ee.includes($._menu);if(ee.includes($._element)||$._config.autoClose==="inside"&&!te||$._config.autoClose==="outside"&&te||$._menu.contains(a.target)&&(a.type==="keyup"&&a.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;const b={relatedTarget:$._element};a.type==="click"&&(b.clickEvent=a),$._completeHide(b)}}static dataApiKeydownHandler(a){const d=/input|textarea/i.test(a.target.tagName),m=a.key===ESCAPE_KEY$2,$=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(a.key);if(!$&&!m||d&&!m)return;a.preventDefault();const ee=SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,a.delegateTarget.parentNode),te=Dropdown.getOrCreateInstance(ee);if($){a.stopPropagation(),te.show(),te._selectMenuItem(a);return}te._isShown()&&(a.stopPropagation(),te.hide(),ee.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(u){u.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,d=>d+a),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,d=>d+a),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,d=>d-a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,d,m){const $=this.getWidth(),ee=te=>{if(te!==this._element&&window.innerWidth>te.clientWidth+$)return;this._saveInitialAttribute(te,d);const b=window.getComputedStyle(te).getPropertyValue(d);te.style.setProperty(d,`${m(Number.parseFloat(b))}px`)};this._applyManipulationCallback(a,ee)}_saveInitialAttribute(a,d){const m=a.style.getPropertyValue(d);m&&Manipulator.setDataAttribute(a,d,m)}_resetElementAttributes(a,d){const m=$=>{const ee=Manipulator.getDataAttribute($,d);if(ee===null){$.style.removeProperty(d);return}Manipulator.removeDataAttribute($,d),$.style.setProperty(d,ee)};this._applyManipulationCallback(a,m)}_applyManipulationCallback(a,d){if(isElement(a)){d(a);return}for(const m of SelectorEngine.find(a,this._element))d(m)}}const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN=`mousedown.bs.${NAME$9}`,Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(a){if(!this._config.isVisible){execute(a);return}this._append();const d=this._getElement();this._config.isAnimated&&reflow(d),d.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(a)})}hide(a){if(!this._config.isVisible){execute(a);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(a)})}dispose(){!this._isAppended||(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add(CLASS_NAME_FADE$4),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=getElement(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),EventHandler.on(a,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){executeAfterTransition(a,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=`.${DATA_KEY$5}`,EVENT_FOCUSIN$2=`focusin${EVENT_KEY$5}`,EVENT_KEYDOWN_TAB=`keydown.tab${EVENT_KEY$5}`,TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(a){super(),this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,a=>this._handleFocusin(a)),EventHandler.on(document,EVENT_KEYDOWN_TAB,a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){!this._isActive||(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(a){const{trapElement:d}=this._config;if(a.target===document||a.target===d||d.contains(a.target))return;const m=SelectorEngine.focusableChildren(d);m.length===0?d.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?m[m.length-1].focus():m[0].focus()}_handleKeydown(a){a.key===TAB_KEY&&(this._lastTabNavDirection=a.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=`.${DATA_KEY$4}`,DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4=`hide${EVENT_KEY$4}`,EVENT_HIDE_PREVENTED$1=`hidePrevented${EVENT_KEY$4}`,EVENT_HIDDEN$4=`hidden${EVENT_KEY$4}`,EVENT_SHOW$4=`show${EVENT_KEY$4}`,EVENT_SHOWN$4=`shown${EVENT_KEY$4}`,EVENT_RESIZE$1=`resize${EVENT_KEY$4}`,EVENT_MOUSEDOWN_DISMISS=`mousedown.dismiss${EVENT_KEY$4}`,EVENT_KEYDOWN_DISMISS$1=`keydown.dismiss${EVENT_KEY$4}`,EVENT_CLICK_DATA_API$2=`click${EVENT_KEY$4}${DATA_API_KEY$2}`,CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Modal extends BaseComponent{constructor(a,d){super(a,d),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(a)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const a of[window,this._dialog])EventHandler.off(a,EVENT_KEY$4);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(a){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);d&&(d.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const m=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:a})};this._queueCallback(m,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,a=>{if(a.key===ESCAPE_KEY$1){if(this._config.keyboard){a.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,a=>{if(a.target===a.currentTarget){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const d=this._element.scrollHeight>document.documentElement.clientHeight,m=this._element.style.overflowY;m==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(d||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=m},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),m=d>0;if(m&&!a){const $=isRTL()?"paddingLeft":"paddingRight";this._element.style[$]=`${d}px`}if(!m&&a){const $=isRTL()?"paddingRight":"paddingLeft";this._element.style[$]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,d){return this.each(function(){const m=Modal.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof m[a]>"u")throw new TypeError(`No method named "${a}"`);m[a](d)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(u){const a=getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&u.preventDefault(),EventHandler.one(a,EVENT_SHOW$4,$=>{$.defaultPrevented||EventHandler.one(a,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const d=SelectorEngine.findOne(OPEN_SELECTOR$1);d&&Modal.getInstance(d).hide(),Modal.getOrCreateInstance(a).toggle(this)});enableDismissTrigger(Modal);defineJQueryPlugin(Modal);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=`.${DATA_KEY$3}`,DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2=`load${EVENT_KEY$3}${DATA_API_KEY$1}`,ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3=`show${EVENT_KEY$3}`,EVENT_SHOWN$3=`shown${EVENT_KEY$3}`,EVENT_HIDE$3=`hide${EVENT_KEY$3}`,EVENT_HIDE_PREVENTED=`hidePrevented${EVENT_KEY$3}`,EVENT_HIDDEN$3=`hidden${EVENT_KEY$3}`,EVENT_RESIZE=`resize${EVENT_KEY$3}`,EVENT_CLICK_DATA_API$1=`click${EVENT_KEY$3}${DATA_API_KEY$1}`,EVENT_KEYDOWN_DISMISS=`keydown.dismiss${EVENT_KEY$3}`,SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor(a,d){super(a,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:a}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const m=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:a})};this._queueCallback(m,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const d=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(d,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},d=Boolean(this._config.backdrop);return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:d,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:d?a:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,a=>{if(a.key===ESCAPE_KEY){if(!this._config.keyboard){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()}})}static jQueryInterface(a){return this.each(function(){const d=Offcanvas.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(u){const a=getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&u.preventDefault(),isDisabled(this))return;EventHandler.one(a,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const d=SelectorEngine.findOne(OPEN_SELECTOR);d&&d!==a&&Offcanvas.getInstance(d).hide(),Offcanvas.getOrCreateInstance(a).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const u of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(u).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const u of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(u).position!=="fixed"&&Offcanvas.getOrCreateInstance(u).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,SAFE_URL_PATTERN=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,DATA_URL_PATTERN=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,allowedAttribute=(u,a)=>{const d=u.nodeName.toLowerCase();return a.includes(d)?uriAttributes.has(d)?Boolean(SAFE_URL_PATTERN.test(u.nodeValue)||DATA_URL_PATTERN.test(u.nodeValue)):!0:a.filter(m=>m instanceof RegExp).some(m=>m.test(d))},DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]};function sanitizeHtml(u,a,d){if(!u.length)return u;if(d&&typeof d=="function")return d(u);const $=new window.DOMParser().parseFromString(u,"text/html"),ee=[].concat(...$.body.querySelectorAll("*"));for(const te of ee){const b=te.nodeName.toLowerCase();if(!Object.keys(a).includes(b)){te.remove();continue}const re=[].concat(...te.attributes),ne=[].concat(a["*"]||[],a[b]||[]);for(const ie of re)allowedAttribute(ie,ne)||te.removeAttribute(ie.nodeName)}return $.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor(a){super(),this._config=this._getConfig(a)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(a=>this._resolvePossibleFunction(a)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(a){return this._checkContent(a),this._config.content={...this._config.content,...a},this}toHtml(){const a=document.createElement("div");a.innerHTML=this._maybeSanitize(this._config.template);for(const[$,ee]of Object.entries(this._config.content))this._setContent(a,ee,$);const d=a.children[0],m=this._resolvePossibleFunction(this._config.extraClass);return m&&d.classList.add(...m.split(" ")),d}_typeCheckConfig(a){super._typeCheckConfig(a),this._checkContent(a.content)}_checkContent(a){for(const[d,m]of Object.entries(a))super._typeCheckConfig({selector:d,entry:m},DefaultContentType)}_setContent(a,d,m){const $=SelectorEngine.findOne(m,a);if(!!$){if(d=this._resolvePossibleFunction(d),!d){$.remove();return}if(isElement(d)){this._putElementInTemplate(getElement(d),$);return}if(this._config.html){$.innerHTML=this._maybeSanitize(d);return}$.textContent=d}}_maybeSanitize(a){return this._config.sanitize?sanitizeHtml(a,this._config.allowList,this._config.sanitizeFn):a}_resolvePossibleFunction(a){return typeof a=="function"?a(this):a}_putElementInTemplate(a,d){if(this._config.html){d.innerHTML="",d.append(a);return}d.textContent=a.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=`.${CLASS_NAME_MODAL}`,EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL()?"left":"right",BOTTOM:"bottom",LEFT:isRTL()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,0],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tooltip extends BaseComponent{constructor(a,d){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(a,d),this._isEnabled=!0,this._timeout=0,this._isHovered=!1,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(a){if(!!this._isEnabled){if(a){const d=this._initializeOnDelegatedTarget(a);d._activeTrigger.click=!d._activeTrigger.click,d._isWithActiveTrigger()?d._enter():d._leave();return}if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const a=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),m=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(a.defaultPrevented||!m)return;this.tip&&(this.tip.remove(),this.tip=null);const $=this._getTipElement();this._element.setAttribute("aria-describedby",$.getAttribute("id"));const{container:ee}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(ee.append($),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper?this._popper.update():this._popper=this._createPopper($),$.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const b of[].concat(...document.body.children))EventHandler.on(b,"mouseover",noop);const te=()=>{const b=this._isHovered;this._isHovered=!1,EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),b&&this._leave()};this._queueCallback(te,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;const d=this._getTipElement();if(d.classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const $ of[].concat(...document.body.children))EventHandler.off($,"mouseover",noop);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=!1;const m=()=>{this._isWithActiveTrigger()||(this._isHovered||d.remove(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)),this._disposePopper())};this._queueCallback(m,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(a){const d=this._getTemplateFactory(a).toHtml();if(!d)return null;d.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),d.classList.add(`bs-${this.constructor.NAME}-auto`);const m=getUID(this.constructor.NAME).toString();return d.setAttribute("id",m),this._isAnimated()&&d.classList.add(CLASS_NAME_FADE$2),d}setContent(a){this._newContent=a,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(a){return this._templateFactory?this._templateFactory.changeContent(a):this._templateFactory=new TemplateFactory({...this._config,content:a,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._config.originalTitle}_initializeOnDelegatedTarget(a){return this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(a){const d=typeof this._config.placement=="function"?this._config.placement.call(this,a,this._element):this._config.placement,m=AttachmentMap[d.toUpperCase()];return createPopper(this._element,a,this._getPopperConfig(m))}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_resolvePossibleFunction(a){return typeof a=="function"?a.call(this._element):a}_getPopperConfig(a){const d={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:m=>{this._getTipElement().setAttribute("data-popper-placement",m.state.placement)}}]};return{...d,...typeof this._config.popperConfig=="function"?this._config.popperConfig(d):this._config.popperConfig}}_setListeners(){const a=this._config.trigger.split(" ");for(const d of a)if(d==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,m=>this.toggle(m));else if(d!==TRIGGER_MANUAL){const m=d===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),$=d===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,m,this._config.selector,ee=>{const te=this._initializeOnDelegatedTarget(ee);te._activeTrigger[ee.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,te._enter()}),EventHandler.on(this._element,$,this._config.selector,ee=>{const te=this._initializeOnDelegatedTarget(ee);te._activeTrigger[ee.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=te._element.contains(ee.relatedTarget),te._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const a=this._config.originalTitle;!a||(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",a),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(a,d){clearTimeout(this._timeout),this._timeout=setTimeout(a,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(a){const d=Manipulator.getDataAttributes(this._element);for(const m of Object.keys(d))DISALLOWED_ATTRIBUTES.has(m)&&delete d[m];return a={...d,...typeof a=="object"&&a?a:{}},a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a.container=a.container===!1?document.body:getElement(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),a.originalTitle=this._element.getAttribute("title")||"",typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),a}_getDelegateConfig(){const a={};for(const d in this._config)this.constructor.Default[d]!==this._config[d]&&(a[d]=this._config[d]);return a}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(a){return this.each(function(){const d=Tooltip.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof d[a]>"u")throw new TypeError(`No method named "${a}"`);d[a]()}})}}defineJQueryPlugin(Tooltip);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip.DefaultType,content:"(null|string|element|function)"};class Popover extends Tooltip{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(a){return this.each(function(){const d=Popover.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof d[a]>"u")throw new TypeError(`No method named "${a}"`);d[a]()}})}}defineJQueryPlugin(Popover);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=`.${DATA_KEY$2}`,DATA_API_KEY=".data-api",EVENT_ACTIVATE=`activate${EVENT_KEY$2}`,EVENT_CLICK=`click${EVENT_KEY$2}`,EVENT_LOAD_DATA_API$1=`load${EVENT_KEY$2}${DATA_API_KEY}`,CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS=`${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`,SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element"};class ScrollSpy extends BaseComponent{constructor(a,d){super(a,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const a of this._observableSections.values())this._observer.observe(a)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(a){return a.target=getElement(a.target)||document.body,a}_maybeEnableSmoothScroll(){!this._config.smoothScroll||(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,a=>{const d=this._observableSections.get(a.target.hash);if(d){a.preventDefault();const m=this._rootElement||window,$=d.offsetTop-this._element.offsetTop;if(m.scrollTo){m.scrollTo({top:$,behavior:"smooth"});return}m.scrollTop=$}}))}_getNewObserver(){const a={root:this._rootElement,threshold:[.1,.5,1],rootMargin:this._getRootMargin()};return new IntersectionObserver(d=>this._observerCallback(d),a)}_observerCallback(a){const d=te=>this._targetLinks.get(`#${te.target.id}`),m=te=>{this._previousScrollData.visibleEntryTop=te.target.offsetTop,this._process(d(te))},$=(this._rootElement||document.documentElement).scrollTop,ee=$>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$;for(const te of a){if(!te.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(te));continue}const b=te.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(ee&&b){if(m(te),!$)return;continue}!ee&&!b&&m(te)}}_getRootMargin(){return this._config.offset?`${this._config.offset}px 0px -30%`:this._config.rootMargin}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const a=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const d of a){if(!d.hash||isDisabled(d))continue;const m=SelectorEngine.findOne(d.hash,this._element);isVisible(m)&&(this._targetLinks.set(d.hash,d),this._observableSections.set(d.hash,m))}}_process(a){this._activeTarget!==a&&(this._clearActiveClass(this._config.target),this._activeTarget=a,a.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(a),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:a}))}_activateParents(a){if(a.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,a.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const d of SelectorEngine.parents(a,SELECTOR_NAV_LIST_GROUP))for(const m of SelectorEngine.prev(d,SELECTOR_LINK_ITEMS))m.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(a){a.classList.remove(CLASS_NAME_ACTIVE$1);const d=SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`,a);for(const m of d)m.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(a){return this.each(function(){const d=ScrollSpy.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const u of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(u)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=`.${DATA_KEY$1}`,EVENT_HIDE$1=`hide${EVENT_KEY$1}`,EVENT_HIDDEN$1=`hidden${EVENT_KEY$1}`,EVENT_SHOW$1=`show${EVENT_KEY$1}`,EVENT_SHOWN$1=`shown${EVENT_KEY$1}`,EVENT_CLICK_DATA_API=`click${EVENT_KEY$1}`,EVENT_KEYDOWN=`keydown${EVENT_KEY$1}`,EVENT_LOAD_DATA_API=`load${EVENT_KEY$1}`,ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",SELECTOR_DROPDOWN_ITEM=".dropdown-item",NOT_SELECTOR_DROPDOWN_TOGGLE=":not(.dropdown-toggle)",SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=`.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role="tab"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`,SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM=`${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`,SELECTOR_DATA_TOGGLE_ACTIVE=`.${CLASS_NAME_ACTIVE}[data-bs-toggle="tab"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="pill"], .${CLASS_NAME_ACTIVE}[data-bs-toggle="list"]`;class Tab extends BaseComponent{constructor(a){super(a),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,d=>this._keydown(d)))}static get NAME(){return NAME$1}show(){const a=this._element;if(this._elemIsActive(a))return;const d=this._getActiveElem(),m=d?EventHandler.trigger(d,EVENT_HIDE$1,{relatedTarget:a}):null;EventHandler.trigger(a,EVENT_SHOW$1,{relatedTarget:d}).defaultPrevented||m&&m.defaultPrevented||(this._deactivate(d,a),this._activate(a,d))}_activate(a,d){if(!a)return;a.classList.add(CLASS_NAME_ACTIVE),this._activate(getElementFromSelector(a));const m=()=>{if(a.getAttribute("role")!=="tab"){a.classList.add(CLASS_NAME_SHOW$1);return}a.focus(),a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),this._toggleDropDown(a,!0),EventHandler.trigger(a,EVENT_SHOWN$1,{relatedTarget:d})};this._queueCallback(m,a,a.classList.contains(CLASS_NAME_FADE$1))}_deactivate(a,d){if(!a)return;a.classList.remove(CLASS_NAME_ACTIVE),a.blur(),this._deactivate(getElementFromSelector(a));const m=()=>{if(a.getAttribute("role")!=="tab"){a.classList.remove(CLASS_NAME_SHOW$1);return}a.setAttribute("aria-selected",!1),a.setAttribute("tabindex","-1"),this._toggleDropDown(a,!1),EventHandler.trigger(a,EVENT_HIDDEN$1,{relatedTarget:d})};this._queueCallback(m,a,a.classList.contains(CLASS_NAME_FADE$1))}_keydown(a){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY].includes(a.key))return;a.stopPropagation(),a.preventDefault();const d=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(a.key),m=getNextActiveElement(this._getChildren().filter($=>!isDisabled($)),a.target,d,!0);m&&Tab.getOrCreateInstance(m).show()}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(a=>this._elemIsActive(a))||null}_setInitialAttributes(a,d){this._setAttributeIfNotExists(a,"role","tablist");for(const m of d)this._setInitialAttributesOnChild(m)}_setInitialAttributesOnChild(a){a=this._getInnerElement(a);const d=this._elemIsActive(a),m=this._getOuterElement(a);a.setAttribute("aria-selected",d),m!==a&&this._setAttributeIfNotExists(m,"role","presentation"),d||a.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(a,"role","tab"),this._setInitialAttributesOnTargetPanel(a)}_setInitialAttributesOnTargetPanel(a){const d=getElementFromSelector(a);!d||(this._setAttributeIfNotExists(d,"role","tabpanel"),a.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`#${a.id}`))}_toggleDropDown(a,d){const m=this._getOuterElement(a);if(!m.classList.contains(CLASS_DROPDOWN))return;const $=(ee,te)=>{const b=SelectorEngine.findOne(ee,m);b&&b.classList.toggle(te,d)};$(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),$(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),$(SELECTOR_DROPDOWN_ITEM,CLASS_NAME_ACTIVE),m.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(a,d,m){a.hasAttribute(d)||a.setAttribute(d,m)}_elemIsActive(a){return a.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(a){return a.matches(SELECTOR_INNER_ELEM)?a:SelectorEngine.findOne(SELECTOR_INNER_ELEM,a)}_getOuterElement(a){return a.closest(SELECTOR_OUTER)||a}static jQueryInterface(a){return this.each(function(){const d=Tab.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(u){["A","AREA"].includes(this.tagName)&&u.preventDefault(),!isDisabled(this)&&Tab.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const u of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(u)});defineJQueryPlugin(Tab);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=`.${DATA_KEY}`,EVENT_MOUSEOVER=`mouseover${EVENT_KEY}`,EVENT_MOUSEOUT=`mouseout${EVENT_KEY}`,EVENT_FOCUSIN=`focusin${EVENT_KEY}`,EVENT_FOCUSOUT=`focusout${EVENT_KEY}`,EVENT_HIDE=`hide${EVENT_KEY}`,EVENT_HIDDEN=`hidden${EVENT_KEY}`,EVENT_SHOW=`show${EVENT_KEY}`,EVENT_SHOWN=`shown${EVENT_KEY}`,CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(a,d){super(a,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const d=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(d,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const d=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(d,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){!this._config.autohide||this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay))}_onInteraction(a,d){switch(a.type){case"mouseover":case"mouseout":this._hasMouseInteraction=d;break;case"focusin":case"focusout":this._hasKeyboardInteraction=d;break}if(d){this._clearTimeout();return}const m=a.relatedTarget;this._element===m||this._element.contains(m)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,a=>this._onInteraction(a,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,a=>this._onInteraction(a,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,a=>this._onInteraction(a,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const d=Toast.getOrCreateInstance(this,a);if(typeof a=="string"){if(typeof d[a]>"u")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);const PhantomWalletName="Phantom";class PhantomWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(a={}){super(),this.name=PhantomWalletName,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._disconnected=()=>{const d=this._wallet;d&&(d.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>{var d,m,$;return((m=(d=window.phantom)===null||d===void 0?void 0:d.solana)===null||m===void 0?void 0:m.isPhantom)||(($=window.solana)===null||$===void 0?void 0:$.isPhantom)?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var a;return!!(!((a=this._wallet)===null||a===void 0)&&a.isConnected)}get readyState(){return this._readyState}async connect(){var a;try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;this._connecting=!0;const d=((a=window.phantom)===null||a===void 0?void 0:a.solana)||window.solana;if(!d.isConnected)try{return await d.connect()}catch($){throw new WalletConnectionError($?.message,$)}if(!d.publicKey)throw new WalletAccountError;let m;try{m=new PublicKey(d.publicKey.toBytes())}catch($){throw new WalletPublicKeyError($?.message,$)}d.on("disconnect",this._disconnected),this._wallet=d,this._publicKey=m,this.emit("connect",m)}catch(d){throw this.emit("error",d),d}finally{this._connecting=!1}}async disconnect(){const a=this._wallet;if(a){a.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null;try{await a.disconnect()}catch(d){this.emit("error",new WalletDisconnectionError(d?.message,d))}}this.emit("disconnect")}async sendTransaction(a,d,m={}){try{const $=this._wallet;if(!$)throw new WalletNotConnectedError;try{const{signers:ee,...te}=m;a=await this.prepareTransaction(a,d,te),ee?.length&&a.partialSign(...ee),te.preflightCommitment=te.preflightCommitment||d.commitment;const{signature:b}=await $.signAndSendTransaction(a,te);return b}catch(ee){throw ee instanceof WalletError?ee:new WalletSendTransactionError(ee?.message,ee)}}catch($){throw this.emit("error",$),$}}async signTransaction(a){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signTransaction(a)||a}catch(m){throw new WalletSignTransactionError(m?.message,m)}}catch(d){throw this.emit("error",d),d}}async signAllTransactions(a){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signAllTransactions(a)||a}catch(m){throw new WalletSignTransactionError(m?.message,m)}}catch(d){throw this.emit("error",d),d}}async signMessage(a){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{const{signature:m}=await d.signMessage(a);return m}catch(m){throw new WalletSignMessageError(m?.message,m)}}catch(d){throw this.emit("error",d),d}}}var _Buffer=safeBuffer.exports.Buffer;function base(u){if(u.length>=255)throw new TypeError("Alphabet too long");for(var a=new Uint8Array(256),d=0;d<a.length;d++)a[d]=255;for(var m=0;m<u.length;m++){var $=u.charAt(m),ee=$.charCodeAt(0);if(a[ee]!==255)throw new TypeError($+" is ambiguous");a[ee]=m}var te=u.length,b=u.charAt(0),re=Math.log(te)/Math.log(256),ne=Math.log(256)/Math.log(te);function ie(ce){if((Array.isArray(ce)||ce instanceof Uint8Array)&&(ce=_Buffer.from(ce)),!_Buffer.isBuffer(ce))throw new TypeError("Expected Buffer");if(ce.length===0)return"";for(var de=0,ye=0,ge=0,_e=ce.length;ge!==_e&&ce[ge]===0;)ge++,de++;for(var Ee=(_e-ge)*ne+1>>>0,Ae=new Uint8Array(Ee);ge!==_e;){for(var we=ce[ge],Me=0,ke=Ee-1;(we!==0||Me<ye)&&ke!==-1;ke--,Me++)we+=256*Ae[ke]>>>0,Ae[ke]=we%te>>>0,we=we/te>>>0;if(we!==0)throw new Error("Non-zero carry");ye=Me,ge++}for(var Re=Ee-ye;Re!==Ee&&Ae[Re]===0;)Re++;for(var ze=b.repeat(de);Re<Ee;++Re)ze+=u.charAt(Ae[Re]);return ze}function se(ce){if(typeof ce!="string")throw new TypeError("Expected String");if(ce.length===0)return _Buffer.alloc(0);for(var de=0,ye=0,ge=0;ce[de]===b;)ye++,de++;for(var _e=(ce.length-de)*re+1>>>0,Ee=new Uint8Array(_e);ce[de];){var Ae=a[ce.charCodeAt(de)];if(Ae===255)return;for(var we=0,Me=_e-1;(Ae!==0||we<ge)&&Me!==-1;Me--,we++)Ae+=te*Ee[Me]>>>0,Ee[Me]=Ae%256>>>0,Ae=Ae/256>>>0;if(Ae!==0)throw new Error("Non-zero carry");ge=we,de++}for(var ke=_e-ge;ke!==_e&&Ee[ke]===0;)ke++;var Re=_Buffer.allocUnsafe(ye+(_e-ke));Re.fill(0,0,ye);for(var ze=ye;ke!==_e;)Re[ze++]=Ee[ke++];return Re}function fe(ce){var de=se(ce);if(de)return de;throw new Error("Non-base"+te+" character")}return{encode:ie,decodeUnsafe:se,decode:fe}}var src=base,basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);const SlopeWalletName="Slope";class SlopeWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(a={}){super(),this.name=SlopeWalletName,this.url="https://slope.finance",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjgiIGhlaWdodD0iMTI4IiByeD0iNjQiIGZpbGw9IiM2RTY2RkEiLz4KPHBhdGggZD0iTTI3Ljk0NzUgNTIuMTU5Nkw1MS45ODI2IDI4LjA1NzJMNzIuNjA5OCA3LjY1Mzg5QzczLjg3MzQgNi40MDQwMSA3Ni4wMTc4IDcuMjk5MSA3Ni4wMTc4IDkuMDc2NDJMNzYuMDE4NyA1Mi4xNTlMNTEuOTgzNiA3Ni4xMjY4TDI3Ljk0NzUgNTIuMTU5NloiIGZpbGw9InVybCgjcGFpbnQwX2xpbmVhcl8zNzk1XzI1NTQzKSIvPgo8cGF0aCBkPSJNMTAwLjA1MyA3NS45OTNMNzYuMDE4IDUxLjk1OEw1MS45ODI5IDc1Ljk5MzFMNTEuOTgyOSAxMTguOTI0QzUxLjk4MjkgMTIwLjcwMyA1NC4xMzEyIDEyMS41OTcgNTUuMzkzNyAxMjAuMzQzTDEwMC4wNTMgNzUuOTkzWiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3OTVfMjU1NDMpIi8+CjxwYXRoIGQ9Ik0yNy45NDcgNTIuMTYwMUg0NC42ODM5QzQ4LjcxNDcgNTIuMTYwMSA1MS45ODIyIDU1LjQyNzYgNTEuOTgyMiA1OS40NTgzVjc2LjEyNjlIMzUuMjQ1M0MzMS4yMTQ2IDc2LjEyNjkgMjcuOTQ3IDcyLjg1OTQgMjcuOTQ3IDY4LjgyODdWNTIuMTYwMVoiIGZpbGw9IiNGMUYwRkYiLz4KPHBhdGggZD0iTTc2LjAxNzggNTIuMTYwMUg5Mi43NTQ3Qzk2Ljc4NTUgNTIuMTYwMSAxMDAuMDUzIDU1LjQyNzYgMTAwLjA1MyA1OS40NTgzVjc2LjEyNjlIODMuMzE2MUM3OS4yODU0IDc2LjEyNjkgNzYuMDE3OCA3Mi44NTk0IDc2LjAxNzggNjguODI4N1Y1Mi4xNjAxWiIgZmlsbD0iI0YxRjBGRiIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI1MS45ODMxIiB5MT0iNy4wNzE1NSIgeDI9IjUxLjk4MzEiIHkyPSI3Ni4xMjY4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNBOEFERkYiLz4KPHN0b3Agb2Zmc2V0PSIwLjY0ODU1NiIgc3RvcC1jb2xvcj0id2hpdGUiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3OTVfMjU1NDMiIHgxPSI3Ni4wMTgiIHkxPSI1MS45NTgiIHgyPSI3Ni4wMTgiIHkyPSIxMjAuOTI4IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIG9mZnNldD0iMC4yNjA3ODQiIHN0b3AtY29sb3I9IiNCNkJBRkYiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRTRFMkZGIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.NotDetected,this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>typeof window.Slope=="function"||window.slopeApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Installed||typeof window.Slope!="function")throw new WalletNotReadyError;this._connecting=!0;const a=new window.Slope;let d;try{({data:d}=await a.connect())}catch($){throw new WalletConnectionError($?.message,$)}if(!d.publicKey)throw new WalletAccountError;let m;try{m=new PublicKey(d.publicKey)}catch($){throw new WalletPublicKeyError($?.message,$)}this._wallet=a,this._publicKey=m,this.emit("connect",m)}catch(a){throw this.emit("error",a),a}finally{this._connecting=!1}}async disconnect(){const a=this._wallet;if(a){this._wallet=null,this._publicKey=null;try{let d;try{({msg:d}=await a.disconnect())}catch(m){throw new WalletDisconnectionError(m?.message,m)}if(d!=="ok")throw new WalletDisconnectionError(d)}catch(d){this.emit("error",d)}}this.emit("disconnect")}async signTransaction(a){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{const m=bs58.encode(a.serializeMessage()),{msg:$,data:ee}=await d.signTransaction(m);if(!ee.publicKey||!ee.signature)throw new WalletSignTransactionError($);const te=new PublicKey(ee.publicKey),b=bs58.decode(ee.signature);return a.addSignature(te,b),a}catch(m){throw m instanceof WalletError?m:new WalletSignTransactionError(m?.message,m)}}catch(d){throw this.emit("error",d),d}}async signAllTransactions(a){var d;try{const m=this._wallet;if(!m)throw new WalletNotConnectedError;try{const $=a.map(ne=>bs58.encode(ne.serializeMessage())),{msg:ee,data:te}=await m.signAllTransactions($),b=a.length;if(!te.publicKey||((d=te.signatures)===null||d===void 0?void 0:d.length)!==b)throw new WalletSignTransactionError(ee);const re=new PublicKey(te.publicKey);for(let ne=0;ne<b;ne++)a[ne].addSignature(re,bs58.decode(te.signatures[ne]));return a}catch($){throw $ instanceof WalletError?$:new WalletSignTransactionError($?.message,$)}}catch(m){throw this.emit("error",m),m}}async signMessage(a){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{const m=await d.signMessage(a);return bs58.decode(m.data.signature)}catch(m){throw new WalletSignMessageError(m?.message,m)}}catch(d){throw this.emit("error",d),d}}}const SolflareWalletName="Solflare";class SolflareWalletAdapter extends BaseMessageSignerWalletAdapter{constructor(a={}){super(),this.name=SolflareWalletName,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this._readyState=typeof window>"u"||typeof document>"u"?WalletReadyState.Unsupported:WalletReadyState.Loadable,this._disconnected=()=>{const d=this._wallet;d&&(d.off("disconnect",this._disconnected),this._publicKey=null,this.emit("error",new WalletDisconnectedError),this.emit("disconnect"))},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=a,this._readyState!==WalletReadyState.Unsupported&&scopePollingDetectionStrategy(()=>{var d;return((d=window.solflare)===null||d===void 0?void 0:d.isSolflare)||window.SolflareApp?(this._readyState=WalletReadyState.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var a;return!!(!((a=this._wallet)===null||a===void 0)&&a.connected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==WalletReadyState.Loadable&&this._readyState!==WalletReadyState.Installed)throw new WalletNotReadyError;let a;try{({default:a}=await __vitePreload(()=>import("./index.86ba5cdd.js"),[],import.meta.url))}catch($){throw new WalletLoadError($?.message,$)}let d;try{d=new a({network:this._config.network})}catch($){throw new WalletConfigError($?.message,$)}if(this._connecting=!0,!d.connected)try{await d.connect()}catch($){throw new WalletConnectionError($?.message,$)}if(!d.publicKey)throw new WalletConnectionError;let m;try{m=new PublicKey(d.publicKey.toBytes())}catch($){throw new WalletPublicKeyError($?.message,$)}d.on("disconnect",this._disconnected),this._wallet=d,this._publicKey=m,this.emit("connect",m)}catch(a){throw this.emit("error",a),a}finally{this._connecting=!1}}async disconnect(){const a=this._wallet;if(a){a.off("disconnect",this._disconnected),this._publicKey=null;try{await a.disconnect()}catch(d){this.emit("error",new WalletDisconnectionError(d?.message,d))}}this.emit("disconnect")}async signTransaction(a){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signTransaction(a)||a}catch(m){throw new WalletSignTransactionError(m?.message,m)}}catch(d){throw this.emit("error",d),d}}async signAllTransactions(a){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signAllTransactions(a)||a}catch(m){throw new WalletSignTransactionError(m?.message,m)}}catch(d){throw this.emit("error",d),d}}async signMessage(a){try{const d=this._wallet;if(!d)throw new WalletNotConnectedError;try{return await d.signMessage(a,"utf8")}catch(m){throw new WalletSignMessageError(m?.message,m)}}catch(d){throw this.emit("error",d),d}}}const wallets=[new PhantomWalletAdapter,new SlopeWalletAdapter,new SolflareWalletAdapter({network:"devnet"})];initWallet({wallets,autoConnect:!0});const app=createApp(_sfc_main$b);app.use(createPinia());app.use(router);app.mount("#app");export{EventEmitter$2 as E,PublicKey as P,_export_sfc$1 as _,createStaticVNode as a,createElementBlock as c,openBlock as o,safeBuffer as s,v4 as v};
